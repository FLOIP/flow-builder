(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[12],{b6b9:function(t,e,a){"use strict";a.r(e),a.d(e,"install",(function(){return q}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"console-io-read-block"},[a("h3",{staticClass:"no-room-above"},[t._v(" "+t._s(t._f("trans")("flow-builder.edit-block-type",{block_type:t.trans("flow-builder."+t.block.type)}))+" ")]),a("fieldset",{attrs:{disabled:!t.isEditable}},[a("block-label-editor",{attrs:{block:t.block},on:{gearClicked:function(e){t.showSemanticLabel=!t.showSemanticLabel}}}),t.showSemanticLabel?a("block-semantic-label-editor",{attrs:{block:t.block}}):t._e(),a("block-name-editor",{attrs:{block:t.block}}),a("hr"),a("block-format-string-editor",{attrs:{block:t.block},on:{commitFormatStringChange:t.setFormatString}}),a("div",[a("h6",[t._v(t._s(t._f("trans")("flow-builder.destination-variable")))]),t._l(t.destinationVariablesFields,(function(e,r){return a("div",{key:r,staticClass:"form-group"},[a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/destination_variables/"+r},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[a("text-editor",{attrs:{label:"",placeholder:t._f("trans")("flow-builder.destination-variable-placeholder"),"valid-state":o,value:""},on:{keydown:t.filterVariableName,input:function(e){return t.updatedestinationVariables(e,r)}}})]}}],null,!0)})],1)}))],2),a("hr"),a("block-output-branching-config",{attrs:{block:t.block,"has-exit-per-choice":!1}}),t._t("extras"),a("categorization",{attrs:{block:t.block}}),a("generic-contact-property-editor",{attrs:{block:t.block}}),a("hr"),a("first-block-editor-button",{attrs:{flow:t.flow,"block-id":t.block.uuid}})],2),a("block-id",{attrs:{block:t.block}})],1)},o=[],n=a("276c"),i=a("e954"),c=a("2c4c"),l=a("920b"),s=a("92a6"),b=a("fc11"),u=(a("99af"),a("ac1f"),a("466d"),a("9ab4")),d=a("4bb5"),f=a("1b40"),p=a("d883"),k=a("c964"),m=(a("96cf"),a("31aa")),g=a("2ef0"),_="ConsoleIO.Read",v={destinationVariablesFields:function(t,e,a,r){var o=r["builder/activeBlock"];return new Array(Object(g["split"])(o.config.format_string||"","%").length-1)}},h={},w={setFormatString:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function a(){var r,o,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,o=t.rootGetters,n=o["builder/activeBlock"],i={format_string:e},r("flow/block_updateConfigByKey",{blockId:n.uuid,key:"format_string",value:e},{root:!0}),a.abrupt("return",i);case 5:case"end":return a.stop()}}),a)})))()},editDestinationVariable:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function a(){var r,o,n,i,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,o=t.rootGetters,n=e.variableName,i=e.keyIndex,c=o["builder/activeBlock"],l=c.config.destination_variables||[],l[i]=n,r("flow/block_updateConfigByKey",{blockId:c.uuid,key:"destination_variables",value:l},{root:!0}),a.abrupt("return",l);case 7:case"end":return a.stop()}}),a)})))()},createWith:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function a(){var r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.dispatch,o=e.props,a.t0=r,a.next=5,(new m["IdGeneratorUuidV4"]).generate();case 5:return a.t1=a.sent,a.t2={uuid:a.t1,name:"Default"},a.t3={props:a.t2},a.t4={root:!0},a.next=11,(0,a.t0)("flow/block_createBlockDefaultExitWith",a.t3,a.t4);case 11:return a.t5=a.sent,n=[a.t5],a.t6=n,a.t7=r,a.next=17,(new m["IdGeneratorUuidV4"]).generate();case 17:return a.t8=a.sent,a.t9={uuid:a.t8,name:"Error"},a.t10={props:a.t9},a.t11={root:!0},a.next=23,(0,a.t7)("flow/block_createBlockExitWith",a.t10,a.t11);case 23:return a.t12=a.sent,a.t6.push.call(a.t6,a.t12),a.abrupt("return",Object(g["defaultsDeep"])(o,{type:_,name:"",label:"",semantic_label:"",config:{format_string:"",destination_variables:[]},exits:n,tags:[],vendor_metadata:{}}));case 26:case"end":return a.stop()}}),a)})))()}},y={namespaced:!0,getters:v,mutations:h,actions:w},O=a("4a51"),j=a("8619"),x=a("af98"),E=a("2fe1"),S=a("21e9"),B=a("18b0"),V=a("510a"),C=a("f04e"),F=a("3411"),I=a("1b4e"),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/format_string"},scopedSlots:t._u([{key:"input-control",fn:function(e){var r=e.isValid;return[a("div",{staticClass:"block-format-string"},[a("text-editor",{attrs:{label:t._f("trans")("flow-builder.format-string"),placeholder:t._f("trans")("flow-builder.enter-format-string"),"valid-state":r},model:{value:t.formatString,callback:function(e){t.formatString=e},expression:"formatString"}}),a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t._f("trans")("flow-builder.format-string-hint"))+" ")])],1)]}}])})},D=[],G={components:{TextEditor:p["a"],ValidationMessage:S["a"]},mixins:[O["b"]],props:{block:{type:Object,required:!0}},computed:{formatString:{get:function(){return this.block.config.format_string},set:function(t){this.$emit("commitFormatStringChange",t)}}}},L=G,N=a("2877"),A=Object(N["a"])(L,R,D,!1,null,null,null),W=A.exports,$=a("192b"),z=a("792f"),J=a("b4ec"),K=Object(d["e"])("flow/".concat(_)),M=Object(d["e"])("builder"),T=function(t){Object(l["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Object(b["a"])(Object(c["a"])(t),"showSemanticLabel",!1),t}return Object(i["a"])(a,[{key:"filterVariableName",value:function(t){t.key.match(/\W+|Enter/g)&&t.preventDefault()}},{key:"updatedestinationVariables",value:function(t,e){this.editDestinationVariable({variableName:t,keyIndex:e})}}]),a}(Object(E["c"])(O["a"]));Object(u["__decorate"])([Object(f["b"])()],T.prototype,"block",void 0),Object(u["__decorate"])([Object(f["b"])()],T.prototype,"flow",void 0),Object(u["__decorate"])([K.Action],T.prototype,"setFormatString",void 0),Object(u["__decorate"])([K.Action],T.prototype,"editDestinationVariable",void 0),Object(u["__decorate"])([K.Getter],T.prototype,"destinationVariablesFields",void 0),Object(u["__decorate"])([M.Getter],T.prototype,"isEditable",void 0),T=Object(u["__decorate"])([Object(f["a"])({components:{GenericContactPropertyEditor:J["a"],ResourceEditor:V["a"],BlockNameEditor:C["a"],BlockLabelEditor:F["a"],BlockSemanticLabelEditor:I["a"],BlockFormatStringEditor:W,FirstBlockEditorButton:$["a"],TextEditor:p["a"],BlockId:z["a"],ValidationMessage:S["a"],Categorization:j["a"],BlockOutputBranchingConfig:B["c"]}})],T);var U=T,q=Object(x["d"])(_,y),P=U,H=Object(N["a"])(P,r,o,!1,null,null,null);e["default"]=H.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.12.js.map
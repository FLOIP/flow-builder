{"version":3,"sources":["webpack://flow-builder/./node_modules/bootstrap-vue/esm/components/progress/progress-bar.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/components/progress/progress.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/constants/key-codes.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/utils/observe-dom.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/utils/cache.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/mixins/attrs.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/mixins/id.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/mixins/listen-on-document.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/mixins/listen-on-window.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/utils/router.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/mixins/listeners.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/components/link/link.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/components/button/button.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/components/transporter/transporter.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/components/modal/helpers/bv-modal-event.class.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/components/modal/helpers/modal-manager.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/components/modal/modal.js","webpack://flow-builder/./node_modules/bootstrap-vue/esm/utils/html.js","webpack://flow-builder/./node_modules/@flowjs/flow.js/src/flow.js","webpack://flow-builder/./node_modules/vue-focus/dist/vue-focus.common.js","webpack://flow-builder/./node_modules/fuse.js/dist/fuse.js"],"names":["animated","label","labelHtml","max","precision","showProgress","showValue","striped","value","variant","BProgressBar","extend","name","mixins","inject","bvProgress","default","props","computed","progressBarClasses","computedAnimated","this","computedVariant","concat","computedStriped","progressBarStyles","width","computedValue","computedMax","computedPrecision","math","computedProgress","p","computedShowProgress","computedShowValue","render","h","$children","domProps","hasNormalizedSlot","normalizeSlot","html","staticClass","class","style","attrs","role","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","progressBarProps","height","BProgress","provide","progressHeight","$childNodes","$props","CODE_ENTER","CODE_ESC","CODE_SPACE","el","callback","options","$el","warn","obs","mutations","changed","mutation","type","nodeType","Node","TEXT_NODE","addedNodes","removedNodes","observe","childList","subtree","propName","handler","newValue","oldValue","$delete","$data","_key","$set","proxyPropName","data","watch","attrsMixin","id","idMixin","localId_","safeId","fn","suffix","String","replace","mounted","_this","$nextTick","PROP","listenOnDocumentMixin","created","$once","items","eventName","handlers","document","methods","listenDocument","on","listenOnDocument","listenOffDocument","array","listenOnWindowMixin","beforeCreate","beforeDestroy","window","listenWindow","listenOnWindow","listenOffWindow","ANCHOR_TAG","encodeReserveReplacer","c","charCodeAt","toString","str","encodeURIComponent","decodeURIComponent","query","map","reduce","results","value2","join","x","href","to","tag","computeTag","_ref","thisOrParent","disabled","routerComponentName","hasRouter","$router","$nuxt","_ref2","undefined","rel","_ref3","fallback","toFallback","path","hash","charAt","listenersMixin","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","call","slice","constructor","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","ROOT_EVENT_NAME_CLICKED","routerLinkProps","activeClass","append","event","exact","exactActiveClass","routerTag","nuxtLinkProps","noPrefetch","prefetch","active","BLink","inheritAttrs","computedTag","isRouterLink","computedRel","computedHref","computedProps","computedAttrs","bvAttrs","tabindex","computedListeners","bvListeners","click","onClick","_arguments","eventIsEvent","suppliedHandler","immediatePropagation","currentTarget","__vue__","$emit","emitOnRoot","propagation","focus","blur","linkProps","block","pill","pressed","size","squared","isNonStandardTag","computeClass","computeAttrs","button","link","toggle","nonStandardTag","hashLink","autocomplete","BButton","functional","listeners","children","keydown","keyCode","focusin","focusout","componentData","BVTransporterTarget","abstract","nodes","vm","updatedNodes","destroyed","$nodes","identity","text","container","BVTransporter","immediate","unmountTarget","mountTarget","$_defaultFn","$_target","beforeMount","updated","updateTarget","getContainer","$container","createElement","appendChild","parent","propsData","defaultFn","$scopedSlots","$slots","$destroy","_typeof","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","e","getPrototypeOf","_BvEvent","BvModalEvent","_super","eventInit","trigger","DEFAULT_ZINDEX","SELECTOR_FIXED_CONTENT","SELECTOR_STICKY_CONTENT","SELECTOR_NAVBAR_TOGGLER","ModalManager","modals","baseZIndex","scrollbarWidth","isBodyOverflowing","modalCount","modalsAreOpen","newCount","oldCount","getScrollbarWidth","checkScrollbar","setScrollbar","body","resetScrollbar","updateModals","registerModal","modal","_this2","indexOf","unregisterModal","index","splice","_isBeingDestroyed","_isDestroyed","resetModal","getBaseZIndex","div","zIndex","removeChild","clientWidth","_this3","isTop","_getBCR","left","right","innerWidth","_paddingChangedForModal","_marginChangedForModal","actualPadding","paddingRight","actualMargin","marginRight","modalManager","_makeModelMixin","defaultValue","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","TRIGGER_BACKDROP","TRIGGER_ESC","TRIGGER_FORCE","TRIGGER_TOGGLE","BUTTON_CANCEL","BUTTON_CLOSE","BUTTON_OK","BUTTONS","OBSERVER_CONFIG","characterData","attributes","attributeFilter","ariaLabel","autoFocusButton","bodyBgVariant","bodyClass","bodyTextVariant","busy","buttonSize","cancelDisabled","cancelTitle","cancelTitleHtml","cancelVariant","centered","contentClass","dialogClass","footerBgVariant","footerBorderVariant","footerClass","footerTextVariant","headerBgVariant","headerBorderVariant","headerClass","headerCloseContent","headerCloseLabel","headerCloseVariant","headerTextVariant","hideBackdrop","hideFooter","hideHeader","hideHeaderClose","ignoreEnforceFocusSelector","lazy","modalClass","noCloseOnBackdrop","noCloseOnEsc","noEnforceFocus","noFade","noStacking","okDisabled","okOnly","okTitle","okTitleHtml","okVariant","returnFocus","scrollable","static","title","titleClass","titleHtml","titleSrOnly","titleTag","BModal","isHidden","isVisible","isTransitioning","isShow","isBlock","isOpening","isClosing","ignoreBackdropClick","isModalOverflowing","modalId","modalOuterId","modalHeaderId","modalBodyId","modalTitleId","modalContentId","modalFooterId","modalBackdropId","modalClasses","fade","show","modalStyles","sbWidth","paddingLeft","display","dialogClasses","headerClasses","titleClasses","bodyClasses","footerClasses","_ref4","modalOuterStyle","position","slotScope","cancel","onCancel","close","onClose","hide","ok","onOk","visible","computeIgnoreEnforceFocusSelector","trim","scopedStyleAttrs","computedModalAttrs","$_observer","$_returnFocus","listenOnRoot","showHandler","hideHandler","toggleHandler","modalListener","setObserver","disconnect","$refs","content","checkModalOverflow","bind","updateModel","buildEvent","cancelable","relatedTarget","vueTarget","componentId","getActiveElement","showEvt","emitEvent","defaultPrevented","doShow","hideEvt","triggerEl","activeElement","listenOnRootOnce","onBeforeEnter","setResizeEvent","onEnter","onAfterEnter","setEnforceFocus","focusFirst","onBeforeLeave","onLeave","onAfterLeave","_this4","returnFocusTo","bvEvent","onDialogMousedown","_this5","onceModalMouseup","onClickOut","onEsc","focusHandler","tabables","bottomTrap","topTrap","preventScroll","_this6","autoFocus","scrollTop","scrollHeight","documentElement","clientHeight","makeModal","$header","$modalHeader","$closeButton","textVariant","ref","$body","$footer","$modalFooter","$cancelButton","$okButton","$modalContent","$tabTrapTop","$tabTrapBottom","$modalDialog","mousedown","$modal","directives","enterClass","enterToClass","enterActiveClass","leaveClass","leaveActiveClass","leaveToClass","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave","$backdrop","htmlOrText","innerHTML","textContent","ie10plus","navigator","msPointerEnabled","Flow","toLowerCase","events","off","arrayRemove","fire","args","preventDefault","each","unshift","webkitReadDataTransfer","$","queue","dataTransfer","files","readDirectory","reader","readEntries","entries","entry","isFile","fullPath","file","fileReadSuccess","readError","isDirectory","createReader","decrement","relativePath","substring","fileError","addFiles","item","webkitGetAsEntry","getAsFile","generateUniqueIdentifier","custom","opts","webkitRelativePath","fileName","uploadNextChunk","preventEvents","found","prioritizeFirstAndLastChunk","paused","chunks","status","send","chunk","outstanding","isComplete","async","assignBrowse","domNodes","singleFile","Element","domNode","input","tagName","setAttribute","visibility","addEventListener","assignDrop","preventEvent","onDrop","unAssignDrop","removeEventListener","isUploading","uploading","_shouldUploadNext","num","should","simultaneousUploads","upload","ret","started","resume","pause","progress","totalDone","totalSize","addFile","fileList","uniqueIdentifier","allowDuplicateUploads","getFromUniqueIdentifier","f","FlowFile","removeFile","abort","getSize","sizeUploaded","timeRemaining","sizeDelta","averageSpeed","error","Number","POSITIVE_INFINITY","Math","floor","measureSpeed","timeSpan","now","_lastProgressCallback","smoothingFactor","flowObj","speedSmoothingFactor","uploaded","currentSpeed","_prevUploadedSize","chunkEvent","message","progressCallbacksInterval","reset","retry","bootstrap","initFileFn","_prevProgress","round","forceChunkSize","ceil","chunkSize","evalOpts","offset","FlowChunk","bytesLoaded","endByte","startByte","percent","preprocessState","readState","delta","getType","split","getExtension","substr","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","fileObj","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","params","xhr","XMLHttpRequest","testHandler","testMethod","prepareXhrRequest","preprocessFinished","computeEndByte","readFinished","bytes","preprocess","read","readFileFn","testChunks","tested","loaded","total","pendingRetry","progressHandler","doneHandler","uploadMethod","method","changeRawDataBeforeSend","isTest","readyState","successStatuses","permanentErrors","retries","maxChunkRetries","responseText","s","paramsMethod","blob","v","k","FormData","fileParameterName","filename","open","withCredentials","headers","setRequestHeader","version","module","exports","console","support","File","Blob","FileList","webkitSlice","mozSlice","supportDirectory","userAgent","defaults","chunkRetryInterval","onDropStopPropagation","webAPIFileRead","stopPropagation","fileType","function_name","min","lengthComputable","retryInterval","setTimeout","context","dst","src","Vue","compatible","util","inserted","binding","componentUpdated","modifiers","Boolean","t","r","l","m","d","toStringTag","__esModule","a","deepValue","location","distance","threshold","maxPatternLength","u","caseSensitive","tokenSeparator","g","findAllMatches","y","minMatchCharLength","b","S","M","_","shouldSort","w","L","getFn","A","O","sortFn","C","score","j","tokenize","P","I","matchAllTokens","F","T","includeMatches","N","z","includeScore","E","W","verbose","K","isCaseSensitive","setCollection","_processKeys","list","_keyWeights","_keyNames","Error","weight","limit","_log","_prepareSearchers","tokenSearchers","fullSearcher","_search","_computeScore","_sort","_format","_analyze","record","resultMap","arrayIndex","search","pattern","isMatch","matchedIndices","output","EPSILON","pow","sort","JSON","stringify","matches","indices","log","patternAlphabet","RegExp","match","errors","currentLocation","expectedLocation","abs","isString","isNum"],"mappings":"mWAWW,EAAQ,eAAsB,CACvCA,SAAU,eAAS,OAAmB,MACtCC,MAAO,eAAS,QAChBC,UAAW,eAAS,QACpBC,IAAK,eAAS,OAAyB,MACvCC,UAAW,eAAS,OAAyB,MAC7CC,aAAc,eAAS,OAAmB,MAC1CC,UAAW,eAAS,OAAmB,MACvCC,QAAS,eAAS,OAAmB,MACrCC,MAAO,eAAS,OAAyB,GACzCC,QAAS,eAAS,SACjB,QAGQC,EAA4B,OAAIC,OAAO,CAChDC,KAAM,OACNC,OAAQ,CAAC,QACTC,OAAQ,CACNC,WAAY,CACVC,QAEA,WACE,MAAO,MAIbC,MAAO,EACPC,SAAU,CACRC,mBAAoB,WAClB,IAAIC,EAAmBC,KAAKD,iBACxBE,EAAkBD,KAAKC,gBAC3B,MAAO,CAACA,EAAkB,MAAMC,OAAOD,GAAmB,GAAID,KAAKG,iBAAmBJ,EAAmB,uBAAyB,GAAIA,EAAmB,wBAA0B,KAErLK,kBAAmB,WACjB,MAAO,CACLC,MAAcL,KAAKM,cAAgBN,KAAKO,YAAjC,IAAgD,MAG3DD,cAAe,WACb,OAAO,eAAQN,KAAKb,MAAO,IAE7BoB,YAAa,WAGX,IAAIzB,EAAM,eAAQkB,KAAKlB,MAAQ,eAAQkB,KAAKN,WAAWZ,IAAK,GAC5D,OAAOA,EAAM,EAAIA,EAAM,KAEzB0B,kBAAmB,WAGjB,OAAO,OAAAC,EAAA,MAAQ,eAAUT,KAAKjB,UAAW,eAAUiB,KAAKN,WAAWX,UAAW,IAAK,IAErF2B,iBAAkB,WAChB,IAAI3B,EAAYiB,KAAKQ,kBACjBG,EAAI,OAAAF,EAAA,MAAQ,GAAI1B,GACpB,OAAO,eAAQ,IAAM4B,EAAIX,KAAKM,cAAgBN,KAAKO,YAAcI,EAAG5B,IAEtEkB,gBAAiB,WAEf,OAAOD,KAAKZ,SAAWY,KAAKN,WAAWN,SAEzCe,gBAAiB,WAEf,OAAO,eAAUH,KAAKd,SAAWc,KAAKd,QAAUc,KAAKN,WAAWR,UAAW,GAE7Ea,iBAAkB,WAEhB,OAAO,eAAUC,KAAKrB,UAAYqB,KAAKrB,SAAWqB,KAAKN,WAAWf,WAAY,GAEhFiC,qBAAsB,WAEpB,OAAO,eAAUZ,KAAKhB,cAAgBgB,KAAKhB,aAAegB,KAAKN,WAAWV,eAAgB,GAE5F6B,kBAAmB,WAEjB,OAAO,eAAUb,KAAKf,WAAae,KAAKf,UAAYe,KAAKN,WAAWT,YAAa,IAGrF6B,OAAQ,SAAgBC,GACtB,IAIIC,EAJApC,EAAQoB,KAAKpB,MACbC,EAAYmB,KAAKnB,UACjByB,EAAgBN,KAAKM,cACrBE,EAAoBR,KAAKQ,kBAEzBS,EAAW,GAYf,OAVIjB,KAAKkB,oBACPF,EAAYhB,KAAKmB,gBACRvC,GAASC,EAClBoC,EAAW,OAAAG,EAAA,MAAWvC,EAAWD,GACxBoB,KAAKY,qBACdI,EAAYhB,KAAKU,iBACRV,KAAKa,oBACdG,EAAY,eAAQV,EAAeE,IAG9BO,EAAE,MAAO,CACdM,YAAa,eACbC,MAAOtB,KAAKF,mBACZyB,MAAOvB,KAAKI,kBACZoB,MAAO,CACLC,KAAM,cACN,gBAAiB,IACjB,gBAAiB,eAASzB,KAAKO,aAC/B,gBAAiB,eAAQD,EAAeE,IAE1CS,SAAUA,GACTD,MCtHP,SAASU,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAASU,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKf,EAAQI,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsBhB,OAAOkB,0BAA6BlB,OAAOmB,iBAAiBT,EAAQV,OAAOkB,0BAA0BJ,IAAmBlB,EAAQI,OAAOc,IAASC,SAAQ,SAAUC,GAAOhB,OAAOoB,eAAeV,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBI,EAAKL,EAAK3D,GAAiK,OAApJ2D,KAAOK,EAAOrB,OAAOoB,eAAeC,EAAKL,EAAK,CAAE3D,MAAOA,EAAOiD,YAAY,EAAMgB,cAAc,EAAMC,UAAU,IAAkBF,EAAIL,GAAO3D,EAAgBgE,EAU3M,IAAIG,EAAmB,eAAK,EAAmB,CAAC,QAAS,cAC9C,EAAQ,eAAsB,eAASf,EAAcA,EAAc,GAAIe,GAAmB,GAAI,CACvG3E,SAAU,eAAS,QAAmB,GACtC4E,OAAQ,eAAS,QACjBzE,IAAK,eAAS,OAAyB,KACvCC,UAAW,eAAS,OAAyB,GAC7CC,aAAc,eAAS,QAAmB,GAC1CC,UAAW,eAAS,QAAmB,GACvCC,QAAS,eAAS,QAAmB,MAClC,QAGMsE,EAAyB,OAAIlE,OAAO,CAC7CC,KAAM,OACNC,OAAQ,CAAC,QACTiE,QAAS,WACP,MAAO,CACL/D,WAAYM,OAGhBJ,MAAO,EACPC,SAAU,CACR6D,eAAgB,WACd,MAAO,CACLH,OAAQvD,KAAKuD,QAAU,QAI7BzC,OAAQ,SAAgBC,GACtB,IAAI4C,EAAc3D,KAAKmB,gBAQvB,OANKwC,IACHA,EAAc5C,EAAE1B,EAAc,CAC5BO,MAAO,eAAW0D,EAAkBtD,KAAK4D,WAItC7C,EAAE,MAAO,CACdM,YAAa,WACbE,MAAOvB,KAAK0D,gBACX,CAACC,Q,2HCjDGE,EAAa,GACbC,EAAW,GAMXC,EAAa,G,gJCZxB,SAASrC,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAASU,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKf,EAAQI,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsBhB,OAAOkB,0BAA6BlB,OAAOmB,iBAAiBT,EAAQV,OAAOkB,0BAA0BJ,IAAmBlB,EAAQI,OAAOc,IAASC,SAAQ,SAAUC,GAAOhB,OAAOoB,eAAeV,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBI,EAAKL,EAAK3D,GAAiK,OAApJ2D,KAAOK,EAAOrB,OAAOoB,eAAeC,EAAKL,EAAK,CAAE3D,MAAOA,EAAOiD,YAAY,EAAMgB,cAAc,EAAMC,UAAU,IAAkBF,EAAIL,GAAO3D,EAAgBgE,EAYpM,IAAI,EAAa,SAAoBa,EAAIC,EAAUC,GAQxD,GAJAF,EAAKA,EAAKA,EAAGG,KAAOH,EAAK,MAIpB,eAAUA,GACb,OAAO,KAIT,GAAI,OAAAI,EAAA,MAA8B,cAChC,OAAO,KAIT,IAAIC,EAAM,IAAI,QAAY,SAAUC,GAMlC,IALA,IAAIC,GAAU,EAKL9B,EAAI,EAAGA,EAAI6B,EAAU3B,SAAW4B,EAAS9B,IAAK,CAErD,IAAI+B,EAAWF,EAAU7B,GAErBgC,EAAOD,EAASC,KAEhBjC,EAASgC,EAAShC,QAET,kBAATiC,GAA4BjC,EAAOkC,WAAaC,KAAKC,WAIrC,eAATH,GAES,cAATA,IAAyBD,EAASK,WAAWlC,OAAS,GAAK6B,EAASM,aAAanC,OAAS,MAHnG4B,GAAU,GAYVA,GACFN,OAWJ,OAPAI,EAAIU,QAAQf,EAAIzB,EAAc,CAC5ByC,WAAW,EACXC,SAAS,GACRf,IAIIG,G,oCC3ET,SAAS,EAAgBlB,EAAKL,EAAK3D,GAAiK,OAApJ2D,KAAOK,EAAOrB,OAAOoB,eAAeC,EAAKL,EAAK,CAAE3D,MAAOA,EAAOiD,YAAY,EAAMgB,cAAc,EAAMC,UAAU,IAAkBF,EAAIL,GAAO3D,EAAgBgE,EAO3M,IAAI,EAAU,SAAiBhE,GAC7B,OAAQA,GAAgC,IAAvB,eAAKA,GAAOwD,QAGpB,EAAkB,SAAyBuC,GACpD,MAAO,CACLC,QAAS,SAAiBC,EAAUC,GAClC,IAAI,eAAWD,EAAUC,GAIzB,GAAI,EAAQD,IAAa,EAAQC,GAC/BrF,KAAKkF,GAAY,eAAUE,OAD7B,CAKA,IAAK,IAAItC,KAAOuC,EACT,eAAeD,EAAUtC,IAC5B9C,KAAKsF,QAAQtF,KAAKuF,MAAML,GAAWpC,GAIvC,IAAK,IAAI0C,KAAQJ,EACfpF,KAAKyF,KAAKzF,KAAKuF,MAAML,GAAWM,EAAMJ,EAASI,QAK5C,EAAqB,SAA4BN,EAAUQ,GACpE,OAAO,OAAIpG,OAAO,CAChBqG,KAAM,WACJ,OAAO,EAAgB,GAAID,EAAe,eAAU1F,KAAKkF,MAE3DU,MAAO,EAAgB,GAAIV,EAAU,EAAgBQ,OCvC9CG,EAAa,EAAmB,SAAU,WCM1C,EAAQ,CACjBC,GAAI,eAAS,SAIJC,EAAU,OAAIzG,OAAO,CAC9BM,MAAO,EACP+F,KAAM,WACJ,MAAO,CACLK,SAAU,OAGdnG,SAAU,CACRoG,OAAQ,WAGN,IAAIH,EAAK9F,KAAK8F,IAAM9F,KAAKgG,SAIrBE,EAAK,SAAYC,GACnB,OAAKL,GAILK,EAASC,OAAOD,GAAU,IAAIE,QAAQ,OAAQ,KACvCF,EAASL,EAAK,IAAMK,EAASL,GAJ3B,MAOX,OAAOI,IAGXI,QAAS,WACP,IAAIC,EAAQvG,KAGZA,KAAKwG,WAAU,WAGbD,EAAMP,SAAW,WAAW9F,OAAOqG,EAAM,eCtC3CE,EAAO,yBAGAC,EAAwB,OAAIpH,OAAO,CAC5CqH,QAAS,WACP,IAAIJ,EAAQvG,KAGP,SAQLA,KAAKyG,GAAQ,GAEbzG,KAAK4G,MAAM,QAAgC,WACzC,IAAIC,EAAQN,EAAME,IAAS,UAIpBF,EAAME,GAEb,eAAKI,GAAOhE,SAAQ,SAAUiE,GAC5B,IAAIC,EAAWF,EAAMC,IAAc,GACnCC,EAASlE,SAAQ,SAAUsC,GACzB,OAAO,eAAS6B,SAAUF,EAAW3B,EAAS,mBAKtD8B,QAAS,CACPC,eAAgB,SAAwBC,EAAIL,EAAW3B,GACrDgC,EAAKnH,KAAKoH,iBAAiBN,EAAW3B,GAAWnF,KAAKqH,kBAAkBP,EAAW3B,IAErFiC,iBAAkB,SAA0BN,EAAW3B,GACjDnF,KAAKyG,IAAS,eAASK,IAAc,eAAW3B,KAClDnF,KAAKyG,GAAMK,GAAa9G,KAAKyG,GAAMK,IAAc,GAE5C,OAAAQ,EAAA,MAActH,KAAKyG,GAAMK,GAAY3B,KACxCnF,KAAKyG,GAAMK,GAAWzE,KAAK8C,GAC3B,eAAQ6B,SAAUF,EAAW3B,EAAS,WAI5CkC,kBAAmB,SAA2BP,EAAW3B,GACnDnF,KAAKyG,IAAS,eAASK,IAAc,eAAW3B,KAClD,eAAS6B,SAAUF,EAAW3B,EAAS,QACvCnF,KAAKyG,GAAMK,IAAc9G,KAAKyG,GAAMK,IAAc,IAAI7E,QAAO,SAAUlB,GACrE,OAAOA,IAAMoE,U,YCnDnB,EAAO,uBAGAoC,EAAsB,OAAIjI,OAAO,CAC1CkI,aAAc,WAIZxH,KAAK,GAAQ,IAEfyH,cAAe,WACb,GAAI,OAAY,CACd,IAAIZ,EAAQ7G,KAAK,UAIVA,KAAK,GAEZ,eAAK6G,GAAOhE,SAAQ,SAAUiE,GAC5B,IAAIC,EAAWF,EAAMC,IAAc,GACnCC,EAASlE,SAAQ,SAAUsC,GACzB,OAAO,eAASuC,OAAQZ,EAAW3B,EAAS,gBAKpD8B,QAAS,CACPU,aAAc,SAAsBR,EAAIL,EAAW3B,GACjDgC,EAAKnH,KAAK4H,eAAed,EAAW3B,GAAWnF,KAAK6H,gBAAgBf,EAAW3B,IAEjFyC,eAAgB,SAAwBd,EAAW3B,GAC7C,QAAcnF,KAAK,IAAS,eAAS8G,IAAc,eAAW3B,KAChEnF,KAAK,GAAM8G,GAAa9G,KAAK,GAAM8G,IAAc,GAE5C,OAAAQ,EAAA,MAActH,KAAK,GAAM8G,GAAY3B,KACxCnF,KAAK,GAAM8G,GAAWzE,KAAK8C,GAC3B,eAAQuC,OAAQZ,EAAW3B,EAAS,WAI1C0C,gBAAiB,SAAyBf,EAAW3B,GAC/C,QAAcnF,KAAK,IAAS,eAAS8G,IAAc,eAAW3B,KAChE,eAASuC,OAAQZ,EAAW3B,EAAS,QACrCnF,KAAK,GAAM8G,IAAc9G,KAAK,GAAM8G,IAAc,IAAI7E,QAAO,SAAUlB,GACrE,OAAOA,IAAMoE,U,4DC/CnB2C,EAAa,IAEbC,EAAwB,SAA+BC,GACzD,MAAO,IAAMA,EAAEC,WAAW,GAAGC,SAAS,KAMpC,EAAS,SAAgBC,GAC3B,OAAOC,mBAAmB,eAASD,IAAM9B,QAAQ,OAAmB0B,GAAuB1B,QAAQ,OAAkB,MAM5G,GAHEgC,mBAGkB,SAA2BlF,GACxD,IAAK,eAAcA,GACjB,MAAO,GAGT,IAAImF,EAAQ,eAAKnF,GAAKoF,KAAI,SAAUzF,GAClC,IAAI3D,EAAQgE,EAAIL,GAEhB,OAAI,eAAY3D,GACP,GACE,eAAOA,GACT,EAAO2D,GACL,eAAQ3D,GACVA,EAAMqJ,QAAO,SAAUC,EAASC,GAQrC,OAPI,eAAOA,GACTD,EAAQpG,KAAK,EAAOS,IACV,eAAY4F,IAEtBD,EAAQpG,KAAK,EAAOS,GAAO,IAAM,EAAO4F,IAGnCD,IACN,IAAIE,KAAK,KAIP,EAAO7F,GAAO,IAAM,EAAO3D,MAGnC8C,QAAO,SAAU2G,GAChB,OAAOA,EAAEjG,OAAS,KACjBgG,KAAK,KACR,OAAOL,EAAQ,IAAIpI,OAAOoI,GAAS,KAyB1B,EAAS,SAAgB1I,GAClC,SAAUA,EAAMiJ,OAAQjJ,EAAMkJ,KAErB,EAAe,SAAsBC,GAC9C,SAAUA,GAAQ,eAAMA,EAAK,OAEpBC,EAAa,SAAoBC,EAAMC,GAChD,IAAIJ,EAAKG,EAAKH,GACVK,EAAWF,EAAKE,SAChBC,EAAsBH,EAAKG,oBAC3BC,IAAcH,EAAaI,QAE/B,OAAKD,GAAaA,IAAcF,IAAaL,GACpChB,EAWFsB,IAAwBF,EAAaK,MAAQ,YAAc,gBAEzD,EAAa,WACtB,IAAIC,EAAQ9G,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,GAAmBA,UAAU,GAAK,GAC5EF,EAASgH,EAAMhH,OACfkH,EAAMF,EAAME,IAEhB,MAAkB,WAAXlH,GAAuB,eAAOkH,GAAO,WAAaA,GAAO,MAEvD,GAAc,WACvB,IAAIC,EAAQjH,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,GAAmBA,UAAU,GAAK,GAC5EmG,EAAOc,EAAMd,KACbC,EAAKa,EAAMb,GAEXC,EAAMrG,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,GAAmBA,UAAU,GAAKoF,EAC1E8B,EAAWlH,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,GAAmBA,UAAU,GAAK,IAC/EmH,EAAanH,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,GAAmBA,UAAU,GAAK,IAGrF,GAAImG,EACF,OAAOA,EAMT,GAAI,EAAaE,GACf,OAAO,KAIT,GAAI,eAASD,GACX,OAAOA,GAAMe,EAIf,GAAI,eAAcf,KAAQA,EAAGgB,MAAQhB,EAAGR,OAASQ,EAAGiB,MAAO,CACzD,IAAID,EAAO,eAAShB,EAAGgB,MACnBxB,EAAQ,EAAkBQ,EAAGR,OAC7ByB,EAAO,eAASjB,EAAGiB,MAEvB,OADAA,EAAQA,GAA2B,MAAnBA,EAAKC,OAAO,GAAoB,IAAI9J,OAAO6J,GAAlBA,EAClC,GAAG7J,OAAO4J,GAAM5J,OAAOoI,GAAOpI,OAAO6J,IAASF,EAIvD,OAAOD,GClJEK,GAAiB,EAAmB,aAAc,eCD7D,SAASC,GAAmBC,GAAO,OAAOC,GAAmBD,IAAQE,GAAiBF,IAAQG,GAA4BH,IAAQI,KAElI,SAASA,KAAuB,MAAM,IAAIC,UAAU,wIAEpD,SAASF,GAA4BG,EAAGC,GAAU,GAAKD,EAAL,CAAgB,GAAiB,kBAANA,EAAgB,OAAOE,GAAkBF,EAAGC,GAAS,IAAIE,EAAI9I,OAAO+I,UAAU3C,SAAS4C,KAAKL,GAAGM,MAAM,GAAI,GAAiE,MAAnD,WAANH,GAAkBH,EAAEO,cAAaJ,EAAIH,EAAEO,YAAYzL,MAAgB,QAANqL,GAAqB,QAANA,EAAoBK,MAAMC,KAAKT,GAAc,cAANG,GAAqB,2CAA2CO,KAAKP,GAAWD,GAAkBF,EAAGC,QAAzG,GAE7S,SAASL,GAAiBe,GAAQ,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYxJ,OAAOsJ,GAAO,OAAOH,MAAMC,KAAKE,GAE1H,SAAShB,GAAmBD,GAAO,GAAIc,MAAMM,QAAQpB,GAAM,OAAOQ,GAAkBR,GAEpF,SAASQ,GAAkBR,EAAKqB,IAAkB,MAAPA,GAAeA,EAAMrB,EAAIxH,UAAQ6I,EAAMrB,EAAIxH,QAAQ,IAAK,IAAIF,EAAI,EAAGgJ,EAAO,IAAIR,MAAMO,GAAM/I,EAAI+I,EAAK/I,IAAOgJ,EAAKhJ,GAAK0H,EAAI1H,GAAM,OAAOgJ,EAEhL,SAAS,GAAQ9J,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAAS,GAAcW,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAK,GAAQX,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAAO,GAAgBN,EAAQM,EAAKF,EAAOE,OAAsBhB,OAAOkB,0BAA6BlB,OAAOmB,iBAAiBT,EAAQV,OAAOkB,0BAA0BJ,IAAmB,GAAQd,OAAOc,IAASC,SAAQ,SAAUC,GAAOhB,OAAOoB,eAAeV,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAAS,GAAgBW,EAAKL,EAAK3D,GAAiK,OAApJ2D,KAAOK,EAAOrB,OAAOoB,eAAeC,EAAKL,EAAK,CAAE3D,MAAOA,EAAOiD,YAAY,EAAMgB,cAAc,EAAMC,UAAU,IAAkBF,EAAIL,GAAO3D,EAAgBgE,EAkB3M,IAAIuI,GAA0B,eAAiB,OAAW,WAG/CC,GAAkB,CAC3BC,YAAa,eAAS,QACtBC,OAAQ,eAAS,QAAmB,GACpCC,MAAO,eAAS,OAAwB,QACxCC,MAAO,eAAS,QAAmB,GACnCC,iBAAkB,eAAS,QAC3B3F,QAAS,eAAS,QAAmB,GACrC4F,UAAW,eAAS,OAAkB,KACtCnD,GAAI,eAAS,SAGJoD,GAAgB,CACzBC,WAAY,eAAS,QAAmB,GAOxCC,SAAU,eAAS,OAAmB,OAG7B,GAAQ,eAAsB,eAAS,GAAc,GAAc,GAAc,GAAIF,IAAgBP,IAAkB,GAAI,CACpIU,OAAQ,eAAS,QAAmB,GACpClD,SAAU,eAAS,QAAmB,GACtCN,KAAM,eAAS,QAEfa,IAAK,eAAS,OAAkB,MAKhCN,oBAAqB,eAAS,QAC9B5G,OAAQ,eAAS,OAAkB,YAChC,QAGM8J,GAAqB,OAAIhN,OAAO,CACzCC,KAAM,OAENC,OAAQ,CAACqG,EAAYoE,GAAgB,OAAmB,QACxDsC,cAAc,EACd3M,MAAO,GACPC,SAAU,CACR2M,YAAa,WAEX,IAAI1D,EAAK9I,KAAK8I,GACVK,EAAWnJ,KAAKmJ,SAChBC,EAAsBpJ,KAAKoJ,oBAC/B,OAAOJ,EAAW,CAChBF,GAAIA,EACJK,SAAUA,EACVC,oBAAqBA,GACpBpJ,OAELyM,aAAc,WACZ,OAAO,EAAczM,KAAKwM,cAE5BE,YAAa,WAEX,IAAIlK,EAASxC,KAAKwC,OACdkH,EAAM1J,KAAK0J,IACf,OAAO,EAAW,CAChBlH,OAAQA,EACRkH,IAAKA,KAGTiD,aAAc,WAEZ,IAAI7D,EAAK9I,KAAK8I,GACVD,EAAO7I,KAAK6I,KAChB,OAAO,GAAY,CACjBC,GAAIA,EACJD,KAAMA,GACL7I,KAAKwM,cAEVI,cAAe,WACb,IAAIR,EAAWpM,KAAKoM,SACpB,OAAOpM,KAAKyM,aAAe,GAAc,GAAc,GAAI,eAAW,GAAc,GAAc,GAAId,IAAkBO,IAAgBlM,OAAQ,GAAI,CAElJoM,SAAU,eAAUA,GAAYA,OAAW3C,EAE3CV,IAAK/I,KAAKiM,YACP,IAEPY,cAAe,WACb,IAAIC,EAAU9M,KAAK8M,QACfjE,EAAO7I,KAAK2M,aACZjD,EAAM1J,KAAK0M,YACXvD,EAAWnJ,KAAKmJ,SAChB3G,EAASxC,KAAKwC,OACdyJ,EAAYjM,KAAKiM,UACjBQ,EAAezM,KAAKyM,aACxB,OAAO,GAAc,GAAc,GAAc,GAAc,GAAIK,GAAUjE,EAAO,CAClFA,KAAMA,GACJ,IAAK4D,IAAiB,eAAMR,EAAW,KAAO,GAAK,CACrDvC,IAAKA,EACLlH,OAAQA,IACN,GAAI,CACNuK,SAAU5D,EAAW,KAAO,eAAY2D,EAAQC,UAAY,KAAOD,EAAQC,SAC3E,gBAAiB5D,EAAW,OAAS,QAGzC6D,kBAAmB,WACjB,OAAO,GAAc,GAAc,GAAIhN,KAAKiN,aAAc,GAAI,CAG5DC,MAAOlN,KAAKmN,YAIlBlG,QAAS,CACPkG,QAAS,SAAiBrB,GACxB,IAAIsB,EAAa1K,UACb2K,EAAe,eAAQvB,GACvBW,EAAezM,KAAKyM,aACpBa,EAAkBtN,KAAKiN,YAAYC,MAEnCG,GAAgBrN,KAAKmJ,SAIvB,eAAU2C,EAAO,CACfyB,sBAAsB,KAIpBd,GAAgBX,EAAM0B,cAAcC,SAGtC3B,EAAM0B,cAAcC,QAAQC,MAAM,OAAkB5B,GAItD,eAAOwB,GAAiBrL,QAAO,SAAUlB,GACvC,OAAO,eAAWA,MACjB8B,SAAQ,SAAUsC,GACnBA,EAAQ7C,WAAM,EAAQ4H,GAAmBkD,OAG3CpN,KAAK2N,WAAWjC,GAAyBI,GAEzC9L,KAAK2N,WAAW,gBAAiB7B,IAK/BuB,IAAiBZ,GAAsC,MAAtBzM,KAAK2M,cACxC,eAAUb,EAAO,CACf8B,aAAa,KAInBC,MAAO,WACL,eAAa7N,KAAKmE,MAEpB2J,KAAM,WACJ,eAAY9N,KAAKmE,OAGrBrD,OAAQ,SAAgBC,GACtB,IAAIsL,EAASrM,KAAKqM,OACdlD,EAAWnJ,KAAKmJ,SACpB,OAAOpI,EAAEf,KAAKwM,YAAa,GAAgB,CACzClL,MAAO,CACL+K,OAAQA,EACRlD,SAAUA,GAEZ3H,MAAOxB,KAAK6M,cACZjN,MAAOI,KAAK4M,eACX5M,KAAKyM,aAAe,WAAa,KAAMzM,KAAKgN,mBAAoBhN,KAAKmB,oBC/M5E,SAAS,GAAQQ,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAAS,GAAcW,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAK,GAAQX,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAAO,GAAgBN,EAAQM,EAAKF,EAAOE,OAAsBhB,OAAOkB,0BAA6BlB,OAAOmB,iBAAiBT,EAAQV,OAAOkB,0BAA0BJ,IAAmB,GAAQd,OAAOc,IAASC,SAAQ,SAAUC,GAAOhB,OAAOoB,eAAeV,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAAS,GAAgBW,EAAKL,EAAK3D,GAAiK,OAApJ2D,KAAOK,EAAOrB,OAAOoB,eAAeC,EAAKL,EAAK,CAAE3D,MAAOA,EAAOiD,YAAY,EAAMgB,cAAc,EAAMC,UAAU,IAAkBF,EAAIL,GAAO3D,EAAgBgE,EAe3M,IAAI4K,GAAY,eAAK,GAAY,CAAC,QAAS,qBACpCA,GAAUlF,KAAKlJ,eACfoO,GAAUjF,GAAGnJ,QACb,IAAI,GAAQ,eAAsB,eAAS,GAAc,GAAc,GAAIoO,IAAY,GAAI,CAChGC,MAAO,eAAS,QAAmB,GACnC7E,SAAU,eAAS,QAAmB,GACtC8E,KAAM,eAAS,QAAmB,GAGlCC,QAAS,eAAS,OAAmB,MACrCC,KAAM,eAAS,QACfC,QAAS,eAAS,QAAmB,GACrCrF,IAAK,eAAS,OAAkB,UAChCtE,KAAM,eAAS,OAAkB,UACjCrF,QAAS,eAAS,OAAkB,gBACjC,QAID,GAAc,SAAqB0M,GAClB,YAAfA,EAAMrH,KACR,eAASqH,EAAMtJ,OAAQ,SACC,aAAfsJ,EAAMrH,MACf,eAAYqH,EAAMtJ,OAAQ,UAM1B,GAAS,SAAgB5C,GAC3B,OAAO,EAAaA,IAAU,eAAMA,EAAMmJ,IAAK,MAI7C,GAAW,SAAkBnJ,GAC/B,OAAO,eAAUA,EAAMsO,UAIrB,GAAW,SAAkBtO,GAC/B,QAAS,GAAOA,IAAUA,EAAMmJ,MAAQ,eAAMnJ,EAAMmJ,IAAK,YAIvDsF,GAAmB,SAA0BzO,GAC/C,OAAQ,GAAOA,KAAW,GAASA,IAIjC0O,GAAe,SAAsB1O,GACvC,IAAIqJ,EAEJ,MAAO,CAAC,OAAO/I,OAAON,EAAMR,SAAW,cAAe6J,EAAO,GAAI,GAAgBA,EAAM,OAAO/I,OAAON,EAAMuO,MAAOvO,EAAMuO,MAAO,GAAgBlF,EAAM,YAAarJ,EAAMoO,OAAQ,GAAgB/E,EAAM,eAAgBrJ,EAAMqO,MAAO,GAAgBhF,EAAM,YAAarJ,EAAMwO,UAAYxO,EAAMqO,MAAO,GAAgBhF,EAAM,WAAYrJ,EAAMuJ,UAAW,GAAgBF,EAAM,SAAUrJ,EAAMsO,SAAUjF,KAItY,GAAmB,SAA0BrJ,GAC/C,OAAO,GAAOA,GAAS,eAAWmO,GAAWnO,GAAS,IAIpD2O,GAAe,SAAsB3O,EAAO+F,GAC9C,IAAI6I,EAAS,GAAS5O,GAClB6O,EAAO,GAAO7O,GACd8O,EAAS,GAAS9O,GAClB+O,EAAiBN,GAAiBzO,GAClCgP,EAAWH,GAAuB,MAAf7O,EAAMiJ,KACzBpH,EAAOkE,EAAKnE,OAASmE,EAAKnE,MAAMC,KAAOkE,EAAKnE,MAAMC,KAAO,KACzDsL,EAAWpH,EAAKnE,MAAQmE,EAAKnE,MAAMuL,SAAW,KAMlD,OAJI4B,GAAkBC,KACpB7B,EAAW,KAGN,CAELtI,KAAM+J,IAAWC,EAAO7O,EAAM6E,KAAO,KAErC0E,SAAUqF,EAAS5O,EAAMuJ,SAAW,KAIpC1H,KAAMkN,GAAkBC,EAAW,SAAWnN,EAE9C,gBAAiBkN,EAAiBvI,OAAOxG,EAAMuJ,UAAY,KAE3D,eAAgBuF,EAAStI,OAAOxG,EAAMsO,SAAW,KAGjDW,aAAcH,EAAS,MAAQ,KAK/B3B,SAAUnN,EAAMuJ,WAAaqF,EAAS,KAAOzB,IAMtC+B,GAAuB,OAAIxP,OAAO,CAC3CC,KAAM,OACNwP,YAAY,EACZnP,MAAO,GACPkB,OAAQ,SAAgBC,EAAGyI,GACzB,IAAI5J,EAAQ4J,EAAM5J,MACd+F,EAAO6D,EAAM7D,KACbqJ,EAAYxF,EAAMwF,UAClBC,EAAWzF,EAAMyF,SACjBP,EAAS,GAAS9O,GAClB6O,EAAO,GAAO7O,GACd+O,EAAiBN,GAAiBzO,GAClCgP,EAAWH,GAAuB,MAAf7O,EAAMiJ,KACzB1B,EAAK,CACP+H,QAAS,SAAiBpD,GAKxB,IAAIlM,EAAMuJ,WAAcwF,GAAkBC,GAA1C,CAIA,IAAIO,EAAUrD,EAAMqD,QAEpB,GAAIA,IAAYpL,GAAcoL,IAAYtL,GAAc8K,EAAgB,CACtE,IAAInM,EAASsJ,EAAM0B,eAAiB1B,EAAMtJ,OAC1C,eAAUsJ,EAAO,CACf8B,aAAa,IAEfpL,EAAO0K,WAGXA,MAAO,SAAepB,GAEhBlM,EAAMuJ,UAAY,eAAQ2C,GAC5B,eAAUA,GACD4C,GAAUM,GAAaA,EAAU,mBAI1C,eAAOA,EAAU,mBAAmBnM,SAAQ,SAAUqD,GAChD,eAAWA,IACbA,GAAItG,EAAMsO,cAOhBQ,IACFvH,EAAGiI,QAAU,GACbjI,EAAGkI,SAAW,IAGhB,IAAIC,EAAgB,CAClBjO,YAAa,MACbC,MAAOgN,GAAa1O,GACpBA,MAAO,GAAiBA,GACxB4B,MAAO+M,GAAa3O,EAAO+F,GAC3BwB,GAAIA,GAEN,OAAOpG,EAAE0N,EAAOnC,GAAQ1M,EAAMmJ,IAAK,eAAUpD,EAAM2J,GAAgBL,M,0BC5JnEM,GAAmC,OAAIjQ,OAAO,CAIhDkQ,UAAU,EACVjQ,KAAM,OACNK,MAAO,CAGL6P,MAAO,eAAS,SAElB9J,KAAM,SAAc+J,GAClB,MAAO,CACLC,aAAcD,EAAGD,QAGrBG,UAAW,WACT,eAAW5P,KAAKmE,MAElBrD,OAAQ,SAAgBC,GACtB,IAAI4O,EAAe3P,KAAK2P,aACpBE,EAAS,eAAWF,GAAgBA,EAAa,IAAMA,EAG3D,OAFAE,EAAS,eAAOA,GAAQ5N,OAAO6N,EAAA,MAE3BD,GAAUA,EAAOlN,OAAS,IAAMkN,EAAO,GAAGE,KACrCF,EAAO,GAKT9O,OAIA,GAAQ,CAIjBiP,UAAW,eAAS,CAAC,OAAa,QAAmB,QACrD7G,SAAU,eAAS,QAAmB,GAEtCJ,IAAK,eAAS,OAAkB,QAIvBkH,GAA6B,OAAI3Q,OAAO,CACjDC,KAAM,OACNC,OAAQ,CAAC,QACTI,MAAO,GACPgG,MAAO,CACLuD,SAAU,CACR+G,WAAW,EACX/K,QAAS,SAAiBgE,GACxBA,EAAWnJ,KAAKmQ,gBAAkBnQ,KAAKwG,UAAUxG,KAAKoQ,gBAI5DzJ,QAAS,WAEP3G,KAAKqQ,YAAc,KACnBrQ,KAAKsQ,SAAW,MAElBC,YAAa,WACXvQ,KAAKoQ,eAEPI,QAAS,WAOPxQ,KAAKyQ,gBAEPhJ,cAAe,WACbzH,KAAKmQ,gBACLnQ,KAAKqQ,YAAc,MAErBpJ,QAAS,CAEPyJ,aAAc,WAEZ,GAAI,OAAY,CACd,IAAIV,EAAYhQ,KAAKgQ,UACrB,OAAO,eAASA,GAAa,eAAOA,GAAaA,EAEjD,OAAO,MAIXI,YAAa,WACX,IAAKpQ,KAAKsQ,SAAU,CAClB,IAAIK,EAAa3Q,KAAK0Q,eAEtB,GAAIC,EAAY,CACd,IAAIxM,EAAM6C,SAAS4J,cAAc,OACjCD,EAAWE,YAAY1M,GACvBnE,KAAKsQ,SAAW,IAAIf,GAAoB,CACtCvL,GAAIG,EACJ2M,OAAQ9Q,KACR+Q,UAAW,CAETtB,MAAO,eAAOzP,KAAKmB,uBAO7BsP,aAAc,WACZ,GAAI,QAAczQ,KAAKsQ,SAAU,CAC/B,IAAIU,EAAYhR,KAAKiR,aAAatR,QAE7BK,KAAKmJ,WAEJ6H,GAAahR,KAAKqQ,cAAgBW,EAIpChR,KAAKsQ,SAASX,aAAeqB,EACnBA,IAEVhR,KAAKsQ,SAASX,aAAe3P,KAAKkR,OAAOvR,UAK7CK,KAAKqQ,YAAcW,IAIvBb,cAAe,WACbnQ,KAAKsQ,UAAYtQ,KAAKsQ,SAASa,WAC/BnR,KAAKsQ,SAAW,OAGpBxP,OAAQ,SAAgBC,GAEtB,GAAIf,KAAKmJ,SAAU,CACjB,IAAI0G,EAAS,eAAO7P,KAAKmB,iBAAiBc,OAAO6N,EAAA,MAEjD,GAAID,EAAOlN,OAAS,IAAMkN,EAAO,GAAGE,KAClC,OAAOF,EAAO,GAIlB,OAAO9O,O,aC3KX,SAASqQ,GAAQjO,GAAmV,OAAtOiO,GAArD,oBAAX/F,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBnI,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXkI,QAAyBlI,EAAI6H,cAAgBK,QAAUlI,IAAQkI,OAAOR,UAAY,gBAAkB1H,GAAiBiO,GAAQjO,GAEnX,SAAS,GAAQxB,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAAS,GAAcW,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAK,GAAQX,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAAO,GAAgBN,EAAQM,EAAKF,EAAOE,OAAsBhB,OAAOkB,0BAA6BlB,OAAOmB,iBAAiBT,EAAQV,OAAOkB,0BAA0BJ,IAAmB,GAAQd,OAAOc,IAASC,SAAQ,SAAUC,GAAOhB,OAAOoB,eAAeV,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAAS,GAAgBW,EAAKL,EAAK3D,GAAiK,OAApJ2D,KAAOK,EAAOrB,OAAOoB,eAAeC,EAAKL,EAAK,CAAE3D,MAAOA,EAAOiD,YAAY,EAAMgB,cAAc,EAAMC,UAAU,IAAkBF,EAAIL,GAAO3D,EAAgBgE,EAE3M,SAASkO,GAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAI/G,UAAU,qCAEhH,SAASgH,GAAkBhP,EAAQ5C,GAAS,IAAK,IAAI6C,EAAI,EAAGA,EAAI7C,EAAM+C,OAAQF,IAAK,CAAE,IAAIgP,EAAa7R,EAAM6C,GAAIgP,EAAWrP,WAAaqP,EAAWrP,aAAc,EAAOqP,EAAWrO,cAAe,EAAU,UAAWqO,IAAYA,EAAWpO,UAAW,GAAMvB,OAAOoB,eAAeV,EAAQiP,EAAW3O,IAAK2O,IAE7S,SAASC,GAAaH,EAAaI,EAAYC,GAAmJ,OAAhID,GAAYH,GAAkBD,EAAY1G,UAAW8G,GAAiBC,GAAaJ,GAAkBD,EAAaK,GAAqBL,EAEzM,SAASM,GAAKrP,EAAQsP,EAAUC,GAAuV,OAAtRF,GAA9B,qBAAZG,SAA2BA,QAAQC,IAAcD,QAAQC,IAAqB,SAAczP,EAAQsP,EAAUC,GAAY,IAAIG,EAAOC,GAAe3P,EAAQsP,GAAW,GAAKI,EAAL,CAAmB,IAAIE,EAAOtQ,OAAOK,yBAAyB+P,EAAMJ,GAAW,OAAIM,EAAKH,IAAcG,EAAKH,IAAInH,KAAKiH,GAAoBK,EAAKjT,QAAmB0S,GAAKrP,EAAQsP,EAAUC,GAAYvP,GAEja,SAAS2P,GAAexQ,EAAQmQ,GAAY,OAAQhQ,OAAO+I,UAAUwH,eAAevH,KAAKnJ,EAAQmQ,GAA+C,GAAlCnQ,EAAS2Q,GAAgB3Q,GAAwB,OAAXA,EAAiB,MAAS,OAAOA,EAErL,SAAS4Q,GAAUC,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIjI,UAAU,sDAAyDgI,EAAS3H,UAAY/I,OAAO4Q,OAAOD,GAAcA,EAAW5H,UAAW,CAAEG,YAAa,CAAE7L,MAAOqT,EAAUnP,UAAU,EAAMD,cAAc,KAAeqP,GAAYE,GAAgBH,EAAUC,GAEnX,SAASE,GAAgBlI,EAAG9J,GAA+G,OAA1GgS,GAAkB7Q,OAAO8Q,gBAAkB,SAAyBnI,EAAG9J,GAAsB,OAAjB8J,EAAEoI,UAAYlS,EAAU8J,GAAakI,GAAgBlI,EAAG9J,GAErK,SAASmS,GAAaC,GAAW,IAAIC,EAA4BC,KAA6B,OAAO,WAAkC,IAAsCC,EAAlCC,EAAQb,GAAgBS,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYd,GAAgBtS,MAAMgL,YAAakI,EAASlB,QAAQqB,UAAUF,EAAOzQ,UAAW0Q,QAAqBF,EAASC,EAAM7Q,MAAMtC,KAAM0C,WAAc,OAAO4Q,GAA2BtT,KAAMkT,IAE5Z,SAASI,GAA2BC,EAAMzI,GAAQ,OAAIA,GAA2B,WAAlBsG,GAAQtG,IAAsC,oBAATA,EAA8C0I,GAAuBD,GAAtCzI,EAEnI,SAAS0I,GAAuBD,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIE,eAAe,6DAAgE,OAAOF,EAE/J,SAASN,KAA8B,GAAuB,qBAAZjB,UAA4BA,QAAQqB,UAAW,OAAO,EAAO,GAAIrB,QAAQqB,UAAUK,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EC,KAAK/I,UAAU3C,SAAS4C,KAAKkH,QAAQqB,UAAUO,KAAM,IAAI,iBAAyB,EAAQ,MAAOC,GAAK,OAAO,GAE1T,SAASvB,GAAgB7H,GAAwJ,OAAnJ6H,GAAkBxQ,OAAO8Q,eAAiB9Q,OAAOgS,eAAiB,SAAyBrJ,GAAK,OAAOA,EAAEoI,WAAa/Q,OAAOgS,eAAerJ,IAAc6H,GAAgB7H,GAKxM,IAAI,GAA4B,SAAUsJ,GACxCxB,GAAUyB,EAAcD,GAExB,IAAIE,EAASnB,GAAakB,GAE1B,SAASA,EAAavP,GACpB,IAAI8B,EAEA2N,EAAYxR,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,GAAmBA,UAAU,GAAK,GASpF,OAPA2O,GAAgBrR,KAAMgU,GAEtBzN,EAAQ0N,EAAOnJ,KAAK9K,KAAMyE,EAAMyP,GAEhC,eAAiBV,GAAuBjN,GAAQ,CAC9C4N,QAAS,mBAEJ5N,EAYT,OATAmL,GAAasC,EAAc,KAAM,CAAC,CAChClR,IAAK,WACLmP,IAAK,WACH,OAAO,GAAc,GAAc,GAAIJ,GAAKS,GAAgB0B,GAAe,WAAYhU,OAAQ,GAAI,CACjGmU,QAAS,WAKRH,EA7BuB,CA8B9B,S,aCrDEI,GAAiB,KAEjBC,GAAyB,oDACzBC,GAA0B,cAC1BC,GAA0B,kBAG1BC,GAA4B,OAAIlV,OAAO,CACzCqG,KAAM,WACJ,MAAO,CACL8O,OAAQ,GACRC,WAAY,KACZC,eAAgB,KAChBC,mBAAmB,IAGvB/U,SAAU,CACRgV,WAAY,WACV,OAAO7U,KAAKyU,OAAO9R,QAErBmS,cAAe,WACb,OAAO9U,KAAK6U,WAAa,IAG7BjP,MAAO,CACLiP,WAAY,SAAoBE,EAAUC,GACpC,SACFhV,KAAKiV,oBAEDF,EAAW,GAAkB,IAAbC,GAElBhV,KAAKkV,iBACLlV,KAAKmV,eACL,eAASnO,SAASoO,KAAM,eACF,IAAbL,GAAkBC,EAAW,IAEtChV,KAAKqV,iBACL,eAAYrO,SAASoO,KAAM,eAG7B,eAAQpO,SAASoO,KAAM,wBAAyBhP,OAAO2O,MAG3DN,OAAQ,SAAgBrP,GACtB,IAAImB,EAAQvG,KAEZA,KAAKkV,iBACL,gBAAU,WACR3O,EAAM+O,aAAalQ,GAAY,SAIrC6B,QAAS,CAEPsO,cAAe,SAAuBC,GACpC,IAAIC,EAASzV,KAGTwV,IAAyC,IAAhCxV,KAAKyU,OAAOiB,QAAQF,KAE/BxV,KAAKyU,OAAOpS,KAAKmT,GACjBA,EAAM5O,MAAM,QAAgC,WAC1C6O,EAAOE,gBAAgBH,QAI7BG,gBAAiB,SAAyBH,GACxC,IAAII,EAAQ5V,KAAKyU,OAAOiB,QAAQF,GAE5BI,GAAS,IAEX5V,KAAKyU,OAAOoB,OAAOD,EAAO,GAEpBJ,EAAMM,mBAAqBN,EAAMO,cACrC/V,KAAKgW,WAAWR,KAItBS,cAAe,WACb,GAAI,eAAOjW,KAAK0U,aAAe,OAAY,CAEzC,IAAIwB,EAAMlP,SAAS4J,cAAc,OACjC,eAASsF,EAAK,kBACd,eAASA,EAAK,UACd,eAASA,EAAK,UAAW,QACzBlP,SAASoO,KAAKvE,YAAYqF,GAC1BlW,KAAK0U,WAAa,gBAAU,eAAMwB,GAAKC,OAAQ/B,IAC/CpN,SAASoO,KAAKgB,YAAYF,GAG5B,OAAOlW,KAAK0U,YAAcN,IAE5Ba,kBAAmB,WACjB,GAAI,eAAOjV,KAAK2U,iBAAmB,OAAY,CAE7C,IAAIuB,EAAMlP,SAAS4J,cAAc,OACjC,eAASsF,EAAK,2BACdlP,SAASoO,KAAKvE,YAAYqF,GAC1BlW,KAAK2U,eAAiB,eAAOuB,GAAK7V,MAAQ6V,EAAIG,YAC9CrP,SAASoO,KAAKgB,YAAYF,GAG5B,OAAOlW,KAAK2U,gBAAkB,GAGhCW,aAAc,SAAsBb,GAClC,IAAI6B,EAAStW,KAET0U,EAAa1U,KAAKiW,gBAClBtB,EAAiB3U,KAAKiV,oBAC1BR,EAAO5R,SAAQ,SAAU2S,EAAOI,GAE9BJ,EAAMW,OAASzB,EAAakB,EAC5BJ,EAAMb,eAAiBA,EACvBa,EAAMe,MAAQX,IAAUU,EAAO7B,OAAO9R,OAAS,EAC/C6S,EAAMZ,kBAAoB0B,EAAO1B,sBAGrCoB,WAAY,SAAoBR,GAC1BA,IACFA,EAAMW,OAASnW,KAAKiW,gBACpBT,EAAMe,OAAQ,EACdf,EAAMZ,mBAAoB,IAG9BM,eAAgB,WAEd,IAAIsB,EAAU,eAAOxP,SAASoO,MAC1BqB,EAAOD,EAAQC,KACfC,EAAQF,EAAQE,MAEpB1W,KAAK4U,kBAAoB6B,EAAOC,EAAQhP,OAAOiP,YAEjDxB,aAAc,WACZ,IAAIC,EAAOpO,SAASoO,KAOpB,GAHAA,EAAKwB,wBAA0BxB,EAAKwB,yBAA2B,GAC/DxB,EAAKyB,uBAAyBzB,EAAKyB,wBAA0B,GAEzD7W,KAAK4U,kBAAmB,CAC1B,IAAID,EAAiB3U,KAAK2U,eAI1B,eAAUN,IAAwBxR,SAAQ,SAAUmB,GAClD,IAAI8S,EAAgB,eAAS9S,EAAI,iBAAmB,GACpD,eAAQA,EAAI,qBAAsB8S,GAClC,eAAS9S,EAAI,eAAgB,GAAG9D,OAAO,gBAAQ,eAAM8D,GAAI+S,aAAc,GAAKpC,EAAgB,OAE5FS,EAAKwB,wBAAwBvU,KAAK2B,MAKpC,eAAUsQ,IAAyBzR,SAAQ,SAAUmB,GAGnD,IAAIgT,EAAe,eAAShT,EAAI,gBAAkB,GAClD,eAAQA,EAAI,oBAAqBgT,GACjC,eAAShT,EAAI,cAAe,GAAG9D,OAAO,gBAAQ,eAAM8D,GAAIiT,YAAa,GAAKtC,EAAgB,OAE1FS,EAAKyB,uBAAuBxU,KAAK2B,MAKnC,eAAUuQ,IAAyB1R,SAAQ,SAAUmB,GAGnD,IAAIgT,EAAe,eAAShT,EAAI,gBAAkB,GAClD,eAAQA,EAAI,oBAAqBgT,GACjC,eAAShT,EAAI,cAAe,GAAG9D,OAAO,gBAAQ,eAAM8D,GAAIiT,YAAa,GAAKtC,EAAgB,OAE1FS,EAAKyB,uBAAuBxU,KAAK2B,MAGnC,IAAI8S,EAAgB,eAAS1B,EAAM,iBAAmB,GACtD,eAAQA,EAAM,qBAAsB0B,GACpC,eAAS1B,EAAM,eAAgB,GAAGlV,OAAO,gBAAQ,eAAMkV,GAAM2B,aAAc,GAAKpC,EAAgB,SAGpGU,eAAgB,WACd,IAAID,EAAOpO,SAASoO,KAEhBA,EAAKwB,yBAEPxB,EAAKwB,wBAAwB/T,SAAQ,SAAUmB,GAEzC,eAAQA,EAAI,wBACd,eAASA,EAAI,eAAgB,eAAQA,EAAI,uBAAyB,IAClE,eAAWA,EAAI,0BAKjBoR,EAAKyB,wBAEPzB,EAAKyB,uBAAuBhU,SAAQ,SAAUmB,GAExC,eAAQA,EAAI,uBACd,eAASA,EAAI,cAAe,eAAQA,EAAI,sBAAwB,IAChE,eAAWA,EAAI,yBAKrBoR,EAAKwB,wBAA0B,KAC/BxB,EAAKyB,uBAAyB,KAE1B,eAAQzB,EAAM,wBAChB,eAASA,EAAM,eAAgB,eAAQA,EAAM,uBAAyB,IACtE,eAAWA,EAAM,2BAMd8B,GAAe,IAAI1C,GCvO9B,SAAS,GAAQ7S,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAAS,GAAcW,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAK,GAAQX,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAAO,GAAgBN,EAAQM,EAAKF,EAAOE,OAAsBhB,OAAOkB,0BAA6BlB,OAAOmB,iBAAiBT,EAAQV,OAAOkB,0BAA0BJ,IAAmB,GAAQd,OAAOc,IAASC,SAAQ,SAAUC,GAAOhB,OAAOoB,eAAeV,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAAS,GAAgBW,EAAKL,EAAK3D,GAAiK,OAApJ2D,KAAOK,EAAOrB,OAAOoB,eAAeC,EAAKL,EAAK,CAAE3D,MAAOA,EAAOiD,YAAY,EAAMgB,cAAc,EAAMC,UAAU,IAAkBF,EAAIL,GAAO3D,EAAgBgE,EAkC3M,IAAIgU,GAAkB,eAAe,UAAW,CAC9C1S,KAAM,OACN2S,cAAc,EACdtL,MAAO,SAELuL,GAAaF,GAAgBG,MAC7BC,GAAaJ,GAAgBvX,MAC7B4X,GAAkBL,GAAgBM,KAClCC,GAAmBP,GAAgBrL,MAEnC6L,GAAmB,WACnBC,GAAc,MACdC,GAAgB,QAChBC,GAAiB,SACjBC,GAAgB,SAEhBC,GAAe,cACfC,GAAY,KACZC,GAAU,CAACH,GAAeC,GAAcC,IAGxCE,GAAkB,CACpBlT,SAAS,EACTD,WAAW,EACXoT,eAAe,EACfC,YAAY,EACZC,gBAAiB,CAAC,QAAS,UAGlB,GAAQ,eAAsB,eAAS,GAAc,GAAc,GAAc,GAAI,GAAUf,IAAa,GAAI,CACzHgB,UAAW,eAAS,QACpBC,gBAAiB,eAAS,OAAkB,MAE5C,SAAUrZ,GACR,OAAO,eAAkBA,IAAU,OAAAmI,EAAA,MAAc4Q,GAAS/Y,MAE5DsZ,cAAe,eAAS,QACxBC,UAAW,eAAS,QACpBC,gBAAiB,eAAS,QAC1BC,KAAM,eAAS,QAAmB,GAClCC,WAAY,eAAS,QACrBC,eAAgB,eAAS,QAAmB,GAC5CC,YAAa,eAAS,OAAkB,UACxCC,gBAAiB,eAAS,QAC1BC,cAAe,eAAS,OAAkB,aAC1CC,SAAU,eAAS,QAAmB,GACtCC,aAAc,eAAS,QACvBC,YAAa,eAAS,QACtBC,gBAAiB,eAAS,QAC1BC,oBAAqB,eAAS,QAC9BC,YAAa,eAAS,QACtBC,kBAAmB,eAAS,QAC5BC,gBAAiB,eAAS,QAC1BC,oBAAqB,eAAS,QAC9BC,YAAa,eAAS,QACtBC,mBAAoB,eAAS,OAAkB,WAC/CC,iBAAkB,eAAS,OAAkB,SAC7CC,mBAAoB,eAAS,QAC7BC,kBAAmB,eAAS,QAE5BC,aAAc,eAAS,QAAmB,GAE1CC,WAAY,eAAS,QAAmB,GAExCC,WAAY,eAAS,QAAmB,GAExCC,gBAAiB,eAAS,QAAmB,GAC7CC,2BAA4B,eAAS,QACrCC,KAAM,eAAS,QAAmB,GAClCC,WAAY,eAAS,QACrBC,kBAAmB,eAAS,QAAmB,GAC/CC,aAAc,eAAS,QAAmB,GAC1CC,eAAgB,eAAS,QAAmB,GAC5CC,OAAQ,eAAS,QAAmB,GACpCC,WAAY,eAAS,QAAmB,GACxCC,WAAY,eAAS,QAAmB,GACxCC,OAAQ,eAAS,QAAmB,GACpCC,QAAS,eAAS,OAAkB,MACpCC,YAAa,eAAS,QACtBC,UAAW,eAAS,OAAkB,WAEtCC,YAAa,eAAS,CAAC,OAAa,OAAkB,SACtDC,WAAY,eAAS,QAAmB,GACxC/M,KAAM,eAAS,OAAkB,MACjCgN,OAAQ,eAAS,QAAmB,GACpCC,MAAO,eAAS,QAChBC,WAAY,eAAS,QACrBC,UAAW,eAAS,QACpBC,YAAa,eAAS,QAAmB,GACzCC,SAAU,eAAS,OAAkB,SAClC,QAGMC,GAAsB,OAAInc,OAAO,CAC1CC,KAAM,OACNC,OAAQ,CAACqG,EAAYE,EAASsR,GAAY3Q,EAAuB,OAAmBa,EAAqB,OAAoB,QAC7HgF,cAAc,EACd3M,MAAO,GACP+F,KAAM,WACJ,MAAO,CACL+V,UAAU,EAEVC,WAAW,EAEXC,iBAAiB,EAEjBC,QAAQ,EAERC,SAAS,EAETC,WAAW,EAEXC,WAAW,EAEXC,qBAAqB,EAErBC,oBAAoB,EAEpBvH,eAAgB,EAChBwB,OAAQe,GAAajB,gBACrBM,OAAO,EACP3B,mBAAmB,IAGvB/U,SAAU,CACRsc,QAAS,WACP,OAAOnc,KAAKiG,UAEdmW,aAAc,WACZ,OAAOpc,KAAKiG,OAAO,sBAErBoW,cAAe,WACb,OAAOrc,KAAKiG,OAAO,uBAErBqW,YAAa,WACX,OAAOtc,KAAKiG,OAAO,qBAErBsW,aAAc,WACZ,OAAOvc,KAAKiG,OAAO,sBAErBuW,eAAgB,WACd,OAAOxc,KAAKiG,OAAO,wBAErBwW,cAAe,WACb,OAAOzc,KAAKiG,OAAO,uBAErByW,gBAAiB,WACf,OAAO1c,KAAKiG,OAAO,yBAErB0W,aAAc,WACZ,MAAO,CAAC,CACNC,MAAO5c,KAAK0a,OACZmC,KAAM7c,KAAK6b,QACV7b,KAAKsa,aAEVwC,YAAa,WACX,IAAIC,EAAU,GAAG7c,OAAOF,KAAK2U,eAAgB,MAC7C,MAAO,CACLqI,aAAchd,KAAK4U,mBAAqB5U,KAAKkc,mBAAqBa,EAAU,GAC5EhG,aAAc/W,KAAK4U,oBAAsB5U,KAAKkc,mBAAqBa,EAAU,GAG7EE,QAASjd,KAAK8b,QAAU,QAAU,SAGtCoB,cAAe,WACb,IAAIjU,EAEJ,MAAO,EAAEA,EAAO,GAAI,GAAgBA,EAAM,SAAS/I,OAAOF,KAAKmO,MAAOnO,KAAKmO,MAAO,GAAgBlF,EAAM,wBAAyBjJ,KAAKkZ,UAAW,GAAgBjQ,EAAM,0BAA2BjJ,KAAKkb,YAAajS,GAAOjJ,KAAKoZ,cAElO+D,cAAe,WACb,IAAI3T,EAEJ,MAAO,EAAEA,EAAQ,GAAI,GAAgBA,EAAO,MAAMtJ,OAAOF,KAAKyZ,iBAAkBzZ,KAAKyZ,iBAAkB,GAAgBjQ,EAAO,QAAQtJ,OAAOF,KAAK+Z,mBAAoB/Z,KAAK+Z,mBAAoB,GAAgBvQ,EAAO,UAAUtJ,OAAOF,KAAK0Z,qBAAsB1Z,KAAK0Z,qBAAsBlQ,GAAQxJ,KAAK2Z,cAE5SyD,aAAc,WACZ,MAAO,CAAC,CACN,UAAWpd,KAAKub,aACfvb,KAAKqb,aAEVgC,YAAa,WACX,IAAI1T,EAEJ,MAAO,EAAEA,EAAQ,GAAI,GAAgBA,EAAO,MAAMzJ,OAAOF,KAAKyY,eAAgBzY,KAAKyY,eAAgB,GAAgB9O,EAAO,QAAQzJ,OAAOF,KAAK2Y,iBAAkB3Y,KAAK2Y,iBAAkBhP,GAAQ3J,KAAK0Y,YAEtM4E,cAAe,WACb,IAAIC,EAEJ,MAAO,EAAEA,EAAQ,GAAI,GAAgBA,EAAO,MAAMrd,OAAOF,KAAKqZ,iBAAkBrZ,KAAKqZ,iBAAkB,GAAgBkE,EAAO,QAAQrd,OAAOF,KAAKwZ,mBAAoBxZ,KAAKwZ,mBAAoB,GAAgB+D,EAAO,UAAUrd,OAAOF,KAAKsZ,qBAAsBtZ,KAAKsZ,qBAAsBiE,GAAQvd,KAAKuZ,cAE5SiE,gBAAiB,WAEf,MAAO,CACLC,SAAU,WACVtH,OAAQnW,KAAKmW,SAGjBuH,UAAW,WACT,MAAO,CACLC,OAAQ3d,KAAK4d,SACbC,MAAO7d,KAAK8d,QACZC,KAAM/d,KAAK+d,KACXC,GAAIhe,KAAKie,KACTC,QAASle,KAAK2b,YAGlBwC,kCAAmC,WAEjC,OAAO,eAAOne,KAAKoa,4BAA4BnY,OAAO6N,EAAA,MAAUnH,KAAK,KAAKyV,QAE5EvR,cAAe,WAGb,IAAIwR,EAAoBre,KAAKmb,OAAiC,GAAxBnb,KAAKqe,iBAC3C,OAAO,GAAc,GAAc,GAAc,GAAIA,GAAmBre,KAAK8M,SAAU,GAAI,CACzFhH,GAAI9F,KAAKoc,gBAGbkC,mBAAoB,WAClB,IAAI3C,EAAY3b,KAAK2b,UACjBpD,EAAYvY,KAAKuY,UACrB,MAAO,CACLzS,GAAI9F,KAAKmc,QACT1a,KAAM,SACN,cAAeka,EAAY,KAAO,OAClC,aAAcA,EAAY,OAAS,KACnC,aAAcpD,EACd,kBAAmBvY,KAAKka,YAAc3B,KACpCvY,KAAKkB,kBAAkB,SAA0BlB,KAAKsb,WAAatb,KAAKob,OAAS,KAAOpb,KAAKuc,aAC/F,mBAAoBvc,KAAKsc,eAI/B1W,MAAO,GAAgB,GAAI4R,IAAiB,SAAUpS,EAAUC,GAC1DD,IAAaC,GACfrF,KAAKoF,EAAW,OAAS,aAG7BuB,QAAS,WAEP3G,KAAKue,WAAa,KAClBve,KAAKwe,cAAgBxe,KAAKib,aAAe,MAE3C3U,QAAS,WAEPtG,KAAKmW,OAASe,GAAajB,gBAG3BjW,KAAKye,aAAa,eAAuB,OAAY,QAAkBze,KAAK0e,aAC5E1e,KAAKye,aAAa,eAAuB,OAAY,QAAkBze,KAAK2e,aAC5E3e,KAAKye,aAAa,eAAuB,OAAY,QAAoBze,KAAK4e,eAG9E5e,KAAKye,aAAa,eAAiB,OAAY,QAAkBze,KAAK6e,gBAExC,IAA1B7e,KAAKwX,KACPxX,KAAKwG,UAAUxG,KAAK6c,OAGxBpV,cAAe,WAEbzH,KAAK8e,aAAY,GAEb9e,KAAK2b,YACP3b,KAAK2b,WAAY,EACjB3b,KAAK6b,QAAS,EACd7b,KAAK4b,iBAAkB,IAG3B3U,QAAS,CACP6X,YAAa,WACX,IAAI3X,EAAKzE,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,IAAmBA,UAAU,GACxE1C,KAAKue,YAAcve,KAAKue,WAAWQ,aACnC/e,KAAKue,WAAa,KAEdpX,IACFnH,KAAKue,WAAa,EAAWve,KAAKgf,MAAMC,QAASjf,KAAKkf,mBAAmBC,KAAKnf,MAAOmY,MAIzFiH,YAAa,SAAqBjgB,GAC5BA,IAAUa,KAAKwX,KACjBxX,KAAK0N,MAAMgK,GAAkBvY,IAIjCkgB,WAAY,SAAoB5a,GAC9B,IAAIP,EAAUxB,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,GAAmBA,UAAU,GAAK,GAClF,OAAO,IAAI,GAAa+B,EAAM,GAAc,GAAc,CAExD6a,YAAY,EACZ9c,OAAQxC,KAAKgf,MAAMxJ,OAASxV,KAAKmE,KAAO,KACxCob,cAAe,KACfpL,QAAS,MACRjQ,GAAU,GAAI,CAEfsb,UAAWxf,KACXyf,YAAazf,KAAKmc,YAItBU,KAAM,WACJ,IAAI7c,KAAK2b,YAAa3b,KAAK+b,UAS3B,GAAI/b,KAAKgc,UAIPhc,KAAK4G,MAAM,OAAmB5G,KAAK6c,UAJrC,CAUA7c,KAAK+b,WAAY,EAEjB/b,KAAKwe,cAAgBxe,KAAKwe,eAAiBxe,KAAK0f,mBAChD,IAAIC,EAAU3f,KAAKqf,WAAW,OAAiB,CAC7CC,YAAY,IAId,GAFAtf,KAAK4f,UAAUD,GAEXA,EAAQE,kBAAoB7f,KAAK2b,UAInC,OAHA3b,KAAK+b,WAAY,OAEjB/b,KAAKof,aAAY,GAKnBpf,KAAK8f,WAGP/B,KAAM,WACJ,IAAI5J,EAAUzR,UAAUC,OAAS,QAAsB8G,IAAjB/G,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAK1C,KAAK2b,YAAa3b,KAAKgc,UAA5B,CAKAhc,KAAKgc,WAAY,EACjB,IAAI+D,EAAU/f,KAAKqf,WAAW,OAAiB,CAC7CC,WAAYnL,IAAY0D,GACxB1D,QAASA,GAAW,OAatB,GAVIA,IAAY8D,GACdjY,KAAK0N,MAAM,OAAeqS,GACjB5L,IAAY4D,GACrB/X,KAAK0N,MAAM,OAAmBqS,GACrB5L,IAAY6D,IACrBhY,KAAK0N,MAAM,OAAkBqS,GAG/B/f,KAAK4f,UAAUG,GAEXA,EAAQF,mBAAqB7f,KAAK2b,UAIpC,OAHA3b,KAAKgc,WAAY,OAEjBhc,KAAKof,aAAY,GAKnBpf,KAAK8e,aAAY,GAEjB9e,KAAK2b,WAAY,EAEjB3b,KAAKof,aAAY,KAGnB1Q,OAAQ,SAAgBsR,GAClBA,IACFhgB,KAAKwe,cAAgBwB,GAGnBhgB,KAAK2b,UACP3b,KAAK+d,KAAKjG,IAEV9X,KAAK6c,QAIT6C,iBAAkB,WAGhB,IAAIO,EAAgB,eAAkB,OAAa,CAACjZ,SAASoO,MAAQ,IASrE,OAAO6K,GAAiBA,EAAcpS,MAAQoS,EAAgB,MAGhEH,OAAQ,WACN,IAAIvZ,EAAQvG,KAGRkX,GAAapC,eAAiB9U,KAAK2a,WAErC3a,KAAKkgB,iBAAiB,eAAiB,OAAY,QAAoBlgB,KAAK8f,SAI9E5I,GAAa3B,cAAcvV,MAE3BA,KAAK0b,UAAW,EAChB1b,KAAKwG,WAAU,WAGbD,EAAMoV,WAAY,EAClBpV,EAAMwV,WAAY,EAElBxV,EAAM6Y,aAAY,GAElB7Y,EAAMC,WAAU,WAGdD,EAAMuY,aAAY,WAKxBqB,cAAe,WACbngB,KAAK4b,iBAAkB,EACvB5b,KAAKogB,gBAAe,IAEtBC,QAAS,WACP,IAAI5K,EAASzV,KAEbA,KAAK8b,SAAU,EAIf,gBAAU,WACR,gBAAU,WACRrG,EAAOoG,QAAS,SAItByE,aAAc,WACZ,IAAIhK,EAAStW,KAEbA,KAAKkf,qBACLlf,KAAK4b,iBAAkB,EAKvB,gBAAU,WACRtF,EAAOsJ,UAAUtJ,EAAO+I,WAAW,SAEnC/I,EAAOiK,iBAAgB,GAEvBjK,EAAO9P,WAAU,WAGf8P,EAAOkK,oBAIbC,cAAe,WACbzgB,KAAK4b,iBAAkB,EACvB5b,KAAKogB,gBAAe,GACpBpgB,KAAKugB,iBAAgB,IAEvBG,QAAS,WAEP1gB,KAAK6b,QAAS,GAEhB8E,aAAc,WACZ,IAAIC,EAAS5gB,KAEbA,KAAK8b,SAAU,EACf9b,KAAK4b,iBAAkB,EACvB5b,KAAKkc,oBAAqB,EAC1Blc,KAAK0b,UAAW,EAChB1b,KAAKwG,WAAU,WACboa,EAAO5E,WAAY,EACnB9E,GAAavB,gBAAgBiL,GAE7BA,EAAOC,gBAIPD,EAAOhB,UAAUgB,EAAOvB,WAAW,aAGvCO,UAAW,SAAmBkB,GAC5B,IAAIrc,EAAOqc,EAAQrc,KAGnBzE,KAAK2N,WAAW,eAAiB,OAAYlJ,GAAOqc,EAASA,EAAQrB,aACrEzf,KAAK0N,MAAMjJ,EAAMqc,IAGnBC,kBAAmB,WACjB,IAAIC,EAAShhB,KAITwV,EAAQxV,KAAKgf,MAAMxJ,MAEnByL,EAAmB,SAASA,EAAiBnV,GAC/C,eAAS0J,EAAO,UAAWyL,EAAkB,QAEzCnV,EAAMtJ,SAAWgT,IACnBwL,EAAO/E,qBAAsB,IAIjC,eAAQzG,EAAO,UAAWyL,EAAkB,SAE9CC,WAAY,SAAoBpV,GAC1B9L,KAAKic,oBAGPjc,KAAKic,qBAAsB,EAMxBjc,KAAK2b,YAAa3b,KAAKua,mBAAsB,eAASvT,SAASoO,KAAMtJ,EAAMtJ,UAK3E,eAASxC,KAAKgf,MAAMC,QAASnT,EAAMtJ,SACtCxC,KAAK+d,KAAKpG,MAGdsG,KAAM,WACJje,KAAK+d,KAAK9F,KAEZ2F,SAAU,WACR5d,KAAK+d,KAAKhG,KAEZ+F,QAAS,WACP9d,KAAK+d,KAAK/F,KAEZmJ,MAAO,SAAerV,GAEhBA,EAAMqD,UAAYrL,GAAY9D,KAAK2b,YAAc3b,KAAKwa,cACxDxa,KAAK+d,KAAKnG,KAIdwJ,aAAc,SAAsBtV,GAElC,IAAImT,EAAUjf,KAAKgf,MAAMC,QACrBzc,EAASsJ,EAAMtJ,OAEnB,KAAIxC,KAAKya,iBAAmBza,KAAKuW,QAAUvW,KAAK2b,YAAcsD,GAAWjY,WAAaxE,GAAU,eAASyc,EAASzc,IAAWxC,KAAKme,mCAAqC,eAAQne,KAAKme,kCAAmC3b,GAAQ,IAA/N,CAIA,IAAI6e,EAAW,eAAYrhB,KAAKgf,MAAMC,SAClCqC,EAAathB,KAAKgf,MAAM,eACxBuC,EAAUvhB,KAAKgf,MAAM,YAEzB,GAAIsC,GAAc9e,IAAW8e,GAG3B,GAAI,eAAaD,EAAS,IAExB,YAEG,GAAIE,GAAW/e,IAAW+e,GAG3B,eAAaF,EAASA,EAAS1e,OAAS,IAE1C,OAKJ,eAAasc,EAAS,CACpBuC,eAAe,MAInBjB,gBAAiB,SAAyBpZ,GACxCnH,KAAKkH,eAAeC,EAAI,UAAWnH,KAAKohB,eAG1ChB,eAAgB,SAAwBjZ,GACtCnH,KAAK2H,aAAaR,EAAI,SAAUnH,KAAKkf,oBACrClf,KAAK2H,aAAaR,EAAI,oBAAqBnH,KAAKkf,qBAGlDR,YAAa,SAAqB5Y,EAAIka,GAChCla,IAAO9F,KAAKmc,UACdnc,KAAKwe,cAAgBwB,GAAahgB,KAAK0f,mBACvC1f,KAAK6c,SAGT8B,YAAa,SAAqB7Y,GAC5BA,IAAO9F,KAAKmc,SACdnc,KAAK+d,KAAK,UAGda,cAAe,SAAuB9Y,EAAIka,GACpCla,IAAO9F,KAAKmc,SACdnc,KAAK0O,OAAOsR,IAGhBnB,cAAe,SAAuBiC,GAEhC9gB,KAAK2a,YAAcmG,EAAQtB,YAAcxf,MAC3CA,KAAK+d,QAITyC,WAAY,WACV,IAAIiB,EAASzhB,KAGT,QACF,gBAAU,WACR,IAAIwV,EAAQiM,EAAOzC,MAAMxJ,MACrByJ,EAAUwC,EAAOzC,MAAMC,QAEvBgB,EAAgBwB,EAAO/B,mBAG3B,GAAIlK,GAASyJ,KAAagB,IAAiB,eAAShB,EAASgB,IAAiB,CAC5E,IAAIjC,EAAKyD,EAAOzC,MAAM,aAClBrB,EAAS8D,EAAOzC,MAAM,iBACtBnB,EAAQ4D,EAAOzC,MAAM,gBAErB0C,EAAYD,EAAOjJ,gBAGnBxU,EAAK0d,IAAczJ,IAAa+F,EAAKA,EAAG7Z,KAAO6Z,EAAK0D,IAAc3J,IAAiB4F,EAASA,EAAOxZ,KAAOwZ,EAAS+D,IAAc1J,IAAgB6F,EAAQA,EAAM1Z,KAAO0Z,EAAQoB,EAElL,eAAajb,GAETA,IAAOib,GAETwC,EAAOjb,WAAU,WACfgP,EAAMmM,UAAY,UAO9Bd,cAAe,WAGb,IAAI7c,EAAKhE,KAAKib,aAAejb,KAAKwe,eAAiB,KACnDxe,KAAKwe,cAAgB,KACrBxe,KAAKwG,WAAU,WAEbxC,EAAK,eAASA,GAAM,eAAOA,GAAMA,EAE7BA,IAEFA,EAAKA,EAAGG,KAAOH,EACf,eAAaA,QAInBkb,mBAAoB,WAClB,GAAIlf,KAAK2b,UAAW,CAClB,IAAInG,EAAQxV,KAAKgf,MAAMxJ,MACvBxV,KAAKkc,mBAAqB1G,EAAMoM,aAAe5a,SAAS6a,gBAAgBC,eAG5EC,UAAW,SAAmBhhB,GAE5B,IAAIihB,EAAUjhB,IAEd,IAAKf,KAAKka,WAAY,CAEpB,IAAI+H,EAAejiB,KAAKmB,cAAc,OAAwBnB,KAAK0d,WAEnE,IAAKuE,EAAc,CACjB,IAAIC,EAAenhB,IAEdf,KAAKma,kBACR+H,EAAenhB,EAAE,QAAc,CAC7BnB,MAAO,CACLqf,QAASjf,KAAK4Z,mBACdzQ,SAAUnJ,KAAK4b,gBACfrD,UAAWvY,KAAK6Z,iBAChBsI,YAAaniB,KAAK8Z,oBAAsB9Z,KAAK+Z,mBAE/C5S,GAAI,CACF+F,MAAOlN,KAAK8d,SAEdsE,IAAK,gBAEP,CAACpiB,KAAKmB,cAAc,WAGtB8gB,EAAe,CAAClhB,EAAEf,KAAKwb,SAAU,CAC/Bna,YAAa,cACbC,MAAOtB,KAAKod,aACZ5b,MAAO,CACLsE,GAAI9F,KAAKuc,cAGXtb,SAAUjB,KAAKkB,kBAAkB,QAAyB,GAAK,OAAAE,EAAA,MAAWpB,KAAKsb,UAAWtb,KAAKob,QAEjGpb,KAAKmB,cAAc,OAAuBnB,KAAK0d,YAAawE,GAG9DF,EAAUjhB,EAAE,SAAU,CACpBM,YAAa,eACbC,MAAOtB,KAAKmd,cACZ3b,MAAO,CACLsE,GAAI9F,KAAKqc,eAEX+F,IAAK,UACJ,CAACH,IAIN,IAAII,EAAQthB,EAAE,MAAO,CACnBM,YAAa,aACbC,MAAOtB,KAAKqd,YACZ7b,MAAO,CACLsE,GAAI9F,KAAKsc,aAEX8F,IAAK,QACJpiB,KAAKmB,cAAc,OAAmBnB,KAAK0d,YAE1C4E,EAAUvhB,IAEd,IAAKf,KAAKia,WAAY,CAEpB,IAAIsI,EAAeviB,KAAKmB,cAAc,OAAwBnB,KAAK0d,WAEnE,IAAK6E,EAAc,CACjB,IAAIC,EAAgBzhB,IAEff,KAAK6a,SACR2H,EAAgBzhB,EAAE+N,GAAS,CACzBlP,MAAO,CACLR,QAASY,KAAKiZ,cACd9K,KAAMnO,KAAK6Y,WACX1P,SAAUnJ,KAAK8Y,gBAAkB9Y,KAAK4Y,MAAQ5Y,KAAK4b,iBAGrD3a,SAAUjB,KAAKkB,kBAAkB,QAA0B,GAAK,OAAAE,EAAA,MAAWpB,KAAKgZ,gBAAiBhZ,KAAK+Y,aACtG5R,GAAI,CACF+F,MAAOlN,KAAK4d,UAEdwE,IAAK,iBAEPpiB,KAAKmB,cAAc,UAGrB,IAAIshB,EAAY1hB,EAAE+N,GAAS,CACzBlP,MAAO,CACLR,QAASY,KAAKgb,UACd7M,KAAMnO,KAAK6Y,WACX1P,SAAUnJ,KAAK4a,YAAc5a,KAAK4Y,MAAQ5Y,KAAK4b,iBAGjD3a,SAAUjB,KAAKkB,kBAAkB,QAAsB,GAAK,OAAAE,EAAA,MAAWpB,KAAK+a,YAAa/a,KAAK8a,SAC9F3T,GAAI,CACF+F,MAAOlN,KAAKie,MAEdmE,IAAK,aAEPpiB,KAAKmB,cAAc,SACnBohB,EAAe,CAACC,EAAeC,GAGjCH,EAAUvhB,EAAE,SAAU,CACpBM,YAAa,eACbC,MAAOtB,KAAKsd,cACZ9b,MAAO,CACLsE,GAAI9F,KAAKyc,eAEX2F,IAAK,UACJ,CAACG,IAIN,IAAIG,EAAgB3hB,EAAE,MAAO,CAC3BM,YAAa,gBACbC,MAAOtB,KAAKmZ,aACZ3X,MAAO,CACLsE,GAAI9F,KAAKwc,eACTzP,SAAU,MAEZqV,IAAK,WACJ,CAACJ,EAASK,EAAOC,IAGhBK,EAAc5hB,IACd6hB,EAAiB7hB,IAEjBf,KAAK2b,YAAc3b,KAAKya,iBAC1BkI,EAAc5hB,EAAE,OAAQ,CACtBS,MAAO,CACLuL,SAAU,KAEZqV,IAAK,aAEPQ,EAAiB7hB,EAAE,OAAQ,CACzBS,MAAO,CACLuL,SAAU,KAEZqV,IAAK,iBAKT,IAAIS,EAAe9hB,EAAE,MAAO,CAC1BM,YAAa,eACbC,MAAOtB,KAAKkd,cACZ/V,GAAI,CACF2b,UAAW9iB,KAAK+gB,mBAElBqB,IAAK,UACJ,CAACO,EAAaD,EAAeE,IAE5BG,EAAShiB,EAAE,MAAO,CACpBM,YAAa,QACbC,MAAOtB,KAAK2c,aACZpb,MAAOvB,KAAK8c,YACZtb,MAAOxB,KAAKse,mBACZnX,GAAI,CACF+H,QAASlP,KAAKmhB,MACdjU,MAAOlN,KAAKkhB,YAEd8B,WAAY,CAAC,CACXzjB,KAAM,OACNJ,MAAOa,KAAK2b,YAEdyG,IAAK,SACJ,CAACS,IAKJE,EAAShiB,EAAE,aAAc,CACvBnB,MAAO,CACLqjB,WAAY,GACZC,aAAc,GACdC,iBAAkB,GAClBC,WAAY,GACZC,iBAAkB,GAClBC,aAAc,IAEhBnc,GAAI,CACFoc,YAAavjB,KAAKmgB,cAClBqD,MAAOxjB,KAAKqgB,QACZoD,WAAYzjB,KAAKsgB,aACjBoD,YAAa1jB,KAAKygB,cAClBkD,MAAO3jB,KAAK0gB,QACZkD,WAAY5jB,KAAK2gB,eAElB,CAACoC,IAEJ,IAAIc,EAAY9iB,IAkBhB,OAhBKf,KAAKga,cAAgBha,KAAK2b,YAC7BkI,EAAY9iB,EAAE,MAAO,CACnBM,YAAa,iBACbG,MAAO,CACLsE,GAAI9F,KAAK0c,kBAGb1c,KAAKmB,cAAc,UAGrB0iB,EAAY9iB,EAAE,QAAc,CAC1BnB,MAAO,CACL8a,OAAQ1a,KAAK0a,SAEd,CAACmJ,IAEG9iB,EAAE,MAAO,CACdQ,MAAOvB,KAAKwd,gBACZhc,MAAOxB,KAAK6M,cACZ/J,IAAK,eAAe5C,OAAOF,KAAK,UAC/B,CAAC+iB,EAAQc,MAGhB/iB,OAAQ,SAAgBC,GACtB,OAAIf,KAAKmb,OACAnb,KAAKqa,MAAQra,KAAK0b,SAAW3a,IAAMf,KAAK+hB,UAAUhhB,GAElDf,KAAK0b,SAAW3a,IAAMA,EAAEkP,GAAe,CAACjQ,KAAK+hB,UAAUhhB,S,kCC56BpE,gDAOW+iB,EAAa,SAAoBC,EAAWC,GACrD,OAAOD,EAAY,CACjBA,UAAWA,GACTC,EAAc,CAChBA,YAAaA,GACX,K,sBCZN;;;IAGA,SAAUtc,EAAQV,EAAUyC,GAAY,aACtC,GAAK/B,GAAWV,EAAhB,CAKA,IAAIid,EAAWvc,EAAOwc,UAAUC,iBAyJhCC,EAAKvZ,UAAY,CAUf1D,GAAI,SAAU2E,EAAO7H,GACnB6H,EAAQA,EAAMuY,cACTrkB,KAAKskB,OAAOjS,eAAevG,KAC9B9L,KAAKskB,OAAOxY,GAAS,IAEvB9L,KAAKskB,OAAOxY,GAAOzJ,KAAK4B,IAS1BsgB,IAAK,SAAUzY,EAAO5F,GAChB4F,IAAUrC,GACZqC,EAAQA,EAAMuY,cACVne,IAAOuD,EACLzJ,KAAKskB,OAAOjS,eAAevG,IAC7B0Y,EAAYxkB,KAAKskB,OAAOxY,GAAQ5F,UAG3BlG,KAAKskB,OAAOxY,IAGrB9L,KAAKskB,OAAS,IAYlBG,KAAM,SAAU3Y,EAAO4Y,GAErBA,EAAOzZ,MAAMJ,UAAUE,MAAMD,KAAKpI,WAClCoJ,EAAQA,EAAMuY,cACd,IAAIM,GAAiB,EAUrB,OATI3kB,KAAKskB,OAAOjS,eAAevG,IAC7B8Y,EAAK5kB,KAAKskB,OAAOxY,IAAQ,SAAU7H,GACjC0gB,GAAyD,IAAxC1gB,EAAS3B,MAAMtC,KAAM0kB,EAAK3Z,MAAM,KAAiB4Z,IACjE3kB,MAEQ,YAAT8L,IACF4Y,EAAKG,QAAQ,YACbF,GAAiD,IAAhC3kB,KAAKykB,KAAKniB,MAAMtC,KAAM0kB,IAAmBC,IAEpDA,GAOVG,uBAAwB,SAAUhZ,GAChC,IAAIiZ,EAAI/kB,KACJglB,EAAQlZ,EAAMmZ,aAAape,MAAMlE,OACjCuiB,EAAQ,GAcZ,SAASC,EAAcC,GACrBA,EAAOC,aAAY,SAAUC,GACvBA,EAAQ3iB,QACVqiB,GAASM,EAAQ3iB,OACjBiiB,EAAKU,GAAS,SAASC,GACrB,GAAIA,EAAMC,OAAQ,CAChB,IAAIC,EAAWF,EAAME,SACrBF,EAAMG,MAAK,SAAUA,GACnBC,EAAgBD,EAAMD,KACrBG,QACML,EAAMM,aACfV,EAAcI,EAAMO,mBAGxBX,EAAcC,IAEdW,MAEDH,GAEL,SAASD,EAAgBD,EAAMD,GAE7BC,EAAKM,aAAeP,EAASQ,UAAU,GACvCf,EAAM7iB,KAAKqjB,GACXK,IAEF,SAASH,EAAUM,GAEjB,MADAH,IACMG,EAER,SAASH,IACQ,KAATf,GACJD,EAAEoB,SAASjB,EAAOpZ,GA7CtB8Y,EAAK9Y,EAAMmZ,aAAape,OAAO,SAAUuf,GACvC,IAAIb,EAAQa,EAAKC,mBACZd,EAIDA,EAAMC,OAERG,EAAgBS,EAAKE,YAAaf,EAAME,UAExCN,EAAcI,EAAMO,gBAPpBC,QAqDNQ,yBAA0B,SAAUb,GAClC,IAAIc,EAASxmB,KAAKymB,KAAKF,yBACvB,GAAsB,oBAAXC,EACT,OAAOA,EAAOd,GAGhB,IAAIM,EAAeN,EAAKM,cAAgBN,EAAKgB,oBAAsBhB,EAAKiB,UAAYjB,EAAKnmB,KACzF,OAAOmmB,EAAKvX,KAAO,IAAM6X,EAAa3f,QAAQ,oBAAqB,KASrEugB,gBAAiB,SAAUC,GAIzB,IAAIC,GAAQ,EACZ,GAAI9mB,KAAKymB,KAAKM,8BACZnC,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACzB,OAAKA,EAAKsB,QAAUtB,EAAKuB,OAAOtkB,QACF,YAA5B+iB,EAAKuB,OAAO,GAAGC,UACfxB,EAAKuB,OAAO,GAAGE,OACfL,GAAQ,GACD,IAEJpB,EAAKsB,QAAUtB,EAAKuB,OAAOtkB,OAAS,GACU,YAAjD+iB,EAAKuB,OAAOvB,EAAKuB,OAAOtkB,OAAS,GAAGukB,UACpCxB,EAAKuB,OAAOvB,EAAKuB,OAAOtkB,OAAS,GAAGwkB,OACpCL,GAAQ,GACD,QAJT,KAOEA,GACF,OAAOA,EAmBX,GAdAlC,EAAK5kB,KAAKklB,OAAO,SAAUQ,GAUzB,GATKA,EAAKsB,QACRpC,EAAKc,EAAKuB,QAAQ,SAAUG,GAC1B,GAAuB,YAAnBA,EAAMF,SAGR,OAFAE,EAAMD,OACNL,GAAQ,GACD,KAITA,EACF,OAAO,KAGPA,EACF,OAAO,EAIT,IAAIO,GAAc,EAalB,OAZAzC,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACzB,IAAKA,EAAK4B,aAER,OADAD,GAAc,GACP,KAGNA,GAAgBR,GAEnBU,GAAM,WACJvnB,KAAKykB,KAAK,cACTzkB,OAEE,GAeTwnB,aAAc,SAAUC,EAAU5B,EAAa6B,EAAYrP,GACrDoP,aAAoBE,UACtBF,EAAW,CAACA,IAGd7C,EAAK6C,GAAU,SAAUG,GACvB,IAAIC,EACoB,UAApBD,EAAQE,SAAwC,SAAjBF,EAAQnjB,KACzCojB,EAAQD,GAERC,EAAQ7gB,EAAS4J,cAAc,SAC/BiX,EAAME,aAAa,OAAQ,QAE3BzoB,EAAOuoB,EAAMtmB,MAAO,CAClBymB,WAAY,SACZvK,SAAU,WACVpd,MAAO,MACPkD,OAAQ,QAGVqkB,EAAQ/W,YAAYgX,GAKpBD,EAAQK,iBAAiB,SAAS,WAChCJ,EAAM3a,WACL,IAEAlN,KAAKymB,KAAKiB,YAAeA,GAC5BG,EAAME,aAAa,WAAY,YAE7BlC,GACFgC,EAAME,aAAa,kBAAmB,mBAExCnD,EAAKvM,GAAY,SAAUlZ,EAAO2D,GAChC+kB,EAAME,aAAajlB,EAAK3D,MAG1B,IAAI4lB,EAAI/kB,KACR6nB,EAAMI,iBAAiB,UAAU,SAAUpU,GACrCA,EAAErR,OAAOrD,QACX4lB,EAAEoB,SAAStS,EAAErR,OAAO0iB,MAAOrR,GAC3BA,EAAErR,OAAOrD,MAAQ,OAElB,KACFa,OAQLkoB,WAAY,SAAUT,GACW,qBAApBA,EAAS9kB,SAClB8kB,EAAW,CAACA,IAEd7C,EAAK6C,GAAU,SAAUG,GACvBA,EAAQK,iBAAiB,WAAYjoB,KAAKmoB,cAAc,GACxDP,EAAQK,iBAAiB,YAAajoB,KAAKmoB,cAAc,GACzDP,EAAQK,iBAAiB,OAAQjoB,KAAKooB,QAAQ,KAC7CpoB,OAQLqoB,aAAc,SAAUZ,GACS,qBAApBA,EAAS9kB,SAClB8kB,EAAW,CAACA,IAEd7C,EAAK6C,GAAU,SAAUG,GACvBA,EAAQU,oBAAoB,WAAYtoB,KAAKmoB,cAC7CP,EAAQU,oBAAoB,YAAatoB,KAAKmoB,cAC9CP,EAAQU,oBAAoB,OAAQtoB,KAAKooB,UACxCpoB,OASLuoB,YAAa,WACX,IAAIC,GAAY,EAOhB,OANA5D,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACzB,GAAIA,EAAK6C,cAEP,OADAC,GAAY,GACL,KAGJA,GAQTC,kBAAmB,WACjB,IAAIC,EAAM,EACNC,GAAS,EACTC,EAAsB5oB,KAAKymB,KAAKmC,oBAapC,OAZAhE,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACzBd,EAAKc,EAAKuB,QAAQ,SAASG,GACzB,GAAuB,cAAnBA,EAAMF,WACRwB,IACIA,GAAOE,GAET,OADAD,GAAS,GACF,QAMRA,GAAUD,GAOnBG,OAAQ,WAEN,IAAIC,EAAM9oB,KAAKyoB,oBACf,IAAY,IAARK,EAAJ,CAIA9oB,KAAKykB,KAAK,eAEV,IADA,IAAIsE,GAAU,EACLL,EAAM,EAAGA,GAAO1oB,KAAKymB,KAAKmC,oBAAsBE,EAAKJ,IAC5DK,EAAU/oB,KAAK4mB,iBAAgB,IAASmC,EAErCA,GACHxB,GAAM,WACJvnB,KAAKykB,KAAK,cACTzkB,QAQPgpB,OAAQ,WACNpE,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACpBA,EAAK4B,cACR5B,EAAKsD,aASXC,MAAO,WACLrE,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACzBA,EAAKuD,YAQTtL,OAAQ,WACN,IAAK,IAAIlb,EAAIzC,KAAKklB,MAAMviB,OAAS,EAAGF,GAAK,EAAGA,IAC1CzC,KAAKklB,MAAMziB,GAAGkb,UAUlBuL,SAAU,WACR,IAAIC,EAAY,EACZC,EAAY,EAMhB,OAJAxE,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACzByD,GAAazD,EAAKwD,WAAaxD,EAAKvX,KACpCib,GAAa1D,EAAKvX,QAEbib,EAAY,EAAID,EAAYC,EAAY,GASjDC,QAAS,SAAU3D,EAAM5Z,GACvB9L,KAAKmmB,SAAS,CAACT,GAAO5Z,IASxBqa,SAAU,SAAUmD,EAAUxd,GAC5B,IAAIoZ,EAAQ,GACZN,EAAK0E,GAAU,SAAU5D,GAEvB,KAAMzB,GAAYA,GAAYyB,EAAKvX,KAAO,KAAQuX,EAAKvX,KAAO,OAAS,GAAoB,MAAduX,EAAKnmB,MAAkC,MAAlBmmB,EAAKiB,UAAoB,CACzH,IAAI4C,EAAmBvpB,KAAKumB,yBAAyBb,GACrD,GAAI1lB,KAAKymB,KAAK+C,wBAA0BxpB,KAAKypB,wBAAwBF,GAAmB,CACtF,IAAIG,EAAI,IAAIC,EAAS3pB,KAAM0lB,EAAM6D,GAC7BvpB,KAAKykB,KAAK,YAAaiF,EAAG5d,IAC5BoZ,EAAM7iB,KAAKqnB,OAIhB1pB,MACCA,KAAKykB,KAAK,aAAcS,EAAOpZ,KACjC8Y,EAAKM,GAAO,SAAUQ,GAChB1lB,KAAKymB,KAAKiB,YAAc1nB,KAAKklB,MAAMviB,OAAS,GAC9C3C,KAAK4pB,WAAW5pB,KAAKklB,MAAM,IAE7BllB,KAAKklB,MAAM7iB,KAAKqjB,KACf1lB,MACHA,KAAKykB,KAAK,iBAAkBS,EAAOpZ,KAUvC8d,WAAY,SAAUlE,GACpB,IAAK,IAAIjjB,EAAIzC,KAAKklB,MAAMviB,OAAS,EAAGF,GAAK,EAAGA,IACtCzC,KAAKklB,MAAMziB,KAAOijB,IACpB1lB,KAAKklB,MAAMrP,OAAOpT,EAAG,GACrBijB,EAAKmE,QACL7pB,KAAKykB,KAAK,cAAeiB,KAW/B+D,wBAAyB,SAAUF,GACjC,IAAIT,GAAM,EAMV,OALAlE,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACrBA,EAAK6D,mBAAqBA,IAC5BT,EAAMpD,MAGHoD,GAQTgB,QAAS,WACP,IAAIV,EAAY,EAIhB,OAHAxE,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACzB0D,GAAa1D,EAAKvX,QAEbib,GAQTW,aAAc,WACZ,IAAI5b,EAAO,EAIX,OAHAyW,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACzBvX,GAAQuX,EAAKqE,kBAER5b,GAST6b,cAAe,WACb,IAAIC,EAAY,EACZC,EAAe,EAOnB,OANAtF,EAAK5kB,KAAKklB,OAAO,SAAUQ,GACpBA,EAAKsB,QAAWtB,EAAKyE,QACxBF,GAAavE,EAAKvX,KAAOuX,EAAKqE,eAC9BG,GAAgBxE,EAAKwE,iBAGrBD,IAAcC,EACTE,OAAOC,kBAEXJ,GAAcC,EAGZI,KAAKC,MAAMN,EAAYC,GAFrB,IA2HbP,EAAS9e,UAAY,CAMnB2f,aAAc,WACZ,IAAIC,EAAW7W,KAAK8W,MAAQ1qB,KAAK2qB,sBACjC,GAAKF,EAAL,CAGA,IAAIG,EAAkB5qB,KAAK6qB,QAAQpE,KAAKqE,qBACpCC,EAAW/qB,KAAK+pB,eAEpB/pB,KAAKgrB,aAAeV,KAAKxrB,KAAKisB,EAAW/qB,KAAKirB,mBAAqBR,EAAW,IAAM,GACpFzqB,KAAKkqB,aAAeU,EAAkB5qB,KAAKgrB,cAAgB,EAAIJ,GAAmB5qB,KAAKkqB,aACvFlqB,KAAKirB,kBAAoBF,IAW3BG,WAAY,SAAU9D,EAAOtb,EAAOqf,GAClC,OAAQrf,GACN,IAAK,WACH,GAAI8H,KAAK8W,MAAQ1qB,KAAK2qB,sBACpB3qB,KAAK6qB,QAAQpE,KAAK2E,0BAClB,MAEFprB,KAAKwqB,eACLxqB,KAAK6qB,QAAQpG,KAAK,eAAgBzkB,KAAMonB,GACxCpnB,KAAK6qB,QAAQpG,KAAK,YAClBzkB,KAAK2qB,sBAAwB/W,KAAK8W,MAClC,MACF,IAAK,QACH1qB,KAAKmqB,OAAQ,EACbnqB,KAAK6pB,OAAM,GACX7pB,KAAK6qB,QAAQpG,KAAK,YAAazkB,KAAMmrB,EAAS/D,GAC9CpnB,KAAK6qB,QAAQpG,KAAK,QAAS0G,EAASnrB,KAAMonB,GAC1C,MACF,IAAK,UACH,GAAIpnB,KAAKmqB,MACP,OAEFnqB,KAAKwqB,eACLxqB,KAAK6qB,QAAQpG,KAAK,eAAgBzkB,KAAMonB,GACxCpnB,KAAK6qB,QAAQpG,KAAK,YAClBzkB,KAAK2qB,sBAAwB/W,KAAK8W,MAC9B1qB,KAAKsnB,eACPtnB,KAAKgrB,aAAe,EACpBhrB,KAAKkqB,aAAe,EACpBlqB,KAAK6qB,QAAQpG,KAAK,cAAezkB,KAAMmrB,EAAS/D,IAElD,MACF,IAAK,QACHpnB,KAAK6qB,QAAQpG,KAAK,YAAazkB,KAAMonB,GACrC,QAQN6B,MAAO,WACLjpB,KAAKgnB,QAAS,EACdhnB,KAAK6pB,SAOPb,OAAQ,WACNhpB,KAAKgnB,QAAS,EACdhnB,KAAK6qB,QAAQhC,UAOfgB,MAAO,SAAUwB,GACfrrB,KAAKgrB,aAAe,EACpBhrB,KAAKkqB,aAAe,EACpB,IAAIjD,EAASjnB,KAAKinB,OACdoE,IACFrrB,KAAKinB,OAAS,IAEhBrC,EAAKqC,GAAQ,SAAUjf,GACF,cAAfA,EAAEkf,WACJlf,EAAE6hB,QACF7pB,KAAK6qB,QAAQjE,qBAEd5mB,OAOL2d,OAAQ,WACN3d,KAAK6qB,QAAQjB,WAAW5pB,OAO1BsrB,MAAO,WACLtrB,KAAKurB,YACLvrB,KAAK6qB,QAAQhC,UAOf0C,UAAW,WACmC,oBAAjCvrB,KAAK6qB,QAAQpE,KAAK+E,YAC3BxrB,KAAK6qB,QAAQpE,KAAK+E,WAAWxrB,MAG/BA,KAAK6pB,OAAM,GACX7pB,KAAKmqB,OAAQ,EAEbnqB,KAAKyrB,cAAgB,EACrB,IAAIC,EAAQ1rB,KAAK6qB,QAAQpE,KAAKkF,eAAiBrB,KAAKsB,KAAOtB,KAAKC,MAChEvqB,KAAK6rB,UAAYC,EAAS9rB,KAAK6qB,QAAQpE,KAAKoF,UAAW7rB,MAIvD,IAHA,IAAIinB,EAASqD,KAAKxrB,IAChB4sB,EAAM1rB,KAAKmO,KAAOnO,KAAK6rB,WAAY,GAE5BE,EAAS,EAAGA,EAAS9E,EAAQ8E,IACpC/rB,KAAKinB,OAAO5kB,KACV,IAAI2pB,EAAUhsB,KAAK6qB,QAAS7qB,KAAM+rB,KAUxC7C,SAAU,WACR,GAAIlpB,KAAKmqB,MACP,OAAO,EAET,GAA2B,IAAvBnqB,KAAKinB,OAAOtkB,OAEd,OADA3C,KAAKyrB,cAAgBnB,KAAKxrB,IAAIkB,KAAKyrB,cAAezrB,KAAKinB,OAAO,GAAGiC,YAC1DlpB,KAAKyrB,cAGd,IAAIQ,EAAc,EAClBrH,EAAK5kB,KAAKinB,QAAQ,SAAUjf,GAE1BikB,GAAejkB,EAAEkhB,YAAclhB,EAAEkkB,QAAUlkB,EAAEmkB,cAE/C,IAAIC,EAAUH,EAAcjsB,KAAKmO,KAGjC,OADAnO,KAAKyrB,cAAgBnB,KAAKxrB,IAAIkB,KAAKyrB,cAAeW,EAAU,MAAS,EAAIA,GAClEpsB,KAAKyrB,eAQdlD,YAAa,WACX,IAAIC,GAAY,EAOhB,OANA5D,EAAK5kB,KAAKinB,QAAQ,SAAUG,GAC1B,GAAuB,cAAnBA,EAAMF,SAER,OADAsB,GAAY,GACL,KAGJA,GAQTlB,WAAY,WACV,IAAID,GAAc,EAQlB,OAPAzC,EAAK5kB,KAAKinB,QAAQ,SAAUG,GAC1B,IAAIF,EAASE,EAAMF,SACnB,GAAe,YAAXA,GAAmC,cAAXA,GAAqC,YAAXA,GAAkD,IAA1BE,EAAMiF,iBAA6C,IAApBjF,EAAMkF,UAEjH,OADAjF,GAAc,GACP,MAGHA,GAQV0C,aAAc,WACZ,IAAI5b,EAAO,EAIX,OAHAyW,EAAK5kB,KAAKinB,QAAQ,SAAUG,GAC1BjZ,GAAQiZ,EAAM2C,kBAET5b,GAST6b,cAAe,WACb,GAAIhqB,KAAKgnB,QAAUhnB,KAAKmqB,MACtB,OAAO,EAET,IAAIoC,EAAQvsB,KAAKmO,KAAOnO,KAAK+pB,eAC7B,OAAIwC,IAAUvsB,KAAKkqB,aACVE,OAAOC,kBAEXkC,GAAUvsB,KAAKkqB,aAGbI,KAAKC,MAAMgC,EAAQvsB,KAAKkqB,cAFtB,GAUXsC,QAAS,WACP,OAAOxsB,KAAK0lB,KAAKjhB,MAAQzE,KAAK0lB,KAAKjhB,KAAKgoB,MAAM,KAAK,IAQrDC,aAAc,WACZ,OAAO1sB,KAAKT,KAAKotB,OAA8C,KAApC3sB,KAAKT,KAAKqtB,YAAY,OAAS,IAAQvI,gBAmNtE2H,EAAUnhB,UAAY,CAKpBgiB,UAAW,WACT,MAAO,CACLC,gBAAiB9sB,KAAK+rB,OAAS,EAC/BgB,cAAe/sB,KAAK6rB,UACpBmB,qBAAsBhtB,KAAKksB,QAAUlsB,KAAKmsB,UAC1Cc,cAAejtB,KAAKktB,QAAQ/e,KAC5Bgf,eAAgBntB,KAAKktB,QAAQ3D,iBAC7B6D,aAAcptB,KAAKktB,QAAQ3tB,KAC3B8tB,iBAAkBrtB,KAAKktB,QAAQlH,aAC/BsH,gBAAiBttB,KAAKktB,QAAQjG,OAAOtkB,SAUzC4qB,UAAW,SAAS/qB,EAAQgrB,GAC1B,OAAqB,GAAjBA,EAAO7qB,OACTH,GAGCA,EAAOkT,QAAQ,KAAO,EACvBlT,GAAU,IAEVA,GAAU,IAELA,EAASgrB,EAAO7kB,KAAK,OAQ9BwC,KAAM,WAEJnL,KAAKytB,IAAM,IAAIC,eACf1tB,KAAKytB,IAAIxF,iBAAiB,OAAQjoB,KAAK2tB,aAAa,GACpD3tB,KAAKytB,IAAIxF,iBAAiB,QAASjoB,KAAK2tB,aAAa,GACrD,IAAIC,EAAa9B,EAAS9rB,KAAK6qB,QAAQpE,KAAKmH,WAAY5tB,KAAKktB,QAASltB,MAClE2F,EAAO3F,KAAK6tB,kBAAkBD,GAAY,GAC9C5tB,KAAKytB,IAAItG,KAAKxhB,IAOhBmoB,mBAAoB,WAGlB9tB,KAAKksB,QAAUlsB,KAAK+tB,iBAEpB/tB,KAAKqsB,gBAAkB,EACvBrsB,KAAKmnB,QAOP6G,aAAc,SAAUC,GACtBjuB,KAAKssB,UAAY,EACjBtsB,KAAKiuB,MAAQA,EACbjuB,KAAKmnB,QAQPA,KAAM,WACJ,IAAI+G,EAAaluB,KAAK6qB,QAAQpE,KAAKyH,WAC/BC,EAAOnuB,KAAK6qB,QAAQpE,KAAK2H,WAC7B,GAA0B,oBAAfF,EACT,OAAQluB,KAAKqsB,iBACX,KAAK,EAGH,OAFArsB,KAAKqsB,gBAAkB,OACvB6B,EAAWluB,MAEb,KAAK,EACH,OAGN,OAAQA,KAAKssB,WACX,KAAK,EAGH,OAFAtsB,KAAKssB,UAAY,OACjB6B,EAAKnuB,KAAKktB,QAASltB,KAAKmsB,UAAWnsB,KAAKksB,QAASlsB,KAAKktB,QAAQxH,KAAKjhB,KAAMzE,MAE3E,KAAK,EACH,OAEJ,IAAIA,KAAK6qB,QAAQpE,KAAK4H,YAAeruB,KAAKsuB,OAA1C,CAKAtuB,KAAKuuB,OAAS,EACdvuB,KAAKwuB,MAAQ,EACbxuB,KAAKyuB,cAAe,EAGpBzuB,KAAKytB,IAAM,IAAIC,eACf1tB,KAAKytB,IAAI5E,OAAOZ,iBAAiB,WAAYjoB,KAAK0uB,iBAAiB,GACnE1uB,KAAKytB,IAAIxF,iBAAiB,OAAQjoB,KAAK2uB,aAAa,GACpD3uB,KAAKytB,IAAIxF,iBAAiB,QAASjoB,KAAK2uB,aAAa,GAErD,IAAIC,EAAe9C,EAAS9rB,KAAK6qB,QAAQpE,KAAKmI,aAAc5uB,KAAKktB,QAASltB,MACtE2F,EAAO3F,KAAK6tB,kBAAkBe,GAAc,EAAO5uB,KAAK6qB,QAAQpE,KAAKoI,OAAQ7uB,KAAKiuB,OAClFa,EAA0B9uB,KAAK6qB,QAAQpE,KAAKqI,wBACT,oBAA5BA,IACTnpB,EAAOmpB,EAAwB9uB,KAAM2F,IAEvC3F,KAAKytB,IAAItG,KAAKxhB,QApBZ3F,KAAKmL,QA2BT0e,MAAO,WAEL,IAAI4D,EAAMztB,KAAKytB,IACfztB,KAAKytB,IAAM,KACPA,GACFA,EAAI5D,SASR3C,OAAQ,SAAU6H,GAChB,OAAuB,IAAnB/uB,KAAKssB,UACA,UACEtsB,KAAKyuB,cAAyC,IAAzBzuB,KAAKqsB,gBAG5B,YACGrsB,KAAKytB,IAENztB,KAAKytB,IAAIuB,WAAa,EAGxB,YAEHhvB,KAAK6qB,QAAQpE,KAAKwI,gBAAgBvZ,QAAQ1V,KAAKytB,IAAIvG,SAAW,EAGzD,UACElnB,KAAK6qB,QAAQpE,KAAKyI,gBAAgBxZ,QAAQ1V,KAAKytB,IAAIvG,SAAW,IACpE6H,GAAU/uB,KAAKmvB,SAAWnvB,KAAK6qB,QAAQpE,KAAK2I,gBAExC,SAIPpvB,KAAK6pB,QACE,WAlBF,WA4BXsB,QAAS,WACP,OAAOnrB,KAAKytB,IAAMztB,KAAKytB,IAAI4B,aAAe,IAQ5CnG,SAAU,WACR,GAAIlpB,KAAKyuB,aACP,OAAO,EAET,IAAIa,EAAItvB,KAAKknB,SACb,MAAU,YAANoI,GAAyB,UAANA,EACd,EACQ,YAANA,EACF,EAEAtvB,KAAKwuB,MAAQ,EAAIxuB,KAAKuuB,OAASvuB,KAAKwuB,MAAQ,GASvDzE,aAAc,WACZ,IAAI5b,EAAOnO,KAAKksB,QAAUlsB,KAAKmsB,UAK/B,MAHsB,YAAlBnsB,KAAKknB,WACP/Y,EAAOnO,KAAKkpB,WAAa/a,GAEpBA,GAWT0f,kBAAmB,SAASgB,EAAQE,EAAQQ,EAAcC,GAExD,IAAIlnB,EAAQwjB,EAAS9rB,KAAK6qB,QAAQpE,KAAKne,MAAOtI,KAAKktB,QAASltB,KAAM+uB,GAClEzmB,EAAQhJ,EAAOgJ,GAAS,GAAItI,KAAK6sB,aAEjC,IAAIrqB,EAASspB,EAAS9rB,KAAK6qB,QAAQpE,KAAKjkB,OAAQxC,KAAKktB,QAASltB,KAAM+uB,GAChEppB,EAAO,KACX,GAAe,QAAXkpB,GAAqC,UAAjBU,EAA0B,CAEhD,IAAI/B,EAAS,GACb5I,EAAKtc,GAAO,SAAUmnB,EAAGC,GACvBlC,EAAOnrB,KAAK,CAAC+F,mBAAmBsnB,GAAItnB,mBAAmBqnB,IAAI9mB,KAAK,SAElEnG,EAASxC,KAAKutB,UAAU/qB,EAAQgrB,GAChC7nB,EAAO6pB,GAAQ,UAGf7pB,EAAO,IAAIgqB,SACX/K,EAAKtc,GAAO,SAAUmnB,EAAGC,GACvB/pB,EAAKkG,OAAO6jB,EAAGD,MAEG,qBAATD,GACP7pB,EAAKkG,OAAO7L,KAAK6qB,QAAQpE,KAAKmJ,kBAAmBJ,EAAMxvB,KAAK6vB,UAAY7vB,KAAKktB,QAAQxH,KAAKnmB,MAYhG,OARAS,KAAKytB,IAAIqC,KAAKjB,EAAQrsB,GAAQ,GAC9BxC,KAAKytB,IAAIsC,gBAAkB/vB,KAAK6qB,QAAQpE,KAAKsJ,gBAG7CnL,EAAKkH,EAAS9rB,KAAK6qB,QAAQpE,KAAKuJ,QAAShwB,KAAKktB,QAASltB,KAAM+uB,IAAS,SAAUU,EAAGC,GACjF1vB,KAAKytB,IAAIwC,iBAAiBP,EAAGD,KAC5BzvB,MAEI2F,IA8BXye,EAAK0H,SAAWA,EA6BhB1H,EAAK9kB,OAASA,EA8Bd8kB,EAAKQ,KAAOA,EAMZR,EAAKuF,SAAWA,EAMhBvF,EAAK4H,UAAYA,EAMjB5H,EAAK8L,QAAU,iBAEoBC,GAAoC,kBAAnBA,EAAOC,QAKzDD,EAAOC,QAAUhM,GAGjB1c,EAAO0c,KAAOA,EAUZ,EAAgB,GAAI,EAAF,WAAgB,OAAOA,GAAO,sCAvnDlDiM,QAAQjsB,KAAK,oDAmCf,SAASggB,EAAKqC,GAeZ,GAVAzmB,KAAKswB,QACe,qBAATC,MACS,qBAATC,MACa,qBAAbC,aAEHD,KAAK3lB,UAAUE,SAAWylB,KAAK3lB,UAAU6lB,eAAiBF,KAAK3lB,UAAU8lB,WAC3E,GAID3wB,KAAKswB,QAAV,CAQAtwB,KAAK4wB,iBACD,SAASzlB,KAAKzD,EAAOwc,UAAU2M,YAC/B,UAAU1lB,KAAKzD,EAAOwc,UAAU2M,YAChC,OAAO1lB,KAAKzD,EAAOwc,UAAU2M,WAOjC7wB,KAAKklB,MAAQ,GAMbllB,KAAK8wB,SAAW,CACdjF,UAAW,QACXF,gBAAgB,EAChB/C,oBAAqB,EACrBlB,YAAY,EACZkI,kBAAmB,OACnBxE,0BAA2B,IAC3BN,qBAAsB,GACtBxiB,MAAO,GACP0nB,QAAS,GACTD,iBAAiB,EACjB7B,WAAY,KACZY,wBAAyB,KACzBD,OAAQ,YACRjB,WAAY,MACZgB,aAAc,OACd7H,6BAA6B,EAC7ByC,uBAAuB,EACvBhnB,OAAQ,IACR6rB,YAAY,EACZ9H,yBAA0B,KAC1B6I,gBAAiB,EACjB2B,mBAAoB,KACpB7B,gBAAiB,CAAC,IAAK,IAAK,IAAK,IAAK,KACtCD,gBAAiB,CAAC,IAAK,IAAK,KAC5B+B,uBAAuB,EACvBxF,WAAY,KACZ4C,WAAY6C,GAOdjxB,KAAKymB,KAAO,GAQZzmB,KAAKskB,OAAS,GAEd,IAAIS,EAAI/kB,KAORA,KAAKooB,OAAS,SAAUtc,GAClBiZ,EAAE0B,KAAKuK,uBACTllB,EAAMolB,kBAERplB,EAAM6Y,iBACN,IAAIM,EAAenZ,EAAMmZ,aACrBA,EAAape,OAASoe,EAAape,MAAM,IAC3Coe,EAAape,MAAM,GAAGwf,iBACtBtB,EAAED,uBAAuBhZ,GAEzBiZ,EAAEoB,SAASlB,EAAaC,MAAOpZ,IASnC9L,KAAKmoB,aAAe,SAAUrc,GAC5BA,EAAM6Y,kBAQR3kB,KAAKymB,KAAOrC,EAAK9kB,OAAO,GAAIU,KAAK8wB,SAAUrK,GAAQ,KAwiBrD,SAASkD,EAASkB,EAASnF,EAAM6D,GAM/BvpB,KAAK6qB,QAAUA,EAMf7qB,KAAKiuB,MAAQ,KAMbjuB,KAAK0lB,KAAOA,EAMZ1lB,KAAKT,KAAOmmB,EAAKiB,UAAYjB,EAAKnmB,KAMlCS,KAAKmO,KAAOuX,EAAKvX,KAMjBnO,KAAKgmB,aAAeN,EAAKM,cAAgBN,EAAKgB,oBAAsB1mB,KAAKT,KAMzES,KAAKupB,iBAAoBA,IAAqB9f,EAAYohB,EAAQtE,yBAAyBb,GAAQ6D,EAMnGvpB,KAAK6rB,UAAY,EAMjB7rB,KAAKinB,OAAS,GAMdjnB,KAAKgnB,QAAS,EAMdhnB,KAAKmqB,OAAQ,EAMbnqB,KAAKkqB,aAAe,EAMpBlqB,KAAKgrB,aAAe,EAOpBhrB,KAAK2qB,sBAAwB/W,KAAK8W,MAOlC1qB,KAAKirB,kBAAoB,EAOzBjrB,KAAKyrB,cAAgB,EAErBzrB,KAAKurB,YAuQP,SAAS0F,EAAe/D,EAASf,EAAWD,EAASiF,EAAU/J,GAC7D,IAAIgK,EAAgB,QAEhBlE,EAAQxH,KAAK3a,MACfqmB,EAAiB,QACVlE,EAAQxH,KAAKiL,SACpBS,EAAgB,WACTlE,EAAQxH,KAAKgL,cACpBU,EAAgB,eAElBhK,EAAM4G,aAAad,EAAQxH,KAAK0L,GAAejF,EAAWD,EAASiF,IAYrE,SAASnF,EAAUnB,EAASqC,EAASnB,GAMnC/rB,KAAK6qB,QAAUA,EAMf7qB,KAAKktB,QAAUA,EAMfltB,KAAK+rB,OAASA,EAMd/rB,KAAKsuB,QAAS,EAMdtuB,KAAKmvB,QAAU,EAMfnvB,KAAKyuB,cAAe,EAMpBzuB,KAAKqsB,gBAAkB,EAMvBrsB,KAAKssB,UAAY,EAOjBtsB,KAAKuuB,OAAS,EAMdvuB,KAAKwuB,MAAQ,EAMbxuB,KAAK6rB,UAAY7rB,KAAKktB,QAAQrB,UAM9B7rB,KAAKmsB,UAAYnsB,KAAK+rB,OAAS/rB,KAAK6rB,UAMpC7rB,KAAK6vB,SAAW,KAMhB7vB,KAAK+tB,eAAiB,WACpB,IAAI7B,EAAU5B,KAAK+G,IAAIrxB,KAAKktB,QAAQ/e,MAAOnO,KAAK+rB,OAAS,GAAK/rB,KAAK6rB,WAMnE,OALI7rB,KAAKktB,QAAQ/e,KAAO+d,EAAUlsB,KAAK6rB,YAAc7rB,KAAK6qB,QAAQpE,KAAKkF,iBAGrEO,EAAUlsB,KAAKktB,QAAQ/e,MAElB+d,GAOTlsB,KAAKksB,QAAUlsB,KAAK+tB,iBAMpB/tB,KAAKytB,IAAM,KAEX,IAAI1I,EAAI/kB,KAORA,KAAK8L,MAAQ,SAAUA,EAAO4Y,GAC5BA,EAAOzZ,MAAMJ,UAAUE,MAAMD,KAAKpI,WAClCgiB,EAAKG,QAAQE,GACbA,EAAEmI,QAAQhC,WAAW5oB,MAAMyiB,EAAEmI,QAASxI,IAMxC1kB,KAAK0uB,gBAAkB,SAAS5iB,GAC1BA,EAAMwlB,mBACRvM,EAAEwJ,OAASziB,EAAMyiB,OACjBxJ,EAAEyJ,MAAQ1iB,EAAM0iB,OAElBzJ,EAAEjZ,MAAM,WAAYA,IAOtB9L,KAAK2tB,YAAc,SAAS7hB,GAC1B,IAAIob,EAASnC,EAAEmC,QAAO,GACP,UAAXA,GACFnC,EAAEjZ,MAAMob,EAAQnC,EAAEoG,WAClBpG,EAAE8F,QAAQjE,mBACU,YAAXM,GACTnC,EAAEuJ,QAAS,EACXvJ,EAAEjZ,MAAMob,EAAQnC,EAAEoG,WAClBpG,EAAE8F,QAAQjE,mBACA7B,EAAEmI,QAAQlG,SAGpBjC,EAAEuJ,QAAS,EACXvJ,EAAEoC,SAQNnnB,KAAK2uB,YAAc,SAAS7iB,GAC1B,IAAIob,EAASnC,EAAEmC,SACf,GAAe,YAAXA,GAAmC,UAAXA,SACnBlnB,KAAK2F,KACZof,EAAEjZ,MAAMob,EAAQnC,EAAEoG,WAClBpG,EAAE8F,QAAQjE,uBACL,IAAK7B,EAAEmI,QAAQlG,OAAQ,CAC5BjC,EAAEjZ,MAAM,QAASiZ,EAAEoG,WACnBpG,EAAE0J,cAAe,EACjB1J,EAAE8E,QACF9E,EAAEoK,UACF,IAAIoC,EAAgBxM,EAAE8F,QAAQpE,KAAKsK,mBACb,OAAlBQ,EACFC,YAAW,WACTzM,EAAEoC,SACDoK,GAEHxM,EAAEoC,SAiRV,SAAS3C,EAAYld,EAAOnI,GAC1B,IAAIyW,EAAQtO,EAAMoO,QAAQvW,GACtByW,GAAS,GACXtO,EAAMuO,OAAOD,EAAO,GAUxB,SAASkW,EAASnmB,EAAM+e,GAMtB,MALoB,oBAAT/e,IAET+e,EAAOzZ,MAAMJ,UAAUE,MAAMD,KAAKpI,WAClCiD,EAAOA,EAAKrD,MAAM,KAAMoiB,EAAK3Z,MAAM,KAE9BpF,EAST,SAAS4hB,EAAMrhB,EAAIurB,GACjBD,WAAWtrB,EAAGiZ,KAAKsS,GAAU,GAW/B,SAASnyB,EAAOoyB,EAAKC,GAQnB,OAPA/M,EAAKliB,WAAW,SAASS,GACnBA,IAAQuuB,GACV9M,EAAKzhB,GAAK,SAAShE,EAAO2D,GACxB4uB,EAAI5uB,GAAO3D,QAIVuyB,EAWT,SAAS9M,EAAKzhB,EAAKc,EAAUwtB,GAI3B,IAAI3uB,EAHJ,GAAKK,EAML,GAA2B,qBAAhBA,EAAU,QACnB,IAAKL,EAAM,EAAGA,EAAMK,EAAIR,OAAQG,IAC9B,IAA8C,IAA1CmB,EAAS6G,KAAK2mB,EAAStuB,EAAIL,GAAMA,GACnC,YAIJ,IAAKA,KAAOK,EACV,GAAIA,EAAIkP,eAAevP,KAAkD,IAA1CmB,EAAS6G,KAAK2mB,EAAStuB,EAAIL,GAAMA,GAC9D,SA9kDV,CA4nDqB,qBAAX4E,QAA0BA,OAA4B,qBAAbV,UAA4BA,Y,2DC7nD/E,IAAI4qB,EAAM,EAAQ,QAClBA,EAAM,YAAaA,EAAMA,EAAI,WAAaA,EAE1C,IAAI1B,EAAU,QAEV2B,EAAa,OAAS1mB,KAAKymB,EAAI1B,SAC9B2B,GACHD,EAAIE,KAAK1tB,KAAK,YAAc8rB,EAAU,oDAAsD0B,EAAI1B,SAGlG,IAAIriB,EAAQ,CACVkkB,SAAU,SAAS/tB,EAAIguB,GACjBA,EAAQ7yB,MAAO6E,EAAG6J,QACjB7J,EAAG8J,QAGVmkB,iBAAkB,SAASjuB,EAAIguB,GACzBA,EAAQE,UAAU7X,MAChB8X,QAAQH,EAAQ7yB,SAAWgzB,QAAQH,EAAQ3sB,YAK7C2sB,EAAQ7yB,MAAO6E,EAAG6J,QACjB7J,EAAG8J,UAIRwJ,EAAQ,CACV0L,WAAY,CACVnV,MAAOA,IAIXuiB,EAAQF,QAAUA,EAClBE,EAAQviB,MAAQA,EAChBuiB,EAAQ9Y,MAAQA,G;;;;;;;;;CC9Bf,SAASzD,EAAEue,GAAqDjC,EAAOC,QAAQgC,IAA/E,CAAmMpyB,GAAK,WAAW,OAAO,SAAS6T,GAAG,IAAIue,EAAE,GAAG,SAASC,EAAEznB,GAAG,GAAGwnB,EAAExnB,GAAG,OAAOwnB,EAAExnB,GAAGwlB,QAAQ,IAAI3lB,EAAE2nB,EAAExnB,GAAG,CAACnI,EAAEmI,EAAE0nB,GAAE,EAAGlC,QAAQ,IAAI,OAAOvc,EAAEjJ,GAAGE,KAAKL,EAAE2lB,QAAQ3lB,EAAEA,EAAE2lB,QAAQiC,GAAG5nB,EAAE6nB,GAAE,EAAG7nB,EAAE2lB,QAAQ,OAAOiC,EAAEE,EAAE1e,EAAEwe,EAAErqB,EAAEoqB,EAAEC,EAAEG,EAAE,SAAS3e,EAAEue,EAAExnB,GAAGynB,EAAE5nB,EAAEoJ,EAAEue,IAAItwB,OAAOoB,eAAe2Q,EAAEue,EAAE,CAAChwB,YAAW,EAAG6P,IAAIrH,KAAKynB,EAAEA,EAAE,SAASxe,GAAG,oBAAoBxI,QAAQA,OAAOonB,aAAa3wB,OAAOoB,eAAe2Q,EAAExI,OAAOonB,YAAY,CAACtzB,MAAM,WAAW2C,OAAOoB,eAAe2Q,EAAE,aAAa,CAAC1U,OAAM,KAAMkzB,EAAED,EAAE,SAASve,EAAEue,GAAG,GAAG,EAAEA,IAAIve,EAAEwe,EAAExe,IAAI,EAAEue,EAAE,OAAOve,EAAE,GAAG,EAAEue,GAAG,iBAAiBve,GAAGA,GAAGA,EAAE6e,WAAW,OAAO7e,EAAE,IAAIjJ,EAAE9I,OAAO4Q,OAAO,MAAM,GAAG2f,EAAEA,EAAEznB,GAAG9I,OAAOoB,eAAe0H,EAAE,UAAU,CAACxI,YAAW,EAAGjD,MAAM0U,IAAI,EAAEue,GAAG,iBAAiBve,EAAE,IAAI,IAAIpJ,KAAKoJ,EAAEwe,EAAEG,EAAE5nB,EAAEH,EAAE,SAAS2nB,GAAG,OAAOve,EAAEue,IAAIjT,KAAK,KAAK1U,IAAI,OAAOG,GAAGynB,EAAEznB,EAAE,SAASiJ,GAAG,IAAIue,EAAEve,GAAGA,EAAE6e,WAAW,WAAW,OAAO7e,EAAElU,SAAS,WAAW,OAAOkU,GAAG,OAAOwe,EAAEG,EAAEJ,EAAE,IAAIA,GAAGA,GAAGC,EAAE5nB,EAAE,SAASoJ,EAAEue,GAAG,OAAOtwB,OAAO+I,UAAUwH,eAAevH,KAAK+I,EAAEue,IAAIC,EAAE1xB,EAAE,GAAG0xB,EAAEA,EAAE/C,EAAE,GAAj5B,CAAq5B,CAAC,SAASzb,EAAEue,EAAEC,GAAG,SAASznB,EAAEiJ,GAAG,OAAOjJ,EAAE,mBAAmBS,QAAQ,iBAAiBA,OAAOC,SAAS,SAASuI,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBxI,QAAQwI,EAAE7I,cAAcK,QAAQwI,IAAIxI,OAAOR,UAAU,gBAAgBgJ,IAAIA,GAAG,SAASpJ,EAAEoJ,EAAEue,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAED,EAAEzvB,OAAO0vB,IAAI,CAAC,IAAIznB,EAAEwnB,EAAEC,GAAGznB,EAAExI,WAAWwI,EAAExI,aAAY,EAAGwI,EAAExH,cAAa,EAAG,UAAUwH,IAAIA,EAAEvH,UAAS,GAAIvB,OAAOoB,eAAe2Q,EAAEjJ,EAAE9H,IAAI8H,IAAI,IAAInI,EAAE4vB,EAAE,GAAGM,EAAEN,EAAE,GAAG/C,EAAEqD,EAAE1gB,IAAIjK,GAAG2qB,EAAEC,UAAUD,EAAEpnB,SAASxK,EAAE,WAAW,SAAS8S,EAAEue,EAAEC,GAAG,IAAIznB,EAAEynB,EAAEQ,SAASpoB,OAAE,IAASG,EAAE,EAAEA,EAAEnI,EAAE4vB,EAAES,SAASH,OAAE,IAASlwB,EAAE,IAAIA,EAAEuF,EAAEqqB,EAAEU,UAAUhyB,OAAE,IAASiH,EAAE,GAAGA,EAAEsqB,EAAED,EAAEW,iBAAiBC,OAAE,IAASX,EAAE,GAAGA,EAAE5I,EAAE2I,EAAEa,cAAczD,OAAE,IAAS/F,GAAGA,EAAE/oB,EAAE0xB,EAAEc,eAAeX,OAAE,IAAS7xB,EAAE,MAAMA,EAAEyyB,EAAEf,EAAEgB,eAAeC,OAAE,IAASF,GAAGA,EAAEb,EAAEF,EAAEkB,mBAAmB7D,OAAE,IAAS6C,EAAE,EAAEA,EAAEiB,EAAEnB,EAAEvsB,GAAG2tB,OAAE,IAASD,EAAE,KAAKA,EAAE5qB,EAAEypB,EAAExwB,KAAK6xB,OAAE,IAAS9qB,EAAE,GAAGA,EAAE+qB,EAAEtB,EAAEuB,WAAWC,OAAE,IAASF,GAAGA,EAAEG,EAAEzB,EAAE0B,MAAMC,OAAE,IAASF,EAAExE,EAAEwE,EAAEG,EAAE5B,EAAE6B,OAAOC,OAAE,IAASF,EAAE,SAASpgB,EAAEue,GAAG,OAAOve,EAAEugB,MAAMhC,EAAEgC,OAAOH,EAAEI,EAAEhC,EAAEiC,SAASC,OAAE,IAASF,GAAGA,EAAEG,EAAEnC,EAAEoC,eAAeC,OAAE,IAASF,GAAGA,EAAEG,EAAEtC,EAAEuC,eAAeC,OAAE,IAASF,GAAGA,EAAEG,EAAEzC,EAAE0C,aAAaC,OAAE,IAASF,GAAGA,EAAEG,EAAE5C,EAAE6C,QAAQC,OAAE,IAASF,GAAGA,GAAG,SAASphB,EAAEue,GAAG,KAAKve,aAAaue,GAAG,MAAM,IAAI5nB,UAAU,qCAAvD,CAA6FxK,KAAK6T,GAAG7T,KAAKkE,QAAQ,CAAC2uB,SAASpoB,EAAEqoB,SAASH,EAAEI,UAAUhyB,EAAEiyB,iBAAiBC,EAAEmC,gBAAgB3F,EAAE0D,eAAeX,EAAEa,eAAeC,EAAEC,mBAAmB7D,EAAE5pB,GAAG2tB,EAAE5xB,KAAK6xB,EAAEkB,eAAeC,EAAEE,aAAaC,EAAEpB,WAAWC,EAAEE,MAAMC,EAAEE,OAAOC,EAAEe,QAAQC,EAAEb,SAASC,EAAEE,eAAeC,GAAG10B,KAAKq1B,cAAcjD,GAAGpyB,KAAKs1B,aAAa5B,GAAG,IAAItB,EAAEC,EAAEM,EAAE,OAAOP,EAAEve,GAAGwe,EAAE,CAAC,CAACvvB,IAAI,gBAAgB3D,MAAM,SAAS0U,GAAG,OAAO7T,KAAKu1B,KAAK1hB,EAAEA,IAAI,CAAC/Q,IAAI,eAAe3D,MAAM,SAAS0U,GAAG,GAAG7T,KAAKw1B,YAAY,GAAGx1B,KAAKy1B,UAAU,GAAG5hB,EAAElR,QAAQ,iBAAiBkR,EAAE,GAAG,IAAI,IAAIue,EAAE,EAAEC,EAAExe,EAAElR,OAAOyvB,EAAEC,EAAED,GAAG,EAAE,CAAC,IAAIxnB,EAAEiJ,EAAEue,GAAGpyB,KAAKw1B,YAAY5qB,GAAG,EAAE5K,KAAKy1B,UAAUpzB,KAAKuI,OAAO,CAAC,IAAI,IAAIH,EAAE,KAAKhI,EAAE,KAAKkwB,EAAE,EAAErD,EAAE,EAAEtnB,EAAE6L,EAAElR,OAAO2sB,EAAEtnB,EAAEsnB,GAAG,EAAE,CAAC,IAAIvuB,EAAE8S,EAAEyb,GAAG,IAAIvuB,EAAEsR,eAAe,QAAQ,MAAM,IAAIqjB,MAAM,yCAAyC,IAAIpD,EAAEvxB,EAAExB,KAAK,GAAGS,KAAKy1B,UAAUpzB,KAAKiwB,IAAIvxB,EAAEsR,eAAe,UAAU,MAAM,IAAIqjB,MAAM,2CAA2C,IAAIzC,EAAElyB,EAAE40B,OAAO,GAAG1C,EAAE,GAAGA,EAAE,EAAE,MAAM,IAAIyC,MAAM,0DAA0DjzB,EAAE,MAAMA,EAAEwwB,EAAE3I,KAAKxrB,IAAI2D,EAAEwwB,GAAGxoB,EAAE,MAAMA,EAAEwoB,EAAE3I,KAAK+G,IAAI5mB,EAAEwoB,GAAGjzB,KAAKw1B,YAAYlD,GAAGW,EAAEN,GAAGM,EAAE,GAAGN,EAAE,EAAE,MAAM,IAAI+C,MAAM,uCAAuC,CAAC5yB,IAAI,SAAS3D,MAAM,SAAS0U,GAAG,IAAIue,EAAE1vB,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,CAACkzB,OAAM,GAAI51B,KAAK61B,KAAK,+BAA+B31B,OAAO2T,EAAE,MAAM,IAAIwe,EAAEryB,KAAK81B,kBAAkBjiB,GAAGjJ,EAAEynB,EAAE0D,eAAetrB,EAAE4nB,EAAE2D,aAAavzB,EAAEzC,KAAKi2B,QAAQrrB,EAAEH,GAAG,OAAOzK,KAAKk2B,cAAczzB,GAAGzC,KAAKkE,QAAQ0vB,YAAY5zB,KAAKm2B,MAAM1zB,GAAG2vB,EAAEwD,OAAO,iBAAiBxD,EAAEwD,QAAQnzB,EAAEA,EAAEsI,MAAM,EAAEqnB,EAAEwD,QAAQ51B,KAAKo2B,QAAQ3zB,KAAK,CAACK,IAAI,oBAAoB3D,MAAM,WAAW,IAAI0U,EAAEnR,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,GAAG0vB,EAAE,GAAG,GAAGpyB,KAAKkE,QAAQowB,SAAS,IAAI,IAAIjC,EAAExe,EAAE4Y,MAAMzsB,KAAKkE,QAAQivB,gBAAgBvoB,EAAE,EAAEH,EAAE4nB,EAAE1vB,OAAOiI,EAAEH,EAAEG,GAAG,EAAEwnB,EAAE/vB,KAAK,IAAII,EAAE4vB,EAAEznB,GAAG5K,KAAKkE,UAAU,MAAM,CAAC6xB,eAAe3D,EAAE4D,aAAa,IAAIvzB,EAAEoR,EAAE7T,KAAKkE,YAAY,CAACpB,IAAI,UAAU3D,MAAM,WAAW,IAAI0U,EAAEnR,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,GAAG0vB,EAAE1vB,UAAUC,OAAO,EAAED,UAAU,QAAG,EAAO2vB,EAAEryB,KAAKu1B,KAAK3qB,EAAE,GAAGH,EAAE,GAAG,GAAG,iBAAiB4nB,EAAE,GAAG,CAAC,IAAI,IAAI5vB,EAAE,EAAEkwB,EAAEN,EAAE1vB,OAAOF,EAAEkwB,EAAElwB,GAAG,EAAEzC,KAAKq2B,SAAS,CAACvzB,IAAI,GAAG3D,MAAMkzB,EAAE5vB,GAAG6zB,OAAO7zB,EAAEmT,MAAMnT,GAAG,CAAC8zB,UAAU3rB,EAAEnC,QAAQgC,EAAEsrB,eAAeliB,EAAEmiB,aAAa5D,IAAI,OAAO3nB,EAAE,IAAI,IAAI6kB,EAAE,EAAEtnB,EAAEqqB,EAAE1vB,OAAO2sB,EAAEtnB,EAAEsnB,GAAG,EAAE,IAAI,IAAIvuB,EAAEsxB,EAAE/C,GAAGgD,EAAE,EAAEW,EAAEjzB,KAAKy1B,UAAU9yB,OAAO2vB,EAAEW,EAAEX,GAAG,EAAE,CAAC,IAAI5I,EAAE1pB,KAAKy1B,UAAUnD,GAAGtyB,KAAKq2B,SAAS,CAACvzB,IAAI4mB,EAAEvqB,MAAMa,KAAKkE,QAAQ6vB,MAAMhzB,EAAE2oB,GAAG4M,OAAOv1B,EAAE6U,MAAM0Z,GAAG,CAACiH,UAAU3rB,EAAEnC,QAAQgC,EAAEsrB,eAAeliB,EAAEmiB,aAAa5D,IAAI,OAAO3nB,IAAI,CAAC3H,IAAI,WAAW3D,MAAM,SAAS0U,EAAEue,GAAG,IAAIC,EAAEryB,KAAK4K,EAAEiJ,EAAE/Q,IAAI2H,EAAEoJ,EAAE2iB,WAAW/zB,OAAE,IAASgI,GAAG,EAAEA,EAAEkoB,EAAE9e,EAAE1U,MAAMmwB,EAAEzb,EAAEyiB,OAAOv1B,EAAE8S,EAAE+B,MAAM0c,EAAEF,EAAE2D,eAAe9C,OAAE,IAASX,EAAE,GAAGA,EAAE5I,EAAE0I,EAAE4D,aAAavG,EAAE2C,EAAEmE,UAAU51B,OAAE,IAAS8uB,EAAE,GAAGA,EAAE+C,EAAEJ,EAAE3pB,QAAQ2qB,OAAE,IAASZ,EAAE,GAAGA,GAAG,SAAS3e,EAAEue,EAAE3nB,EAAEhI,EAAEkwB,GAAG,GAAG,MAAMloB,EAAE,GAAG,iBAAiBA,EAAE,CAAC,IAAI6kB,GAAE,EAAGvuB,GAAG,EAAEuxB,EAAE,EAAED,EAAEwD,KAAK,UAAU31B,OAAO,KAAK0K,EAAE,KAAKA,IAAI,IAAI6kB,EAAE/F,EAAE+M,OAAOhsB,GAAG,GAAG4nB,EAAEwD,KAAK,eAAe31B,OAAOuK,EAAE,cAAcvK,OAAOuvB,EAAE2E,QAAQ/B,EAAEnuB,QAAQowB,SAAS,CAAC,IAAI,IAAI9B,EAAE/nB,EAAEgiB,MAAM4F,EAAEnuB,QAAQivB,gBAAgBG,EAAEd,EAAE7vB,OAAO4vB,EAAE,GAAG7C,EAAE,EAAE8D,EAAEP,EAAEtwB,OAAO+sB,EAAE8D,EAAE9D,GAAG,EAAE,CAAC,IAAI+D,EAAER,EAAEvD,GAAG2C,EAAEwD,KAAK,eAAe31B,OAAOuzB,EAAEiD,QAAQ,MAAM,IAAI,IAAI9tB,GAAE,EAAG8qB,EAAE,EAAEA,EAAEJ,EAAEI,GAAG,EAAE,CAAC,IAAIC,EAAEnB,EAAEkB,GAAGG,EAAEJ,EAAEgD,OAAO9C,GAAGG,EAAE,GAAGD,EAAE8C,SAAS7C,EAAEH,GAAGE,EAAEO,MAAM9E,GAAE,EAAG1mB,GAAE,EAAG2pB,EAAElwB,KAAKwxB,EAAEO,SAASN,EAAEH,GAAG,EAAEtB,EAAEnuB,QAAQuwB,gBAAgBlC,EAAElwB,KAAK,IAAIgwB,EAAEwD,KAAK,WAAW31B,OAAOyzB,EAAE,cAAczzB,OAAO4zB,EAAEH,KAAK/qB,IAAI0pB,GAAG,GAAGvxB,EAAEwxB,EAAE,GAAG,IAAI,IAAIyB,EAAEzB,EAAE5vB,OAAOsxB,EAAE,EAAEA,EAAED,EAAEC,GAAG,EAAElzB,GAAGwxB,EAAE0B,GAAGlzB,GAAGizB,EAAE3B,EAAEwD,KAAK,uBAAuB90B,GAAG,IAAIozB,EAAE1E,EAAE2E,MAAMrzB,GAAG,IAAIozB,GAAGA,EAAEpzB,GAAG,GAAGsxB,EAAEwD,KAAK,iBAAiB1B,GAAG,IAAIE,GAAGhC,EAAEnuB,QAAQowB,WAAWjC,EAAEnuB,QAAQuwB,gBAAgBnC,GAAGW,EAAEtwB,OAAO,GAAG0vB,EAAEwD,KAAK,oBAAoB31B,OAAOm0B,KAAK/E,GAAGG,EAAEkH,UAAUtC,EAAE,CAAC,IAAIE,EAAE,CAACzxB,IAAI8H,EAAE4rB,WAAWpE,EAAEjzB,MAAMsL,EAAE2pB,MAAMD,GAAG9B,EAAEnuB,QAAQ0wB,iBAAiBL,EAAEqC,eAAenH,EAAEmH,gBAAgB,IAAIpC,EAAE7zB,EAAEgyB,GAAG6B,EAAEA,EAAEqC,OAAOx0B,KAAKkyB,IAAI5zB,EAAEgyB,GAAG,CAACvM,KAAK3jB,EAAEo0B,OAAO,CAACtC,IAAInB,EAAE/wB,KAAK1B,EAAEgyB,WAAW,GAAG3qB,EAAEyC,GAAG,IAAI,IAAIiqB,EAAE,EAAEC,EAAElqB,EAAE9H,OAAO+xB,EAAEC,EAAED,GAAG,EAAE7gB,EAAE6gB,EAAEjqB,EAAEiqB,GAAGjyB,EAAEkwB,GAApjC,CAAwjClwB,EAAEkwB,EAAErD,EAAEvuB,KAAK,CAAC+B,IAAI,gBAAgB3D,MAAM,SAAS0U,GAAG7T,KAAK61B,KAAK,0BAA0B,IAAI,IAAIzD,EAAEpyB,KAAKw1B,YAAYnD,IAAIvwB,OAAOD,KAAKuwB,GAAGzvB,OAAOiI,EAAE,EAAEH,EAAEoJ,EAAElR,OAAOiI,EAAEH,EAAEG,GAAG,EAAE,CAAC,IAAI,IAAInI,EAAEoR,EAAEjJ,GAAG+nB,EAAElwB,EAAEo0B,OAAOvH,EAAEqD,EAAEhwB,OAAOqF,EAAE,EAAEjH,EAAE,EAAEA,EAAEuuB,EAAEvuB,GAAG,EAAE,CAAC,IAAIuxB,EAAEK,EAAE5xB,GAAGkyB,EAAEX,EAAExvB,IAAI4mB,EAAE2I,EAAED,EAAEa,GAAG,EAAExD,EAAE,IAAI6C,EAAE8B,OAAOhC,GAAGA,EAAEa,GAAG,EAAE7I,OAAO0M,QAAQxE,EAAE8B,MAAMpsB,GAAGsiB,KAAKyM,IAAItH,EAAE/F,GAAGjnB,EAAE2xB,MAAMpsB,EAAEhI,KAAK61B,KAAKpzB,MAAM,CAACK,IAAI,QAAQ3D,MAAM,SAAS0U,GAAG7T,KAAK61B,KAAK,mBAAmBhiB,EAAEmjB,KAAKh3B,KAAKkE,QAAQgwB,UAAU,CAACpxB,IAAI,UAAU3D,MAAM,SAAS0U,GAAG,IAAIue,EAAE,GAAG,GAAGpyB,KAAKkE,QAAQgxB,QAAQ,CAAC,IAAI7C,EAAE,GAAGryB,KAAK61B,KAAK,kBAAkBoB,KAAKC,UAAUrjB,GAAE,SAASA,EAAEue,GAAG,GAAG,WAAWxnB,EAAEwnB,IAAI,OAAOA,EAAE,CAAC,IAAI,IAAIC,EAAE3c,QAAQ0c,GAAG,OAAOC,EAAEhwB,KAAK+vB,GAAG,OAAOA,IAAG,IAAIC,EAAE,KAAK,IAAI5nB,EAAE,GAAGzK,KAAKkE,QAAQ0wB,gBAAgBnqB,EAAEpI,MAAK,SAASwR,EAAEue,GAAG,IAAIC,EAAExe,EAAEgjB,OAAOzE,EAAE+E,QAAQ,GAAG,IAAI,IAAIvsB,EAAE,EAAEH,EAAE4nB,EAAE1vB,OAAOiI,EAAEH,EAAEG,GAAG,EAAE,CAAC,IAAInI,EAAE4vB,EAAEznB,GAAG,GAAG,IAAInI,EAAEm0B,eAAej0B,OAAO,CAAC,IAAIgwB,EAAE,CAACyE,QAAQ30B,EAAEm0B,eAAez3B,MAAMsD,EAAEtD,OAAOsD,EAAEK,MAAM6vB,EAAE7vB,IAAIL,EAAEK,KAAKL,EAAE4P,eAAe,eAAe5P,EAAE+zB,YAAY,IAAI7D,EAAE6D,WAAW/zB,EAAE+zB,YAAYpE,EAAE+E,QAAQ90B,KAAKswB,QAAO3yB,KAAKkE,QAAQ6wB,cAActqB,EAAEpI,MAAK,SAASwR,EAAEue,GAAGA,EAAEgC,MAAMvgB,EAAEugB,SAAQ,IAAI,IAAI3xB,EAAE,EAAEkwB,EAAE9e,EAAElR,OAAOF,EAAEkwB,EAAElwB,GAAG,EAAE,CAAC,IAAI6sB,EAAEzb,EAAEpR,GAAG,GAAGzC,KAAKkE,QAAQ4B,KAAKwpB,EAAElJ,KAAKpmB,KAAKkE,QAAQ6vB,MAAMzE,EAAElJ,KAAKpmB,KAAKkE,QAAQ4B,IAAI,IAAI2E,EAAE9H,OAAO,CAAC,IAAI,IAAIqF,EAAE,CAACoe,KAAKkJ,EAAElJ,MAAMrlB,EAAE,EAAEuxB,EAAE7nB,EAAE9H,OAAO5B,EAAEuxB,EAAEvxB,GAAG,EAAE0J,EAAE1J,GAAGuuB,EAAEtnB,GAAGoqB,EAAE/vB,KAAK2F,QAAQoqB,EAAE/vB,KAAKitB,EAAElJ,MAAM,OAAOgM,IAAI,CAACtvB,IAAI,OAAO3D,MAAM,WAAW,IAAI0U,EAAE7T,KAAKkE,QAAQgxB,UAAUrhB,EAAEwc,SAASgH,IAAI/0B,MAAMuR,EAAEnR,gBAAgB+H,EAAE2nB,EAAEvnB,UAAUwnB,GAAGM,GAAGloB,EAAE2nB,EAAEO,GAAG9e,EAAvtL,GAA4tLA,EAAEuc,QAAQrvB,GAAG,SAAS8S,EAAEue,EAAEC,GAAG,SAASznB,EAAEiJ,EAAEue,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAED,EAAEzvB,OAAO0vB,IAAI,CAAC,IAAIznB,EAAEwnB,EAAEC,GAAGznB,EAAExI,WAAWwI,EAAExI,aAAY,EAAGwI,EAAExH,cAAa,EAAG,UAAUwH,IAAIA,EAAEvH,UAAS,GAAIvB,OAAOoB,eAAe2Q,EAAEjJ,EAAE9H,IAAI8H,IAAI,IAAIH,EAAE4nB,EAAE,GAAG5vB,EAAE4vB,EAAE,GAAGM,EAAEN,EAAE,GAAG/C,EAAE,WAAW,SAASzb,EAAEue,EAAEC,GAAG,IAAIznB,EAAEynB,EAAEQ,SAASpoB,OAAE,IAASG,EAAE,EAAEA,EAAEnI,EAAE4vB,EAAES,SAASxD,OAAE,IAAS7sB,EAAE,IAAIA,EAAEuF,EAAEqqB,EAAEU,UAAUhyB,OAAE,IAASiH,EAAE,GAAGA,EAAEsqB,EAAED,EAAEW,iBAAiBC,OAAE,IAASX,EAAE,GAAGA,EAAE5I,EAAE2I,EAAE+C,gBAAgB3F,OAAE,IAAS/F,GAAGA,EAAE/oB,EAAE0xB,EAAEc,eAAeX,OAAE,IAAS7xB,EAAE,MAAMA,EAAEyyB,EAAEf,EAAEgB,eAAeC,OAAE,IAASF,GAAGA,EAAEb,EAAEF,EAAEkB,mBAAmB7D,OAAE,IAAS6C,EAAE,EAAEA,EAAEiB,EAAEnB,EAAEuC,eAAenB,OAAE,IAASD,GAAGA,GAAG,SAAS3f,EAAEue,GAAG,KAAKve,aAAaue,GAAG,MAAM,IAAI5nB,UAAU,qCAAvD,CAA6FxK,KAAK6T,GAAG7T,KAAKkE,QAAQ,CAAC2uB,SAASpoB,EAAEqoB,SAASxD,EAAEyD,UAAUhyB,EAAEiyB,iBAAiBC,EAAEmC,gBAAgB3F,EAAE0D,eAAeX,EAAEa,eAAeC,EAAEsB,eAAenB,EAAEF,mBAAmB7D,GAAG1vB,KAAK02B,QAAQjH,EAAE2C,EAAEA,EAAE/N,cAAcrkB,KAAK02B,QAAQ/zB,QAAQswB,IAAIjzB,KAAKs3B,gBAAgB3E,EAAE3yB,KAAK02B,UAAU,IAAItE,EAAEC,EAAE/C,EAAE,OAAO8C,EAAEve,GAAGwe,EAAE,CAAC,CAACvvB,IAAI,SAAS3D,MAAM,SAAS0U,GAAG,IAAIue,EAAEpyB,KAAKkE,QAAQmuB,EAAED,EAAEgD,gBAAgBxqB,EAAEwnB,EAAEwC,eAAe,GAAGvC,IAAIxe,EAAEA,EAAEwQ,eAAerkB,KAAK02B,UAAU7iB,EAAE,CAAC,IAAI8e,EAAE,CAACgE,SAAQ,EAAGvC,MAAM,GAAG,OAAOxpB,IAAI+nB,EAAEiE,eAAe,CAAC,CAAC,EAAE/iB,EAAElR,OAAO,KAAKgwB,EAAE,IAAIrD,EAAEtvB,KAAKkE,QAAQ8D,EAAEsnB,EAAE0D,iBAAiBjyB,EAAEuuB,EAAE6D,eAAe,GAAGnzB,KAAK02B,QAAQ/zB,OAAOqF,EAAE,OAAOyC,EAAEoJ,EAAE7T,KAAK02B,QAAQ31B,GAAG,IAAIuxB,EAAEtyB,KAAKkE,QAAQ+uB,EAAEX,EAAEO,SAASnJ,EAAE4I,EAAEQ,SAASrD,EAAE6C,EAAES,UAAUpyB,EAAE2xB,EAAEe,eAAeb,EAAEF,EAAEiB,mBAAmB,OAAO9wB,EAAEoR,EAAE7T,KAAK02B,QAAQ12B,KAAKs3B,gBAAgB,CAACzE,SAASI,EAAEH,SAASpJ,EAAEqJ,UAAUtD,EAAE4D,eAAe1yB,EAAE4yB,mBAAmBf,EAAEoC,eAAehqB,SAASA,EAAEwnB,EAAEvnB,UAAUwnB,GAAG/C,GAAG1kB,EAAEwnB,EAAE9C,GAAGzb,EAAzyC,GAA8yCA,EAAEuc,QAAQd,GAAG,SAASzb,EAAEue,GAAG,IAAIC,EAAE,sCAAsCxe,EAAEuc,QAAQ,SAASvc,EAAEue,GAAG,IAAIxnB,EAAElI,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,MAAM+H,EAAE,IAAI8sB,OAAOnF,EAAE/rB,QAAQgsB,EAAE,QAAQhsB,QAAQuE,EAAE,MAAMnI,EAAEoR,EAAE2jB,MAAM/sB,GAAGkoB,IAAIlwB,EAAE6sB,EAAE,GAAG,GAAGqD,EAAE,IAAI,IAAI3qB,EAAE,EAAEjH,EAAE0B,EAAEE,OAAOqF,EAAEjH,EAAEiH,GAAG,EAAE,CAAC,IAAIsqB,EAAE7vB,EAAEuF,GAAGsnB,EAAEjtB,KAAK,CAACwR,EAAE6B,QAAQ4c,GAAGA,EAAE3vB,OAAO,IAAI,MAAM,CAACyxB,MAAMzB,EAAE,GAAG,EAAEgE,QAAQhE,EAAEiE,eAAetH,KAAK,SAASzb,EAAEue,EAAEC,GAAG,IAAIznB,EAAEynB,EAAE,GAAG5nB,EAAE4nB,EAAE,GAAGxe,EAAEuc,QAAQ,SAASvc,EAAEue,EAAEC,EAAE5vB,GAAG,IAAI,IAAIkwB,EAAElwB,EAAEowB,SAASvD,OAAE,IAASqD,EAAE,EAAEA,EAAE3qB,EAAEvF,EAAEqwB,SAAS/xB,OAAE,IAASiH,EAAE,IAAIA,EAAEsqB,EAAE7vB,EAAEswB,UAAUE,OAAE,IAASX,EAAE,GAAGA,EAAE5I,EAAEjnB,EAAE4wB,eAAe5D,OAAE,IAAS/F,GAAGA,EAAE/oB,EAAE8B,EAAE8wB,mBAAmBf,OAAE,IAAS7xB,EAAE,EAAEA,EAAEyyB,EAAE3wB,EAAEmyB,eAAetB,OAAE,IAASF,GAAGA,EAAEb,EAAEjD,EAAEI,EAAE7b,EAAElR,OAAO6wB,EAAEP,EAAEQ,EAAE5f,EAAE6B,QAAQ0c,EAAEG,GAAG3pB,EAAEwpB,EAAEzvB,OAAO+wB,EAAE,GAAGC,EAAE,EAAEA,EAAEjE,EAAEiE,GAAG,EAAED,EAAEC,GAAG,EAAE,IAAI,IAAIF,EAAE,CAAC,IAAII,EAAEjpB,EAAEwnB,EAAE,CAACqF,OAAO,EAAEC,gBAAgBjE,EAAEkE,iBAAiBpF,EAAEO,SAAS/xB,IAAI,GAAGyyB,EAAElJ,KAAK+G,IAAIwC,EAAEL,IAAI,KAAKC,EAAE5f,EAAE+Y,YAAYwF,EAAEG,EAAE3pB,IAAI,CAAC,IAAIkrB,EAAElpB,EAAEwnB,EAAE,CAACqF,OAAO,EAAEC,gBAAgBjE,EAAEkE,iBAAiBpF,EAAEO,SAAS/xB,IAAIyyB,EAAElJ,KAAK+G,IAAIyC,EAAEN,IAAIC,GAAG,EAAE,IAAI,IAAIO,EAAE,GAAGC,EAAE,EAAEE,EAAEvrB,EAAE8mB,EAAE2E,EAAE,IAAIzrB,GAAG,GAAGA,EAAE,EAAE,IAAI2rB,EAAE,EAAEA,EAAE3rB,EAAE2rB,GAAG,EAAE,CAAC,IAAI,IAAIC,EAAE,EAAEE,EAAEP,EAAEK,EAAEE,GAAI9pB,EAAEwnB,EAAE,CAACqF,OAAOlD,EAAEmD,gBAAgBnF,EAAEmC,EAAEiD,iBAAiBpF,EAAEO,SAAS/xB,KAAKyyB,EAAEgB,EAAEE,EAAEP,EAAEO,EAAEA,EAAEpK,KAAKC,OAAO4J,EAAEK,GAAG,EAAEA,GAAGL,EAAEO,EAAE,IAAIC,EAAErK,KAAKxrB,IAAI,EAAEyzB,EAAEmC,EAAE,GAAGG,EAAEpF,EAAEC,EAAEpF,KAAK+G,IAAIkB,EAAEmC,EAAEhF,GAAG9mB,EAAEksB,EAAE7pB,MAAM4pB,EAAE,GAAGC,EAAED,EAAE,IAAI,GAAGN,GAAG,EAAE,IAAI,IAAIS,EAAEH,EAAEG,GAAGL,EAAEK,GAAG,EAAE,CAAC,IAAIC,EAAED,EAAE,EAAEG,EAAE9C,EAAExe,EAAE7J,OAAOirB,IAAI,GAAGE,IAAIzB,EAAEuB,GAAG,GAAGH,EAAEE,IAAIF,EAAEE,EAAE,IAAI,EAAE,GAAGG,EAAE,IAAIZ,IAAIO,EAAEE,KAAKhB,EAAEgB,EAAE,GAAGhB,EAAEgB,KAAK,EAAE,EAAEhB,EAAEgB,EAAE,IAAIF,EAAEE,GAAGX,IAAIJ,EAAErpB,EAAEwnB,EAAE,CAACqF,OAAOlD,EAAEmD,gBAAgBzC,EAAE0C,iBAAiBpF,EAAEO,SAAS/xB,MAAMyyB,EAAE,CAAC,GAAGA,EAAES,GAAGR,EAAEwB,IAAI1C,EAAE,MAAMoC,EAAErK,KAAKxrB,IAAI,EAAE,EAAEyzB,EAAEkB,IAAI,GAAG7oB,EAAEwnB,EAAE,CAACqF,OAAOlD,EAAE,EAAEmD,gBAAgBnF,EAAEoF,iBAAiBpF,EAAEO,SAAS/xB,IAAIyyB,EAAE,MAAMQ,EAAEc,EAAE,IAAI/P,EAAE,CAAC4R,QAAQlD,GAAG,EAAEW,MAAM,IAAIH,EAAE,KAAKA,GAAG,OAAOX,IAAIvO,EAAE6R,eAAensB,EAAEipB,EAAElB,IAAIzN,IAAI,SAASlR,EAAEue,GAAGve,EAAEuc,QAAQ,SAASvc,EAAEue,GAAG,IAAIC,EAAED,EAAEqF,OAAO7sB,OAAE,IAASynB,EAAE,EAAEA,EAAE5nB,EAAE2nB,EAAEsF,gBAAgBj1B,OAAE,IAASgI,EAAE,EAAEA,EAAEkoB,EAAEP,EAAEuF,iBAAiBrI,OAAE,IAASqD,EAAE,EAAEA,EAAE3qB,EAAEoqB,EAAEU,SAAS/xB,OAAE,IAASiH,EAAE,IAAIA,EAAEsqB,EAAE1nB,EAAEiJ,EAAElR,OAAOswB,EAAE3I,KAAKsN,IAAItI,EAAE7sB,GAAG,OAAO1B,EAAEuxB,EAAEW,EAAElyB,EAAEkyB,EAAE,EAAEX,IAAI,SAASze,EAAEue,GAAGve,EAAEuc,QAAQ,WAAW,IAAI,IAAIvc,EAAEnR,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,GAAG0vB,EAAE1vB,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,EAAE2vB,EAAE,GAAGznB,GAAG,EAAEH,GAAG,EAAEhI,EAAE,EAAEkwB,EAAE9e,EAAElR,OAAOF,EAAEkwB,EAAElwB,GAAG,EAAE,CAAC,IAAI6sB,EAAEzb,EAAEpR,GAAG6sB,IAAI,IAAI1kB,EAAEA,EAAEnI,EAAE6sB,IAAI,IAAI1kB,KAAKH,EAAEhI,EAAE,GAAGmI,EAAE,GAAGwnB,GAAGC,EAAEhwB,KAAK,CAACuI,EAAEH,IAAIG,GAAG,GAAG,OAAOiJ,EAAEpR,EAAE,IAAIA,EAAEmI,GAAGwnB,GAAGC,EAAEhwB,KAAK,CAACuI,EAAEnI,EAAE,IAAI4vB,IAAI,SAASxe,EAAEue,GAAGve,EAAEuc,QAAQ,SAASvc,GAAG,IAAI,IAAIue,EAAE,GAAGC,EAAExe,EAAElR,OAAOiI,EAAE,EAAEA,EAAEynB,EAAEznB,GAAG,EAAEwnB,EAAEve,EAAE7J,OAAOY,IAAI,EAAE,IAAI,IAAIH,EAAE,EAAEA,EAAE4nB,EAAE5nB,GAAG,EAAE2nB,EAAEve,EAAE7J,OAAOS,KAAK,GAAG4nB,EAAE5nB,EAAE,EAAE,OAAO2nB,IAAI,SAASve,EAAEue,GAAG,IAAIC,EAAE,SAASxe,GAAG,OAAO5I,MAAMM,QAAQN,MAAMM,QAAQsI,GAAG,mBAAmB/R,OAAO+I,UAAU3C,SAAS4C,KAAK+I,IAAIjJ,EAAE,SAASiJ,GAAG,OAAO,MAAMA,EAAE,GAAG,SAASA,GAAG,GAAG,iBAAiBA,EAAE,OAAOA,EAAE,IAAIue,EAAEve,EAAE,GAAG,MAAM,KAAKue,GAAG,EAAEve,IAAG,IAAK,KAAKue,EAAnF,CAAsFve,IAAIpJ,EAAE,SAASoJ,GAAG,MAAM,iBAAiBA,GAAGpR,EAAE,SAASoR,GAAG,MAAM,iBAAiBA,GAAGA,EAAEuc,QAAQ,CAACne,IAAI,SAAS4B,EAAEue,GAAG,IAAIO,EAAE,GAAG,OAAO,SAAS9e,EAAEue,EAAE9C,GAAG,GAAGA,EAAE,CAAC,IAAItnB,EAAEsnB,EAAE5Z,QAAQ,KAAK3U,EAAEuuB,EAAEgD,EAAE,MAAM,IAAItqB,IAAIjH,EAAEuuB,EAAEvkB,MAAM,EAAE/C,GAAGsqB,EAAEhD,EAAEvkB,MAAM/C,EAAE,IAAI,IAAIirB,EAAEb,EAAErxB,GAAG,GAAG,MAAMkyB,EAAE,GAAGX,IAAI7nB,EAAEwoB,KAAKxwB,EAAEwwB,GAAG,GAAGZ,EAAEY,GAAG,IAAI,IAAIvJ,EAAE,EAAE+F,EAAEwD,EAAEtwB,OAAO+mB,EAAE+F,EAAE/F,GAAG,EAAE7V,EAAEof,EAAEvJ,GAAG4I,QAAQA,GAAGze,EAAEof,EAAEX,QAAQK,EAAEtwB,KAAKuI,EAAEqoB,SAASN,EAAEtwB,KAAK+vB,GAAtO,CAA0Ove,EAAEue,GAAGO,GAAGpnB,QAAQ8mB,EAAEwF,SAASptB,EAAEqtB,MAAMr1B,EAAEyF,SAAS0C","file":"flow-builder.umd.min.1.js","sourcesContent":["import { Vue } from '../../vue';\nimport { NAME_PROGRESS_BAR } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { htmlOrText } from '../../utils/html';\nimport { isBoolean } from '../../utils/inspect';\nimport { mathMax, mathPow } from '../../utils/math';\nimport { toFixed, toFloat, toInteger } from '../../utils/number';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  animated: makeProp(PROP_TYPE_BOOLEAN, null),\n  label: makeProp(PROP_TYPE_STRING),\n  labelHtml: makeProp(PROP_TYPE_STRING),\n  max: makeProp(PROP_TYPE_NUMBER_STRING, null),\n  precision: makeProp(PROP_TYPE_NUMBER_STRING, null),\n  showProgress: makeProp(PROP_TYPE_BOOLEAN, null),\n  showValue: makeProp(PROP_TYPE_BOOLEAN, null),\n  striped: makeProp(PROP_TYPE_BOOLEAN, null),\n  value: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  variant: makeProp(PROP_TYPE_STRING)\n}, NAME_PROGRESS_BAR); // --- Main component ---\n// @vue/component\n\nexport var BProgressBar = /*#__PURE__*/Vue.extend({\n  name: NAME_PROGRESS_BAR,\n  mixins: [normalizeSlotMixin],\n  inject: {\n    bvProgress: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  props: props,\n  computed: {\n    progressBarClasses: function progressBarClasses() {\n      var computedAnimated = this.computedAnimated,\n          computedVariant = this.computedVariant;\n      return [computedVariant ? \"bg-\".concat(computedVariant) : '', this.computedStriped || computedAnimated ? 'progress-bar-striped' : '', computedAnimated ? 'progress-bar-animated' : ''];\n    },\n    progressBarStyles: function progressBarStyles() {\n      return {\n        width: 100 * (this.computedValue / this.computedMax) + '%'\n      };\n    },\n    computedValue: function computedValue() {\n      return toFloat(this.value, 0);\n    },\n    computedMax: function computedMax() {\n      // Prefer our max over parent setting\n      // Default to `100` for invalid values (`-x`, `0`, `NaN`)\n      var max = toFloat(this.max) || toFloat(this.bvProgress.max, 0);\n      return max > 0 ? max : 100;\n    },\n    computedPrecision: function computedPrecision() {\n      // Prefer our precision over parent setting\n      // Default to `0` for invalid values (`-x`, `NaN`)\n      return mathMax(toInteger(this.precision, toInteger(this.bvProgress.precision, 0)), 0);\n    },\n    computedProgress: function computedProgress() {\n      var precision = this.computedPrecision;\n      var p = mathPow(10, precision);\n      return toFixed(100 * p * this.computedValue / this.computedMax / p, precision);\n    },\n    computedVariant: function computedVariant() {\n      // Prefer our variant over parent setting\n      return this.variant || this.bvProgress.variant;\n    },\n    computedStriped: function computedStriped() {\n      // Prefer our striped over parent setting\n      return isBoolean(this.striped) ? this.striped : this.bvProgress.striped || false;\n    },\n    computedAnimated: function computedAnimated() {\n      // Prefer our animated over parent setting\n      return isBoolean(this.animated) ? this.animated : this.bvProgress.animated || false;\n    },\n    computedShowProgress: function computedShowProgress() {\n      // Prefer our showProgress over parent setting\n      return isBoolean(this.showProgress) ? this.showProgress : this.bvProgress.showProgress || false;\n    },\n    computedShowValue: function computedShowValue() {\n      // Prefer our showValue over parent setting\n      return isBoolean(this.showValue) ? this.showValue : this.bvProgress.showValue || false;\n    }\n  },\n  render: function render(h) {\n    var label = this.label,\n        labelHtml = this.labelHtml,\n        computedValue = this.computedValue,\n        computedPrecision = this.computedPrecision;\n    var $children;\n    var domProps = {};\n\n    if (this.hasNormalizedSlot()) {\n      $children = this.normalizeSlot();\n    } else if (label || labelHtml) {\n      domProps = htmlOrText(labelHtml, label);\n    } else if (this.computedShowProgress) {\n      $children = this.computedProgress;\n    } else if (this.computedShowValue) {\n      $children = toFixed(computedValue, computedPrecision);\n    }\n\n    return h('div', {\n      staticClass: 'progress-bar',\n      class: this.progressBarClasses,\n      style: this.progressBarStyles,\n      attrs: {\n        role: 'progressbar',\n        'aria-valuemin': '0',\n        'aria-valuemax': toString(this.computedMax),\n        'aria-valuenow': toFixed(computedValue, computedPrecision)\n      },\n      domProps: domProps\n    }, $children);\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_PROGRESS } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BProgressBar, props as BProgressBarProps } from './progress-bar'; // --- Props ---\n\nvar progressBarProps = omit(BProgressBarProps, ['label', 'labelHtml']);\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, progressBarProps), {}, {\n  animated: makeProp(PROP_TYPE_BOOLEAN, false),\n  height: makeProp(PROP_TYPE_STRING),\n  max: makeProp(PROP_TYPE_NUMBER_STRING, 100),\n  precision: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  showProgress: makeProp(PROP_TYPE_BOOLEAN, false),\n  showValue: makeProp(PROP_TYPE_BOOLEAN, false),\n  striped: makeProp(PROP_TYPE_BOOLEAN, false)\n})), NAME_PROGRESS); // --- Main component ---\n// @vue/component\n\nexport var BProgress = /*#__PURE__*/Vue.extend({\n  name: NAME_PROGRESS,\n  mixins: [normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvProgress: this\n    };\n  },\n  props: props,\n  computed: {\n    progressHeight: function progressHeight() {\n      return {\n        height: this.height || null\n      };\n    }\n  },\n  render: function render(h) {\n    var $childNodes = this.normalizeSlot();\n\n    if (!$childNodes) {\n      $childNodes = h(BProgressBar, {\n        props: pluckProps(progressBarProps, this.$props)\n      });\n    }\n\n    return h('div', {\n      staticClass: 'progress',\n      style: this.progressHeight\n    }, [$childNodes]);\n  }\n});","export var CODE_BACKSPACE = 8;\nexport var CODE_BREAK = 19;\nexport var CODE_DELETE = 46;\nexport var CODE_DOWN = 40;\nexport var CODE_END = 35;\nexport var CODE_ENTER = 13;\nexport var CODE_ESC = 27;\nexport var CODE_HOME = 36;\nexport var CODE_LEFT = 37;\nexport var CODE_PAGEDOWN = 34;\nexport var CODE_PAGEUP = 33;\nexport var CODE_RIGHT = 39;\nexport var CODE_SPACE = 32;\nexport var CODE_UP = 38;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { MutationObs, isElement } from './dom';\nimport { warnNoMutationObserverSupport } from './warn';\n/**\n * Observe a DOM element changes, falls back to eventListener mode\n * @param {Element} el The DOM element to observe\n * @param {Function} callback callback to be called on change\n * @param {object} [options={childList: true, subtree: true}] observe options\n * @see https://stackoverflow.com/questions/3219758\n */\n\nexport var observeDom = function observeDom(el, callback, options)\n/* istanbul ignore next: difficult to test in JSDOM */\n{\n  // Handle cases where we might be passed a Vue instance\n  el = el ? el.$el || el : null; // Early exit when we have no element\n\n  /* istanbul ignore next: difficult to test in JSDOM */\n\n  if (!isElement(el)) {\n    return null;\n  } // Exit and throw a warning when `MutationObserver` isn't available\n\n\n  if (warnNoMutationObserverSupport('observeDom')) {\n    return null;\n  } // Define a new observer\n\n\n  var obs = new MutationObs(function (mutations) {\n    var changed = false; // A mutation can contain several change records, so we loop\n    // through them to see what has changed\n    // We break out of the loop early if any \"significant\" change\n    // has been detected\n\n    for (var i = 0; i < mutations.length && !changed; i++) {\n      // The mutation record\n      var mutation = mutations[i]; // Mutation type\n\n      var type = mutation.type; // DOM node (could be any DOM node type - HTMLElement, Text, comment, etc.)\n\n      var target = mutation.target; // Detect whether a change happened based on type and target\n\n      if (type === 'characterData' && target.nodeType === Node.TEXT_NODE) {\n        // We ignore nodes that are not TEXT (i.e. comments, etc.)\n        // as they don't change layout\n        changed = true;\n      } else if (type === 'attributes') {\n        changed = true;\n      } else if (type === 'childList' && (mutation.addedNodes.length > 0 || mutation.removedNodes.length > 0)) {\n        // This includes HTMLElement and text nodes being\n        // added/removed/re-arranged\n        changed = true;\n      }\n    } // We only call the callback if a change that could affect\n    // layout/size truly happened\n\n\n    if (changed) {\n      callback();\n    }\n  }); // Have the observer observe foo for changes in children, etc\n\n  obs.observe(el, _objectSpread({\n    childList: true,\n    subtree: true\n  }, options)); // We return a reference to the observer so that `obs.disconnect()`\n  // can be called if necessary\n  // To reduce overhead when the root element is hidden\n\n  return obs;\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { cloneDeep } from './clone-deep';\nimport { looseEqual } from './loose-equal';\nimport { hasOwnProperty, keys } from './object';\n\nvar isEmpty = function isEmpty(value) {\n  return !value || keys(value).length === 0;\n};\n\nexport var makePropWatcher = function makePropWatcher(propName) {\n  return {\n    handler: function handler(newValue, oldValue) {\n      if (looseEqual(newValue, oldValue)) {\n        return;\n      }\n\n      if (isEmpty(newValue) || isEmpty(oldValue)) {\n        this[propName] = cloneDeep(newValue);\n        return;\n      }\n\n      for (var key in oldValue) {\n        if (!hasOwnProperty(newValue, key)) {\n          this.$delete(this.$data[propName], key);\n        }\n      }\n\n      for (var _key in newValue) {\n        this.$set(this.$data[propName], _key, newValue[_key]);\n      }\n    }\n  };\n};\nexport var makePropCacheMixin = function makePropCacheMixin(propName, proxyPropName) {\n  return Vue.extend({\n    data: function data() {\n      return _defineProperty({}, proxyPropName, cloneDeep(this[propName]));\n    },\n    watch: _defineProperty({}, propName, makePropWatcher(proxyPropName))\n  });\n};","import { makePropCacheMixin } from '../utils/cache';\nexport var attrsMixin = makePropCacheMixin('$attrs', 'bvAttrs');","// SSR safe client-side ID attribute generation\n// ID's can only be generated client-side, after mount\n// `this._uid` is not synched between server and client\nimport { COMPONENT_UID_KEY, Vue } from '../vue';\nimport { PROP_TYPE_STRING } from '../constants/props';\nimport { makeProp } from '../utils/props'; // --- Props ---\n\nexport var props = {\n  id: makeProp(PROP_TYPE_STRING)\n}; // --- Mixin ---\n// @vue/component\n\nexport var idMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      localId_: null\n    };\n  },\n  computed: {\n    safeId: function safeId() {\n      // Computed property that returns a dynamic function for creating the ID\n      // Reacts to changes in both `.id` and `.localId_` and regenerates a new function\n      var id = this.id || this.localId_; // We return a function that accepts an optional suffix string\n      // So this computed prop looks and works like a method\n      // but benefits from Vue's computed prop caching\n\n      var fn = function fn(suffix) {\n        if (!id) {\n          return null;\n        }\n\n        suffix = String(suffix || '').replace(/\\s+/g, '_');\n        return suffix ? id + '_' + suffix : id;\n      };\n\n      return fn;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // `mounted()` only occurs client-side\n    this.$nextTick(function () {\n      // Update DOM with auto-generated ID after mount\n      // to prevent SSR hydration errors\n      _this.localId_ = \"__BVID__\".concat(_this[COMPONENT_UID_KEY]);\n    });\n  }\n});","import { Vue } from '../vue';\nimport { IS_BROWSER } from '../constants/env';\nimport { EVENT_OPTIONS_NO_CAPTURE, HOOK_EVENT_NAME_BEFORE_DESTROY } from '../constants/events';\nimport { arrayIncludes } from '../utils/array';\nimport { eventOn, eventOff } from '../utils/events';\nimport { isString, isFunction } from '../utils/inspect';\nimport { keys } from '../utils/object'; // --- Constants ---\n\nvar PROP = '$_bv_documentHandlers_'; // --- Mixin ---\n// @vue/component\n\nexport var listenOnDocumentMixin = Vue.extend({\n  created: function created() {\n    var _this = this;\n\n    /* istanbul ignore next */\n    if (!IS_BROWSER) {\n      return;\n    } // Declare non-reactive property\n    // Object of arrays, keyed by event name,\n    // where value is an array of handlers\n    // Prop will be defined on client only\n\n\n    this[PROP] = {}; // Set up our beforeDestroy handler (client only)\n\n    this.$once(HOOK_EVENT_NAME_BEFORE_DESTROY, function () {\n      var items = _this[PROP] || {}; // Immediately delete this[PROP] to prevent the\n      // listenOn/Off methods from running (which may occur\n      // due to requestAnimationFrame/transition delays)\n\n      delete _this[PROP]; // Remove all registered event handlers\n\n      keys(items).forEach(function (eventName) {\n        var handlers = items[eventName] || [];\n        handlers.forEach(function (handler) {\n          return eventOff(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        });\n      });\n    });\n  },\n  methods: {\n    listenDocument: function listenDocument(on, eventName, handler) {\n      on ? this.listenOnDocument(eventName, handler) : this.listenOffDocument(eventName, handler);\n    },\n    listenOnDocument: function listenOnDocument(eventName, handler) {\n      if (this[PROP] && isString(eventName) && isFunction(handler)) {\n        this[PROP][eventName] = this[PROP][eventName] || [];\n\n        if (!arrayIncludes(this[PROP][eventName], handler)) {\n          this[PROP][eventName].push(handler);\n          eventOn(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        }\n      }\n    },\n    listenOffDocument: function listenOffDocument(eventName, handler) {\n      if (this[PROP] && isString(eventName) && isFunction(handler)) {\n        eventOff(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        this[PROP][eventName] = (this[PROP][eventName] || []).filter(function (h) {\n          return h !== handler;\n        });\n      }\n    }\n  }\n});","import { Vue } from '../vue';\nimport { IS_BROWSER } from '../constants/env';\nimport { EVENT_OPTIONS_NO_CAPTURE } from '../constants/events';\nimport { arrayIncludes } from '../utils/array';\nimport { eventOn, eventOff } from '../utils/events';\nimport { isString, isFunction } from '../utils/inspect';\nimport { keys } from '../utils/object'; // --- Constants ---\n\nvar PROP = '$_bv_windowHandlers_'; // --- Mixin ---\n// @vue/component\n\nexport var listenOnWindowMixin = Vue.extend({\n  beforeCreate: function beforeCreate() {\n    // Declare non-reactive property\n    // Object of arrays, keyed by event name,\n    // where value is an array of handlers\n    this[PROP] = {};\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (IS_BROWSER) {\n      var items = this[PROP]; // Immediately delete this[PROP] to prevent the\n      // listenOn/Off methods from running (which may occur\n      // due to requestAnimationFrame delays)\n\n      delete this[PROP]; // Remove all registered event handlers\n\n      keys(items).forEach(function (eventName) {\n        var handlers = items[eventName] || [];\n        handlers.forEach(function (handler) {\n          return eventOff(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        });\n      });\n    }\n  },\n  methods: {\n    listenWindow: function listenWindow(on, eventName, handler) {\n      on ? this.listenOnWindow(eventName, handler) : this.listenOffWindow(eventName, handler);\n    },\n    listenOnWindow: function listenOnWindow(eventName, handler) {\n      if (IS_BROWSER && this[PROP] && isString(eventName) && isFunction(handler)) {\n        this[PROP][eventName] = this[PROP][eventName] || [];\n\n        if (!arrayIncludes(this[PROP][eventName], handler)) {\n          this[PROP][eventName].push(handler);\n          eventOn(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        }\n      }\n    },\n    listenOffWindow: function listenOffWindow(eventName, handler) {\n      if (IS_BROWSER && this[PROP] && isString(eventName) && isFunction(handler)) {\n        eventOff(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        this[PROP][eventName] = (this[PROP][eventName] || []).filter(function (h) {\n          return h !== handler;\n        });\n      }\n    }\n  }\n});","import { RX_ENCODED_COMMA, RX_ENCODE_REVERSE, RX_PLUS, RX_QUERY_START } from '../constants/regex';\nimport { isTag } from './dom';\nimport { isArray, isNull, isPlainObject, isString, isUndefined } from './inspect';\nimport { keys } from './object';\nimport { toString } from './string';\nvar ANCHOR_TAG = 'a'; // Method to replace reserved chars\n\nvar encodeReserveReplacer = function encodeReserveReplacer(c) {\n  return '%' + c.charCodeAt(0).toString(16);\n}; // Fixed encodeURIComponent which is more conformant to RFC3986:\n// - escapes [!'()*]\n// - preserve commas\n\n\nvar encode = function encode(str) {\n  return encodeURIComponent(toString(str)).replace(RX_ENCODE_REVERSE, encodeReserveReplacer).replace(RX_ENCODED_COMMA, ',');\n};\n\nvar decode = decodeURIComponent; // Stringifies an object of query parameters\n// See: https://github.com/vuejs/vue-router/blob/dev/src/util/query.js\n\nexport var stringifyQueryObj = function stringifyQueryObj(obj) {\n  if (!isPlainObject(obj)) {\n    return '';\n  }\n\n  var query = keys(obj).map(function (key) {\n    var value = obj[key];\n\n    if (isUndefined(value)) {\n      return '';\n    } else if (isNull(value)) {\n      return encode(key);\n    } else if (isArray(value)) {\n      return value.reduce(function (results, value2) {\n        if (isNull(value2)) {\n          results.push(encode(key));\n        } else if (!isUndefined(value2)) {\n          // Faster than string interpolation\n          results.push(encode(key) + '=' + encode(value2));\n        }\n\n        return results;\n      }, []).join('&');\n    } // Faster than string interpolation\n\n\n    return encode(key) + '=' + encode(value);\n  })\n  /* must check for length, as we only want to filter empty strings, not things that look falsey! */\n  .filter(function (x) {\n    return x.length > 0;\n  }).join('&');\n  return query ? \"?\".concat(query) : '';\n};\nexport var parseQuery = function parseQuery(query) {\n  var parsed = {};\n  query = toString(query).trim().replace(RX_QUERY_START, '');\n\n  if (!query) {\n    return parsed;\n  }\n\n  query.split('&').forEach(function (param) {\n    var parts = param.replace(RX_PLUS, ' ').split('=');\n    var key = decode(parts.shift());\n    var value = parts.length > 0 ? decode(parts.join('=')) : null;\n\n    if (isUndefined(parsed[key])) {\n      parsed[key] = value;\n    } else if (isArray(parsed[key])) {\n      parsed[key].push(value);\n    } else {\n      parsed[key] = [parsed[key], value];\n    }\n  });\n  return parsed;\n};\nexport var isLink = function isLink(props) {\n  return !!(props.href || props.to);\n};\nexport var isRouterLink = function isRouterLink(tag) {\n  return !!(tag && !isTag(tag, 'a'));\n};\nexport var computeTag = function computeTag(_ref, thisOrParent) {\n  var to = _ref.to,\n      disabled = _ref.disabled,\n      routerComponentName = _ref.routerComponentName;\n  var hasRouter = !!thisOrParent.$router;\n\n  if (!hasRouter || hasRouter && (disabled || !to)) {\n    return ANCHOR_TAG;\n  } // TODO:\n  //   Check registered components for existence of user supplied router link component name\n  //   We would need to check PascalCase, kebab-case, and camelCase versions of name:\n  //   const name = routerComponentName\n  //   const names = [name, PascalCase(name), KebabCase(name), CamelCase(name)]\n  //   exists = names.some(name => !!thisOrParent.$options.components[name])\n  //   And may want to cache the result for performance or we just let the render fail\n  //   if the component is not registered\n\n\n  return routerComponentName || (thisOrParent.$nuxt ? 'nuxt-link' : 'router-link');\n};\nexport var computeRel = function computeRel() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      target = _ref2.target,\n      rel = _ref2.rel;\n\n  return target === '_blank' && isNull(rel) ? 'noopener' : rel || null;\n};\nexport var computeHref = function computeHref() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      href = _ref3.href,\n      to = _ref3.to;\n\n  var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ANCHOR_TAG;\n  var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '#';\n  var toFallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '/';\n\n  // Return `href` when explicitly provided\n  if (href) {\n    return href;\n  } // We've checked for `$router` in `computeTag()`, so `isRouterLink()` indicates a live router\n  // When deferring to Vue Router's `<router-link>`, don't use the `href` attribute at all\n  // We return `null`, and then remove `href` from the attributes passed to `<router-link>`\n\n\n  if (isRouterLink(tag)) {\n    return null;\n  } // Fallback to `to` prop (if `to` is a string)\n\n\n  if (isString(to)) {\n    return to || toFallback;\n  } // Fallback to `to.path' + `to.query` + `to.hash` prop (if `to` is an object)\n\n\n  if (isPlainObject(to) && (to.path || to.query || to.hash)) {\n    var path = toString(to.path);\n    var query = stringifyQueryObj(to.query);\n    var hash = toString(to.hash);\n    hash = !hash || hash.charAt(0) === '#' ? hash : \"#\".concat(hash);\n    return \"\".concat(path).concat(query).concat(hash) || toFallback;\n  } // If nothing is provided return the fallback\n\n\n  return fallback;\n};","import { makePropCacheMixin } from '../utils/cache';\nexport var listenersMixin = makePropCacheMixin('$listeners', 'bvListeners');","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_LINK } from '../../constants/components';\nimport { EVENT_NAME_CLICK } from '../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { concat } from '../../utils/array';\nimport { attemptBlur, attemptFocus, isTag } from '../../utils/dom';\nimport { getRootEventName, stopEvent } from '../../utils/events';\nimport { isBoolean, isEvent, isFunction, isUndefined } from '../../utils/inspect';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { computeHref, computeRel, computeTag, isRouterLink as _isRouterLink } from '../../utils/router';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Constants ---\n\nvar ROOT_EVENT_NAME_CLICKED = getRootEventName(NAME_LINK, 'clicked'); // --- Props ---\n// `<router-link>` specific props\n\nexport var routerLinkProps = {\n  activeClass: makeProp(PROP_TYPE_STRING),\n  append: makeProp(PROP_TYPE_BOOLEAN, false),\n  event: makeProp(PROP_TYPE_ARRAY_STRING, EVENT_NAME_CLICK),\n  exact: makeProp(PROP_TYPE_BOOLEAN, false),\n  exactActiveClass: makeProp(PROP_TYPE_STRING),\n  replace: makeProp(PROP_TYPE_BOOLEAN, false),\n  routerTag: makeProp(PROP_TYPE_STRING, 'a'),\n  to: makeProp(PROP_TYPE_OBJECT_STRING)\n}; // `<nuxt-link>` specific props\n\nexport var nuxtLinkProps = {\n  noPrefetch: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Must be `null` to fall back to the value defined in the\n  // `nuxt.config.js` configuration file for `router.prefetchLinks`\n  // We convert `null` to `undefined`, so that Nuxt.js will use the\n  // compiled default\n  // Vue treats `undefined` as default of `false` for Boolean props,\n  // so we must set it as `null` here to be a true tri-state prop\n  prefetch: makeProp(PROP_TYPE_BOOLEAN, null)\n}; // All `<b-link>` props\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, nuxtLinkProps), routerLinkProps), {}, {\n  active: makeProp(PROP_TYPE_BOOLEAN, false),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  href: makeProp(PROP_TYPE_STRING),\n  // Must be `null` if no value provided\n  rel: makeProp(PROP_TYPE_STRING, null),\n  // To support 3rd party router links based on `<router-link>` (i.e. `g-link` for Gridsome)\n  // Default is to auto choose between `<router-link>` and `<nuxt-link>`\n  // Gridsome doesn't provide a mechanism to auto detect and has caveats\n  // such as not supporting FQDN URLs or hash only URLs\n  routerComponentName: makeProp(PROP_TYPE_STRING),\n  target: makeProp(PROP_TYPE_STRING, '_self')\n})), NAME_LINK); // --- Main component ---\n// @vue/component\n\nexport var BLink = /*#__PURE__*/Vue.extend({\n  name: NAME_LINK,\n  // Mixin order is important!\n  mixins: [attrsMixin, listenersMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    computedTag: function computedTag() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var to = this.to,\n          disabled = this.disabled,\n          routerComponentName = this.routerComponentName;\n      return computeTag({\n        to: to,\n        disabled: disabled,\n        routerComponentName: routerComponentName\n      }, this);\n    },\n    isRouterLink: function isRouterLink() {\n      return _isRouterLink(this.computedTag);\n    },\n    computedRel: function computedRel() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var target = this.target,\n          rel = this.rel;\n      return computeRel({\n        target: target,\n        rel: rel\n      });\n    },\n    computedHref: function computedHref() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var to = this.to,\n          href = this.href;\n      return computeHref({\n        to: to,\n        href: href\n      }, this.computedTag);\n    },\n    computedProps: function computedProps() {\n      var prefetch = this.prefetch;\n      return this.isRouterLink ? _objectSpread(_objectSpread({}, pluckProps(_objectSpread(_objectSpread({}, routerLinkProps), nuxtLinkProps), this)), {}, {\n        // Coerce `prefetch` value `null` to be `undefined`\n        prefetch: isBoolean(prefetch) ? prefetch : undefined,\n        // Pass `router-tag` as `tag` prop\n        tag: this.routerTag\n      }) : {};\n    },\n    computedAttrs: function computedAttrs() {\n      var bvAttrs = this.bvAttrs,\n          href = this.computedHref,\n          rel = this.computedRel,\n          disabled = this.disabled,\n          target = this.target,\n          routerTag = this.routerTag,\n          isRouterLink = this.isRouterLink;\n      return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, bvAttrs), href ? {\n        href: href\n      } : {}), isRouterLink && !isTag(routerTag, 'a') ? {} : {\n        rel: rel,\n        target: target\n      }), {}, {\n        tabindex: disabled ? '-1' : isUndefined(bvAttrs.tabindex) ? null : bvAttrs.tabindex,\n        'aria-disabled': disabled ? 'true' : null\n      });\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        // We want to overwrite any click handler since our callback\n        // will invoke the user supplied handler(s) if `!this.disabled`\n        click: this.onClick\n      });\n    }\n  },\n  methods: {\n    onClick: function onClick(event) {\n      var _arguments = arguments;\n      var eventIsEvent = isEvent(event);\n      var isRouterLink = this.isRouterLink;\n      var suppliedHandler = this.bvListeners.click;\n\n      if (eventIsEvent && this.disabled) {\n        // Stop event from bubbling up\n        // Kill the event loop attached to this specific `EventTarget`\n        // Needed to prevent `vue-router` for doing its thing\n        stopEvent(event, {\n          immediatePropagation: true\n        });\n      } else {\n        /* istanbul ignore next: difficult to test, but we know it works */\n        if (isRouterLink && event.currentTarget.__vue__) {\n          // Router links do not emit instance `click` events, so we\n          // add in an `$emit('click', event)` on its Vue instance\n          event.currentTarget.__vue__.$emit(EVENT_NAME_CLICK, event);\n        } // Call the suppliedHandler(s), if any provided\n\n\n        concat(suppliedHandler).filter(function (h) {\n          return isFunction(h);\n        }).forEach(function (handler) {\n          handler.apply(void 0, _toConsumableArray(_arguments));\n        }); // Emit the global `$root` click event\n\n        this.emitOnRoot(ROOT_EVENT_NAME_CLICKED, event); // TODO: Remove deprecated 'clicked::link' event with next major release\n\n        this.emitOnRoot('clicked::link', event);\n      } // Stop scroll-to-top behavior or navigation on\n      // regular links when href is just '#'\n\n\n      if (eventIsEvent && !isRouterLink && this.computedHref === '#') {\n        stopEvent(event, {\n          propagation: false\n        });\n      }\n    },\n    focus: function focus() {\n      attemptFocus(this.$el);\n    },\n    blur: function blur() {\n      attemptBlur(this.$el);\n    }\n  },\n  render: function render(h) {\n    var active = this.active,\n        disabled = this.disabled;\n    return h(this.computedTag, _defineProperty({\n      class: {\n        active: active,\n        disabled: disabled\n      },\n      attrs: this.computedAttrs,\n      props: this.computedProps\n    }, this.isRouterLink ? 'nativeOn' : 'on', this.computedListeners), this.normalizeSlot());\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_BUTTON } from '../../constants/components';\nimport { CODE_ENTER, CODE_SPACE } from '../../constants/key-codes';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { concat } from '../../utils/array';\nimport { addClass, isTag, removeClass } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { isBoolean, isEvent, isFunction } from '../../utils/inspect';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { isLink as isLinkStrict } from '../../utils/router';\nimport { BLink, props as BLinkProps } from '../link/link'; // --- Props ---\n\nvar linkProps = omit(BLinkProps, ['event', 'routerTag']);\ndelete linkProps.href.default;\ndelete linkProps.to.default;\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, linkProps), {}, {\n  block: makeProp(PROP_TYPE_BOOLEAN, false),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  pill: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Tri-state: `true`, `false` or `null`\n  // => On, off, not a toggle\n  pressed: makeProp(PROP_TYPE_BOOLEAN, null),\n  size: makeProp(PROP_TYPE_STRING),\n  squared: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'button'),\n  type: makeProp(PROP_TYPE_STRING, 'button'),\n  variant: makeProp(PROP_TYPE_STRING, 'secondary')\n})), NAME_BUTTON); // --- Helper methods ---\n// Focus handler for toggle buttons\n// Needs class of 'focus' when focused\n\nvar handleFocus = function handleFocus(event) {\n  if (event.type === 'focusin') {\n    addClass(event.target, 'focus');\n  } else if (event.type === 'focusout') {\n    removeClass(event.target, 'focus');\n  }\n}; // Is the requested button a link?\n// If tag prop is set to `a`, we use a <b-link> to get proper disabled handling\n\n\nvar isLink = function isLink(props) {\n  return isLinkStrict(props) || isTag(props.tag, 'a');\n}; // Is the button to be a toggle button?\n\n\nvar isToggle = function isToggle(props) {\n  return isBoolean(props.pressed);\n}; // Is the button \"really\" a button?\n\n\nvar isButton = function isButton(props) {\n  return !(isLink(props) || props.tag && !isTag(props.tag, 'button'));\n}; // Is the requested tag not a button or link?\n\n\nvar isNonStandardTag = function isNonStandardTag(props) {\n  return !isLink(props) && !isButton(props);\n}; // Compute required classes (non static classes)\n\n\nvar computeClass = function computeClass(props) {\n  var _ref;\n\n  return [\"btn-\".concat(props.variant || 'secondary'), (_ref = {}, _defineProperty(_ref, \"btn-\".concat(props.size), props.size), _defineProperty(_ref, 'btn-block', props.block), _defineProperty(_ref, 'rounded-pill', props.pill), _defineProperty(_ref, 'rounded-0', props.squared && !props.pill), _defineProperty(_ref, \"disabled\", props.disabled), _defineProperty(_ref, \"active\", props.pressed), _ref)];\n}; // Compute the link props to pass to b-link (if required)\n\n\nvar computeLinkProps = function computeLinkProps(props) {\n  return isLink(props) ? pluckProps(linkProps, props) : {};\n}; // Compute the attributes for a button\n\n\nvar computeAttrs = function computeAttrs(props, data) {\n  var button = isButton(props);\n  var link = isLink(props);\n  var toggle = isToggle(props);\n  var nonStandardTag = isNonStandardTag(props);\n  var hashLink = link && props.href === '#';\n  var role = data.attrs && data.attrs.role ? data.attrs.role : null;\n  var tabindex = data.attrs ? data.attrs.tabindex : null;\n\n  if (nonStandardTag || hashLink) {\n    tabindex = '0';\n  }\n\n  return {\n    // Type only used for \"real\" buttons\n    type: button && !link ? props.type : null,\n    // Disabled only set on \"real\" buttons\n    disabled: button ? props.disabled : null,\n    // We add a role of button when the tag is not a link or button for ARIA\n    // Don't bork any role provided in `data.attrs` when `isLink` or `isButton`\n    // Except when link has `href` of `#`\n    role: nonStandardTag || hashLink ? 'button' : role,\n    // We set the `aria-disabled` state for non-standard tags\n    'aria-disabled': nonStandardTag ? String(props.disabled) : null,\n    // For toggles, we need to set the pressed state for ARIA\n    'aria-pressed': toggle ? String(props.pressed) : null,\n    // `autocomplete=\"off\"` is needed in toggle mode to prevent some browsers\n    // from remembering the previous setting when using the back button\n    autocomplete: toggle ? 'off' : null,\n    // `tabindex` is used when the component is not a button\n    // Links are tabbable, but don't allow disabled, while non buttons or links\n    // are not tabbable, so we mimic that functionality by disabling tabbing\n    // when disabled, and adding a `tabindex=\"0\"` to non buttons or non links\n    tabindex: props.disabled && !button ? '-1' : tabindex\n  };\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BButton = /*#__PURE__*/Vue.extend({\n  name: NAME_BUTTON,\n  functional: true,\n  props: props,\n  render: function render(h, _ref2) {\n    var props = _ref2.props,\n        data = _ref2.data,\n        listeners = _ref2.listeners,\n        children = _ref2.children;\n    var toggle = isToggle(props);\n    var link = isLink(props);\n    var nonStandardTag = isNonStandardTag(props);\n    var hashLink = link && props.href === '#';\n    var on = {\n      keydown: function keydown(event) {\n        // When the link is a `href=\"#\"` or a non-standard tag (has `role=\"button\"`),\n        // we add a keydown handlers for CODE_SPACE/CODE_ENTER\n\n        /* istanbul ignore next */\n        if (props.disabled || !(nonStandardTag || hashLink)) {\n          return;\n        }\n\n        var keyCode = event.keyCode; // Add CODE_SPACE handler for `href=\"#\"` and CODE_ENTER handler for non-standard tags\n\n        if (keyCode === CODE_SPACE || keyCode === CODE_ENTER && nonStandardTag) {\n          var target = event.currentTarget || event.target;\n          stopEvent(event, {\n            propagation: false\n          });\n          target.click();\n        }\n      },\n      click: function click(event) {\n        /* istanbul ignore if: blink/button disabled should handle this */\n        if (props.disabled && isEvent(event)) {\n          stopEvent(event);\n        } else if (toggle && listeners && listeners['update:pressed']) {\n          // Send `.sync` updates to any \"pressed\" prop (if `.sync` listeners)\n          // `concat()` will normalize the value to an array without\n          // double wrapping an array value in an array\n          concat(listeners['update:pressed']).forEach(function (fn) {\n            if (isFunction(fn)) {\n              fn(!props.pressed);\n            }\n          });\n        }\n      }\n    };\n\n    if (toggle) {\n      on.focusin = handleFocus;\n      on.focusout = handleFocus;\n    }\n\n    var componentData = {\n      staticClass: 'btn',\n      class: computeClass(props),\n      props: computeLinkProps(props),\n      attrs: computeAttrs(props, data),\n      on: on\n    };\n    return h(link ? BLink : props.tag, mergeData(data, componentData), children);\n  }\n});","import { Vue } from '../../vue';\nimport { NAME_TRANSPORTER, NAME_TRANSPORTER_TARGET } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { PROP_TYPE_ARRAY_FUNCTION, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { concat } from '../../utils/array';\nimport { removeNode, select } from '../../utils/dom';\nimport { identity } from '../../utils/identity';\nimport { isFunction, isString } from '../../utils/inspect';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { makeProp } from '../../utils/props'; // --- Helper components ---\n// BVTransporter/BVTransporterTarget:\n//\n// Single root node portaling of content, which retains parent/child hierarchy\n// Unlike Portal-Vue where portaled content is no longer a descendent of its\n// intended parent components\n//\n// Private components for use by Tooltips, Popovers and Modals\n//\n// Based on vue-simple-portal\n// https://github.com/LinusBorg/vue-simple-portal\n// Transporter target used by BVTransporter\n// Supports only a single root element\n// @vue/component\n\nvar BVTransporterTarget = /*#__PURE__*/Vue.extend({\n  // As an abstract component, it doesn't appear in the $parent chain of\n  // components, which means the next parent of any component rendered inside\n  // of this one will be the parent from which is was portal'd\n  abstract: true,\n  name: NAME_TRANSPORTER_TARGET,\n  props: {\n    // Even though we only support a single root element,\n    // VNodes are always passed as an array\n    nodes: makeProp(PROP_TYPE_ARRAY_FUNCTION)\n  },\n  data: function data(vm) {\n    return {\n      updatedNodes: vm.nodes\n    };\n  },\n  destroyed: function destroyed() {\n    removeNode(this.$el);\n  },\n  render: function render(h) {\n    var updatedNodes = this.updatedNodes;\n    var $nodes = isFunction(updatedNodes) ? updatedNodes({}) : updatedNodes;\n    $nodes = concat($nodes).filter(identity);\n\n    if ($nodes && $nodes.length > 0 && !$nodes[0].text) {\n      return $nodes[0];\n    }\n    /* istanbul ignore next */\n\n\n    return h();\n  }\n}); // --- Props ---\n\nexport var props = {\n  // String: CSS selector,\n  // HTMLElement: Element reference\n  // Mainly needed for tooltips/popovers inside modals\n  container: makeProp([HTMLElement, PROP_TYPE_STRING], 'body'),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  // This should be set to match the root element type\n  tag: makeProp(PROP_TYPE_STRING, 'div')\n}; // --- Main component ---\n// @vue/component\n\nexport var BVTransporter = /*#__PURE__*/Vue.extend({\n  name: NAME_TRANSPORTER,\n  mixins: [normalizeSlotMixin],\n  props: props,\n  watch: {\n    disabled: {\n      immediate: true,\n      handler: function handler(disabled) {\n        disabled ? this.unmountTarget() : this.$nextTick(this.mountTarget);\n      }\n    }\n  },\n  created: function created() {\n    // Create private non-reactive props\n    this.$_defaultFn = null;\n    this.$_target = null;\n  },\n  beforeMount: function beforeMount() {\n    this.mountTarget();\n  },\n  updated: function updated() {\n    // We need to make sure that all children have completed updating\n    // before rendering in the target\n    // `vue-simple-portal` has the this in a `$nextTick()`,\n    // while `portal-vue` doesn't\n    // Just trying to see if the `$nextTick()` delay is required or not\n    // Since all slots in Vue 2.6.x are always functions\n    this.updateTarget();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unmountTarget();\n    this.$_defaultFn = null;\n  },\n  methods: {\n    // Get the element which the target should be appended to\n    getContainer: function getContainer() {\n      /* istanbul ignore else */\n      if (IS_BROWSER) {\n        var container = this.container;\n        return isString(container) ? select(container) : container;\n      } else {\n        return null;\n      }\n    },\n    // Mount the target\n    mountTarget: function mountTarget() {\n      if (!this.$_target) {\n        var $container = this.getContainer();\n\n        if ($container) {\n          var $el = document.createElement('div');\n          $container.appendChild($el);\n          this.$_target = new BVTransporterTarget({\n            el: $el,\n            parent: this,\n            propsData: {\n              // Initial nodes to be rendered\n              nodes: concat(this.normalizeSlot())\n            }\n          });\n        }\n      }\n    },\n    // Update the content of the target\n    updateTarget: function updateTarget() {\n      if (IS_BROWSER && this.$_target) {\n        var defaultFn = this.$scopedSlots.default;\n\n        if (!this.disabled) {\n          /* istanbul ignore else: only applicable in Vue 2.5.x */\n          if (defaultFn && this.$_defaultFn !== defaultFn) {\n            // We only update the target component if the scoped slot\n            // function is a fresh one. The new slot syntax (since Vue 2.6)\n            // can cache unchanged slot functions and we want to respect that here\n            this.$_target.updatedNodes = defaultFn;\n          } else if (!defaultFn) {\n            // We also need to be back compatible with non-scoped default slot (i.e. 2.5.x)\n            this.$_target.updatedNodes = this.$slots.default;\n          }\n        } // Update the scoped slot function cache\n\n\n        this.$_defaultFn = defaultFn;\n      }\n    },\n    // Unmount the target\n    unmountTarget: function unmountTarget() {\n      this.$_target && this.$_target.$destroy();\n      this.$_target = null;\n    }\n  },\n  render: function render(h) {\n    // This component has no root element, so only a single VNode is allowed\n    if (this.disabled) {\n      var $nodes = concat(this.normalizeSlot()).filter(identity);\n\n      if ($nodes.length > 0 && !$nodes[0].text) {\n        return $nodes[0];\n      }\n    }\n\n    return h();\n  }\n});","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { BvEvent } from '../../../utils/bv-event.class';\nimport { defineProperties, readonlyDescriptor } from '../../../utils/object';\n\nvar BvModalEvent = /*#__PURE__*/function (_BvEvent) {\n  _inherits(BvModalEvent, _BvEvent);\n\n  var _super = _createSuper(BvModalEvent);\n\n  function BvModalEvent(type) {\n    var _this;\n\n    var eventInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, BvModalEvent);\n\n    _this = _super.call(this, type, eventInit); // Freeze our new props as readonly, but leave them enumerable\n\n    defineProperties(_assertThisInitialized(_this), {\n      trigger: readonlyDescriptor()\n    });\n    return _this;\n  }\n\n  _createClass(BvModalEvent, null, [{\n    key: \"Defaults\",\n    get: function get() {\n      return _objectSpread(_objectSpread({}, _get(_getPrototypeOf(BvModalEvent), \"Defaults\", this)), {}, {\n        trigger: null\n      });\n    }\n  }]);\n\n  return BvModalEvent;\n}(BvEvent); // Named exports\n\n\nexport { BvModalEvent };","/**\n * Private ModalManager helper\n * Handles controlling modal stacking zIndexes and body adjustments/classes\n */\nimport { Vue } from '../../../vue';\nimport { IS_BROWSER } from '../../../constants/env';\nimport { HOOK_EVENT_NAME_BEFORE_DESTROY } from '../../../constants/events';\nimport { addClass, getAttr, getBCR, getCS, getStyle, hasAttr, removeAttr, removeClass, requestAF, selectAll, setAttr, setStyle } from '../../../utils/dom';\nimport { isNull } from '../../../utils/inspect';\nimport { toFloat, toInteger } from '../../../utils/number'; // --- Constants ---\n// Default modal backdrop z-index\n\nvar DEFAULT_ZINDEX = 1040; // Selectors for padding/margin adjustments\n\nvar SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\nvar SELECTOR_STICKY_CONTENT = '.sticky-top';\nvar SELECTOR_NAVBAR_TOGGLER = '.navbar-toggler'; // --- Main component ---\n// @vue/component\n\nvar ModalManager = /*#__PURE__*/Vue.extend({\n  data: function data() {\n    return {\n      modals: [],\n      baseZIndex: null,\n      scrollbarWidth: null,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalCount: function modalCount() {\n      return this.modals.length;\n    },\n    modalsAreOpen: function modalsAreOpen() {\n      return this.modalCount > 0;\n    }\n  },\n  watch: {\n    modalCount: function modalCount(newCount, oldCount) {\n      if (IS_BROWSER) {\n        this.getScrollbarWidth();\n\n        if (newCount > 0 && oldCount === 0) {\n          // Transitioning to modal(s) open\n          this.checkScrollbar();\n          this.setScrollbar();\n          addClass(document.body, 'modal-open');\n        } else if (newCount === 0 && oldCount > 0) {\n          // Transitioning to modal(s) closed\n          this.resetScrollbar();\n          removeClass(document.body, 'modal-open');\n        }\n\n        setAttr(document.body, 'data-modal-open-count', String(newCount));\n      }\n    },\n    modals: function modals(newValue) {\n      var _this = this;\n\n      this.checkScrollbar();\n      requestAF(function () {\n        _this.updateModals(newValue || []);\n      });\n    }\n  },\n  methods: {\n    // Public methods\n    registerModal: function registerModal(modal) {\n      var _this2 = this;\n\n      // Register the modal if not already registered\n      if (modal && this.modals.indexOf(modal) === -1) {\n        // Add modal to modals array\n        this.modals.push(modal);\n        modal.$once(HOOK_EVENT_NAME_BEFORE_DESTROY, function () {\n          _this2.unregisterModal(modal);\n        });\n      }\n    },\n    unregisterModal: function unregisterModal(modal) {\n      var index = this.modals.indexOf(modal);\n\n      if (index > -1) {\n        // Remove modal from modals array\n        this.modals.splice(index, 1); // Reset the modal's data\n\n        if (!(modal._isBeingDestroyed || modal._isDestroyed)) {\n          this.resetModal(modal);\n        }\n      }\n    },\n    getBaseZIndex: function getBaseZIndex() {\n      if (isNull(this.baseZIndex) && IS_BROWSER) {\n        // Create a temporary `div.modal-backdrop` to get computed z-index\n        var div = document.createElement('div');\n        addClass(div, 'modal-backdrop');\n        addClass(div, 'd-none');\n        setStyle(div, 'display', 'none');\n        document.body.appendChild(div);\n        this.baseZIndex = toInteger(getCS(div).zIndex, DEFAULT_ZINDEX);\n        document.body.removeChild(div);\n      }\n\n      return this.baseZIndex || DEFAULT_ZINDEX;\n    },\n    getScrollbarWidth: function getScrollbarWidth() {\n      if (isNull(this.scrollbarWidth) && IS_BROWSER) {\n        // Create a temporary `div.measure-scrollbar` to get computed z-index\n        var div = document.createElement('div');\n        addClass(div, 'modal-scrollbar-measure');\n        document.body.appendChild(div);\n        this.scrollbarWidth = getBCR(div).width - div.clientWidth;\n        document.body.removeChild(div);\n      }\n\n      return this.scrollbarWidth || 0;\n    },\n    // Private methods\n    updateModals: function updateModals(modals) {\n      var _this3 = this;\n\n      var baseZIndex = this.getBaseZIndex();\n      var scrollbarWidth = this.getScrollbarWidth();\n      modals.forEach(function (modal, index) {\n        // We update data values on each modal\n        modal.zIndex = baseZIndex + index;\n        modal.scrollbarWidth = scrollbarWidth;\n        modal.isTop = index === _this3.modals.length - 1;\n        modal.isBodyOverflowing = _this3.isBodyOverflowing;\n      });\n    },\n    resetModal: function resetModal(modal) {\n      if (modal) {\n        modal.zIndex = this.getBaseZIndex();\n        modal.isTop = true;\n        modal.isBodyOverflowing = false;\n      }\n    },\n    checkScrollbar: function checkScrollbar() {\n      // Determine if the body element is overflowing\n      var _getBCR = getBCR(document.body),\n          left = _getBCR.left,\n          right = _getBCR.right;\n\n      this.isBodyOverflowing = left + right < window.innerWidth;\n    },\n    setScrollbar: function setScrollbar() {\n      var body = document.body; // Storage place to cache changes to margins and padding\n      // Note: This assumes the following element types are not added to the\n      // document after the modal has opened.\n\n      body._paddingChangedForModal = body._paddingChangedForModal || [];\n      body._marginChangedForModal = body._marginChangedForModal || [];\n\n      if (this.isBodyOverflowing) {\n        var scrollbarWidth = this.scrollbarWidth; // Adjust fixed content padding\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_FIXED_CONTENT).forEach(function (el) {\n          var actualPadding = getStyle(el, 'paddingRight') || '';\n          setAttr(el, 'data-padding-right', actualPadding);\n          setStyle(el, 'paddingRight', \"\".concat(toFloat(getCS(el).paddingRight, 0) + scrollbarWidth, \"px\"));\n\n          body._paddingChangedForModal.push(el);\n        }); // Adjust sticky content margin\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_STICKY_CONTENT).forEach(function (el)\n        /* istanbul ignore next */\n        {\n          var actualMargin = getStyle(el, 'marginRight') || '';\n          setAttr(el, 'data-margin-right', actualMargin);\n          setStyle(el, 'marginRight', \"\".concat(toFloat(getCS(el).marginRight, 0) - scrollbarWidth, \"px\"));\n\n          body._marginChangedForModal.push(el);\n        }); // Adjust <b-navbar-toggler> margin\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_NAVBAR_TOGGLER).forEach(function (el)\n        /* istanbul ignore next */\n        {\n          var actualMargin = getStyle(el, 'marginRight') || '';\n          setAttr(el, 'data-margin-right', actualMargin);\n          setStyle(el, 'marginRight', \"\".concat(toFloat(getCS(el).marginRight, 0) + scrollbarWidth, \"px\"));\n\n          body._marginChangedForModal.push(el);\n        }); // Adjust body padding\n\n        var actualPadding = getStyle(body, 'paddingRight') || '';\n        setAttr(body, 'data-padding-right', actualPadding);\n        setStyle(body, 'paddingRight', \"\".concat(toFloat(getCS(body).paddingRight, 0) + scrollbarWidth, \"px\"));\n      }\n    },\n    resetScrollbar: function resetScrollbar() {\n      var body = document.body;\n\n      if (body._paddingChangedForModal) {\n        // Restore fixed content padding\n        body._paddingChangedForModal.forEach(function (el) {\n          /* istanbul ignore next: difficult to test in JSDOM */\n          if (hasAttr(el, 'data-padding-right')) {\n            setStyle(el, 'paddingRight', getAttr(el, 'data-padding-right') || '');\n            removeAttr(el, 'data-padding-right');\n          }\n        });\n      }\n\n      if (body._marginChangedForModal) {\n        // Restore sticky content and navbar-toggler margin\n        body._marginChangedForModal.forEach(function (el) {\n          /* istanbul ignore next: difficult to test in JSDOM */\n          if (hasAttr(el, 'data-margin-right')) {\n            setStyle(el, 'marginRight', getAttr(el, 'data-margin-right') || '');\n            removeAttr(el, 'data-margin-right');\n          }\n        });\n      }\n\n      body._paddingChangedForModal = null;\n      body._marginChangedForModal = null; // Restore body padding\n\n      if (hasAttr(body, 'data-padding-right')) {\n        setStyle(body, 'paddingRight', getAttr(body, 'data-padding-right') || '');\n        removeAttr(body, 'data-padding-right');\n      }\n    }\n  }\n}); // Create and export our modal manager instance\n\nexport var modalManager = new ModalManager();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { COMPONENT_UID_KEY, Vue } from '../../vue';\nimport { NAME_MODAL } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CANCEL, EVENT_NAME_CHANGE, EVENT_NAME_CLOSE, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_OK, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE, EVENT_OPTIONS_NO_CAPTURE } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_MODAL_BACKDROP, SLOT_NAME_MODAL_CANCEL, SLOT_NAME_MODAL_FOOTER, SLOT_NAME_MODAL_HEADER, SLOT_NAME_MODAL_HEADER_CLOSE, SLOT_NAME_MODAL_OK, SLOT_NAME_MODAL_TITLE } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptFocus, closest, contains, getActiveElement as _getActiveElement, getTabables, requestAF, select } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName, eventOn, eventOff } from '../../utils/events';\nimport { htmlOrText } from '../../utils/html';\nimport { identity } from '../../utils/identity';\nimport { isString, isUndefinedOrNull } from '../../utils/inspect';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { observeDom } from '../../utils/observe-dom';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnDocumentMixin } from '../../mixins/listen-on-document';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenOnWindowMixin } from '../../mixins/listen-on-window';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { scopedStyleMixin } from '../../mixins/scoped-style';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition';\nimport { BVTransporter } from '../transporter/transporter';\nimport { BvModalEvent } from './helpers/bv-modal-event.class';\nimport { modalManager } from './helpers/modal-manager'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar TRIGGER_BACKDROP = 'backdrop';\nvar TRIGGER_ESC = 'esc';\nvar TRIGGER_FORCE = 'FORCE';\nvar TRIGGER_TOGGLE = 'toggle';\nvar BUTTON_CANCEL = 'cancel'; // TODO: This should be renamed to 'close'\n\nvar BUTTON_CLOSE = 'headerclose';\nvar BUTTON_OK = 'ok';\nvar BUTTONS = [BUTTON_CANCEL, BUTTON_CLOSE, BUTTON_OK]; // `ObserveDom` config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class']\n}; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  autoFocusButton: makeProp(PROP_TYPE_STRING, null,\n  /* istanbul ignore next */\n  function (value) {\n    return isUndefinedOrNull(value) || arrayIncludes(BUTTONS, value);\n  }),\n  bodyBgVariant: makeProp(PROP_TYPE_STRING),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  bodyTextVariant: makeProp(PROP_TYPE_STRING),\n  busy: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonSize: makeProp(PROP_TYPE_STRING),\n  cancelDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  cancelTitle: makeProp(PROP_TYPE_STRING, 'Cancel'),\n  cancelTitleHtml: makeProp(PROP_TYPE_STRING),\n  cancelVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  centered: makeProp(PROP_TYPE_BOOLEAN, false),\n  contentClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  dialogClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerBgVariant: makeProp(PROP_TYPE_STRING),\n  footerBorderVariant: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerTextVariant: makeProp(PROP_TYPE_STRING),\n  headerBgVariant: makeProp(PROP_TYPE_STRING),\n  headerBorderVariant: makeProp(PROP_TYPE_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerCloseContent: makeProp(PROP_TYPE_STRING, '&times;'),\n  headerCloseLabel: makeProp(PROP_TYPE_STRING, 'Close'),\n  headerCloseVariant: makeProp(PROP_TYPE_STRING),\n  headerTextVariant: makeProp(PROP_TYPE_STRING),\n  // TODO: Rename to `noBackdrop` and deprecate `hideBackdrop`\n  hideBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noFooter` and deprecate `hideFooter`\n  hideFooter: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeader` and deprecate `hideHeader`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeaderClose` and deprecate `hideHeaderClose`\n  hideHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  ignoreEnforceFocusSelector: makeProp(PROP_TYPE_ARRAY_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  modalClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  noStacking: makeProp(PROP_TYPE_BOOLEAN, false),\n  okDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  okOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  okTitle: makeProp(PROP_TYPE_STRING, 'OK'),\n  okTitleHtml: makeProp(PROP_TYPE_STRING),\n  okVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // HTML Element, CSS selector string or Vue component instance\n  returnFocus: makeProp([HTMLElement, PROP_TYPE_OBJECT, PROP_TYPE_STRING]),\n  scrollable: makeProp(PROP_TYPE_BOOLEAN, false),\n  size: makeProp(PROP_TYPE_STRING, 'md'),\n  static: makeProp(PROP_TYPE_BOOLEAN, false),\n  title: makeProp(PROP_TYPE_STRING),\n  titleClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  titleHtml: makeProp(PROP_TYPE_STRING),\n  titleSrOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  titleTag: makeProp(PROP_TYPE_STRING, 'h5')\n})), NAME_MODAL); // --- Main component ---\n// @vue/component\n\nexport var BModal = /*#__PURE__*/Vue.extend({\n  name: NAME_MODAL,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnDocumentMixin, listenOnRootMixin, listenOnWindowMixin, normalizeSlotMixin, scopedStyleMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalId: function modalId() {\n      return this.safeId();\n    },\n    modalOuterId: function modalOuterId() {\n      return this.safeId('__BV_modal_outer_');\n    },\n    modalHeaderId: function modalHeaderId() {\n      return this.safeId('__BV_modal_header_');\n    },\n    modalBodyId: function modalBodyId() {\n      return this.safeId('__BV_modal_body_');\n    },\n    modalTitleId: function modalTitleId() {\n      return this.safeId('__BV_modal_title_');\n    },\n    modalContentId: function modalContentId() {\n      return this.safeId('__BV_modal_content_');\n    },\n    modalFooterId: function modalFooterId() {\n      return this.safeId('__BV_modal_footer_');\n    },\n    modalBackdropId: function modalBackdropId() {\n      return this.safeId('__BV_modal_backdrop_');\n    },\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), this.size), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), this.headerBgVariant), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), this.headerTextVariant), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), this.headerBorderVariant), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), this.bodyBgVariant), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), this.bodyTextVariant), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), this.footerBgVariant), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), this.footerTextVariant), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), this.footerBorderVariant), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        ok: this.onOk,\n        visible: this.isVisible\n      };\n    },\n    computeIgnoreEnforceFocusSelector: function computeIgnoreEnforceFocusSelector() {\n      // Normalize to an single selector with selectors separated by `,`\n      return concat(this.ignoreEnforceFocusSelector).filter(identity).join(',').trim();\n    },\n    computedAttrs: function computedAttrs() {\n      // If the parent has a scoped style attribute, and the modal\n      // is portalled, add the scoped attribute to the modal wrapper\n      var scopedStyleAttrs = !this.static ? this.scopedStyleAttrs : {};\n      return _objectSpread(_objectSpread(_objectSpread({}, scopedStyleAttrs), this.bvAttrs), {}, {\n        id: this.modalOuterId\n      });\n    },\n    computedModalAttrs: function computedModalAttrs() {\n      var isVisible = this.isVisible,\n          ariaLabel = this.ariaLabel;\n      return {\n        id: this.modalId,\n        role: 'dialog',\n        'aria-hidden': isVisible ? null : 'true',\n        'aria-modal': isVisible ? 'true' : null,\n        'aria-label': ariaLabel,\n        'aria-labelledby': this.hideHeader || ariaLabel || // TODO: Rename slot to `title` and deprecate `modal-title`\n        !(this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) || this.titleHtml || this.title) ? null : this.modalTitleId,\n        'aria-describedby': this.modalBodyId\n      };\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this[newValue ? 'show' : 'hide']();\n    }\n  }),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_observer = null;\n    this.$_returnFocus = this.returnFocus || null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_SHOW), this.showHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_HIDE), this.hideHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_TOGGLE), this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot(getRootEventName(NAME_MODAL, EVENT_NAME_SHOW), this.modalListener); // Initially show modal?\n\n    if (this[MODEL_PROP_NAME] === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    this.setObserver(false);\n\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    setObserver: function setObserver() {\n      var on = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n\n      if (on) {\n        this.$_observer = observeDom(this.$refs.content, this.checkModalOverflow.bind(this), OBSERVER_CONFIG);\n      }\n    },\n    // Private method to update the v-model\n    updateModel: function updateModel(value) {\n      if (value !== this[MODEL_PROP_NAME]) {\n        this.$emit(MODEL_EVENT_NAME, value);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread(_objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, options), {}, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.modalId\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next */\n        this.$once(EVENT_NAME_HIDDEN, this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.$_returnFocus = this.$_returnFocus || this.getActiveElement();\n      var showEvt = this.buildEvent(EVENT_NAME_SHOW, {\n        cancelable: true\n      });\n      this.emitEvent(showEvt); // Don't show if canceled\n\n      if (showEvt.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      this.isClosing = true;\n      var hideEvt = this.buildEvent(EVENT_NAME_HIDE, {\n        cancelable: trigger !== TRIGGER_FORCE,\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === BUTTON_OK) {\n        this.$emit(EVENT_NAME_OK, hideEvt);\n      } else if (trigger === BUTTON_CANCEL) {\n        this.$emit(EVENT_NAME_CANCEL, hideEvt);\n      } else if (trigger === BUTTON_CLOSE) {\n        this.$emit(EVENT_NAME_CLOSE, hideEvt);\n      }\n\n      this.emitEvent(hideEvt); // Hide if not canceled\n\n      if (hideEvt.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n\n      this.setObserver(false); // Trigger the hide transition\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.$_returnFocus = triggerEl;\n      }\n\n      if (this.isVisible) {\n        this.hide(TRIGGER_TOGGLE);\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      var activeElement = _getActiveElement(IS_BROWSER ? [document.body] : []); // Preset the fallback return focus value if it is not set\n      // `document.activeElement` should be the trigger element that was clicked or\n      // in the case of using the v-model, which ever element has current focus\n      // Will be overridden by some commands such as toggle, etc.\n      // Note: On IE 11, `document.activeElement` may be `null`\n      // So we test it for truthiness first\n      // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n\n\n      return activeElement && activeElement.focus ? activeElement : null;\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce(getRootEventName(NAME_MODAL, EVENT_NAME_HIDDEN), this.doShow);\n        return;\n      }\n\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n\n        _this.$nextTick(function () {\n          // Observe changes in modal content and adjust if necessary\n          // In a `$nextTick()` in case modal content is lazy\n          _this.setObserver(true);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      var _this2 = this;\n\n      this.isBlock = true; // We add the `show` class 1 frame later\n      // `requestAF()` runs the callback before the next repaint, so we need\n      // two calls to guarantee the next frame has been rendered\n\n      requestAF(function () {\n        requestAF(function () {\n          _this2.isShow = true;\n        });\n      });\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this3 = this;\n\n      this.checkModalOverflow();\n      this.isTransitioning = false; // We use `requestAF()` to allow transition hooks to complete\n      // before passing control over to the other handlers\n      // This will allow users to not have to use `$nextTick()` or `requestAF()`\n      // when trying to pre-focus an element\n\n      requestAF(function () {\n        _this3.emitEvent(_this3.buildEvent(EVENT_NAME_SHOWN));\n\n        _this3.setEnforceFocus(true);\n\n        _this3.$nextTick(function () {\n          // Delayed in a `$nextTick()` to allow users time to pre-focus\n          // an element if the wish\n          _this3.focusFirst();\n        });\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this4 = this;\n\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this4.isClosing = false;\n        modalManager.unregisterModal(_this4);\n\n        _this4.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n\n        _this4.emitEvent(_this4.buildEvent(EVENT_NAME_HIDDEN));\n      });\n    },\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type; // We emit on `$root` first in case a global listener wants to cancel\n      // the event first before the instance emits its event\n\n      this.emitOnRoot(getRootEventName(NAME_MODAL, type), bvEvent, bvEvent.componentId);\n      this.$emit(type, bvEvent);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this5 = this;\n\n      // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n      var modal = this.$refs.modal;\n\n      var onceModalMouseup = function onceModalMouseup(event) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n\n        if (event.target === modal) {\n          _this5.ignoreBackdropClick = true;\n        }\n      };\n\n      eventOn(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n    },\n    onClickOut: function onClickOut(event) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, event.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n\n      if (!contains(this.$refs.content, event.target)) {\n        this.hide(TRIGGER_BACKDROP);\n      }\n    },\n    onOk: function onOk() {\n      this.hide(BUTTON_OK);\n    },\n    onCancel: function onCancel() {\n      this.hide(BUTTON_CANCEL);\n    },\n    onClose: function onClose() {\n      this.hide(BUTTON_CLOSE);\n    },\n    onEsc: function onEsc(event) {\n      // If ESC pressed, hide modal\n      if (event.keyCode === CODE_ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide(TRIGGER_ESC);\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(event) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = event.target;\n\n      if (this.noEnforceFocus || !this.isTop || !this.isVisible || !content || document === target || contains(content, target) || this.computeIgnoreEnforceFocusSelector && closest(this.computeIgnoreEnforceFocusSelector, target, true)) {\n        return;\n      }\n\n      var tabables = getTabables(this.$refs.content);\n      var bottomTrap = this.$refs['bottom-trap'];\n      var topTrap = this.$refs['top-trap'];\n\n      if (bottomTrap && target === bottomTrap) {\n        // If user pressed TAB out of modal into our bottom trab trap element\n        // Find the first tabable element in the modal content and focus it\n        if (attemptFocus(tabables[0])) {\n          // Focus was successful\n          return;\n        }\n      } else if (topTrap && target === topTrap) {\n        // If user pressed CTRL-TAB out of modal and into our top tab trap element\n        // Find the last tabable element in the modal content and focus it\n        if (attemptFocus(tabables[tabables.length - 1])) {\n          // Focus was successful\n          return;\n        }\n      } // Otherwise focus the modal content container\n\n\n      attemptFocus(content, {\n        preventScroll: true\n      });\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      this.listenDocument(on, 'focusin', this.focusHandler);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      this.listenWindow(on, 'resize', this.checkModalOverflow);\n      this.listenWindow(on, 'orientationchange', this.checkModalOverflow);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.$_returnFocus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.modalId) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvent) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvent.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      var _this6 = this;\n\n      // Don't try and focus if we are SSR\n      if (IS_BROWSER) {\n        requestAF(function () {\n          var modal = _this6.$refs.modal;\n          var content = _this6.$refs.content;\n\n          var activeElement = _this6.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n\n          if (modal && content && !(activeElement && contains(content, activeElement))) {\n            var ok = _this6.$refs['ok-button'];\n            var cancel = _this6.$refs['cancel-button'];\n            var close = _this6.$refs['close-button']; // Focus the appropriate button or modal content wrapper\n\n            var autoFocus = _this6.autoFocusButton;\n            /* istanbul ignore next */\n\n            var el = autoFocus === BUTTON_OK && ok ? ok.$el || ok : autoFocus === BUTTON_CANCEL && cancel ? cancel.$el || cancel : autoFocus === BUTTON_CLOSE && close ? close.$el || close : content; // Focus the element\n\n            attemptFocus(el);\n\n            if (el === content) {\n              // Make sure top of modal is showing (if longer than the viewport)\n              _this6.$nextTick(function () {\n                modal.scrollTop = 0;\n              });\n            }\n          }\n        });\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.$_returnFocus || null;\n      this.$_returnFocus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var $header = h();\n\n      if (!this.hideHeader) {\n        // TODO: Rename slot to `header` and deprecate `modal-header`\n        var $modalHeader = this.normalizeSlot(SLOT_NAME_MODAL_HEADER, this.slotScope);\n\n        if (!$modalHeader) {\n          var $closeButton = h();\n\n          if (!this.hideHeaderClose) {\n            $closeButton = h(BButtonClose, {\n              props: {\n                content: this.headerCloseContent,\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              },\n              ref: 'close-button'\n            }, // TODO: Rename slot to `header-close` and deprecate `modal-header-close`\n            [this.normalizeSlot(SLOT_NAME_MODAL_HEADER_CLOSE)]);\n          }\n\n          $modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.modalTitleId\n            },\n            // TODO: Rename slot to `title` and deprecate `modal-title`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) ? {} : htmlOrText(this.titleHtml, this.title)\n          }, // TODO: Rename slot to `title` and deprecate `modal-title`\n          this.normalizeSlot(SLOT_NAME_MODAL_TITLE, this.slotScope)), $closeButton];\n        }\n\n        $header = h('header', {\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.modalHeaderId\n          },\n          ref: 'header'\n        }, [$modalHeader]);\n      } // Modal body\n\n\n      var $body = h('div', {\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.modalBodyId\n        },\n        ref: 'body'\n      }, this.normalizeSlot(SLOT_NAME_DEFAULT, this.slotScope)); // Modal footer\n\n      var $footer = h();\n\n      if (!this.hideFooter) {\n        // TODO: Rename slot to `footer` and deprecate `modal-footer`\n        var $modalFooter = this.normalizeSlot(SLOT_NAME_MODAL_FOOTER, this.slotScope);\n\n        if (!$modalFooter) {\n          var $cancelButton = h();\n\n          if (!this.okOnly) {\n            $cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n              domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_CANCEL) ? {} : htmlOrText(this.cancelTitleHtml, this.cancelTitle),\n              on: {\n                click: this.onCancel\n              },\n              ref: 'cancel-button'\n            }, // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n            this.normalizeSlot(SLOT_NAME_MODAL_CANCEL));\n          }\n\n          var $okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_OK) ? {} : htmlOrText(this.okTitleHtml, this.okTitle),\n            on: {\n              click: this.onOk\n            },\n            ref: 'ok-button'\n          }, // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n          this.normalizeSlot(SLOT_NAME_MODAL_OK));\n          $modalFooter = [$cancelButton, $okButton];\n        }\n\n        $footer = h('footer', {\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.modalFooterId\n          },\n          ref: 'footer'\n        }, [$modalFooter]);\n      } // Assemble modal content\n\n\n      var $modalContent = h('div', {\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          id: this.modalContentId,\n          tabindex: '-1'\n        },\n        ref: 'content'\n      }, [$header, $body, $footer]); // Tab traps to prevent page from scrolling to next element in\n      // tab index during enforce-focus tab cycle\n\n      var $tabTrapTop = h();\n      var $tabTrapBottom = h();\n\n      if (this.isVisible && !this.noEnforceFocus) {\n        $tabTrapTop = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'top-trap'\n        });\n        $tabTrapBottom = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'bottom-trap'\n        });\n      } // Modal dialog wrapper\n\n\n      var $modalDialog = h('div', {\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        },\n        ref: 'dialog'\n      }, [$tabTrapTop, $modalContent, $tabTrapBottom]); // Modal\n\n      var $modal = h('div', {\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        attrs: this.computedModalAttrs,\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        },\n        directives: [{\n          name: 'show',\n          value: this.isVisible\n        }],\n        ref: 'modal'\n      }, [$modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use `BVTransition` here due to the differences in\n      // transition durations for `.modal` and `.modal-dialog`\n      // At least until https://github.com/vuejs/vue/issues/9986 is resolved\n\n      $modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [$modal]); // Modal backdrop\n\n      var $backdrop = h();\n\n      if (!this.hideBackdrop && this.isVisible) {\n        $backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.modalBackdropId\n          }\n        }, // TODO: Rename slot to `backdrop` and deprecate `modal-backdrop`\n        this.normalizeSlot(SLOT_NAME_MODAL_BACKDROP));\n      }\n\n      $backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [$backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        style: this.modalOuterStyle,\n        attrs: this.computedAttrs,\n        key: \"modal-outer-\".concat(this[COMPONENT_UID_KEY])\n      }, [$modal, $backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BVTransporter, [this.makeModal(h)]);\n    }\n  }\n});","import { RX_HTML_TAGS } from '../constants/regex'; // Removes anything that looks like an HTML tag from the supplied string\n\nexport var stripTags = function stripTags() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return String(text).replace(RX_HTML_TAGS, '');\n}; // Generate a `domProps` object for either `innerHTML`, `textContent` or an empty object\n\nexport var htmlOrText = function htmlOrText(innerHTML, textContent) {\n  return innerHTML ? {\n    innerHTML: innerHTML\n  } : textContent ? {\n    textContent: textContent\n  } : {};\n};","/**\n * @license MIT\n */\n(function(window, document, undefined) {'use strict';\n  if (!window || !document) {\n    console.warn('Flowjs needs window and document objects to work');\n    return;\n  }\n  // ie10+\n  var ie10plus = window.navigator.msPointerEnabled;\n  /**\n   * Flow.js is a library providing multiple simultaneous, stable and\n   * resumable uploads via the HTML5 File API.\n   * @param [opts]\n   * @param {number|Function} [opts.chunkSize]\n   * @param {bool} [opts.forceChunkSize]\n   * @param {number} [opts.simultaneousUploads]\n   * @param {bool} [opts.singleFile]\n   * @param {string} [opts.fileParameterName]\n   * @param {number} [opts.progressCallbacksInterval]\n   * @param {number} [opts.speedSmoothingFactor]\n   * @param {Object|Function} [opts.query]\n   * @param {Object|Function} [opts.headers]\n   * @param {bool} [opts.withCredentials]\n   * @param {Function} [opts.preprocess]\n   * @param {string} [opts.method]\n   * @param {string|Function} [opts.testMethod]\n   * @param {string|Function} [opts.uploadMethod]\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\n   * @param {bool} [opts.allowDuplicateUploads]\n   * @param {string|Function} [opts.target]\n   * @param {number} [opts.maxChunkRetries]\n   * @param {number} [opts.chunkRetryInterval]\n   * @param {Array.<number>} [opts.permanentErrors]\n   * @param {Array.<number>} [opts.successStatuses]\n   * @param {Function} [opts.initFileFn]\n   * @param {Function} [opts.readFileFn]\n   * @param {Function} [opts.generateUniqueIdentifier]\n   * @constructor\n   */\n  function Flow(opts) {\n    /**\n     * Supported by browser?\n     * @type {boolean}\n     */\n    this.support = (\n        typeof File !== 'undefined' &&\n        typeof Blob !== 'undefined' &&\n        typeof FileList !== 'undefined' &&\n        (\n          !!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice ||\n          false\n        ) // slicing files support\n    );\n\n    if (!this.support) {\n      return ;\n    }\n\n    /**\n     * Check if directory upload is supported\n     * @type {boolean}\n     */\n    this.supportDirectory = (\n        /Chrome/.test(window.navigator.userAgent) ||\n        /Firefox/.test(window.navigator.userAgent) ||\n        /Edge/.test(window.navigator.userAgent)\n    );\n\n    /**\n     * List of FlowFile objects\n     * @type {Array.<FlowFile>}\n     */\n    this.files = [];\n\n    /**\n     * Default options for flow.js\n     * @type {Object}\n     */\n    this.defaults = {\n      chunkSize: 1024 * 1024,\n      forceChunkSize: false,\n      simultaneousUploads: 3,\n      singleFile: false,\n      fileParameterName: 'file',\n      progressCallbacksInterval: 500,\n      speedSmoothingFactor: 0.1,\n      query: {},\n      headers: {},\n      withCredentials: false,\n      preprocess: null,\n      changeRawDataBeforeSend: null,\n      method: 'multipart',\n      testMethod: 'GET',\n      uploadMethod: 'POST',\n      prioritizeFirstAndLastChunk: false,\n      allowDuplicateUploads: false,\n      target: '/',\n      testChunks: true,\n      generateUniqueIdentifier: null,\n      maxChunkRetries: 0,\n      chunkRetryInterval: null,\n      permanentErrors: [404, 413, 415, 500, 501],\n      successStatuses: [200, 201, 202],\n      onDropStopPropagation: false,\n      initFileFn: null,\n      readFileFn: webAPIFileRead\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = {};\n\n    /**\n     * List of events:\n     *  key stands for event name\n     *  value array list of callbacks\n     * @type {}\n     */\n    this.events = {};\n\n    var $ = this;\n\n    /**\n     * On drop event\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.onDrop = function (event) {\n      if ($.opts.onDropStopPropagation) {\n        event.stopPropagation();\n      }\n      event.preventDefault();\n      var dataTransfer = event.dataTransfer;\n      if (dataTransfer.items && dataTransfer.items[0] &&\n        dataTransfer.items[0].webkitGetAsEntry) {\n        $.webkitReadDataTransfer(event);\n      } else {\n        $.addFiles(dataTransfer.files, event);\n      }\n    };\n\n    /**\n     * Prevent default\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.preventEvent = function (event) {\n      event.preventDefault();\n    };\n\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = Flow.extend({}, this.defaults, opts || {});\n\n  }\n\n  Flow.prototype = {\n    /**\n     * Set a callback for an event, possible events:\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\n     * fileRemoved(file), fileRetry(file), fileError(file, message),\n     * complete(), progress(), error(message, file), pause()\n     * @function\n     * @param {string} event\n     * @param {Function} callback\n     */\n    on: function (event, callback) {\n      event = event.toLowerCase();\n      if (!this.events.hasOwnProperty(event)) {\n        this.events[event] = [];\n      }\n      this.events[event].push(callback);\n    },\n\n    /**\n     * Remove event callback\n     * @function\n     * @param {string} [event] removes all events if not specified\n     * @param {Function} [fn] removes all callbacks of event if not specified\n     */\n    off: function (event, fn) {\n      if (event !== undefined) {\n        event = event.toLowerCase();\n        if (fn !== undefined) {\n          if (this.events.hasOwnProperty(event)) {\n            arrayRemove(this.events[event], fn);\n          }\n        } else {\n          delete this.events[event];\n        }\n      } else {\n        this.events = {};\n      }\n    },\n\n    /**\n     * Fire an event\n     * @function\n     * @param {string} event event name\n     * @param {...} args arguments of a callback\n     * @return {bool} value is false if at least one of the event handlers which handled this event\n     * returned false. Otherwise it returns true.\n     */\n    fire: function (event, args) {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      event = event.toLowerCase();\n      var preventDefault = false;\n      if (this.events.hasOwnProperty(event)) {\n        each(this.events[event], function (callback) {\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\n        }, this);\n      }\n      if (event != 'catchall') {\n        args.unshift('catchAll');\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\n      }\n      return !preventDefault;\n    },\n\n    /**\n     * Read webkit dataTransfer object\n     * @param event\n     */\n    webkitReadDataTransfer: function (event) {\n      var $ = this;\n      var queue = event.dataTransfer.items.length;\n      var files = [];\n      each(event.dataTransfer.items, function (item) {\n        var entry = item.webkitGetAsEntry();\n        if (!entry) {\n          decrement();\n          return ;\n        }\n        if (entry.isFile) {\n          // due to a bug in Chrome's File System API impl - #149735\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\n        } else {\n          readDirectory(entry.createReader());\n        }\n      });\n      function readDirectory(reader) {\n        reader.readEntries(function (entries) {\n          if (entries.length) {\n            queue += entries.length;\n            each(entries, function(entry) {\n              if (entry.isFile) {\n                var fullPath = entry.fullPath;\n                entry.file(function (file) {\n                  fileReadSuccess(file, fullPath);\n                }, readError);\n              } else if (entry.isDirectory) {\n                readDirectory(entry.createReader());\n              }\n            });\n            readDirectory(reader);\n          } else {\n            decrement();\n          }\n        }, readError);\n      }\n      function fileReadSuccess(file, fullPath) {\n        // relative path should not start with \"/\"\n        file.relativePath = fullPath.substring(1);\n        files.push(file);\n        decrement();\n      }\n      function readError(fileError) {\n        decrement();\n        throw fileError;\n      }\n      function decrement() {\n        if (--queue == 0) {\n          $.addFiles(files, event);\n        }\n      }\n    },\n\n    /**\n     * Generate unique identifier for a file\n     * @function\n     * @param {FlowFile} file\n     * @returns {string}\n     */\n    generateUniqueIdentifier: function (file) {\n      var custom = this.opts.generateUniqueIdentifier;\n      if (typeof custom === 'function') {\n        return custom(file);\n      }\n      // Some confusion in different versions of Firefox\n      var relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\n      return file.size + '-' + relativePath.replace(/[^0-9a-zA-Z_-]/img, '');\n    },\n\n    /**\n     * Upload next chunk from the queue\n     * @function\n     * @returns {boolean}\n     * @private\n     */\n    uploadNextChunk: function (preventEvents) {\n      // In some cases (such as videos) it's really handy to upload the first\n      // and last chunk of a file quickly; this let's the server check the file's\n      // metadata and determine if there's even a point in continuing.\n      var found = false;\n      if (this.opts.prioritizeFirstAndLastChunk) {\n        each(this.files, function (file) {\n          if (!file.paused && file.chunks.length &&\n            file.chunks[0].status() === 'pending') {\n            file.chunks[0].send();\n            found = true;\n            return false;\n          }\n          if (!file.paused && file.chunks.length > 1 &&\n            file.chunks[file.chunks.length - 1].status() === 'pending') {\n            file.chunks[file.chunks.length - 1].send();\n            found = true;\n            return false;\n          }\n        });\n        if (found) {\n          return found;\n        }\n      }\n\n      // Now, simply look for the next, best thing to upload\n      each(this.files, function (file) {\n        if (!file.paused) {\n          each(file.chunks, function (chunk) {\n            if (chunk.status() === 'pending') {\n              chunk.send();\n              found = true;\n              return false;\n            }\n          });\n        }\n        if (found) {\n          return false;\n        }\n      });\n      if (found) {\n        return true;\n      }\n\n      // The are no more outstanding chunks to upload, check is everything is done\n      var outstanding = false;\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          outstanding = true;\n          return false;\n        }\n      });\n      if (!outstanding && !preventEvents) {\n        // All chunks have been uploaded, complete\n        async(function () {\n          this.fire('complete');\n        }, this);\n      }\n      return false;\n    },\n\n\n    /**\n     * Assign a browse action to one or more DOM nodes.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     * @param {boolean} isDirectory Pass in true to allow directories to\n     * @param {boolean} singleFile prevent multi file upload\n     * @param {Object} attributes set custom attributes:\n     *  http://www.w3.org/TR/html-markup/input.file.html#input.file-attributes\n     *  eg: accept: 'image/*'\n     * be selected (Chrome only).\n     */\n    assignBrowse: function (domNodes, isDirectory, singleFile, attributes) {\n      if (domNodes instanceof Element) {\n        domNodes = [domNodes];\n      }\n\n      each(domNodes, function (domNode) {\n        var input;\n        if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\n          input = domNode;\n        } else {\n          input = document.createElement('input');\n          input.setAttribute('type', 'file');\n          // display:none - not working in opera 12\n          extend(input.style, {\n            visibility: 'hidden',\n            position: 'absolute',\n            width: '1px',\n            height: '1px'\n          });\n          // for opera 12 browser, input must be assigned to a document\n          domNode.appendChild(input);\n          // https://developer.mozilla.org/en/using_files_from_web_applications)\n          // event listener is executed two times\n          // first one - original mouse click event\n          // second - input.click(), input is inside domNode\n          domNode.addEventListener('click', function() {\n            input.click();\n          }, false);\n        }\n        if (!this.opts.singleFile && !singleFile) {\n          input.setAttribute('multiple', 'multiple');\n        }\n        if (isDirectory) {\n          input.setAttribute('webkitdirectory', 'webkitdirectory');\n        }\n        each(attributes, function (value, key) {\n          input.setAttribute(key, value);\n        });\n        // When new files are added, simply append them to the overall list\n        var $ = this;\n        input.addEventListener('change', function (e) {\n       \t  if (e.target.value) {\n            $.addFiles(e.target.files, e);\n            e.target.value = '';\n       \t  }\n        }, false);\n      }, this);\n    },\n\n    /**\n     * Assign one or more DOM nodes as a drop target.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     */\n    assignDrop: function (domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(domNodes, function (domNode) {\n        domNode.addEventListener('dragover', this.preventEvent, false);\n        domNode.addEventListener('dragenter', this.preventEvent, false);\n        domNode.addEventListener('drop', this.onDrop, false);\n      }, this);\n    },\n\n    /**\n     * Un-assign drop event from DOM nodes\n     * @function\n     * @param domNodes\n     */\n    unAssignDrop: function (domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(domNodes, function (domNode) {\n        domNode.removeEventListener('dragover', this.preventEvent);\n        domNode.removeEventListener('dragenter', this.preventEvent);\n        domNode.removeEventListener('drop', this.onDrop);\n      }, this);\n    },\n\n    /**\n     * Returns a boolean indicating whether or not the instance is currently\n     * uploading anything.\n     * @function\n     * @returns {boolean}\n     */\n    isUploading: function () {\n      var uploading = false;\n      each(this.files, function (file) {\n        if (file.isUploading()) {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * should upload next chunk\n     * @function\n     * @returns {boolean|number}\n     */\n    _shouldUploadNext: function () {\n      var num = 0;\n      var should = true;\n      var simultaneousUploads = this.opts.simultaneousUploads;\n      each(this.files, function (file) {\n        each(file.chunks, function(chunk) {\n          if (chunk.status() === 'uploading') {\n            num++;\n            if (num >= simultaneousUploads) {\n              should = false;\n              return false;\n            }\n          }\n        });\n      });\n      // if should is true then return uploading chunks's length\n      return should && num;\n    },\n\n    /**\n     * Start or resume uploading.\n     * @function\n     */\n    upload: function () {\n      // Make sure we don't start too many uploads at once\n      var ret = this._shouldUploadNext();\n      if (ret === false) {\n        return;\n      }\n      // Kick off the queue\n      this.fire('uploadStart');\n      var started = false;\n      for (var num = 1; num <= this.opts.simultaneousUploads - ret; num++) {\n        started = this.uploadNextChunk(true) || started;\n      }\n      if (!started) {\n        async(function () {\n          this.fire('complete');\n        }, this);\n      }\n    },\n\n    /**\n     * Resume uploading.\n     * @function\n     */\n    resume: function () {\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          file.resume();\n        }\n      });\n    },\n\n    /**\n     * Pause uploading.\n     * @function\n     */\n    pause: function () {\n      each(this.files, function (file) {\n        file.pause();\n      });\n    },\n\n    /**\n     * Cancel upload of all FlowFile objects and remove them from the list.\n     * @function\n     */\n    cancel: function () {\n      for (var i = this.files.length - 1; i >= 0; i--) {\n        this.files[i].cancel();\n      }\n    },\n\n    /**\n     * Returns a number between 0 and 1 indicating the current upload progress\n     * of all files.\n     * @function\n     * @returns {number}\n     */\n    progress: function () {\n      var totalDone = 0;\n      var totalSize = 0;\n      // Resume all chunks currently being uploaded\n      each(this.files, function (file) {\n        totalDone += file.progress() * file.size;\n        totalSize += file.size;\n      });\n      return totalSize > 0 ? totalDone / totalSize : 0;\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {File} file\n     * @param {Event} [event] event is optional\n     */\n    addFile: function (file, event) {\n      this.addFiles([file], event);\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {FileList|Array} fileList\n     * @param {Event} [event] event is optional\n     */\n    addFiles: function (fileList, event) {\n      var files = [];\n      each(fileList, function (file) {\n        // https://github.com/flowjs/flow.js/issues/55\n        if ((!ie10plus || ie10plus && file.size > 0) && !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.'))) {\n          var uniqueIdentifier = this.generateUniqueIdentifier(file);\n          if (this.opts.allowDuplicateUploads || !this.getFromUniqueIdentifier(uniqueIdentifier)) {\n            var f = new FlowFile(this, file, uniqueIdentifier);\n            if (this.fire('fileAdded', f, event)) {\n              files.push(f);\n            }\n          }\n        }\n      }, this);\n      if (this.fire('filesAdded', files, event)) {\n        each(files, function (file) {\n          if (this.opts.singleFile && this.files.length > 0) {\n            this.removeFile(this.files[0]);\n          }\n          this.files.push(file);\n        }, this);\n        this.fire('filesSubmitted', files, event);\n      }\n    },\n\n\n    /**\n     * Cancel upload of a specific FlowFile object from the list.\n     * @function\n     * @param {FlowFile} file\n     */\n    removeFile: function (file) {\n      for (var i = this.files.length - 1; i >= 0; i--) {\n        if (this.files[i] === file) {\n          this.files.splice(i, 1);\n          file.abort();\n          this.fire('fileRemoved', file);\n        }\n      }\n    },\n\n    /**\n     * Look up a FlowFile object by its unique identifier.\n     * @function\n     * @param {string} uniqueIdentifier\n     * @returns {boolean|FlowFile} false if file was not found\n     */\n    getFromUniqueIdentifier: function (uniqueIdentifier) {\n      var ret = false;\n      each(this.files, function (file) {\n        if (file.uniqueIdentifier === uniqueIdentifier) {\n          ret = file;\n        }\n      });\n      return ret;\n    },\n\n    /**\n     * Returns the total size of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    getSize: function () {\n      var totalSize = 0;\n      each(this.files, function (file) {\n        totalSize += file.size;\n      });\n      return totalSize;\n    },\n\n    /**\n     * Returns the total size uploaded of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = 0;\n      each(this.files, function (file) {\n        size += file.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining: function () {\n      var sizeDelta = 0;\n      var averageSpeed = 0;\n      each(this.files, function (file) {\n        if (!file.paused && !file.error) {\n          sizeDelta += file.size - file.sizeUploaded();\n          averageSpeed += file.averageSpeed;\n        }\n      });\n      if (sizeDelta && !averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!sizeDelta && !averageSpeed) {\n        return 0;\n      }\n      return Math.floor(sizeDelta / averageSpeed);\n    }\n  };\n\n\n\n\n\n\n  /**\n   * FlowFile class\n   * @name FlowFile\n   * @param {Flow} flowObj\n   * @param {File} file\n   * @param {string} uniqueIdentifier\n   * @constructor\n   */\n  function FlowFile(flowObj, file, uniqueIdentifier) {\n\n    /**\n     * Reference to parent Flow instance\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Used to store the bytes read\n     * @type {Blob|string}\n     */\n    this.bytes = null;\n\n    /**\n     * Reference to file\n     * @type {File}\n     */\n    this.file = file;\n\n    /**\n     * File name. Some confusion in different versions of Firefox\n     * @type {string}\n     */\n    this.name = file.fileName || file.name;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.size = file.size;\n\n    /**\n     * Relative file path\n     * @type {string}\n     */\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\n\n    /**\n     * File unique identifier\n     * @type {string}\n     */\n    this.uniqueIdentifier = (uniqueIdentifier === undefined ? flowObj.generateUniqueIdentifier(file) : uniqueIdentifier);\n\n    /**\n     * Size of Each Chunk\n     * @type {number}\n     */\n    this.chunkSize = 0;\n\n    /**\n     * List of chunks\n     * @type {Array.<FlowChunk>}\n     */\n    this.chunks = [];\n\n    /**\n     * Indicated if file is paused\n     * @type {boolean}\n     */\n    this.paused = false;\n\n    /**\n     * Indicated if file has encountered an error\n     * @type {boolean}\n     */\n    this.error = false;\n\n    /**\n     * Average upload speed\n     * @type {number}\n     */\n    this.averageSpeed = 0;\n\n    /**\n     * Current upload speed\n     * @type {number}\n     */\n    this.currentSpeed = 0;\n\n    /**\n     * Date then progress was called last time\n     * @type {number}\n     * @private\n     */\n    this._lastProgressCallback = Date.now();\n\n    /**\n     * Previously uploaded file size\n     * @type {number}\n     * @private\n     */\n    this._prevUploadedSize = 0;\n\n    /**\n     * Holds previous progress\n     * @type {number}\n     * @private\n     */\n    this._prevProgress = 0;\n\n    this.bootstrap();\n  }\n\n  FlowFile.prototype = {\n    /**\n     * Update speed parameters\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\n     * @function\n     */\n    measureSpeed: function () {\n      var timeSpan = Date.now() - this._lastProgressCallback;\n      if (!timeSpan) {\n        return ;\n      }\n      var smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\n      var uploaded = this.sizeUploaded();\n      // Prevent negative upload speed after file upload resume\n      this.currentSpeed = Math.max((uploaded - this._prevUploadedSize) / timeSpan * 1000, 0);\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\n      this._prevUploadedSize = uploaded;\n    },\n\n    /**\n     * For internal usage only.\n     * Callback when something happens within the chunk.\n     * @function\n     * @param {FlowChunk} chunk\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\n     * @param {string} [message]\n     */\n    chunkEvent: function (chunk, event, message) {\n      switch (event) {\n        case 'progress':\n          if (Date.now() - this._lastProgressCallback <\n            this.flowObj.opts.progressCallbacksInterval) {\n            break;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this, chunk);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          break;\n        case 'error':\n          this.error = true;\n          this.abort(true);\n          this.flowObj.fire('fileError', this, message, chunk);\n          this.flowObj.fire('error', message, this, chunk);\n          break;\n        case 'success':\n          if (this.error) {\n            return;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this, chunk);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          if (this.isComplete()) {\n            this.currentSpeed = 0;\n            this.averageSpeed = 0;\n            this.flowObj.fire('fileSuccess', this, message, chunk);\n          }\n          break;\n        case 'retry':\n          this.flowObj.fire('fileRetry', this, chunk);\n          break;\n      }\n    },\n\n    /**\n     * Pause file upload\n     * @function\n     */\n    pause: function() {\n      this.paused = true;\n      this.abort();\n    },\n\n    /**\n     * Resume file upload\n     * @function\n     */\n    resume: function() {\n      this.paused = false;\n      this.flowObj.upload();\n    },\n\n    /**\n     * Abort current upload\n     * @function\n     */\n    abort: function (reset) {\n      this.currentSpeed = 0;\n      this.averageSpeed = 0;\n      var chunks = this.chunks;\n      if (reset) {\n        this.chunks = [];\n      }\n      each(chunks, function (c) {\n        if (c.status() === 'uploading') {\n          c.abort();\n          this.flowObj.uploadNextChunk();\n        }\n      }, this);\n    },\n\n    /**\n     * Cancel current upload and remove from a list\n     * @function\n     */\n    cancel: function () {\n      this.flowObj.removeFile(this);\n    },\n\n    /**\n     * Retry aborted file upload\n     * @function\n     */\n    retry: function () {\n      this.bootstrap();\n      this.flowObj.upload();\n    },\n\n    /**\n     * Clear current chunks and slice file again\n     * @function\n     */\n    bootstrap: function () {\n      if (typeof this.flowObj.opts.initFileFn === \"function\") {\n        this.flowObj.opts.initFileFn(this);\n      }\n\n      this.abort(true);\n      this.error = false;\n      // Rebuild stack of chunks from file\n      this._prevProgress = 0;\n      var round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\n      this.chunkSize = evalOpts(this.flowObj.opts.chunkSize, this);\n      var chunks = Math.max(\n        round(this.size / this.chunkSize), 1\n      );\n      for (var offset = 0; offset < chunks; offset++) {\n        this.chunks.push(\n          new FlowChunk(this.flowObj, this, offset)\n        );\n      }\n    },\n\n    /**\n     * Get current upload progress status\n     * @function\n     * @returns {number} from 0 to 1\n     */\n    progress: function () {\n      if (this.error) {\n        return 1;\n      }\n      if (this.chunks.length === 1) {\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\n        return this._prevProgress;\n      }\n      // Sum up progress across everything\n      var bytesLoaded = 0;\n      each(this.chunks, function (c) {\n        // get chunk progress relative to entire file\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\n      });\n      var percent = bytesLoaded / this.size;\n      // We don't want to lose percentages when an upload is paused\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.9999 ? 1 : percent);\n      return this._prevProgress;\n    },\n\n    /**\n     * Indicates if file is being uploaded at the moment\n     * @function\n     * @returns {boolean}\n     */\n    isUploading: function () {\n      var uploading = false;\n      each(this.chunks, function (chunk) {\n        if (chunk.status() === 'uploading') {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Indicates if file is has finished uploading and received a response\n     * @function\n     * @returns {boolean}\n     */\n    isComplete: function () {\n      var outstanding = false;\n      each(this.chunks, function (chunk) {\n        var status = chunk.status();\n        if (status === 'pending' || status === 'uploading' || status === 'reading' || chunk.preprocessState === 1 || chunk.readState === 1) {\n          outstanding = true;\n          return false;\n        }\n      });\n      return !outstanding;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = 0;\n      each(this.chunks, function (chunk) {\n        size += chunk.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining: function () {\n      if (this.paused || this.error) {\n        return 0;\n      }\n      var delta = this.size - this.sizeUploaded();\n      if (delta && !this.averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!delta && !this.averageSpeed) {\n        return 0;\n      }\n      return Math.floor(delta / this.averageSpeed);\n    },\n\n    /**\n     * Get file type\n     * @function\n     * @returns {string}\n     */\n    getType: function () {\n      return this.file.type && this.file.type.split('/')[1];\n    },\n\n    /**\n     * Get file extension\n     * @function\n     * @returns {string}\n     */\n    getExtension: function () {\n      return this.name.substr((~-this.name.lastIndexOf(\".\") >>> 0) + 2).toLowerCase();\n    }\n  };\n\n  /**\n   * Default read function using the webAPI\n   *\n   * @function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk)\n   *\n   */\n  function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk) {\n    var function_name = 'slice';\n\n    if (fileObj.file.slice)\n      function_name =  'slice';\n    else if (fileObj.file.mozSlice)\n      function_name = 'mozSlice';\n    else if (fileObj.file.webkitSlice)\n      function_name = 'webkitSlice';\n\n    chunk.readFinished(fileObj.file[function_name](startByte, endByte, fileType));\n  }\n\n\n  /**\n   * Class for storing a single chunk\n   * @name FlowChunk\n   * @param {Flow} flowObj\n   * @param {FlowFile} fileObj\n   * @param {number} offset\n   * @constructor\n   */\n  function FlowChunk(flowObj, fileObj, offset) {\n\n    /**\n     * Reference to parent flow object\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to parent FlowFile object\n     * @type {FlowFile}\n     */\n    this.fileObj = fileObj;\n\n    /**\n     * File offset\n     * @type {number}\n     */\n    this.offset = offset;\n\n    /**\n     * Indicates if chunk existence was checked on the server\n     * @type {boolean}\n     */\n    this.tested = false;\n\n    /**\n     * Number of retries performed\n     * @type {number}\n     */\n    this.retries = 0;\n\n    /**\n     * Pending retry\n     * @type {boolean}\n     */\n    this.pendingRetry = false;\n\n    /**\n     * Preprocess state\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\n     */\n    this.preprocessState = 0;\n\n    /**\n     * Read state\n     * @type {number} 0 = not read, 1 = reading, 2 = finished\n     */\n    this.readState = 0;\n\n\n    /**\n     * Bytes transferred from total request size\n     * @type {number}\n     */\n    this.loaded = 0;\n\n    /**\n     * Total request size\n     * @type {number}\n     */\n    this.total = 0;\n\n    /**\n     * Size of a chunk\n     * @type {number}\n     */\n    this.chunkSize = this.fileObj.chunkSize;\n\n    /**\n     * Chunk start byte in a file\n     * @type {number}\n     */\n    this.startByte = this.offset * this.chunkSize;\n\n    /**\n     * A specific filename for this chunk which otherwise default to the main name\n     * @type {string}\n     */\n    this.filename = null;\n\n    /**\n      * Compute the endbyte in a file\n      *\n      */\n    this.computeEndByte = function() {\n      var endByte = Math.min(this.fileObj.size, (this.offset + 1) * this.chunkSize);\n      if (this.fileObj.size - endByte < this.chunkSize && !this.flowObj.opts.forceChunkSize) {\n        // The last chunk will be bigger than the chunk size,\n        // but less than 2 * this.chunkSize\n        endByte = this.fileObj.size;\n      }\n      return endByte;\n    }\n\n    /**\n     * Chunk end byte in a file\n     * @type {number}\n     */\n    this.endByte = this.computeEndByte();\n\n    /**\n     * XMLHttpRequest\n     * @type {XMLHttpRequest}\n     */\n    this.xhr = null;\n\n    var $ = this;\n\n    /**\n     * Send chunk event\n     * @param event\n     * @param {...} args arguments of a callback\n     */\n    this.event = function (event, args) {\n      args = Array.prototype.slice.call(arguments);\n      args.unshift($);\n      $.fileObj.chunkEvent.apply($.fileObj, args);\n    };\n    /**\n     * Catch progress event\n     * @param {ProgressEvent} event\n     */\n    this.progressHandler = function(event) {\n      if (event.lengthComputable) {\n        $.loaded = event.loaded ;\n        $.total = event.total;\n      }\n      $.event('progress', event);\n    };\n\n    /**\n     * Catch test event\n     * @param {Event} event\n     */\n    this.testHandler = function(event) {\n      var status = $.status(true);\n      if (status === 'error') {\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (status === 'success') {\n        $.tested = true;\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        // Error might be caused by file pause method\n        // Chunks does not exist on the server side\n        $.tested = true;\n        $.send();\n      }\n    };\n\n    /**\n     * Upload has stopped\n     * @param {Event} event\n     */\n    this.doneHandler = function(event) {\n      var status = $.status();\n      if (status === 'success' || status === 'error') {\n        delete this.data;\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        $.event('retry', $.message());\n        $.pendingRetry = true;\n        $.abort();\n        $.retries++;\n        var retryInterval = $.flowObj.opts.chunkRetryInterval;\n        if (retryInterval !== null) {\n          setTimeout(function () {\n            $.send();\n          }, retryInterval);\n        } else {\n          $.send();\n        }\n      }\n    };\n  }\n\n  FlowChunk.prototype = {\n    /**\n     * Get params for a request\n     * @function\n     */\n    getParams: function () {\n      return {\n        flowChunkNumber: this.offset + 1,\n        flowChunkSize: this.chunkSize,\n        flowCurrentChunkSize: this.endByte - this.startByte,\n        flowTotalSize: this.fileObj.size,\n        flowIdentifier: this.fileObj.uniqueIdentifier,\n        flowFilename: this.fileObj.name,\n        flowRelativePath: this.fileObj.relativePath,\n        flowTotalChunks: this.fileObj.chunks.length\n      };\n    },\n\n    /**\n     * Get target option with query params\n     * @function\n     * @param params\n     * @returns {string}\n     */\n    getTarget: function(target, params){\n      if (params.length == 0) {\n\treturn target;\n      }\n\n      if(target.indexOf('?') < 0) {\n        target += '?';\n      } else {\n        target += '&';\n      }\n      return target + params.join('&');\n    },\n\n    /**\n     * Makes a GET request without any data to see if the chunk has already\n     * been uploaded in a previous session\n     * @function\n     */\n    test: function () {\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.addEventListener(\"load\", this.testHandler, false);\n      this.xhr.addEventListener(\"error\", this.testHandler, false);\n      var testMethod = evalOpts(this.flowObj.opts.testMethod, this.fileObj, this);\n      var data = this.prepareXhrRequest(testMethod, true);\n      this.xhr.send(data);\n    },\n\n    /**\n     * Finish preprocess state\n     * @function\n     */\n    preprocessFinished: function () {\n      // Re-compute the endByte after the preprocess function to allow an\n      // implementer of preprocess to set the fileObj size\n      this.endByte = this.computeEndByte();\n\n      this.preprocessState = 2;\n      this.send();\n    },\n\n    /**\n     * Finish read state\n     * @function\n     */\n    readFinished: function (bytes) {\n      this.readState = 2;\n      this.bytes = bytes;\n      this.send();\n    },\n\n\n    /**\n     * Uploads the actual data in a POST call\n     * @function\n     */\n    send: function () {\n      var preprocess = this.flowObj.opts.preprocess;\n      var read = this.flowObj.opts.readFileFn;\n      if (typeof preprocess === 'function') {\n        switch (this.preprocessState) {\n          case 0:\n            this.preprocessState = 1;\n            preprocess(this);\n            return;\n          case 1:\n            return;\n        }\n      }\n      switch (this.readState) {\n        case 0:\n          this.readState = 1;\n          read(this.fileObj, this.startByte, this.endByte, this.fileObj.file.type, this);\n          return;\n        case 1:\n          return;\n      }\n      if (this.flowObj.opts.testChunks && !this.tested) {\n        this.test();\n        return;\n      }\n\n      this.loaded = 0;\n      this.total = 0;\n      this.pendingRetry = false;\n\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\n      this.xhr.addEventListener(\"load\", this.doneHandler, false);\n      this.xhr.addEventListener(\"error\", this.doneHandler, false);\n\n      var uploadMethod = evalOpts(this.flowObj.opts.uploadMethod, this.fileObj, this);\n      var data = this.prepareXhrRequest(uploadMethod, false, this.flowObj.opts.method, this.bytes);\n      var changeRawDataBeforeSend = this.flowObj.opts.changeRawDataBeforeSend;\n      if (typeof changeRawDataBeforeSend === 'function') {\n        data = changeRawDataBeforeSend(this, data);\n      }\n      this.xhr.send(data);\n    },\n\n    /**\n     * Abort current xhr request\n     * @function\n     */\n    abort: function () {\n      // Abort and reset\n      var xhr = this.xhr;\n      this.xhr = null;\n      if (xhr) {\n        xhr.abort();\n      }\n    },\n\n    /**\n     * Retrieve current chunk upload status\n     * @function\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\n     */\n    status: function (isTest) {\n      if (this.readState === 1) {\n        return 'reading';\n      } else if (this.pendingRetry || this.preprocessState === 1) {\n        // if pending retry then that's effectively the same as actively uploading,\n        // there might just be a slight delay before the retry starts\n        return 'uploading';\n      } else if (!this.xhr) {\n        return 'pending';\n      } else if (this.xhr.readyState < 4) {\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\n        // or 'LOADING' - meaning that stuff is happening\n        return 'uploading';\n      } else {\n        if (this.flowObj.opts.successStatuses.indexOf(this.xhr.status) > -1) {\n          // HTTP 200, perfect\n\t\t      // HTTP 202 Accepted - The request has been accepted for processing, but the processing has not been completed.\n          return 'success';\n        } else if (this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\n            !isTest && this.retries >= this.flowObj.opts.maxChunkRetries) {\n          // HTTP 413/415/500/501, permanent error\n          return 'error';\n        } else {\n          // this should never happen, but we'll reset and queue a retry\n          // a likely case for this would be 503 service unavailable\n          this.abort();\n          return 'pending';\n        }\n      }\n    },\n\n    /**\n     * Get response from xhr request\n     * @function\n     * @returns {String}\n     */\n    message: function () {\n      return this.xhr ? this.xhr.responseText : '';\n    },\n\n    /**\n     * Get upload progress\n     * @function\n     * @returns {number}\n     */\n    progress: function () {\n      if (this.pendingRetry) {\n        return 0;\n      }\n      var s = this.status();\n      if (s === 'success' || s === 'error') {\n        return 1;\n      } else if (s === 'pending') {\n        return 0;\n      } else {\n        return this.total > 0 ? this.loaded / this.total : 0;\n      }\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = this.endByte - this.startByte;\n      // can't return only chunk.loaded value, because it is bigger than chunk size\n      if (this.status() !== 'success') {\n        size = this.progress() * size;\n      }\n      return size;\n    },\n\n    /**\n     * Prepare Xhr request. Set query, headers and data\n     * @param {string} method GET or POST\n     * @param {bool} isTest is this a test request\n     * @param {string} [paramsMethod] octet or form\n     * @param {Blob} [blob] to send\n     * @returns {FormData|Blob|Null} data to send\n     */\n    prepareXhrRequest: function(method, isTest, paramsMethod, blob) {\n      // Add data from the query options\n      var query = evalOpts(this.flowObj.opts.query, this.fileObj, this, isTest);\n      query = extend(query || {}, this.getParams());\n\n      var target = evalOpts(this.flowObj.opts.target, this.fileObj, this, isTest);\n      var data = null;\n      if (method === 'GET' || paramsMethod === 'octet') {\n        // Add data from the query options\n        var params = [];\n        each(query, function (v, k) {\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\n        });\n        target = this.getTarget(target, params);\n        data = blob || null;\n      } else {\n        // Add data from the query options\n        data = new FormData();\n        each(query, function (v, k) {\n          data.append(k, v);\n        });\n        if (typeof blob !== \"undefined\") {\n            data.append(this.flowObj.opts.fileParameterName, blob, this.filename || this.fileObj.file.name);\n        }\n      }\n\n      this.xhr.open(method, target, true);\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\n\n      // Add data from header options\n      each(evalOpts(this.flowObj.opts.headers, this.fileObj, this, isTest), function (v, k) {\n        this.xhr.setRequestHeader(k, v);\n      }, this);\n\n      return data;\n    }\n  };\n\n  /**\n   * Remove value from array\n   * @param array\n   * @param value\n   */\n  function arrayRemove(array, value) {\n    var index = array.indexOf(value);\n    if (index > -1) {\n      array.splice(index, 1);\n    }\n  }\n\n  /**\n   * If option is a function, evaluate it with given params\n   * @param {*} data\n   * @param {...} args arguments of a callback\n   * @returns {*}\n   */\n  function evalOpts(data, args) {\n    if (typeof data === \"function\") {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      data = data.apply(null, args.slice(1));\n    }\n    return data;\n  }\n  Flow.evalOpts = evalOpts;\n\n  /**\n   * Execute function asynchronously\n   * @param fn\n   * @param context\n   */\n  function async(fn, context) {\n    setTimeout(fn.bind(context), 0);\n  }\n\n  /**\n   * Extends the destination object `dst` by copying all of the properties from\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\n   * @function\n   * @param {Object} dst Destination object.\n   * @param {...Object} src Source object(s).\n   * @returns {Object} Reference to `dst`.\n   */\n  function extend(dst, src) {\n    each(arguments, function(obj) {\n      if (obj !== dst) {\n        each(obj, function(value, key){\n          dst[key] = value;\n        });\n      }\n    });\n    return dst;\n  }\n  Flow.extend = extend;\n\n  /**\n   * Iterate each element of an object\n   * @function\n   * @param {Array|Object} obj object or an array to iterate\n   * @param {Function} callback first argument is a value and second is a key.\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\n   */\n  function each(obj, callback, context) {\n    if (!obj) {\n      return ;\n    }\n    var key;\n    // Is Array?\n    // Array.isArray won't work, not only arrays can be iterated by index https://github.com/flowjs/ng-flow/issues/236#\n    if (typeof(obj.length) !== 'undefined') {\n      for (key = 0; key < obj.length; key++) {\n        if (callback.call(context, obj[key], key) === false) {\n          return ;\n        }\n      }\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\n          return ;\n        }\n      }\n    }\n  }\n  Flow.each = each;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowFile}\n   */\n  Flow.FlowFile = FlowFile;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowChunk}\n   */\n  Flow.FlowChunk = FlowChunk;\n\n  /**\n   * Library version\n   * @type {string}\n   */\n  Flow.version = '<%= version %>';\n\n  if ( typeof module === \"object\" && module && typeof module.exports === \"object\" ) {\n    // Expose Flow as module.exports in loaders that implement the Node\n    // module pattern (including browserify). Do not create the global, since\n    // the user will be storing it themselves locally, and globals are frowned\n    // upon in the Node module world.\n    module.exports = Flow;\n  } else {\n    // Otherwise expose Flow to the global object as usual\n    window.Flow = Flow;\n\n    // Register as a named AMD module, since Flow can be concatenated with other\n    // files that may use define, but not via a proper concatenation script that\n    // understands anonymous AMD modules. A named AMD is safest and most robust\n    // way to register. Lowercase flow is used because AMD module names are\n    // derived from file names, and Flow is normally delivered in a lowercase\n    // file name. Do this after creating the global so that if an AMD module wants\n    // to call noConflict to hide this version of Flow, it will work.\n    if ( typeof define === \"function\" && define.amd ) {\n      define( \"flow\", [], function () { return Flow; } );\n    }\n  }\n})(typeof window !== 'undefined' && window, typeof document !== 'undefined' && document);\n","'use strict';\n\nvar Vue = require('vue');\nVue = 'default' in Vue ? Vue['default'] : Vue;\n\nvar version = '2.1.0';\n\nvar compatible = (/^2\\./).test(Vue.version);\nif (!compatible) {\n  Vue.util.warn('VueFocus ' + version + ' only supports Vue 2.x, and does not support Vue ' + Vue.version);\n}\n\nvar focus = {\n  inserted: function(el, binding) {\n    if (binding.value) el.focus();\n    else el.blur();\n  },\n\n  componentUpdated: function(el, binding) {\n    if (binding.modifiers.lazy) {\n      if (Boolean(binding.value) === Boolean(binding.oldValue)) {\n        return;\n      }\n    }\n\n    if (binding.value) el.focus();\n    else el.blur();\n  },\n};\n\nvar mixin = {\n  directives: {\n    focus: focus,\n  },\n};\n\nexports.version = version;\nexports.focus = focus;\nexports.mixin = mixin;","/*!\n * Fuse.js v3.6.1 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"Fuse\",[],t):\"object\"==typeof exports?exports.Fuse=t():e.Fuse=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1),a=r(7),s=a.get,c=(a.deepValue,a.isArray),h=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,a=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.caseSensitive,v=void 0!==f&&f,p=r.tokenSeparator,d=void 0===p?/ +/g:p,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,b=r.id,S=void 0===b?null:b,x=r.keys,M=void 0===x?[]:x,_=r.shouldSort,w=void 0===_||_,L=r.getFn,A=void 0===L?s:L,O=r.sortFn,C=void 0===O?function(e,t){return e.score-t.score}:O,j=r.tokenize,P=void 0!==j&&j,I=r.matchAllTokens,F=void 0!==I&&I,T=r.includeMatches,N=void 0!==T&&T,z=r.includeScore,E=void 0!==z&&z,W=r.verbose,K=void 0!==W&&W;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:a,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:d,findAllMatches:y,minMatchCharLength:k,id:S,keys:M,includeMatches:N,includeScore:E,shouldSort:w,getFn:A,sortFn:C,verbose:K,tokenize:P,matchAllTokens:F},this.setCollection(t),this._processKeys(M)}var t,r,a;return t=e,(r=[{key:\"setCollection\",value:function(e){return this.list=e,e}},{key:\"_processKeys\",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&\"string\"==typeof e[0])for(var t=0,r=e.length;t<r;t+=1){var n=e[t];this._keyWeights[n]=1,this._keyNames.push(n)}else{for(var o=null,i=null,a=0,s=0,c=e.length;s<c;s+=1){var h=e[s];if(!h.hasOwnProperty(\"name\"))throw new Error('Missing \"name\" property in key object');var l=h.name;if(this._keyNames.push(l),!h.hasOwnProperty(\"weight\"))throw new Error('Missing \"weight\" property in key object');var u=h.weight;if(u<0||u>1)throw new Error('\"weight\" property in key must bein the range of [0, 1)');i=null==i?u:Math.max(i,u),o=null==o?u:Math.min(o,u),this._keyWeights[l]=u,a+=u}if(a>1)throw new Error(\"Total of weights cannot exceed 1\")}}},{key:\"search\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\\nSearch pattern: \"'.concat(e,'\"'));var r=this._prepareSearchers(e),n=r.tokenSearchers,o=r.fullSearcher,i=this._search(n,o);return this._computeScore(i),this.options.shouldSort&&this._sort(i),t.limit&&\"number\"==typeof t.limit&&(i=i.slice(0,t.limit)),this._format(i)}},{key:\"_prepareSearchers\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,o=r.length;n<o;n+=1)t.push(new i(r[n],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:\"_search\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.list,n={},o=[];if(\"string\"==typeof r[0]){for(var i=0,a=r.length;i<a;i+=1)this._analyze({key:\"\",value:r[i],record:i,index:i},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return o}for(var s=0,c=r.length;s<c;s+=1)for(var h=r[s],l=0,u=this._keyNames.length;l<u;l+=1){var f=this._keyNames[l];this._analyze({key:f,value:this.options.getFn(h,f),record:h,index:s},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return o}},{key:\"_analyze\",value:function(e,t){var r=this,n=e.key,o=e.arrayIndex,i=void 0===o?-1:o,a=e.value,s=e.record,h=e.index,l=t.tokenSearchers,u=void 0===l?[]:l,f=t.fullSearcher,v=t.resultMap,p=void 0===v?{}:v,d=t.results,g=void 0===d?[]:d;!function e(t,o,i,a){if(null!=o)if(\"string\"==typeof o){var s=!1,h=-1,l=0;r._log(\"\\nKey: \".concat(\"\"===n?\"--\":n));var v=f.search(o);if(r._log('Full text: \"'.concat(o,'\", score: ').concat(v.score)),r.options.tokenize){for(var d=o.split(r.options.tokenSeparator),y=d.length,m=[],k=0,b=u.length;k<b;k+=1){var S=u[k];r._log('\\nPattern: \"'.concat(S.pattern,'\"'));for(var x=!1,M=0;M<y;M+=1){var _=d[M],w=S.search(_),L={};w.isMatch?(L[_]=w.score,s=!0,x=!0,m.push(w.score)):(L[_]=1,r.options.matchAllTokens||m.push(1)),r._log('Token: \"'.concat(_,'\", score: ').concat(L[_]))}x&&(l+=1)}h=m[0];for(var A=m.length,O=1;O<A;O+=1)h+=m[O];h/=A,r._log(\"Token score average:\",h)}var C=v.score;h>-1&&(C=(C+h)/2),r._log(\"Score average:\",C);var j=!r.options.tokenize||!r.options.matchAllTokens||l>=u.length;if(r._log(\"\\nCheck Matches: \".concat(j)),(s||v.isMatch)&&j){var P={key:n,arrayIndex:t,value:o,score:C};r.options.includeMatches&&(P.matchedIndices=v.matchedIndices);var I=p[a];I?I.output.push(P):(p[a]={item:i,output:[P]},g.push(p[a]))}}else if(c(o))for(var F=0,T=o.length;F<T;F+=1)e(F,o[F],i,a)}(i,a,s,h)}},{key:\"_computeScore\",value:function(e){this._log(\"\\n\\nComputing score:\\n\");for(var t=this._keyWeights,r=!!Object.keys(t).length,n=0,o=e.length;n<o;n+=1){for(var i=e[n],a=i.output,s=a.length,c=1,h=0;h<s;h+=1){var l=a[h],u=l.key,f=r?t[u]:1,v=0===l.score&&t&&t[u]>0?Number.EPSILON:l.score;c*=Math.pow(v,f)}i.score=c,this._log(i)}}},{key:\"_sort\",value:function(e){this._log(\"\\n\\nSorting....\"),e.sort(this.options.sortFn)}},{key:\"_format\",value:function(e){var t=[];if(this.options.verbose){var r=[];this._log(\"\\n\\nOutput:\\n\\n\",JSON.stringify(e,function(e,t){if(\"object\"===n(t)&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t},2)),r=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var i=r[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty(\"arrayIndex\")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var c={item:s.item},h=0,l=o.length;h<l;h+=1)o[h](s,c);t.push(c)}else t.push(s.item)}return t}},{key:\"_log\",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,r),a&&o(t,a),e}();e.exports=h},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(2),i=r(3),a=r(6),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,s=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.isCaseSensitive,v=void 0!==f&&f,p=r.tokenSeparator,d=void 0===p?/ +/g:p,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,b=r.includeMatches,S=void 0!==b&&b;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:d,findAllMatches:y,includeMatches:S,minMatchCharLength:k},this.pattern=v?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}var t,r,s;return t=e,(r=[{key:\"search\",value:function(e){var t=this.options,r=t.isCaseSensitive,n=t.includeMatches;if(r||(e=e.toLowerCase()),this.pattern===e){var a={isMatch:!0,score:0};return n&&(a.matchedIndices=[[0,e.length-1]]),a}var s=this.options,c=s.maxPatternLength,h=s.tokenSeparator;if(this.pattern.length>c)return o(e,this.pattern,h);var l=this.options,u=l.location,f=l.distance,v=l.threshold,p=l.findAllMatches,d=l.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:u,distance:f,threshold:v,findAllMatches:p,minMatchCharLength:d,includeMatches:n})}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=s},function(e,t){var r=/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(r,\"\\\\$&\").replace(n,\"|\")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){var n=r(4),o=r(5);e.exports=function(e,t,r,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,v=void 0!==f&&f,p=i.minMatchCharLength,d=void 0===p?1:p,g=i.includeMatches,y=void 0!==g&&g,m=s,k=e.length,b=u,S=e.indexOf(t,m),x=t.length,M=[],_=0;_<k;_+=1)M[_]=0;if(-1!==S){var w=n(t,{errors:0,currentLocation:S,expectedLocation:m,distance:h});if(b=Math.min(w,b),-1!==(S=e.lastIndexOf(t,m+x))){var L=n(t,{errors:0,currentLocation:S,expectedLocation:m,distance:h});b=Math.min(L,b)}}S=-1;for(var A=[],O=1,C=x+k,j=1<<(x<=31?x-1:30),P=0;P<x;P+=1){for(var I=0,F=C;I<F;){n(t,{errors:P,currentLocation:m+F,expectedLocation:m,distance:h})<=b?I=F:C=F,F=Math.floor((C-I)/2+I)}C=F;var T=Math.max(1,m-F+1),N=v?k:Math.min(m+F,k)+x,z=Array(N+2);z[N+1]=(1<<P)-1;for(var E=N;E>=T;E-=1){var W=E-1,K=r[e.charAt(W)];if(K&&(M[W]=1),z[E]=(z[E+1]<<1|1)&K,0!==P&&(z[E]|=(A[E+1]|A[E])<<1|1|A[E+1]),z[E]&j&&(O=n(t,{errors:P,currentLocation:W,expectedLocation:m,distance:h}))<=b){if(b=O,(S=W)<=m)break;T=Math.max(1,2*m-S)}}if(n(t,{errors:P+1,currentLocation:m,expectedLocation:m,distance:h})>b)break;A=z}var $={isMatch:S>=0,score:0===O?.001:O};return y&&($.matchedIndices=o(M,d)),$}},function(e,t){e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=n/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||((o=i-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}},function(e,t){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t){var r=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===Object.prototype.toString.call(e)},n=function(e){return null==e?\"\":function(e){if(\"string\"==typeof e)return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}(e)},o=function(e){return\"string\"==typeof e},i=function(e){return\"number\"==typeof e};e.exports={get:function(e,t){var a=[];return function e(t,s){if(s){var c=s.indexOf(\".\"),h=s,l=null;-1!==c&&(h=s.slice(0,c),l=s.slice(c+1));var u=t[h];if(null!=u)if(l||!o(u)&&!i(u))if(r(u))for(var f=0,v=u.length;f<v;f+=1)e(u[f],l);else l&&e(u,l);else a.push(n(u))}else a.push(t)}(e,t),a},isArray:r,isString:o,isNum:i,toString:n}}])});"],"sourceRoot":""}
(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[13],{"2d61":function(e,t,i){"use strict";i.r(t),i.d(t,"install",(function(){return ue}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mobile-primitive-numeric-response-block"},[i("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),i("fieldset",{attrs:{disabled:!e.isEditable}},[i("block-label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?i("block-semantic-label-editor",{attrs:{block:e.block}}):e._e(),i("block-name-editor",{attrs:{block:e.block}}),i("block-minimum-numeric-editor",{attrs:{block:e.block},on:{commitValidationMinimumChange:e.updateValidationMin}}),i("block-maximum-numeric-editor",{attrs:{block:e.block},on:{commitValidationMaximumChange:e.updateValidationMax}}),i("block-max-digit-editor",{attrs:{block:e.block,"has-ivr":e.hasVoiceMode},on:{commitMaxDigitsChange:e.updateMaxDigits}}),i("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),e.promptResource?i("resource-editor",{attrs:{resource:e.promptResource,block:e.block,flow:e.flow}}):e._e(),e._t("extras"),i("categorization",{attrs:{block:e.block}}),i("generic-contact-property-editor",{attrs:{block:e.block}}),i("hr"),i("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),i("block-id",{attrs:{block:e.block}})],1)},a=[],n=i("276c"),c=i("e954"),r=i("2c4c"),l=i("920b"),u=i("92a6"),d=i("fc11"),s=(i("99af"),i("9ab4")),m=i("4bb5"),b=i("1b40"),f=i("c964"),v=(i("96cf"),i("31aa")),k=i("2ef0"),p=i("85b2"),g="MobilePrimitives.NumericResponse",_={},h={},O={setValidationMinimum:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function i(){var o,a,n,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=e.commit,a=t.blockId,n=t.value,c=""===n?void 0:n,o("flow/block_updateConfigByKey",{blockId:a,key:"validation_minimum",value:c},{root:!0}),i.abrupt("return",c);case 5:case"end":return i.stop()}}),i)})))()},setValidationMaximum:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function i(){var o,a,n,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=e.commit,a=t.blockId,n=t.value,c=""===n?void 0:n,o("flow/block_updateConfigByKey",{blockId:a,key:"validation_maximum",value:c},{root:!0}),i.abrupt("return",c);case 5:case"end":return i.stop()}}),i)})))()},setMaxDigits:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function i(){var o,a,n,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=e.commit,a=t.blockId,n=t.value,c=""===n?void 0:n,o("flow/block_updateConfigByKey",{blockId:a,key:"ivr",value:{max_digits:c}},{root:!0}),i.abrupt("return",c);case 5:case"end":return i.stop()}}),i)})))()},createWith:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function i(){var o,a,n,c,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=e.dispatch,a=e.commit,n=t.props,i.t0=o,i.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return i.t1=i.sent,i.t2={uuid:i.t1},i.t3={props:i.t2},i.t4={root:!0},i.next=11,(0,i.t0)("flow/block_createBlockDefaultExitWith",i.t3,i.t4);case 11:return i.t5=i.sent,c=[i.t5],i.next=15,o("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 15:return r=i.sent,a("flow/resource_add",{resource:r},{root:!0}),i.abrupt("return",Object(k["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",exits:c,config:{prompt:r.uuid,validation_minimum:void 0,validation_maximum:void 0},tags:[],vendor_metadata:{}}));case 18:case"end":return i.stop()}}),i)})))()},handleBranchingTypeChangedToUnified:function(e,t){var i=e.dispatch,o=t.block;i("flow/block_convertExitFormationToUnified",{blockId:o.uuid,test:j(o)},{root:!0})},validate:function(e,t){e.rootGetters;var i=t.block,o=t.schemaVersion;return Object(p["e"])({block:i,schemaVersion:o})}};function j(e){return null!==e.config.validation_minimum&&void 0!==e.config.validation_minimum||null!==e.config.validation_maximum&&void 0!==e.config.validation_maximum?null!==e.config.validation_minimum&&void 0!==e.config.validation_minimum&&null!==e.config.validation_maximum&&void 0!==e.config.validation_maximum?"AND(is_number(block.value, block.value >= ".concat(e.config.validation_minimum,",")+" block.value <= ".concat(e.config.validation_maximum,")"):null===e.config.validation_minimum||void 0===e.config.validation_minimum||null!==e.config.validation_maximum&&void 0!==e.config.validation_maximum?null!==e.config.validation_minimum&&void 0!==e.config.validation_minimum||null===e.config.validation_maximum||void 0===e.config.validation_maximum?(console.warn("Exit test condition not found for NumericBlock, providing `true` by default"),"true"):"AND(is_number(block.value), block.value <= ".concat(e.config.validation_maximum,")"):"AND(is_number(block.value), block.value >= ".concat(e.config.validation_minimum,")"):"is_number(block.value)"}var x={namespaced:!0,getters:_,mutations:h,actions:O},y=i("4a51"),w=i("8619"),V=i("af98"),M=i("2fe1"),B=i("18b0"),E=i("510a"),C=i("f04e"),T=i("3411"),D=i("1b4e"),A=i("192b"),I=i("792f"),R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/validation_minimum"},scopedSlots:e._u([{key:"input-control",fn:function(t){var o=t.isValid;return[i("div",{staticClass:"block-validation-min"},[i("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.minimum-value-(inclusive)"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":o},model:{value:e.minValue,callback:function(t){e.minValue=e._n(t)},expression:"minValue"}})],1)]}}])})},U=[],N=i("2f00"),S=function(e){Object(l["a"])(i,e);var t=Object(u["a"])(i);function i(){var e;Object(n["a"])(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(d["a"])(Object(r["a"])(e),"block",void 0),e}return Object(c["a"])(i,[{key:"minValue",get:function(){return this.block.config.validation_minimum},set:function(e){this.$emit("commitValidationMinimumChange",e)}}]),i}(Object(M["c"])(y["a"]));Object(s["__decorate"])([Object(b["b"])()],S.prototype,"block",void 0),S=Object(s["__decorate"])([Object(M["b"])({components:{NumericEditor:N["a"]}})],S);var L=S,$=L,F=i("2877"),G=Object(F["a"])($,R,U,!1,null,null,null),K=G.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/validation_maximum"},scopedSlots:e._u([{key:"input-control",fn:function(t){var o=t.isValid;return[i("div",{staticClass:"block-validation-max"},[i("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.maximum-value-(inclusive)"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":o},model:{value:e.maxValue,callback:function(t){e.maxValue=e._n(t)},expression:"maxValue"}})],1)]}}])})},J=[],P=function(e){Object(l["a"])(i,e);var t=Object(u["a"])(i);function i(){var e;Object(n["a"])(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(d["a"])(Object(r["a"])(e),"block",void 0),e}return Object(c["a"])(i,[{key:"maxValue",get:function(){return this.block.config.validation_maximum},set:function(e){this.$emit("commitValidationMaximumChange",e)}}]),i}(Object(M["c"])(y["a"]));Object(s["__decorate"])([Object(b["b"])()],P.prototype,"block",void 0),P=Object(s["__decorate"])([Object(M["b"])({components:{NumericEditor:N["a"]}})],P);var W=P,q=W,H=Object(F["a"])(q,z,J,!1,null,null,null),Q=H.exports,X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasIvr?i("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/ivr/max_digits"},scopedSlots:e._u([{key:"input-control",fn:function(t){var o=t.isValid;return[i("div",{staticClass:"block-max-digits"},[i("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.maximum-digits"),placeholder:e._f("trans")("flow-builder.enter-value"),"sub-title":e._f("trans")("flow-builder.max-digits-help-text"),"valid-state":o},model:{value:e.maxDigits,callback:function(t){e.maxDigits=e._n(t)},expression:"maxDigits"}})],1)]}}],null,!1,2439896574)}):e._e()},Y=[],Z={components:{NumericEditor:N["a"]},mixins:[y["b"]],props:{block:{type:Object,required:!0},hasIvr:{default:!0,type:Boolean}},computed:{maxDigits:{get:function(){return Object(k["get"])(this.block,"config.ivr.max_digits","")},set:function(e){this.$emit("commitMaxDigitsChange",e)}}}},ee=Z,te=Object(F["a"])(ee,X,Y,!1,null,null,null),ie=te.exports,oe=i("b4ec"),ae=Object(m["e"])("flow"),ne=Object(m["e"])("flow/".concat(g)),ce=Object(m["e"])("builder"),re=function(e){Object(l["a"])(i,e);var t=Object(u["a"])(i);function i(){var e;Object(n["a"])(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(d["a"])(Object(r["a"])(e),"block",void 0),Object(d["a"])(Object(r["a"])(e),"flow",void 0),Object(d["a"])(Object(r["a"])(e),"showSemanticLabel",!1),Object(d["a"])(Object(r["a"])(e),"resourcesByUuid",void 0),Object(d["a"])(Object(r["a"])(e),"hasVoiceMode",void 0),Object(d["a"])(Object(r["a"])(e),"block_convertExitFormationToUnified",void 0),Object(d["a"])(Object(r["a"])(e),"setValidationMinimum",void 0),Object(d["a"])(Object(r["a"])(e),"setValidationMaximum",void 0),Object(d["a"])(Object(r["a"])(e),"setMaxDigits",void 0),Object(d["a"])(Object(r["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(d["a"])(Object(r["a"])(e),"isEditable",void 0),e}return Object(c["a"])(i,[{key:"promptResource",get:function(){return this.resourcesByUuid[this.block.config.prompt]}},{key:"updateValidationMin",value:function(e){this.setValidationMinimum({blockId:this.block.uuid,value:e}),this.handleActionsAccordingToBranchingType()}},{key:"updateValidationMax",value:function(e){this.setValidationMaximum({blockId:this.block.uuid,value:e}),this.handleActionsAccordingToBranchingType()}},{key:"updateMaxDigits",value:function(e){this.setMaxDigits({blockId:this.block.uuid,value:e})}},{key:"handleActionsAccordingToBranchingType",value:function(){var e=this.block.vendor_metadata,t=B["b"].UNIFIED;e.io_viamo.branchingType===t&&this.handleBranchingTypeChangedToUnified({block:this.block})}}]),i}(Object(M["c"])(y["a"]));Object(s["__decorate"])([Object(b["b"])()],re.prototype,"block",void 0),Object(s["__decorate"])([Object(b["b"])()],re.prototype,"flow",void 0),Object(s["__decorate"])([ae.Getter],re.prototype,"resourcesByUuid",void 0),Object(s["__decorate"])([ae.Getter],re.prototype,"hasVoiceMode",void 0),Object(s["__decorate"])([ae.Action],re.prototype,"block_convertExitFormationToUnified",void 0),Object(s["__decorate"])([ne.Action],re.prototype,"setValidationMinimum",void 0),Object(s["__decorate"])([ne.Action],re.prototype,"setValidationMaximum",void 0),Object(s["__decorate"])([ne.Action],re.prototype,"setMaxDigits",void 0),Object(s["__decorate"])([ne.Action],re.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(s["__decorate"])([ce.Getter],re.prototype,"isEditable",void 0),re=Object(s["__decorate"])([Object(b["a"])({components:{GenericContactPropertyEditor:oe["a"],ResourceEditor:E["a"],BlockNameEditor:C["a"],BlockLabelEditor:T["a"],BlockSemanticLabelEditor:D["a"],FirstBlockEditorButton:A["a"],BlockId:I["a"],BlockMinimumNumericEditor:K,BlockMaximumNumericEditor:Q,BlockMaxDigitEditor:ie,Categorization:w["a"],BlockOutputBranchingConfig:B["c"]}})],re);var le=re,ue=Object(V["d"])(g,x),de=le,se=Object(F["a"])(de,o,a,!1,null,null,null);t["default"]=se.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.13.js.map
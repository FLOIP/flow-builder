(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[13],{b6b9:function(t,e,r){"use strict";r.r(e),r.d(e,"install",(function(){return L}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"console-io-read-block"},[r("h3",{staticClass:"no-room-above"},[t._v(" "+t._s(t._f("trans")("flow-builder.edit-block-type",{block_type:t.trans("flow-builder."+t.block.type)}))+" ")]),r("fieldset",{attrs:{disabled:!t.isEditable}},[r("block-name-editor",{attrs:{block:t.block}}),r("block-label-editor",{attrs:{block:t.block}}),r("block-semantic-label-editor",{attrs:{block:t.block}}),r("block-format-string-editor",{attrs:{block:t.block},on:{commitFormatStringChange:t.setFormatString}}),t._l(t.destinationVariablesFields,(function(e,a){return r("div",{staticClass:"form-group form-inline"},[r("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/destination_variables/"+a},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[r("text-editor",{attrs:{label:a+1,placeholder:t._f("trans")("flow-builder.edit-variable"),"valid-state":o,value:""},on:{keydown:t.filterVariableName,input:function(e){return t.updatedestinationVariables(e,a)}}})]}}],null,!0)})],1)})),t._t("extras"),r("first-block-editor-button",{attrs:{flow:t.flow,"block-id":t.block.uuid}})],2),r("block-id",{attrs:{block:t.block}})],1)},o=[],i=(r("ac1f"),r("466d"),r("d4ec")),n=r("bee2"),l=r("262e"),c=r("2caf"),s=r("9ab4"),u=r("4bb5"),b=r("60a3"),d=r("d883"),f=(r("96cf"),r("1da1")),p=r("31aa"),k=r("2ef0"),m="ConsoleIO.Read",g={destinationVariablesFields:function(t,e,r,a){var o=a["builder/activeBlock"];return new Array(Object(k["split"])(o.config.format_string||"","%").length-1)}},v={},_={setFormatString:function(t,e){return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,o,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.commit,o=t.rootGetters,i=o["builder/activeBlock"],n={format_string:e},a("flow/block_updateConfigByKey",{blockId:i.uuid,key:"format_string",value:e},{root:!0}),r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))()},editDestinationVariable:function(t,e){return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,o,i,n,l,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.commit,o=t.rootGetters,i=e.variableName,n=e.keyIndex,l=o["builder/activeBlock"],c=l.config.destination_variables||[],c[n]=i,a("flow/block_updateConfigByKey",{blockId:l.uuid,key:"destination_variables",value:c},{root:!0}),r.abrupt("return",c);case 7:case"end":return r.stop()}}),r)})))()},createWith:function(t,e){return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.dispatch,o=e.props,r.t0=a,r.next=5,(new p["IdGeneratorUuidV4"]).generate();case 5:return r.t1=r.sent,r.t2={uuid:r.t1,tag:"Default",label:"Default"},r.t3={props:r.t2},r.t4={root:!0},r.next=11,(0,r.t0)("flow/block_createBlockDefaultExitWith",r.t3,r.t4);case 11:return r.t5=r.sent,i=[r.t5],r.t6=i,r.t7=a,r.next=17,(new p["IdGeneratorUuidV4"]).generate();case 17:return r.t8=r.sent,r.t9={uuid:r.t8,tag:"Error",label:"Error"},r.t10={props:r.t9},r.t11={root:!0},r.next=23,(0,r.t7)("flow/block_createBlockExitWith",r.t10,r.t11);case 23:return r.t12=r.sent,r.t6.push.call(r.t6,r.t12),r.abrupt("return",Object(k["defaultsDeep"])(o,{type:m,name:"",label:"",semantic_label:"",config:{format_string:"",destination_variables:[]},exits:i}));case 26:case"end":return r.stop()}}),r)})))()}},y={namespaced:!0,getters:g,mutations:v,actions:_},w=r("4a51"),h=r("af98"),O=r("2fe1"),j=r("21e9"),x=r("510a"),E=r("f04e"),V=r("3411"),B=r("1b4e"),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/format_string"},scopedSlots:t._u([{key:"input-control",fn:function(e){var a=e.isValid;return[r("div",{staticClass:"block-format-string"},[r("text-editor",{attrs:{label:t._f("trans")("flow-builder.format-string"),placeholder:t._f("trans")("flow-builder.enter-format-string"),"valid-state":a},model:{value:t.formatString,callback:function(e){t.formatString=e},expression:"formatString"}})],1)]}}])})},F=[],C={components:{TextEditor:d["a"],ValidationMessage:j["a"]},mixins:[w["b"]],props:{block:{type:Object,required:!0}},computed:{formatString:{get:function(){return this.block.config.format_string},set:function(t){this.$emit("commitFormatStringChange",t)}}}},D=C,I=r("2877"),R=Object(I["a"])(D,S,F,!1,null,null,null),G=R.exports,N=r("192b"),W=r("792f"),A=Object(u["e"])("flow/".concat(m)),$=Object(u["e"])("builder"),J=function(t){Object(l["a"])(r,t);var e=Object(c["a"])(r);function r(){return Object(i["a"])(this,r),e.apply(this,arguments)}return Object(n["a"])(r,[{key:"filterVariableName",value:function(t){t.key.match(/\W+|Enter/g)&&t.preventDefault()}},{key:"updatedestinationVariables",value:function(t,e){this.editDestinationVariable({variableName:t,keyIndex:e})}}]),r}(Object(O["c"])(w["a"]));Object(s["__decorate"])([Object(b["b"])()],J.prototype,"block",void 0),Object(s["__decorate"])([Object(b["b"])()],J.prototype,"flow",void 0),Object(s["__decorate"])([A.Action],J.prototype,"setFormatString",void 0),Object(s["__decorate"])([A.Action],J.prototype,"editDestinationVariable",void 0),Object(s["__decorate"])([A.Getter],J.prototype,"destinationVariablesFields",void 0),Object(s["__decorate"])([$.Getter],J.prototype,"isEditable",void 0),J=Object(s["__decorate"])([Object(b["a"])({components:{ResourceEditor:x["a"],BlockNameEditor:E["a"],BlockLabelEditor:V["a"],BlockSemanticLabelEditor:B["a"],BlockFormatStringEditor:G,FirstBlockEditorButton:N["a"],TextEditor:d["a"],BlockId:W["a"],ValidationMessage:j["a"]}})],J);var K=J,L=Object(h["c"])(m,y),M=K,T=Object(I["a"])(M,a,o,!1,null,null,null);e["default"]=T.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.13.js.map
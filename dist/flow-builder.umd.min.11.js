(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[11],{b6b9:function(t,e,a){"use strict";a.r(e),a.d(e,"install",(function(){return T}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"console-io-read-block"},[a("h3",{staticClass:"no-room-above"},[t._v(" "+t._s(t._f("trans")("flow-builder.edit-block-type",{block_type:t.trans("flow-builder."+t.block.type)}))+" ")]),a("fieldset",{attrs:{disabled:!t.isEditable}},[a("block-label-editor",{attrs:{block:t.block},on:{gearClicked:function(e){t.showSemanticLabel=!t.showSemanticLabel}}}),t.showSemanticLabel?a("block-semantic-label-editor",{attrs:{block:t.block}}):t._e(),a("block-name-editor",{attrs:{block:t.block}}),a("block-format-string-editor",{attrs:{block:t.block},on:{commitFormatStringChange:t.setFormatString}}),t._l(t.destinationVariablesFields,(function(e,r){return a("div",{staticClass:"form-group form-inline"},[a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/destination_variables/"+r},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[a("text-editor",{attrs:{label:r+1,placeholder:t._f("trans")("flow-builder.edit-variable"),"valid-state":o,value:""},on:{keydown:t.filterVariableName,input:function(e){return t.updatedestinationVariables(e,r)}}})]}}],null,!0)})],1)})),t._t("extras"),a("first-block-editor-button",{attrs:{flow:t.flow,"block-id":t.block.uuid}})],2),a("block-id",{attrs:{block:t.block}})],1)},o=[],n=a("276c"),i=a("e954"),l=a("2c4c"),c=a("920b"),s=a("92a6"),u=a("fc11"),b=(a("99af"),a("ac1f"),a("466d"),a("9ab4")),d=a("4bb5"),f=a("1b40"),p=a("d883"),m=a("c964"),k=(a("96cf"),a("31aa")),g=a("2ef0"),v="ConsoleIO.Read",_={destinationVariablesFields:function(t,e,a,r){var o=r["builder/activeBlock"];return new Array(Object(g["split"])(o.config.format_string||"","%").length-1)}},w={},h={setFormatString:function(t,e){return Object(m["a"])(regeneratorRuntime.mark((function a(){var r,o,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,o=t.rootGetters,n=o["builder/activeBlock"],i={format_string:e},r("flow/block_updateConfigByKey",{blockId:n.uuid,key:"format_string",value:e},{root:!0}),a.abrupt("return",i);case 5:case"end":return a.stop()}}),a)})))()},editDestinationVariable:function(t,e){return Object(m["a"])(regeneratorRuntime.mark((function a(){var r,o,n,i,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,o=t.rootGetters,n=e.variableName,i=e.keyIndex,l=o["builder/activeBlock"],c=l.config.destination_variables||[],c[i]=n,r("flow/block_updateConfigByKey",{blockId:l.uuid,key:"destination_variables",value:c},{root:!0}),a.abrupt("return",c);case 7:case"end":return a.stop()}}),a)})))()},createWith:function(t,e){return Object(m["a"])(regeneratorRuntime.mark((function a(){var r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.dispatch,o=e.props,a.t0=r,a.next=5,(new k["IdGeneratorUuidV4"]).generate();case 5:return a.t1=a.sent,a.t2={uuid:a.t1,tag:"Default",label:"Default"},a.t3={props:a.t2},a.t4={root:!0},a.next=11,(0,a.t0)("flow/block_createBlockDefaultExitWith",a.t3,a.t4);case 11:return a.t5=a.sent,n=[a.t5],a.t6=n,a.t7=r,a.next=17,(new k["IdGeneratorUuidV4"]).generate();case 17:return a.t8=a.sent,a.t9={uuid:a.t8,tag:"Error",label:"Error"},a.t10={props:a.t9},a.t11={root:!0},a.next=23,(0,a.t7)("flow/block_createBlockExitWith",a.t10,a.t11);case 23:return a.t12=a.sent,a.t6.push.call(a.t6,a.t12),a.abrupt("return",Object(g["defaultsDeep"])(o,{type:v,name:"",label:"",semantic_label:"",config:{format_string:"",destination_variables:[]},exits:n}));case 26:case"end":return a.stop()}}),a)})))()}},y={namespaced:!0,getters:_,mutations:w,actions:h},O=a("4a51"),j=a("af98"),x=a("2fe1"),E=a("21e9"),S=a("510a"),V=a("f04e"),B=a("3411"),C=a("1b4e"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/format_string"},scopedSlots:t._u([{key:"input-control",fn:function(e){var r=e.isValid;return[a("div",{staticClass:"block-format-string"},[a("text-editor",{attrs:{label:t._f("trans")("flow-builder.format-string"),placeholder:t._f("trans")("flow-builder.enter-format-string"),"valid-state":r},model:{value:t.formatString,callback:function(e){t.formatString=e},expression:"formatString"}})],1)]}}])})},D=[],I={components:{TextEditor:p["a"],ValidationMessage:E["a"]},mixins:[O["b"]],props:{block:{type:Object,required:!0}},computed:{formatString:{get:function(){return this.block.config.format_string},set:function(t){this.$emit("commitFormatStringChange",t)}}}},R=I,G=a("2877"),L=Object(G["a"])(R,F,D,!1,null,null,null),N=L.exports,A=a("192b"),W=a("792f"),$=Object(d["e"])("flow/".concat(v)),J=Object(d["e"])("builder"),K=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Object(u["a"])(Object(l["a"])(t),"showSemanticLabel",!1),t}return Object(i["a"])(a,[{key:"filterVariableName",value:function(t){t.key.match(/\W+|Enter/g)&&t.preventDefault()}},{key:"updatedestinationVariables",value:function(t,e){this.editDestinationVariable({variableName:t,keyIndex:e})}}]),a}(Object(x["c"])(O["a"]));Object(b["__decorate"])([Object(f["b"])()],K.prototype,"block",void 0),Object(b["__decorate"])([Object(f["b"])()],K.prototype,"flow",void 0),Object(b["__decorate"])([$.Action],K.prototype,"setFormatString",void 0),Object(b["__decorate"])([$.Action],K.prototype,"editDestinationVariable",void 0),Object(b["__decorate"])([$.Getter],K.prototype,"destinationVariablesFields",void 0),Object(b["__decorate"])([J.Getter],K.prototype,"isEditable",void 0),K=Object(b["__decorate"])([Object(f["a"])({components:{ResourceEditor:S["a"],BlockNameEditor:V["a"],BlockLabelEditor:B["a"],BlockSemanticLabelEditor:C["a"],BlockFormatStringEditor:N,FirstBlockEditorButton:A["a"],TextEditor:p["a"],BlockId:W["a"],ValidationMessage:E["a"]}})],K);var M=K,T=Object(j["d"])(v,y),U=M,q=Object(G["a"])(U,r,o,!1,null,null,null);e["default"]=q.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.11.js.map
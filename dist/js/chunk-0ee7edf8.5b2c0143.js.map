{"version":3,"sources":["webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?fb7d","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?b47e","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?e26b","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?d0ef","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?5fad","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?19b7","webpack:///src/components/interaction-designer/block-editors/SemanticLabelEditor.vue","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?2154","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?bf92","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?dfd9","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?497b","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue","webpack:///./src/components/common/AudioLibrarySearchField.vue?a8ea","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditor.vue?b8e8","webpack:///./src/lib/mixins/FlowUploader.ts","webpack:///./src/components/common/AudioLibrarySelector.vue?0d58","webpack:///./src/components/common/AudioLibrarySearchField.vue?70b5","webpack:///src/components/common/AudioLibrarySearchField.vue","webpack:///./src/components/common/AudioLibrarySearchField.vue?b8ca","webpack:///./src/components/common/AudioLibrarySearchField.vue","webpack:///./src/components/common/AudioLibrarySelection.vue?4cb9","webpack:///./src/lib/filters/moment.js","webpack:///src/components/common/AudioLibrarySelection.vue","webpack:///./src/components/common/AudioLibrarySelection.vue?c7e4","webpack:///./src/components/common/AudioLibrarySelection.vue","webpack:///src/components/common/AudioLibrarySelector.vue","webpack:///./src/components/common/AudioLibrarySelector.vue?53e4","webpack:///./src/components/common/AudioLibrarySelector.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue?8e49","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?b43a","webpack:///./node_modules/bootstrap-vue/esm/constants/key-codes.js","webpack:///./node_modules/bootstrap-vue/esm/utils/html.js","webpack:///./node_modules/bootstrap-vue/esm/utils/observe-dom.js","webpack:///./node_modules/bootstrap-vue/esm/utils/cache.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/attrs.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/id.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/listen-on-document.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/listen-on-window.js","webpack:///./node_modules/bootstrap-vue/esm/utils/router.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/listeners.js","webpack:///./node_modules/bootstrap-vue/esm/components/link/link.js","webpack:///./node_modules/bootstrap-vue/esm/components/button/button.js","webpack:///./node_modules/bootstrap-vue/esm/components/transporter/transporter.js","webpack:///./node_modules/bootstrap-vue/esm/components/modal/helpers/bv-modal-event.class.js","webpack:///./node_modules/bootstrap-vue/esm/components/modal/helpers/modal-manager.js","webpack:///./node_modules/bootstrap-vue/esm/components/modal/modal.js","webpack:///src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?7697","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue","webpack:///src/components/interaction-designer/block-editors/PhoneRecorder.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue?baeb","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?1076","webpack:///./node_modules/bootstrap-vue/esm/components/progress/progress-bar.js","webpack:///./node_modules/bootstrap-vue/esm/components/progress/progress.js","webpack:///./src/store/trees/multimediaUpload.js","webpack:///src/components/interaction-designer/block-editors/UploadMonitor.vue","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?48ac","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditor.vue?e48e","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditor.vue?d175","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditor.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?c4d1","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?2e34","webpack:///./src/components/common/AudioLibrarySelection.vue?e1be","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?2be2","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?f848","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?aafa","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?9522","webpack:///./src/components/common/AudioLibrarySelection.vue?3262","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?3e5d","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?4e06","webpack:///./src/components/common/AudioLibrarySearchField.vue?1b1c","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?01cb","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?533d","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?cc8a","webpack:///src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?8dfc","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue","webpack:///./src/components/common/AudioLibrarySelection.vue?a41f","webpack:///./node_modules/@flowjs/flow.js/src/flow.js","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue?5852","webpack:///src/components/interaction-designer/block-editors/NameEditor.vue","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue?32e2","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue","webpack:///./src/components/common/AudioLibrarySearchField.vue?85d7","webpack:///./node_modules/vue-focus/dist/vue-focus.common.js","webpack:///./node_modules/fuse.js/dist/fuse.js"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","locals","add","default","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","_f","attrs","isStartBlock","on","$event","setStartBlock","_e","staticRenderFns","flowVuexNamespace","event","flowId","flow","uuid","blockId","flow_setFirstBlockId","first_block_id","Mutation","component","block","scopedSlots","_u","key","fn","ref","isValid","model","value","callback","$$v","semanticLabel","expression","components","TextEditor","ValidationMessage","props","type","Object","required","mixins","lang","computed","get","semantic_label","set","block_setSemanticLabel","methods","label","block_setLabel","_l","languageId","id","language","mode","toLowerCase","discoverContentTypesFor","contentType","SupportedContentType","TEXT","resource","findOrGenerateStubbedVariantOn","language_id","content_type","modes","AUDIO","findAudioResourceVariantFor","preventDefault","can","isFeatureAudioUploadEnabled","triggerRecordViaPhoneFor","directives","name","rawName","target","route","token","accept","handleFilesSubmittedFor","handleFileSuccessFor","availableAudio","el","data","dispatchEvent","extend","Event","bubbles","cancelable","bind","binding","upload_token","uploader","singleFile","chunkSize","query","support","style","overflow","assignBrowse","chain","children","find","tagName","assign","files","e","file","json","message","unbind","selectedAudioFile","langId","clearSelection","audioFiles","selectAudioFile","class","active","isEntireLibraryModeEnabled","toggleAudioLibrary","domProps","activate","deactivate","composing","rawQuery","resetPagination","isAudioLibraryEmpty","search","slice","offset","limit","audio","select","description","length","hasPrevious","hasNext","disabled","decrementPage","incrementPage","isActive","cache","console","debug","$emit","selectable","clear","_m","audioFileUrl","filters","formatDate","date","format","moment","utc","fromNow","withoutSuffix","formatDuration","duration","unit","withSuffix","currentLocale","locale","result","humanize","formatDurationLocalized","audioFile","AudioLibrarySearchField","AudioLibrarySelection","resource_setOrCreateValueModeSpecific","resourceId","filter","isRecorderSelectorVisible","handleRecorderSelectionChanged","callConfig","isModalVisible","handleModalClosed","handleModalCancelled","recorder","_q","selectedRecorder","setSelectedRecorder","phone","draft","selectNewRecorder","$set","CODE_ENTER","CODE_ESC","CODE_SPACE","htmlOrText","innerHTML","textContent","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","options","$el","warn","obs","mutations","changed","mutation","nodeType","Node","TEXT_NODE","addedNodes","removedNodes","observe","childList","subtree","propName","handler","newValue","oldValue","$delete","$data","_key","proxyPropName","watch","attrsMixin","idMixin","localId_","safeId","suffix","String","replace","mounted","_this","$nextTick","concat","PROP","listenOnDocumentMixin","created","$once","items","eventName","handlers","document","listenDocument","listenOnDocument","listenOffDocument","array","h","listenOnWindowMixin","beforeCreate","beforeDestroy","window","listenWindow","listenOnWindow","listenOffWindow","ANCHOR_TAG","encodeReserveReplacer","c","charCodeAt","toString","str","encodeURIComponent","decodeURIComponent","map","reduce","results","value2","join","x","href","to","tag","computeTag","_ref","thisOrParent","routerComponentName","hasRouter","$router","$nuxt","_ref2","undefined","rel","_ref3","fallback","toFallback","path","hash","charAt","listenersMixin","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","call","constructor","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","ROOT_EVENT_NAME_CLICKED","routerLinkProps","activeClass","append","exact","exactActiveClass","routerTag","nuxtLinkProps","noPrefetch","prefetch","BLink","inheritAttrs","computedTag","isRouterLink","computedRel","computedHref","computedProps","computedAttrs","bvAttrs","tabindex","computedListeners","bvListeners","click","onClick","_arguments","eventIsEvent","suppliedHandler","immediatePropagation","currentTarget","__vue__","emitOnRoot","propagation","focus","blur","normalizeSlot","linkProps","pill","pressed","size","squared","variant","isNonStandardTag","computeClass","computeAttrs","button","link","toggle","nonStandardTag","hashLink","role","autocomplete","BButton","functional","listeners","keydown","keyCode","focusin","focusout","componentData","BVTransporterTarget","abstract","nodes","vm","updatedNodes","destroyed","$nodes","identity","text","container","BVTransporter","immediate","unmountTarget","mountTarget","$_defaultFn","$_target","beforeMount","updated","updateTarget","getContainer","$container","createElement","appendChild","parent","propsData","defaultFn","$scopedSlots","$slots","$destroy","_typeof","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","base","_superPropBase","desc","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","getPrototypeOf","_BvEvent","BvModalEvent","_super","eventInit","trigger","DEFAULT_ZINDEX","SELECTOR_FIXED_CONTENT","SELECTOR_STICKY_CONTENT","SELECTOR_NAVBAR_TOGGLER","ModalManager","modals","baseZIndex","scrollbarWidth","isBodyOverflowing","modalCount","modalsAreOpen","newCount","oldCount","getScrollbarWidth","checkScrollbar","setScrollbar","body","resetScrollbar","updateModals","registerModal","modal","_this2","indexOf","unregisterModal","index","splice","_isBeingDestroyed","_isDestroyed","resetModal","getBaseZIndex","div","zIndex","removeChild","width","clientWidth","_this3","isTop","_getBCR","left","right","innerWidth","_paddingChangedForModal","_marginChangedForModal","actualPadding","paddingRight","actualMargin","marginRight","modalManager","_makeModelMixin","defaultValue","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","TRIGGER_BACKDROP","TRIGGER_ESC","TRIGGER_FORCE","TRIGGER_TOGGLE","BUTTON_CANCEL","BUTTON_CLOSE","BUTTON_OK","BUTTONS","OBSERVER_CONFIG","characterData","attributes","attributeFilter","ariaLabel","autoFocusButton","bodyBgVariant","bodyClass","bodyTextVariant","busy","buttonSize","cancelDisabled","cancelTitle","cancelTitleHtml","cancelVariant","centered","contentClass","dialogClass","footerBgVariant","footerBorderVariant","footerClass","footerTextVariant","headerBgVariant","headerBorderVariant","headerClass","headerCloseContent","headerCloseLabel","headerCloseVariant","headerTextVariant","hideBackdrop","hideFooter","hideHeader","hideHeaderClose","ignoreEnforceFocusSelector","lazy","modalClass","noCloseOnBackdrop","noCloseOnEsc","noEnforceFocus","noFade","noStacking","okDisabled","okOnly","okTitle","okTitleHtml","okVariant","returnFocus","scrollable","static","title","titleClass","titleHtml","titleSrOnly","titleTag","BModal","isHidden","isVisible","isTransitioning","isShow","isBlock","isOpening","isClosing","ignoreBackdropClick","isModalOverflowing","modalId","modalOuterId","modalHeaderId","modalBodyId","modalTitleId","modalContentId","modalFooterId","modalBackdropId","modalClasses","fade","show","modalStyles","sbWidth","paddingLeft","display","dialogClasses","headerClasses","titleClasses","bodyClasses","footerClasses","_ref4","modalOuterStyle","position","slotScope","cancel","onCancel","close","onClose","hide","ok","onOk","visible","computeIgnoreEnforceFocusSelector","trim","scopedStyleAttrs","computedModalAttrs","hasNormalizedSlot","$_observer","$_returnFocus","listenOnRoot","showHandler","hideHandler","toggleHandler","modalListener","setObserver","disconnect","$refs","checkModalOverflow","updateModel","buildEvent","relatedTarget","vueTarget","componentId","getActiveElement","showEvt","emitEvent","defaultPrevented","doShow","hideEvt","triggerEl","activeElement","listenOnRootOnce","onBeforeEnter","setResizeEvent","onEnter","onAfterEnter","setEnforceFocus","focusFirst","onBeforeLeave","onLeave","onAfterLeave","_this4","returnFocusTo","bvEvent","onDialogMousedown","_this5","onceModalMouseup","onClickOut","onEsc","focusHandler","tabables","bottomTrap","topTrap","preventScroll","_this6","autoFocus","scrollTop","scrollHeight","documentElement","clientHeight","makeModal","$header","$modalHeader","$closeButton","textVariant","$body","$footer","$modalFooter","$cancelButton","$okButton","$modalContent","$tabTrapTop","$tabTrapBottom","$modalDialog","mousedown","$modal","enterClass","enterToClass","enterActiveClass","leaveClass","leaveActiveClass","leaveToClass","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave","$backdrop","Boolean","reset","isNew","PhoneRecordingRecorderSelector","$store","commit","recordingKey","dispatch","upload","progress","hasProgress","_t","animated","labelHtml","max","precision","showProgress","showValue","striped","BProgressBar","inject","bvProgress","progressBarClasses","computedAnimated","computedVariant","computedStriped","progressBarStyles","computedValue","computedMax","computedPrecision","math","computedProgress","computedShowProgress","computedShowValue","$children","progressBarProps","height","BProgress","provide","progressHeight","$childNodes","$props","Statuses","UPLOADING","UNINITIALIZED","SUCCESS","FAILURE","namespaced","state","uploadProgressByKey","errorMessageByKey","uploadsById","uploadIdsByKey","setErrorMessage","errorMessage","Vue","setUploadProgress","uploadProgress","setUploadStatusFor","fileWithRefs","status","lodash","pick","uniqueIdentifier","actions","uploadFile","uploadUrl","formDataFields","onSuccess","onError","Error","formData","FormData","config","onUploadProgress","progressEvent","Math","floor","loaded","total","axios","post","then","response","catch","error","uploadFiles","_","parseInt","JSON","parse","status_description","uploadKey","isFailure","multimediaUpload","builderVuexNamespace","findResourceVariantOverModesOn","SupportedMode","audio_file_id","filename","audio_uuid","created_at","duration_seconds","extension","split","uploadedAudio","original_extension","IVR","pushAudioIntoLibrary","ValidationException","Permissions","Routes","Action","Getter","AudioLibrarySelector","ResourceVariantTextEditor","UploadMonitor","PhoneRecorder","resourceVariant","deselect","invisible","characterCounter","count","pages","hasUnicode","trans","modifiers","staticStyle","contentExpressionAST","location","start","line","column","isEditable","enableAutogenButton","ast","SyntaxError","hasMembers","doesContentContainExpression","doesContentContainExpressionError","ceil","ie10plus","navigator","msPointerEnabled","Flow","events","off","arrayRemove","fire","args","each","unshift","webkitReadDataTransfer","$","queue","dataTransfer","readDirectory","reader","readEntries","entries","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","decrement","relativePath","substring","fileError","addFiles","item","webkitGetAsEntry","getAsFile","generateUniqueIdentifier","custom","opts","webkitRelativePath","fileName","uploadNextChunk","preventEvents","found","prioritizeFirstAndLastChunk","paused","chunks","send","chunk","outstanding","isComplete","async","domNodes","Element","domNode","input","setAttribute","visibility","addEventListener","assignDrop","preventEvent","onDrop","unAssignDrop","removeEventListener","isUploading","uploading","_shouldUploadNext","num","should","simultaneousUploads","ret","started","resume","pause","totalDone","totalSize","addFile","fileList","allowDuplicateUploads","getFromUniqueIdentifier","f","FlowFile","removeFile","abort","getSize","sizeUploaded","timeRemaining","sizeDelta","averageSpeed","Number","POSITIVE_INFINITY","measureSpeed","timeSpan","now","_lastProgressCallback","smoothingFactor","flowObj","speedSmoothingFactor","uploaded","currentSpeed","_prevUploadedSize","chunkEvent","progressCallbacksInterval","retry","bootstrap","initFileFn","_prevProgress","round","forceChunkSize","evalOpts","FlowChunk","bytesLoaded","endByte","startByte","percent","preprocessState","readState","delta","getType","getExtension","substr","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","fileObj","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","params","xhr","XMLHttpRequest","testHandler","testMethod","prepareXhrRequest","preprocessFinished","computeEndByte","readFinished","bytes","preprocess","read","readFileFn","testChunks","tested","pendingRetry","progressHandler","doneHandler","uploadMethod","method","changeRawDataBeforeSend","isTest","readyState","successStatuses","permanentErrors","retries","maxChunkRetries","responseText","s","paramsMethod","blob","v","k","fileParameterName","open","withCredentials","headers","setRequestHeader","version","File","Blob","FileList","webkitSlice","mozSlice","supportDirectory","userAgent","defaults","chunkRetryInterval","onDropStopPropagation","webAPIFileRead","stopPropagation","fileType","function_name","min","lengthComputable","retryInterval","setTimeout","context","dst","src","filterName","block_setName","match","compatible","util","inserted","componentUpdated","t","r","l","m","d","toStringTag","__esModule","a","deepValue","distance","threshold","maxPatternLength","u","caseSensitive","tokenSeparator","g","findAllMatches","y","minMatchCharLength","b","S","M","shouldSort","w","L","getFn","A","O","sortFn","C","score","j","tokenize","P","I","matchAllTokens","F","T","includeMatches","N","z","includeScore","E","W","verbose","K","isCaseSensitive","setCollection","_processKeys","list","_keyWeights","_keyNames","weight","_log","_prepareSearchers","tokenSearchers","fullSearcher","_search","_computeScore","_sort","_format","_analyze","record","resultMap","arrayIndex","pattern","isMatch","matchedIndices","output","EPSILON","pow","sort","stringify","matches","indices","log","patternAlphabet","RegExp","errors","currentLocation","expectedLocation","abs","isString","isNum"],"mappings":"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","file":"js/chunk-0ee7edf8.5b2c0143.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".block-text-content-editor-for-lang-and-type{margin-bottom:.5em}.block-text-content-editor-for-lang-and-type .content-editor{position:relative}.block-text-content-editor-for-lang-and-type .content-editor textarea{height:56px}.block-text-content-editor-for-lang-and-type .content-editor input[type=text]:not(:focus)+button,.block-text-content-editor-for-lang-and-type .content-editor textarea:not(:focus)+button{opacity:1}.block-text-content-editor-for-lang-and-type .content-editor input[type=text]+button,.block-text-content-editor-for-lang-and-type .content-editor textarea+button{position:absolute;bottom:7px;right:10px;transition:opacity .2s ease-in-out;opacity:0}.block-text-content-editor-for-lang-and-type .content-editor-selected input[type=text],.block-text-content-editor-for-lang-and-type .content-editor-selected textarea{background-color:#f8f8f8}.block-text-content-editor-for-lang-and-type .content-toolbar{margin-top:1px}.invisible{opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=6630b4be&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e5ad3886\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"starting-block-button\"},[(_vm.isEditable)?[_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.options')))]),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-secondary btn-sm\",attrs:{\"type\":\"button\",\"disabled\":_vm.isStartBlock},on:{\"click\":function($event){return _vm.setStartBlock($event)}}},[(_vm.isStartBlock)?[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.currently-set-as-starting-block'))+\" \")]:[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.set-as-starting-block'))+\" \")]],2)])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from 'vue-property-decorator'\nimport { IBlock, IFlow } from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport { namespace } from 'vuex-class'\nimport { mixins } from \"vue-class-component\";\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nclass FirstBlockEditorButton extends mixins(Lang) {\n    @Prop({ default: true }) readonly isEditable!: boolean\n\n    @Prop()readonly blockId!: string\n\n    @Prop()readonly flow!: IFlow\n\n    get isStartBlock() {\n      return this.blockId === this.flow.first_block_id\n    }\n\n    setStartBlock(event: any) {\n      const { flow: { uuid: flowId }, blockId } = this\n      this.flow_setFirstBlockId({ flowId, blockId })\n    }\n\n    @flowVuexNamespace.Mutation flow_setFirstBlockId!: ({ flowId, blockId }: {flowId: IFlow['uuid']; blockId: IBlock['uuid']}) => void\n  }\nexport default FirstBlockEditorButton\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FirstBlockEditorButton.vue?vue&type=template&id=4d00be79&\"\nimport script from \"./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-message',{attrs:{\"message-key\":(\"block/\" + (_vm.block.uuid) + \"/semantic_label\")},scopedSlots:_vm._u([{key:\"input-control\",fn:function(ref){\nvar isValid = ref.isValid;\nreturn [_c('div',{staticClass:\"block-semantic-label\",attrs:{\"id\":((_vm.block.uuid) + \".semanticLabel\")}},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.block-semantic-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-semantic-label'),\"validState\":isValid},model:{value:(_vm.semanticLabel),callback:function ($$v) {_vm.semanticLabel=$$v},expression:\"semanticLabel\"}})],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <validation-message :message-key=\"`block/${block.uuid}/semantic_label`\" #input-control=\"{ isValid }\">\n    <div class=\"block-semantic-label\" :id=\"`${block.uuid}.semanticLabel`\">\n      <text-editor v-model=\"semanticLabel\"\n                   :label=\"'flow-builder.block-semantic-label' | trans\"\n                   :placeholder=\"'flow-builder.enter-block-semantic-label' | trans\"\n                   :validState=\"isValid\" />\n    </div>\n  </validation-message>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport TextEditor from '@/components/common/TextEditor'\nimport { lang } from '@/lib/filters/lang'\nimport ValidationMessage from '@/components/common/ValidationMessage';\n\nexport default {\n  components: {\n    TextEditor,\n    ValidationMessage\n  },\n  props: {\n    block: {\n      type: Object,\n      required: true,\n    },\n  },\n  mixins: [lang],\n  computed: {\n    semanticLabel: {\n      get() {\n        return this.block.semantic_label || ''\n      },\n      set(value) {\n        this.block_setSemanticLabel({ blockId: this.block.uuid, value })\n      },\n    },\n  },\n  methods: {\n    ...mapMutations('flow', ['block_setSemanticLabel']),\n  },\n}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemanticLabelEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemanticLabelEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SemanticLabelEditor.vue?vue&type=template&id=80125e96&\"\nimport script from \"./SemanticLabelEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./SemanticLabelEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-message',{attrs:{\"message-key\":(\"block/\" + (_vm.block.uuid) + \"/label\")},scopedSlots:_vm._u([{key:\"input-control\",fn:function(ref){\nvar isValid = ref.isValid;\nreturn [_c('div',{staticClass:\"block-label\",attrs:{\"id\":((_vm.block.uuid) + \".label\")}},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.block-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-label'),\"validState\":isValid},model:{value:(_vm.label),callback:function ($$v) {_vm.label=$$v},expression:\"label\"}})],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport TextEditor from '@/components/common/TextEditor.vue'\nimport Lang from '@/lib/filters/lang'\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { IBlock } from '@floip/flow-runner'\nimport { namespace } from 'vuex-class'\nimport { mixins } from \"vue-class-component\";\nimport ValidationMessage from '@/components/common/ValidationMessage.vue';\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({\n  components: {\n    TextEditor,\n    ValidationMessage\n  },\n})\nexport default class LabelEditor extends mixins(Lang) {\n  @Prop() block!: IBlock\n\n  get label(): IBlock['label'] {\n    return this.block.label\n  }\n\n  set label(value: IBlock['label']) {\n    this.block_setLabel({ blockId: this.block.uuid, value })\n  }\n\n  @flowVuexNamespace.Mutation block_setLabel!: ({ blockId, value }: { blockId: IBlock['uuid'], value: IBlock['label'] }) => void\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LabelEditor.vue?vue&type=template&id=1e3c9238&\"\nimport script from \"./LabelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./LabelEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=50208a5c&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f3f99278\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-editor\"},[(_vm.label)?_c('hr'):_vm._e(),(_vm.label)?_c('h4',[_vm._v(_vm._s(_vm.label))]):_vm._e(),_vm._l((_vm.flow.languages),function(ref){\nvar languageId = ref.id;\nvar language = ref.label;\nreturn [_c('div',{staticClass:\"block-content-editor-lang\"},[_c('h5',{staticClass:\"badge badge-info\"},[_vm._v(_vm._s(_vm._f(\"trans\")(language || 'flow-builder.unknown-language')))])]),_vm._l((_vm.flow.supported_modes),function(mode){return [_c('h6',[_vm._v(_vm._s(_vm._f(\"trans\")((\"flow-builder.\" + (mode.toLowerCase()) + \"-content\"))))]),_vm._l((_vm.discoverContentTypesFor(mode)),function(contentType){return [(contentType === _vm.SupportedContentType.TEXT)?_c('resource-variant-text-editor',{attrs:{\"resource-id\":_vm.resource.uuid,\"id\":((_vm.block.uuid) + \".config.prompt.\" + language + \".\" + mode),\"resource-variant\":_vm.findOrGenerateStubbedVariantOn(\n                                              _vm.resource,\n                                              {language_id: languageId, content_type: contentType, modes: [mode]}),\"mode\":mode,\"enable-autogen-button\":true || _vm.enableAutogenButton}}):_vm._e(),(contentType === _vm.SupportedContentType.AUDIO)?_c('div',{attrs:{\"id\":((_vm.block.uuid) + \".config.prompt.\" + language + \".\" + mode)}},[(!_vm.findAudioResourceVariantFor(_vm.resource, {language_id: languageId, content_type: contentType, modes: [mode]}))?[_c('upload-monitor',{attrs:{\"uploadKey\":((_vm.block.uuid) + \":\" + languageId)}}),_c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link px-2 py-1 active\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.library')))])]),(_vm.can(['edit-content', 'send-call-to-records'], true) && _vm.isFeatureAudioUploadEnabled)?_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link px-2 py-1\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.triggerRecordViaPhoneFor(languageId)}}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.phone-recording')))])]):_vm._e(),(_vm.isEditable)?_c('li',{staticClass:\"nav-item\"},[(_vm.isFeatureAudioUploadEnabled)?_c('a',{directives:[{name:\"flow-uploader\",rawName:\"v-flow-uploader\",value:({\n                    target: _vm.route('trees.resumeableAudioUpload'),\n                    token: (\"\" + (_vm.block.uuid) + languageId),\n                    accept: 'audio/*'}),expression:\"{\\n                    target: route('trees.resumeableAudioUpload'),\\n                    token: `${block.uuid}${languageId}`,\\n                    accept: 'audio/*'}\"}],staticClass:\"nav-link px-2 py-1\",attrs:{\"href\":\"#\"},on:{\"filesSubmitted\":function($event){return _vm.handleFilesSubmittedFor(((_vm.block.uuid) + \":\" + languageId), $event)},\"fileSuccess\":function($event){return _vm.handleFileSuccessFor(((_vm.block.uuid) + \":\" + languageId), languageId, $event)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.upload'))+\" \")]):_vm._e()]):_vm._e()])]:_vm._e(),_c('audio-library-selector',{attrs:{\"audioFiles\":_vm.availableAudio,\"langId\":languageId,\"resourceId\":_vm.resource.uuid,\"selectedAudioFile\":_vm.findOrGenerateStubbedVariantOn(\n                 _vm.resource,\n                 {language_id: languageId, content_type: contentType, modes: [mode]}).value}}),(_vm.can(['edit-content', 'send-call-to-records'], true) && !_vm.findOrGenerateStubbedVariantOn(_vm.resource,{language_id: languageId, content_type: contentType, modes: [mode]}).value)?_c('phone-recorder',{attrs:{\"recordingKey\":((_vm.block.uuid) + \":\" + languageId)}}):_vm._e()],2):_vm._e()]})]})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Flow from '@flowjs/flow.js'\nimport lodash from 'lodash'\nimport Component from 'vue-class-component'\n\nconst dispatch = (el: any, name: string, data: any) => {\n  el.dispatchEvent(lodash.extend(new Event(name, {\n    bubbles: true,\n    cancelable: true,\n  }), { data }))\n}\n\n@Component({\n  directives: {\n    'flow-uploader': {\n      /**\n       * This binding provides a bridge between Flow and vuejs such that we can continue using our resumable backend\n       */\n      bind(el, binding) {\n        const {\n          accept,\n          target,\n          token: upload_token,\n        } = binding.value\n        const uploader = new Flow({\n          target,\n          singleFile: true,\n          chunkSize: 1024 * 512, // kbytes, chunked?  ¯\\_(ツ)_/¯\n          query: { upload_token },\n        })\n\n        if (!uploader.support) {\n          // Your browser doesn't support HTML5 uploads; please try Firefox or Chrome.\n          return\n        }\n\n        lodash.extend(el.style, { overflow: 'hidden' })\n        uploader.assignBrowse(el)\n\n        lodash.chain(el.children)\n          .find({\n            tagName: 'INPUT',\n            type: 'file',\n          } as any)\n          .assign({ accept })\n          .value()\n\n        // todo: migrate to proxied catch-all handler (voto5 legacy todo)\n        // uploader.on('catchAll', (name, file/*or files*/, e) => console.debug(name))\n\n        // todo: when do we call upload on a multiselect-upload and file-added triggered multiple times? (voto5 legacy todo)\n        // uploader.on('fileAdded', (file, e) => dispatch(el, 'filesSubmitted', {file, uploader})) // uploader.upload()\n        uploader.on('filesSubmitted', (files: any, e: any) => dispatch(el, 'filesSubmitted', {\n          files,\n          uploader,\n        })) // uploader.upload()\n        uploader.on('fileProgress', (file: any, e: any) => dispatch(el, 'fileProgress', {\n          file,\n          uploader,\n        }))\n        uploader.on('fileSuccess', (file: any, json: any) => dispatch(el, 'fileSuccess', {\n          file,\n          uploader,\n          json,\n        })) // uploader.cancel()\n        uploader.on('error', (message: string, file: any) => dispatch(el, 'fileSuccess', {\n          file,\n          uploader,\n          message,\n        })) // uploader.cancel()\n      },\n\n      unbind(el, binding) {\n      },\n    },\n  },\n})\nexport default class FlowUploader extends Vue {\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audio-library-selector\"},[(_vm.selectedAudioFile)?_c('audio-library-selection',{attrs:{\"audioFile\":_vm.selectedAudioFile,\"langId\":_vm.langId},on:{\"clear\":_vm.clearSelection}}):[_c('audio-library-search-field',{attrs:{\"langId\":_vm.langId,\"audioFiles\":_vm.audioFiles},on:{\"select\":_vm.selectAudioFile}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audio-library-search-field dropdown\"},[_c('div',{staticClass:\"input-group\"},[_c('span',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary dropdown-toggle\",class:{active: _vm.isEntireLibraryModeEnabled},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleAudioLibrary($event)}}},[_c('i',{staticClass:\"glyphicon glyphicon-search\"})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rawQuery),expression:\"rawQuery\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.search-audio-library'),\"disabled\":_vm.isEntireLibraryModeEnabled},domProps:{\"value\":(_vm.rawQuery)},on:{\"focus\":_vm.activate,\"blur\":_vm.deactivate,\"input\":[function($event){if($event.target.composing){ return; }_vm.rawQuery=$event.target.value},_vm.resetPagination]}})]),(_vm.query || _vm.isAudioLibraryEmpty || _vm.isEntireLibraryModeEnabled)?_c('div',{staticClass:\"dropdown-menu\"},[(_vm.isEntireLibraryModeEnabled)?[_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('button',{staticClass:\"close active\",on:{\"click\":_vm.toggleAudioLibrary}},[_vm._v(\"x\")]),_c('i',{staticClass:\"glyphicon glyphicon-info-sign\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.showing-entire-audio-library'))+\"… \")]),_c('div',{staticClass:\"dropdown-divider\",attrs:{\"role\":\"separator\"}})]:_vm._e(),(!_vm.isAudioLibraryEmpty)?[_vm._l((_vm.search(_vm.query).slice(_vm.offset * _vm.limit, (_vm.offset + 1) * _vm.limit)),function(audio){return _c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.select(audio)}}},[_vm._v(\" \"+_vm._s(audio.description)+\" \")])}),(_vm.query.length >= 3 && !_vm.search(_vm.query).length)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.no-audio-files-found-for-X'))+\" \\\"\"),_c('em',[_vm._v(_vm._s(_vm.query))]),_vm._v(\"\\\". \")]):_vm._e(),(_vm.query && _vm.query.length < 3)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.enter-at-least-three-chars'))+\" \")]):_vm._e(),(_vm.hasPrevious || _vm.hasNext)?[_c('div',{staticClass:\"dropdown-divider\",attrs:{\"role\":\"separator\"}}),_c('div',{staticClass:\"pagers dropdown-item\"},[_c('a',{staticClass:\"col-md-6\",class:{disabled: !_vm.hasPrevious},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.decrementPage($event)}}},[_c('i',{staticClass:\"glyphicon glyphicon-chevron-left\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.previous'))+\" \")]),_c('a',{staticClass:\"col-md-6 text-right\",class:{disabled: !_vm.hasNext},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.incrementPage($event)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.next'))+\" \"),_c('i',{staticClass:\"glyphicon glyphicon-chevron-right\"})])])]:_vm._e()]:_vm._e(),(_vm.isAudioLibraryEmpty)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('i',{staticClass:\"glyphicon glyphicon-warning-sign\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.audio-lib-empty-for-this-org'))+\" \")]):_vm._e()],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"audio-library-search-field dropdown\">\n    <div class=\"input-group\">\n      <span class=\"input-group-prepend\">\n        <button :class=\"{active: isEntireLibraryModeEnabled}\"\n                class=\"btn btn-outline-secondary dropdown-toggle\"\n                @click.prevent=\"toggleAudioLibrary\">\n          <i class=\"glyphicon glyphicon-search\"></i>\n        </button>\n      </span>\n\n      <input v-model=\"rawQuery\"\n             @focus=\"activate\"\n             @blur=\"deactivate\"\n             @input=\"resetPagination\"\n             type=\"text\"\n             :placeholder=\"'flow-builder.search-audio-library' | trans\"\n             :disabled=\"isEntireLibraryModeEnabled\"\n             class=\"form-control\">\n    </div>\n\n    <div v-if=\"query || isAudioLibraryEmpty || isEntireLibraryModeEnabled\" class=\"dropdown-menu\">\n      <template v-if=\"isEntireLibraryModeEnabled\">\n        <a @click.prevent=\"\" href=\"#\" class=\"disabled dropdown-item\">\n          <button @click=\"toggleAudioLibrary\" class=\"close active\">x</button>\n\n          <i class=\"glyphicon glyphicon-info-sign\"></i>\n          {{'flow-builder.showing-entire-audio-library'|trans}}&hellip;\n        </a>\n        <div role=\"separator\" class=\"dropdown-divider\"></div>\n      </template>\n\n      <template v-if=\"!isAudioLibraryEmpty\">\n        <a class=\"dropdown-item\"\n           v-for=\"audio in search(query).slice(offset * limit, (offset + 1) * limit)\"\n           @click.prevent=\"select(audio)\" href=\"#\">\n          {{audio.description}}\n        </a>\n        <a v-if=\"query.length >= 3 && !search(query).length\" class=\"disabled dropdown-item\" @click.prevent=\"\" href=\"#\">\n          {{'flow-builder.no-audio-files-found-for-X' | trans}} \"<em>{{query}}</em>\".\n        </a>\n        <a v-if=\"query && query.length < 3\" class=\"disabled dropdown-item\" @click.prevent=\"\" href=\"#\">\n          {{'flow-builder.enter-at-least-three-chars' | trans}}\n        </a>\n\n        <template v-if=\"hasPrevious || hasNext\">\n          <div role=\"separator\" class=\"dropdown-divider\"></div>\n\n          <div class=\"pagers dropdown-item\">\n            <a @click.prevent=\"decrementPage\" href=\"#\" :class=\"{disabled: !hasPrevious}\" class=\"col-md-6\">\n              <i class=\"glyphicon glyphicon-chevron-left\"></i>\n              {{'flow-builder.previous' | trans}}\n            </a>\n\n            <a @click.prevent=\"incrementPage\" href=\"#\" :class=\"{disabled: !hasNext}\" class=\"col-md-6 text-right\">\n              {{'flow-builder.next' | trans}}\n              <i class=\"glyphicon glyphicon-chevron-right\"></i>\n            </a>\n          </div>\n        </template>\n      </template>\n\n      <a v-if=\"isAudioLibraryEmpty\" class=\"disabled dropdown-item\" @click.prevent=\"\" href=\"#\">\n        <i class=\"glyphicon glyphicon-warning-sign\"></i>\n        {{'flow-builder.audio-lib-empty-for-this-org' | trans}}\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport fuse from 'fuse.js'\nimport lodash from 'lodash'\nimport VueFocus from 'vue-focus'\nimport { lang } from '@/lib/filters/lang'\n\nexport default {\n  props: ['langId', 'audioFiles'],\n  mixins: [VueFocus.mixin, lang],\n\n  data() {\n    return {\n      isActive: false,\n\n      // querying\n      rawQuery: '',\n      cache: {},\n      isEntireLibraryModeEnabled: false,\n\n      // pagination\n      offset: 0,\n      limit: 10,\n    }\n  },\n\n  computed: {\n    query() {\n      return lodash.trim(this.rawQuery)\n    },\n\n    isAudioLibraryEmpty() {\n      return this.isActive && !this.audioFiles.length\n    },\n\n    hasNext() {\n      return (this.search(this.query).length / (this.offset + 1)) > this.limit\n    },\n\n    hasPrevious() {\n      return this.offset > 0\n    },\n  },\n\n  methods: {\n    search(query) {\n\t\t\t  if (this.isEntireLibraryModeEnabled) {\n\t\t\t    return this.audioFiles\n      }\n\n      if (query.length < 3) {\n        return []\n      }\n\n      console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'searching', query)\n\n      if (query in this.cache) {\n        console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'cache hit', query)\n        return this.cache[query]\n      }\n\n      console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'cache miss', query)\n\n      const keys = ['filename', 'description']\n      return this.cache[query] = new fuse(this.audioFiles, { keys }).search(query)\n    },\n\n    // todo: push pagination into isolated component\n    incrementPage() {\n      this.hasNext && (this.offset += 1)\n    },\n\n    decrementPage() {\n      this.hasPrevious && (this.offset -= 1)\n    },\n\n    resetPagination() {\n\t\t\t  this.offset = 0\n    },\n\n    toggleAudioLibrary() {\n      this.isEntireLibraryModeEnabled = !this.isEntireLibraryModeEnabled\n      this.resetPagination()\n    },\n\n    select(audio) {\n      this.$emit('select', { value: audio, langId: this.langId })\n    },\n\n    activate() {\n      this.isActive = true\n    },\n\n    deactivate() {\n      this.isActive = false\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .audio-library-search-field {\n    &.dropdown {\n      .dropdown-menu {\n        display: block;\n        min-width: 100%;\n\n        > li.pagers > a {\n          clear: none;\n          margin-top: 0;\n          margin-bottom: 0;\n          padding-top: 0.5em;\n          padding-bottom: 0.5em;\n\n          &.disabled {\n            text-decoration: none;\n            background-color: transparent;\n            background-image: none;\n            filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n            cursor: not-allowed;\n            color: #777777;\n          }\n        }\n      }\n    }\n  }\n\n  .close {\n    pointer-events: auto;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySearchField.vue?vue&type=template&id=50208a5c&scoped=true&\"\nimport script from \"./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AudioLibrarySearchField.vue?vue&type=style&index=0&id=50208a5c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50208a5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"well well-sm audio-library-selection\",class:{\n           'tree-audio-control-text-container-selectable': _vm.selectable,\n           'tree-audio-control-text-container-selected': !_vm.selectable},attrs:{\"data-audio-file-container-language\":_vm.langId}},[_c('button',{staticClass:\"audio-library-selection-clear-selection btn-ghost pull-right\",on:{\"click\":function($event){$event.preventDefault();return _vm.clear($event)}}},[_c('i',{staticClass:\"glyphicon glyphicon-remove\"})]),_c('div',{staticClass:\"btn-group audio-library-selection-download-dropdown\"},[_vm._m(0),_c('ul',{staticClass:\"dropdown-menu dropdown-menu-right\"},[_c('li',[_c('a',{staticClass:\"tree-block-audio-files-download-original\",attrs:{\"href\":_vm.audioFileUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.original-file')))])])])]),_c('p',{staticClass:\"audio-file-description\",attrs:{\"title\":_vm.audioFileUrl}},[_vm._v(\" \"+_vm._s(_vm.audioFileUrl)+\" \")]),_c('div',{staticClass:\"btn-toolbar\"},[(_vm.selectable)?_c('button',{staticClass:\"btn btn-secondary btn-xs\",on:{\"click\":function($event){$event.preventDefault();return _vm.select($event)}}},[_c('i',{staticClass:\"glyphicon glyphicon-ok\"})]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-ghost dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"glyphicon glyphicon-download-alt\",attrs:{\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"caret\"})])}]\n\nexport { render, staticRenderFns }","import moment from 'moment'\n\nexport default {\n  filters: {\n    formatDate(date, format = 'llll') {\n      if (!date) {\n        return ''\n      }\n      return moment.utc(date).format(format)\n    },\n\n    fromNow(date, withoutSuffix) {\n      return moment.utc(date).fromNow(withoutSuffix)\n    },\n\n    formatDuration(duration, unit = 'seconds', withSuffix) {\n      const currentLocale = moment.locale()\n      moment.locale('en') // this function only gets used in english.\n      const result = moment.duration(duration, unit).humanize(withSuffix)\n      moment.locale(currentLocale)\n      return result\n    },\n\n    formatDurationLocalized(duration, locale, unit = 'seconds', withSuffix) {\n      const currentLocale = moment.locale()\n      moment.locale(locale)\n      const result = moment.duration(duration, unit).humanize(withSuffix)\n      moment.locale(currentLocale)\n      return result\n    },\n  },\n}\n","<template>\n  <div  class=\"well well-sm audio-library-selection\"\n       :data-audio-file-container-language=\"langId\"\n       :class=\"{\n           'tree-audio-control-text-container-selectable': selectable,\n           'tree-audio-control-text-container-selected': !selectable}\">\n\n    <button @click.prevent=\"clear\" class=\"audio-library-selection-clear-selection btn-ghost pull-right\">\n      <i class=\"glyphicon glyphicon-remove\"></i>\n    </button>\n\n    <div class=\"btn-group audio-library-selection-download-dropdown\">\n      <button type=\"button\" class=\"btn btn-ghost dropdown-toggle\" data-toggle=\"dropdown\">\n        <span class=\"glyphicon glyphicon-download-alt\" aria-hidden=\"true\"></span>\n        <span class=\"caret\"></span>\n      </button>\n\n      <ul class=\"dropdown-menu dropdown-menu-right\">\n        <li><a :href=\"audioFileUrl\" target=\"_blank\" class=\"tree-block-audio-files-download-original\">{{'flow-builder.original-file'|trans}}</a></li>\n\n        <!-- <li><a :href=\"`/audiofiles/download/${audioFile.filename}/ogg`\" target=\"_blank\" class=\"tree-block-audio-files-download-ogg\">{{'flow-builder.download-X-format'|trans({kind: '.ogg'})}}</a></li>\n        <li><a :href=\"`/audiofiles/download/${audioFile.filename}/ul`\" target=\"_blank\" class=\"tree-block-audio-files-download-ul\">{{'flow-builder.download-X-format'|trans({kind: '.ul'})}}</a></li> -->\n      </ul>\n    </div>\n\n    <p class=\"audio-file-description\" :title=\"audioFileUrl\">\n      {{audioFileUrl}}\n    </p>\n\n    <div class=\"btn-toolbar\">\n<!--      <vue-audio :file=\"audioFileUrl\"></vue-audio>-->\n\n      <button v-if=\"selectable\"\n              @click.prevent=\"select\"\n              class=\"btn btn-secondary btn-xs\">\n        <i class=\"glyphicon glyphicon-ok\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { lang } from '@/lib/filters/lang'\nimport momentFilters from '@/lib/filters/moment'\n\nexport default {\n  props: ['audioFile', 'selected', 'selectable', 'langId'],\n\n  mixins: [lang, momentFilters],\n\n  computed: {\n    audioFileUrl() {\n      return this.audioFile\n    },\n  },\n\n  methods: {\n    select() {\n      this.$emit('select')\n    },\n\n    clear() {\n      this.$emit('clear')\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .btn-ghost {\n    background: transparent;\n    border: none;\n  }\n\n  .audio-library-selection {\n    position: relative;\n    background-color: transparent !important;\n    background-image: none !important;\n    border-color: #cccccc !important;\n\n    .audio-library-selection-download-dropdown {\n      position: absolute;\n      right: 1.6em;\n      top: 50%;\n      margin-top: -8px;\n      color: #888888;\n\n      svg {\n        vertical-align: middle;\n      }\n    }\n\n    .audio-library-selection-clear-selection {\n      margin-right: -7px;\n    }\n\n    .audio-file-description {\n      text-overflow: ellipsis;\n      overflow: hidden;\n      margin-bottom: 3px;\n    }\n\n    .vue-sound-wrapper {\n      margin-bottom: 8px;\n      margin-left: 1em;\n\n      .vue-sound__player {\n        .icon-play3, .icon-pause2 {\n          font-size:130%;\n          color: #888888;\n        }\n\n        .icon-play3:hover, .icon-pause2:hover {\n          color: black;\n          text-decoration: none;\n        }\n\n        .icon-stop2, .icon-download, .icon-volume-high, .volume-toggle {\n          display: none !important;\n        }\n\n        .vue-sound__playback-time-current, .vue-sound__playback-time-total, .vue-sound__playback-time-separator {\n          font-size: 80%;\n          color: #888888;\n        }\n\n        .vue-sound__playback-time-wrapper {\n          text-align: center;\n          width: 71% !important;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySelection.vue?vue&type=template&id=9e9421ca&\"\nimport script from \"./AudioLibrarySelection.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySelection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"audio-library-selector\">\n    <audio-library-selection v-if=\"selectedAudioFile\"\n                             :audioFile=\"selectedAudioFile\"\n                             :langId=\"langId\"\n                             @clear=\"clearSelection\" />\n\n    <template v-else>\n      <!-- todo: refactor audio-library-selection to use v-model's @input + :value -->\n      <!-- <audio-library-selection\n          v-for=\"audioFile in alternateSelections\"\n          :key=\"audioFile && audioFile.id\"\n          :audioFile=\"audioFile\"\n          :selectable=\"selectable\"\n          @select=\"selectAudioFile({value: audioFile, langId})\" /> -->\n\n      <!-- todo: refactor audio-library-search-field to use v-model's @input + :value -->\n      <audio-library-search-field\n          :langId=\"langId\"\n          :audioFiles=\"audioFiles\"\n          @select=\"selectAudioFile\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport lodash from 'lodash'\nimport { mapActions } from 'vuex'\nimport {\n  SupportedContentType,\n  SupportedMode,\n} from '@floip/flow-runner'\nimport AudioLibrarySearchField from './AudioLibrarySearchField'\nimport AudioLibrarySelection from './AudioLibrarySelection'\n\nexport default {\n  props: [\n    'alternateSelections',\n    'selectedAudioFile',\n    'langId',\n    'audioFiles',\n    'isPlaying',\n    'audioPlayerUrl',\n    'resourceId',\n  ],\n\n  components: {\n    AudioLibrarySearchField,\n    AudioLibrarySelection,\n  },\n\n  computed: {\n    selectable() {\n      return !lodash.isEmpty(this.alternateSelections)\n    },\n  },\n\n  methods: {\n    ...mapActions('flow', ['resource_setOrCreateValueModeSpecific']),\n    clearSelection() {\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resourceId,\n        filter: { language_id: this.langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR] },\n        value: '',\n      })\n    },\n    selectAudioFile({ value, langId }) {\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resourceId,\n        filter: { language_id: langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR] },\n        value: value.description,\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySelector.vue?vue&type=template&id=aed8bb4c&\"\nimport script from \"./AudioLibrarySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isFeatureCallToRecordEnabled)?_c('div',{staticClass:\"phone-recorder\"},[_c('phone-recording-recorder-selector',{attrs:{\"isModalVisible\":_vm.isRecorderSelectorVisible},on:{\"input\":_vm.handleRecorderSelectionChanged},model:{value:(_vm.callConfig),callback:function ($$v) {_vm.callConfig=$$v},expression:\"callConfig\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{staticClass:\"phone-recording-recorder-selector\",attrs:{\"size\":\"lg\",\"no-close-on-backdrop\":\"\",\"no-close-on-esc\":\"\",\"title\":_vm._f(\"trans\")('flow-builder.select-a-caller-from-the-list-below'),\"visible\":_vm.isModalVisible,\"ok-title\":_vm._f(\"trans\")('flow-builder.call-this-phone-number'),\"cancel-title\":_vm._f(\"trans\")('flow-builder.close')},on:{\"ok\":_vm.handleModalClosed,\"cancel\":_vm.handleModalCancelled,\"close\":_vm.handleModalCancelled}},[_c('div',{staticClass:\"call-to-record-modal-table-container\"},[_c('table',{staticClass:\"table table-striped\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"recorder-selector-field\"}),_c('th',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.name')))]),_c('th',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.phone-number')))])])]),_c('tbody',{attrs:{\"id\":\"call-to-record-modal-list\"}},_vm._l((_vm.recorders),function(recorder){return _c('tr',{staticClass:\"call-to-record-item\"},[_c('td',{staticClass:\"recorder-selector-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRecorder),expression:\"selectedRecorder\"}],attrs:{\"type\":\"radio\",\"x-name\":\"calltorecord_caller_select\",\"id\":(\"call-to-record-caller-\" + (recorder.id))},domProps:{\"value\":recorder,\"checked\":_vm._q(_vm.selectedRecorder,recorder)},on:{\"change\":function($event){_vm.selectedRecorder=recorder}}})]),_c('td',[_c('label',{attrs:{\"for\":(\"call-to-record-caller-\" + (recorder.id))},on:{\"click\":function($event){return _vm.setSelectedRecorder(recorder)}}},[_vm._v(_vm._s(recorder.name))])]),_c('td',[_c('label',{attrs:{\"for\":(\"call-to-record-caller-\" + (recorder.id))},on:{\"click\":function($event){return _vm.setSelectedRecorder(recorder)}}},[_vm._v(_vm._s(recorder.phone))])])])}),0)]),_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.add-a-description-to-this-recording')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"rows\":\"2\",\"placeholder\":_vm._f(\"trans\")('flow-builder.optional-description')},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}}),_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.add-a-new-recorder')))]),_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',{staticClass:\"recorder-selector-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRecorder),expression:\"selectedRecorder\"}],attrs:{\"type\":\"radio\",\"name\":\"calltorecord_caller_select\",\"id\":\"new_recorder_radio\"},domProps:{\"value\":_vm.draft,\"checked\":_vm._q(_vm.selectedRecorder,_vm.draft)},on:{\"change\":function($event){_vm.selectedRecorder=_vm.draft}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.draft.name),expression:\"draft.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.name')},domProps:{\"value\":(_vm.draft.name)},on:{\"click\":_vm.selectNewRecorder,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.draft, \"name\", $event.target.value)}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.draft.phone),expression:\"draft.phone\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.phone-number')},domProps:{\"value\":(_vm.draft.phone)},on:{\"click\":_vm.selectNewRecorder,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.draft, \"phone\", $event.target.value)}}})])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export var CODE_BACKSPACE = 8;\nexport var CODE_BREAK = 19;\nexport var CODE_DELETE = 46;\nexport var CODE_DOWN = 40;\nexport var CODE_END = 35;\nexport var CODE_ENTER = 13;\nexport var CODE_ESC = 27;\nexport var CODE_HOME = 36;\nexport var CODE_LEFT = 37;\nexport var CODE_PAGEDOWN = 34;\nexport var CODE_PAGEUP = 33;\nexport var CODE_RIGHT = 39;\nexport var CODE_SPACE = 32;\nexport var CODE_UP = 38;","import { RX_HTML_TAGS } from '../constants/regex'; // Removes anything that looks like an HTML tag from the supplied string\n\nexport var stripTags = function stripTags() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return String(text).replace(RX_HTML_TAGS, '');\n}; // Generate a `domProps` object for either `innerHTML`, `textContent` or an empty object\n\nexport var htmlOrText = function htmlOrText(innerHTML, textContent) {\n  return innerHTML ? {\n    innerHTML: innerHTML\n  } : textContent ? {\n    textContent: textContent\n  } : {};\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { MutationObs, isElement } from './dom';\nimport { warnNoMutationObserverSupport } from './warn';\n/**\n * Observe a DOM element changes, falls back to eventListener mode\n * @param {Element} el The DOM element to observe\n * @param {Function} callback callback to be called on change\n * @param {object} [options={childList: true, subtree: true}] observe options\n * @see https://stackoverflow.com/questions/3219758\n */\n\nexport var observeDom = function observeDom(el, callback, options)\n/* istanbul ignore next: difficult to test in JSDOM */\n{\n  // Handle cases where we might be passed a Vue instance\n  el = el ? el.$el || el : null; // Early exit when we have no element\n\n  /* istanbul ignore next: difficult to test in JSDOM */\n\n  if (!isElement(el)) {\n    return null;\n  } // Exit and throw a warning when `MutationObserver` isn't available\n\n\n  if (warnNoMutationObserverSupport('observeDom')) {\n    return null;\n  } // Define a new observer\n\n\n  var obs = new MutationObs(function (mutations) {\n    var changed = false; // A mutation can contain several change records, so we loop\n    // through them to see what has changed\n    // We break out of the loop early if any \"significant\" change\n    // has been detected\n\n    for (var i = 0; i < mutations.length && !changed; i++) {\n      // The mutation record\n      var mutation = mutations[i]; // Mutation type\n\n      var type = mutation.type; // DOM node (could be any DOM node type - HTMLElement, Text, comment, etc.)\n\n      var target = mutation.target; // Detect whether a change happened based on type and target\n\n      if (type === 'characterData' && target.nodeType === Node.TEXT_NODE) {\n        // We ignore nodes that are not TEXT (i.e. comments, etc.)\n        // as they don't change layout\n        changed = true;\n      } else if (type === 'attributes') {\n        changed = true;\n      } else if (type === 'childList' && (mutation.addedNodes.length > 0 || mutation.removedNodes.length > 0)) {\n        // This includes HTMLElement and text nodes being\n        // added/removed/re-arranged\n        changed = true;\n      }\n    } // We only call the callback if a change that could affect\n    // layout/size truly happened\n\n\n    if (changed) {\n      callback();\n    }\n  }); // Have the observer observe foo for changes in children, etc\n\n  obs.observe(el, _objectSpread({\n    childList: true,\n    subtree: true\n  }, options)); // We return a reference to the observer so that `obs.disconnect()`\n  // can be called if necessary\n  // To reduce overhead when the root element is hidden\n\n  return obs;\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { cloneDeep } from './clone-deep';\nimport { looseEqual } from './loose-equal';\nimport { hasOwnProperty, keys } from './object';\n\nvar isEmpty = function isEmpty(value) {\n  return !value || keys(value).length === 0;\n};\n\nexport var makePropWatcher = function makePropWatcher(propName) {\n  return {\n    handler: function handler(newValue, oldValue) {\n      if (looseEqual(newValue, oldValue)) {\n        return;\n      }\n\n      if (isEmpty(newValue) || isEmpty(oldValue)) {\n        this[propName] = cloneDeep(newValue);\n        return;\n      }\n\n      for (var key in oldValue) {\n        if (!hasOwnProperty(newValue, key)) {\n          this.$delete(this.$data[propName], key);\n        }\n      }\n\n      for (var _key in newValue) {\n        this.$set(this.$data[propName], _key, newValue[_key]);\n      }\n    }\n  };\n};\nexport var makePropCacheMixin = function makePropCacheMixin(propName, proxyPropName) {\n  return Vue.extend({\n    data: function data() {\n      return _defineProperty({}, proxyPropName, cloneDeep(this[propName]));\n    },\n    watch: _defineProperty({}, propName, makePropWatcher(proxyPropName))\n  });\n};","import { makePropCacheMixin } from '../utils/cache';\nexport var attrsMixin = makePropCacheMixin('$attrs', 'bvAttrs');","// SSR safe client-side ID attribute generation\n// ID's can only be generated client-side, after mount\n// `this._uid` is not synched between server and client\nimport { COMPONENT_UID_KEY, Vue } from '../vue';\nimport { PROP_TYPE_STRING } from '../constants/props';\nimport { makeProp } from '../utils/props'; // --- Props ---\n\nexport var props = {\n  id: makeProp(PROP_TYPE_STRING)\n}; // --- Mixin ---\n// @vue/component\n\nexport var idMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      localId_: null\n    };\n  },\n  computed: {\n    safeId: function safeId() {\n      // Computed property that returns a dynamic function for creating the ID\n      // Reacts to changes in both `.id` and `.localId_` and regenerates a new function\n      var id = this.id || this.localId_; // We return a function that accepts an optional suffix string\n      // So this computed prop looks and works like a method\n      // but benefits from Vue's computed prop caching\n\n      var fn = function fn(suffix) {\n        if (!id) {\n          return null;\n        }\n\n        suffix = String(suffix || '').replace(/\\s+/g, '_');\n        return suffix ? id + '_' + suffix : id;\n      };\n\n      return fn;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // `mounted()` only occurs client-side\n    this.$nextTick(function () {\n      // Update DOM with auto-generated ID after mount\n      // to prevent SSR hydration errors\n      _this.localId_ = \"__BVID__\".concat(_this[COMPONENT_UID_KEY]);\n    });\n  }\n});","import { Vue } from '../vue';\nimport { IS_BROWSER } from '../constants/env';\nimport { EVENT_OPTIONS_NO_CAPTURE, HOOK_EVENT_NAME_BEFORE_DESTROY } from '../constants/events';\nimport { arrayIncludes } from '../utils/array';\nimport { eventOn, eventOff } from '../utils/events';\nimport { isString, isFunction } from '../utils/inspect';\nimport { keys } from '../utils/object'; // --- Constants ---\n\nvar PROP = '$_bv_documentHandlers_'; // --- Mixin ---\n// @vue/component\n\nexport var listenOnDocumentMixin = Vue.extend({\n  created: function created() {\n    var _this = this;\n\n    /* istanbul ignore next */\n    if (!IS_BROWSER) {\n      return;\n    } // Declare non-reactive property\n    // Object of arrays, keyed by event name,\n    // where value is an array of handlers\n    // Prop will be defined on client only\n\n\n    this[PROP] = {}; // Set up our beforeDestroy handler (client only)\n\n    this.$once(HOOK_EVENT_NAME_BEFORE_DESTROY, function () {\n      var items = _this[PROP] || {}; // Immediately delete this[PROP] to prevent the\n      // listenOn/Off methods from running (which may occur\n      // due to requestAnimationFrame/transition delays)\n\n      delete _this[PROP]; // Remove all registered event handlers\n\n      keys(items).forEach(function (eventName) {\n        var handlers = items[eventName] || [];\n        handlers.forEach(function (handler) {\n          return eventOff(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        });\n      });\n    });\n  },\n  methods: {\n    listenDocument: function listenDocument(on, eventName, handler) {\n      on ? this.listenOnDocument(eventName, handler) : this.listenOffDocument(eventName, handler);\n    },\n    listenOnDocument: function listenOnDocument(eventName, handler) {\n      if (this[PROP] && isString(eventName) && isFunction(handler)) {\n        this[PROP][eventName] = this[PROP][eventName] || [];\n\n        if (!arrayIncludes(this[PROP][eventName], handler)) {\n          this[PROP][eventName].push(handler);\n          eventOn(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        }\n      }\n    },\n    listenOffDocument: function listenOffDocument(eventName, handler) {\n      if (this[PROP] && isString(eventName) && isFunction(handler)) {\n        eventOff(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        this[PROP][eventName] = (this[PROP][eventName] || []).filter(function (h) {\n          return h !== handler;\n        });\n      }\n    }\n  }\n});","import { Vue } from '../vue';\nimport { IS_BROWSER } from '../constants/env';\nimport { EVENT_OPTIONS_NO_CAPTURE } from '../constants/events';\nimport { arrayIncludes } from '../utils/array';\nimport { eventOn, eventOff } from '../utils/events';\nimport { isString, isFunction } from '../utils/inspect';\nimport { keys } from '../utils/object'; // --- Constants ---\n\nvar PROP = '$_bv_windowHandlers_'; // --- Mixin ---\n// @vue/component\n\nexport var listenOnWindowMixin = Vue.extend({\n  beforeCreate: function beforeCreate() {\n    // Declare non-reactive property\n    // Object of arrays, keyed by event name,\n    // where value is an array of handlers\n    this[PROP] = {};\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (IS_BROWSER) {\n      var items = this[PROP]; // Immediately delete this[PROP] to prevent the\n      // listenOn/Off methods from running (which may occur\n      // due to requestAnimationFrame delays)\n\n      delete this[PROP]; // Remove all registered event handlers\n\n      keys(items).forEach(function (eventName) {\n        var handlers = items[eventName] || [];\n        handlers.forEach(function (handler) {\n          return eventOff(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        });\n      });\n    }\n  },\n  methods: {\n    listenWindow: function listenWindow(on, eventName, handler) {\n      on ? this.listenOnWindow(eventName, handler) : this.listenOffWindow(eventName, handler);\n    },\n    listenOnWindow: function listenOnWindow(eventName, handler) {\n      if (IS_BROWSER && this[PROP] && isString(eventName) && isFunction(handler)) {\n        this[PROP][eventName] = this[PROP][eventName] || [];\n\n        if (!arrayIncludes(this[PROP][eventName], handler)) {\n          this[PROP][eventName].push(handler);\n          eventOn(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        }\n      }\n    },\n    listenOffWindow: function listenOffWindow(eventName, handler) {\n      if (IS_BROWSER && this[PROP] && isString(eventName) && isFunction(handler)) {\n        eventOff(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        this[PROP][eventName] = (this[PROP][eventName] || []).filter(function (h) {\n          return h !== handler;\n        });\n      }\n    }\n  }\n});","import { RX_ENCODED_COMMA, RX_ENCODE_REVERSE, RX_PLUS, RX_QUERY_START } from '../constants/regex';\nimport { isTag } from './dom';\nimport { isArray, isNull, isPlainObject, isString, isUndefined } from './inspect';\nimport { keys } from './object';\nimport { toString } from './string';\nvar ANCHOR_TAG = 'a'; // Method to replace reserved chars\n\nvar encodeReserveReplacer = function encodeReserveReplacer(c) {\n  return '%' + c.charCodeAt(0).toString(16);\n}; // Fixed encodeURIComponent which is more conformant to RFC3986:\n// - escapes [!'()*]\n// - preserve commas\n\n\nvar encode = function encode(str) {\n  return encodeURIComponent(toString(str)).replace(RX_ENCODE_REVERSE, encodeReserveReplacer).replace(RX_ENCODED_COMMA, ',');\n};\n\nvar decode = decodeURIComponent; // Stringifies an object of query parameters\n// See: https://github.com/vuejs/vue-router/blob/dev/src/util/query.js\n\nexport var stringifyQueryObj = function stringifyQueryObj(obj) {\n  if (!isPlainObject(obj)) {\n    return '';\n  }\n\n  var query = keys(obj).map(function (key) {\n    var value = obj[key];\n\n    if (isUndefined(value)) {\n      return '';\n    } else if (isNull(value)) {\n      return encode(key);\n    } else if (isArray(value)) {\n      return value.reduce(function (results, value2) {\n        if (isNull(value2)) {\n          results.push(encode(key));\n        } else if (!isUndefined(value2)) {\n          // Faster than string interpolation\n          results.push(encode(key) + '=' + encode(value2));\n        }\n\n        return results;\n      }, []).join('&');\n    } // Faster than string interpolation\n\n\n    return encode(key) + '=' + encode(value);\n  })\n  /* must check for length, as we only want to filter empty strings, not things that look falsey! */\n  .filter(function (x) {\n    return x.length > 0;\n  }).join('&');\n  return query ? \"?\".concat(query) : '';\n};\nexport var parseQuery = function parseQuery(query) {\n  var parsed = {};\n  query = toString(query).trim().replace(RX_QUERY_START, '');\n\n  if (!query) {\n    return parsed;\n  }\n\n  query.split('&').forEach(function (param) {\n    var parts = param.replace(RX_PLUS, ' ').split('=');\n    var key = decode(parts.shift());\n    var value = parts.length > 0 ? decode(parts.join('=')) : null;\n\n    if (isUndefined(parsed[key])) {\n      parsed[key] = value;\n    } else if (isArray(parsed[key])) {\n      parsed[key].push(value);\n    } else {\n      parsed[key] = [parsed[key], value];\n    }\n  });\n  return parsed;\n};\nexport var isLink = function isLink(props) {\n  return !!(props.href || props.to);\n};\nexport var isRouterLink = function isRouterLink(tag) {\n  return !!(tag && !isTag(tag, 'a'));\n};\nexport var computeTag = function computeTag(_ref, thisOrParent) {\n  var to = _ref.to,\n      disabled = _ref.disabled,\n      routerComponentName = _ref.routerComponentName;\n  var hasRouter = !!thisOrParent.$router;\n\n  if (!hasRouter || hasRouter && (disabled || !to)) {\n    return ANCHOR_TAG;\n  } // TODO:\n  //   Check registered components for existence of user supplied router link component name\n  //   We would need to check PascalCase, kebab-case, and camelCase versions of name:\n  //   const name = routerComponentName\n  //   const names = [name, PascalCase(name), KebabCase(name), CamelCase(name)]\n  //   exists = names.some(name => !!thisOrParent.$options.components[name])\n  //   And may want to cache the result for performance or we just let the render fail\n  //   if the component is not registered\n\n\n  return routerComponentName || (thisOrParent.$nuxt ? 'nuxt-link' : 'router-link');\n};\nexport var computeRel = function computeRel() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      target = _ref2.target,\n      rel = _ref2.rel;\n\n  return target === '_blank' && isNull(rel) ? 'noopener' : rel || null;\n};\nexport var computeHref = function computeHref() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      href = _ref3.href,\n      to = _ref3.to;\n\n  var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ANCHOR_TAG;\n  var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '#';\n  var toFallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '/';\n\n  // Return `href` when explicitly provided\n  if (href) {\n    return href;\n  } // We've checked for `$router` in `computeTag()`, so `isRouterLink()` indicates a live router\n  // When deferring to Vue Router's `<router-link>`, don't use the `href` attribute at all\n  // We return `null`, and then remove `href` from the attributes passed to `<router-link>`\n\n\n  if (isRouterLink(tag)) {\n    return null;\n  } // Fallback to `to` prop (if `to` is a string)\n\n\n  if (isString(to)) {\n    return to || toFallback;\n  } // Fallback to `to.path' + `to.query` + `to.hash` prop (if `to` is an object)\n\n\n  if (isPlainObject(to) && (to.path || to.query || to.hash)) {\n    var path = toString(to.path);\n    var query = stringifyQueryObj(to.query);\n    var hash = toString(to.hash);\n    hash = !hash || hash.charAt(0) === '#' ? hash : \"#\".concat(hash);\n    return \"\".concat(path).concat(query).concat(hash) || toFallback;\n  } // If nothing is provided return the fallback\n\n\n  return fallback;\n};","import { makePropCacheMixin } from '../utils/cache';\nexport var listenersMixin = makePropCacheMixin('$listeners', 'bvListeners');","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_LINK } from '../../constants/components';\nimport { EVENT_NAME_CLICK } from '../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { concat } from '../../utils/array';\nimport { attemptBlur, attemptFocus, isTag } from '../../utils/dom';\nimport { getRootEventName, stopEvent } from '../../utils/events';\nimport { isBoolean, isEvent, isFunction, isUndefined } from '../../utils/inspect';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { computeHref, computeRel, computeTag, isRouterLink as _isRouterLink } from '../../utils/router';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Constants ---\n\nvar ROOT_EVENT_NAME_CLICKED = getRootEventName(NAME_LINK, 'clicked'); // --- Props ---\n// `<router-link>` specific props\n\nexport var routerLinkProps = {\n  activeClass: makeProp(PROP_TYPE_STRING),\n  append: makeProp(PROP_TYPE_BOOLEAN, false),\n  event: makeProp(PROP_TYPE_ARRAY_STRING, EVENT_NAME_CLICK),\n  exact: makeProp(PROP_TYPE_BOOLEAN, false),\n  exactActiveClass: makeProp(PROP_TYPE_STRING),\n  replace: makeProp(PROP_TYPE_BOOLEAN, false),\n  routerTag: makeProp(PROP_TYPE_STRING, 'a'),\n  to: makeProp(PROP_TYPE_OBJECT_STRING)\n}; // `<nuxt-link>` specific props\n\nexport var nuxtLinkProps = {\n  noPrefetch: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Must be `null` to fall back to the value defined in the\n  // `nuxt.config.js` configuration file for `router.prefetchLinks`\n  // We convert `null` to `undefined`, so that Nuxt.js will use the\n  // compiled default\n  // Vue treats `undefined` as default of `false` for Boolean props,\n  // so we must set it as `null` here to be a true tri-state prop\n  prefetch: makeProp(PROP_TYPE_BOOLEAN, null)\n}; // All `<b-link>` props\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, nuxtLinkProps), routerLinkProps), {}, {\n  active: makeProp(PROP_TYPE_BOOLEAN, false),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  href: makeProp(PROP_TYPE_STRING),\n  // Must be `null` if no value provided\n  rel: makeProp(PROP_TYPE_STRING, null),\n  // To support 3rd party router links based on `<router-link>` (i.e. `g-link` for Gridsome)\n  // Default is to auto choose between `<router-link>` and `<nuxt-link>`\n  // Gridsome doesn't provide a mechanism to auto detect and has caveats\n  // such as not supporting FQDN URLs or hash only URLs\n  routerComponentName: makeProp(PROP_TYPE_STRING),\n  target: makeProp(PROP_TYPE_STRING, '_self')\n})), NAME_LINK); // --- Main component ---\n// @vue/component\n\nexport var BLink = /*#__PURE__*/Vue.extend({\n  name: NAME_LINK,\n  // Mixin order is important!\n  mixins: [attrsMixin, listenersMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    computedTag: function computedTag() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var to = this.to,\n          disabled = this.disabled,\n          routerComponentName = this.routerComponentName;\n      return computeTag({\n        to: to,\n        disabled: disabled,\n        routerComponentName: routerComponentName\n      }, this);\n    },\n    isRouterLink: function isRouterLink() {\n      return _isRouterLink(this.computedTag);\n    },\n    computedRel: function computedRel() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var target = this.target,\n          rel = this.rel;\n      return computeRel({\n        target: target,\n        rel: rel\n      });\n    },\n    computedHref: function computedHref() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var to = this.to,\n          href = this.href;\n      return computeHref({\n        to: to,\n        href: href\n      }, this.computedTag);\n    },\n    computedProps: function computedProps() {\n      var prefetch = this.prefetch;\n      return this.isRouterLink ? _objectSpread(_objectSpread({}, pluckProps(_objectSpread(_objectSpread({}, routerLinkProps), nuxtLinkProps), this)), {}, {\n        // Coerce `prefetch` value `null` to be `undefined`\n        prefetch: isBoolean(prefetch) ? prefetch : undefined,\n        // Pass `router-tag` as `tag` prop\n        tag: this.routerTag\n      }) : {};\n    },\n    computedAttrs: function computedAttrs() {\n      var bvAttrs = this.bvAttrs,\n          href = this.computedHref,\n          rel = this.computedRel,\n          disabled = this.disabled,\n          target = this.target,\n          routerTag = this.routerTag,\n          isRouterLink = this.isRouterLink;\n      return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, bvAttrs), href ? {\n        href: href\n      } : {}), isRouterLink && !isTag(routerTag, 'a') ? {} : {\n        rel: rel,\n        target: target\n      }), {}, {\n        tabindex: disabled ? '-1' : isUndefined(bvAttrs.tabindex) ? null : bvAttrs.tabindex,\n        'aria-disabled': disabled ? 'true' : null\n      });\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        // We want to overwrite any click handler since our callback\n        // will invoke the user supplied handler(s) if `!this.disabled`\n        click: this.onClick\n      });\n    }\n  },\n  methods: {\n    onClick: function onClick(event) {\n      var _arguments = arguments;\n      var eventIsEvent = isEvent(event);\n      var isRouterLink = this.isRouterLink;\n      var suppliedHandler = this.bvListeners.click;\n\n      if (eventIsEvent && this.disabled) {\n        // Stop event from bubbling up\n        // Kill the event loop attached to this specific `EventTarget`\n        // Needed to prevent `vue-router` for doing its thing\n        stopEvent(event, {\n          immediatePropagation: true\n        });\n      } else {\n        /* istanbul ignore next: difficult to test, but we know it works */\n        if (isRouterLink && event.currentTarget.__vue__) {\n          // Router links do not emit instance `click` events, so we\n          // add in an `$emit('click', event)` on its Vue instance\n          event.currentTarget.__vue__.$emit(EVENT_NAME_CLICK, event);\n        } // Call the suppliedHandler(s), if any provided\n\n\n        concat(suppliedHandler).filter(function (h) {\n          return isFunction(h);\n        }).forEach(function (handler) {\n          handler.apply(void 0, _toConsumableArray(_arguments));\n        }); // Emit the global `$root` click event\n\n        this.emitOnRoot(ROOT_EVENT_NAME_CLICKED, event); // TODO: Remove deprecated 'clicked::link' event with next major release\n\n        this.emitOnRoot('clicked::link', event);\n      } // Stop scroll-to-top behavior or navigation on\n      // regular links when href is just '#'\n\n\n      if (eventIsEvent && !isRouterLink && this.computedHref === '#') {\n        stopEvent(event, {\n          propagation: false\n        });\n      }\n    },\n    focus: function focus() {\n      attemptFocus(this.$el);\n    },\n    blur: function blur() {\n      attemptBlur(this.$el);\n    }\n  },\n  render: function render(h) {\n    var active = this.active,\n        disabled = this.disabled;\n    return h(this.computedTag, _defineProperty({\n      class: {\n        active: active,\n        disabled: disabled\n      },\n      attrs: this.computedAttrs,\n      props: this.computedProps\n    }, this.isRouterLink ? 'nativeOn' : 'on', this.computedListeners), this.normalizeSlot());\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_BUTTON } from '../../constants/components';\nimport { CODE_ENTER, CODE_SPACE } from '../../constants/key-codes';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { concat } from '../../utils/array';\nimport { addClass, isTag, removeClass } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { isBoolean, isEvent, isFunction } from '../../utils/inspect';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { isLink as isLinkStrict } from '../../utils/router';\nimport { BLink, props as BLinkProps } from '../link/link'; // --- Props ---\n\nvar linkProps = omit(BLinkProps, ['event', 'routerTag']);\ndelete linkProps.href.default;\ndelete linkProps.to.default;\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, linkProps), {}, {\n  block: makeProp(PROP_TYPE_BOOLEAN, false),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  pill: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Tri-state: `true`, `false` or `null`\n  // => On, off, not a toggle\n  pressed: makeProp(PROP_TYPE_BOOLEAN, null),\n  size: makeProp(PROP_TYPE_STRING),\n  squared: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'button'),\n  type: makeProp(PROP_TYPE_STRING, 'button'),\n  variant: makeProp(PROP_TYPE_STRING, 'secondary')\n})), NAME_BUTTON); // --- Helper methods ---\n// Focus handler for toggle buttons\n// Needs class of 'focus' when focused\n\nvar handleFocus = function handleFocus(event) {\n  if (event.type === 'focusin') {\n    addClass(event.target, 'focus');\n  } else if (event.type === 'focusout') {\n    removeClass(event.target, 'focus');\n  }\n}; // Is the requested button a link?\n// If tag prop is set to `a`, we use a <b-link> to get proper disabled handling\n\n\nvar isLink = function isLink(props) {\n  return isLinkStrict(props) || isTag(props.tag, 'a');\n}; // Is the button to be a toggle button?\n\n\nvar isToggle = function isToggle(props) {\n  return isBoolean(props.pressed);\n}; // Is the button \"really\" a button?\n\n\nvar isButton = function isButton(props) {\n  return !(isLink(props) || props.tag && !isTag(props.tag, 'button'));\n}; // Is the requested tag not a button or link?\n\n\nvar isNonStandardTag = function isNonStandardTag(props) {\n  return !isLink(props) && !isButton(props);\n}; // Compute required classes (non static classes)\n\n\nvar computeClass = function computeClass(props) {\n  var _ref;\n\n  return [\"btn-\".concat(props.variant || 'secondary'), (_ref = {}, _defineProperty(_ref, \"btn-\".concat(props.size), props.size), _defineProperty(_ref, 'btn-block', props.block), _defineProperty(_ref, 'rounded-pill', props.pill), _defineProperty(_ref, 'rounded-0', props.squared && !props.pill), _defineProperty(_ref, \"disabled\", props.disabled), _defineProperty(_ref, \"active\", props.pressed), _ref)];\n}; // Compute the link props to pass to b-link (if required)\n\n\nvar computeLinkProps = function computeLinkProps(props) {\n  return isLink(props) ? pluckProps(linkProps, props) : {};\n}; // Compute the attributes for a button\n\n\nvar computeAttrs = function computeAttrs(props, data) {\n  var button = isButton(props);\n  var link = isLink(props);\n  var toggle = isToggle(props);\n  var nonStandardTag = isNonStandardTag(props);\n  var hashLink = link && props.href === '#';\n  var role = data.attrs && data.attrs.role ? data.attrs.role : null;\n  var tabindex = data.attrs ? data.attrs.tabindex : null;\n\n  if (nonStandardTag || hashLink) {\n    tabindex = '0';\n  }\n\n  return {\n    // Type only used for \"real\" buttons\n    type: button && !link ? props.type : null,\n    // Disabled only set on \"real\" buttons\n    disabled: button ? props.disabled : null,\n    // We add a role of button when the tag is not a link or button for ARIA\n    // Don't bork any role provided in `data.attrs` when `isLink` or `isButton`\n    // Except when link has `href` of `#`\n    role: nonStandardTag || hashLink ? 'button' : role,\n    // We set the `aria-disabled` state for non-standard tags\n    'aria-disabled': nonStandardTag ? String(props.disabled) : null,\n    // For toggles, we need to set the pressed state for ARIA\n    'aria-pressed': toggle ? String(props.pressed) : null,\n    // `autocomplete=\"off\"` is needed in toggle mode to prevent some browsers\n    // from remembering the previous setting when using the back button\n    autocomplete: toggle ? 'off' : null,\n    // `tabindex` is used when the component is not a button\n    // Links are tabbable, but don't allow disabled, while non buttons or links\n    // are not tabbable, so we mimic that functionality by disabling tabbing\n    // when disabled, and adding a `tabindex=\"0\"` to non buttons or non links\n    tabindex: props.disabled && !button ? '-1' : tabindex\n  };\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BButton = /*#__PURE__*/Vue.extend({\n  name: NAME_BUTTON,\n  functional: true,\n  props: props,\n  render: function render(h, _ref2) {\n    var props = _ref2.props,\n        data = _ref2.data,\n        listeners = _ref2.listeners,\n        children = _ref2.children;\n    var toggle = isToggle(props);\n    var link = isLink(props);\n    var nonStandardTag = isNonStandardTag(props);\n    var hashLink = link && props.href === '#';\n    var on = {\n      keydown: function keydown(event) {\n        // When the link is a `href=\"#\"` or a non-standard tag (has `role=\"button\"`),\n        // we add a keydown handlers for CODE_SPACE/CODE_ENTER\n\n        /* istanbul ignore next */\n        if (props.disabled || !(nonStandardTag || hashLink)) {\n          return;\n        }\n\n        var keyCode = event.keyCode; // Add CODE_SPACE handler for `href=\"#\"` and CODE_ENTER handler for non-standard tags\n\n        if (keyCode === CODE_SPACE || keyCode === CODE_ENTER && nonStandardTag) {\n          var target = event.currentTarget || event.target;\n          stopEvent(event, {\n            propagation: false\n          });\n          target.click();\n        }\n      },\n      click: function click(event) {\n        /* istanbul ignore if: blink/button disabled should handle this */\n        if (props.disabled && isEvent(event)) {\n          stopEvent(event);\n        } else if (toggle && listeners && listeners['update:pressed']) {\n          // Send `.sync` updates to any \"pressed\" prop (if `.sync` listeners)\n          // `concat()` will normalize the value to an array without\n          // double wrapping an array value in an array\n          concat(listeners['update:pressed']).forEach(function (fn) {\n            if (isFunction(fn)) {\n              fn(!props.pressed);\n            }\n          });\n        }\n      }\n    };\n\n    if (toggle) {\n      on.focusin = handleFocus;\n      on.focusout = handleFocus;\n    }\n\n    var componentData = {\n      staticClass: 'btn',\n      class: computeClass(props),\n      props: computeLinkProps(props),\n      attrs: computeAttrs(props, data),\n      on: on\n    };\n    return h(link ? BLink : props.tag, mergeData(data, componentData), children);\n  }\n});","import { Vue } from '../../vue';\nimport { NAME_TRANSPORTER, NAME_TRANSPORTER_TARGET } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { PROP_TYPE_ARRAY_FUNCTION, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { concat } from '../../utils/array';\nimport { removeNode, select } from '../../utils/dom';\nimport { identity } from '../../utils/identity';\nimport { isFunction, isString } from '../../utils/inspect';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { makeProp } from '../../utils/props'; // --- Helper components ---\n// BVTransporter/BVTransporterTarget:\n//\n// Single root node portaling of content, which retains parent/child hierarchy\n// Unlike Portal-Vue where portaled content is no longer a descendent of its\n// intended parent components\n//\n// Private components for use by Tooltips, Popovers and Modals\n//\n// Based on vue-simple-portal\n// https://github.com/LinusBorg/vue-simple-portal\n// Transporter target used by BVTransporter\n// Supports only a single root element\n// @vue/component\n\nvar BVTransporterTarget = /*#__PURE__*/Vue.extend({\n  // As an abstract component, it doesn't appear in the $parent chain of\n  // components, which means the next parent of any component rendered inside\n  // of this one will be the parent from which is was portal'd\n  abstract: true,\n  name: NAME_TRANSPORTER_TARGET,\n  props: {\n    // Even though we only support a single root element,\n    // VNodes are always passed as an array\n    nodes: makeProp(PROP_TYPE_ARRAY_FUNCTION)\n  },\n  data: function data(vm) {\n    return {\n      updatedNodes: vm.nodes\n    };\n  },\n  destroyed: function destroyed() {\n    removeNode(this.$el);\n  },\n  render: function render(h) {\n    var updatedNodes = this.updatedNodes;\n    var $nodes = isFunction(updatedNodes) ? updatedNodes({}) : updatedNodes;\n    $nodes = concat($nodes).filter(identity);\n\n    if ($nodes && $nodes.length > 0 && !$nodes[0].text) {\n      return $nodes[0];\n    }\n    /* istanbul ignore next */\n\n\n    return h();\n  }\n}); // --- Props ---\n\nexport var props = {\n  // String: CSS selector,\n  // HTMLElement: Element reference\n  // Mainly needed for tooltips/popovers inside modals\n  container: makeProp([HTMLElement, PROP_TYPE_STRING], 'body'),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  // This should be set to match the root element type\n  tag: makeProp(PROP_TYPE_STRING, 'div')\n}; // --- Main component ---\n// @vue/component\n\nexport var BVTransporter = /*#__PURE__*/Vue.extend({\n  name: NAME_TRANSPORTER,\n  mixins: [normalizeSlotMixin],\n  props: props,\n  watch: {\n    disabled: {\n      immediate: true,\n      handler: function handler(disabled) {\n        disabled ? this.unmountTarget() : this.$nextTick(this.mountTarget);\n      }\n    }\n  },\n  created: function created() {\n    // Create private non-reactive props\n    this.$_defaultFn = null;\n    this.$_target = null;\n  },\n  beforeMount: function beforeMount() {\n    this.mountTarget();\n  },\n  updated: function updated() {\n    // We need to make sure that all children have completed updating\n    // before rendering in the target\n    // `vue-simple-portal` has the this in a `$nextTick()`,\n    // while `portal-vue` doesn't\n    // Just trying to see if the `$nextTick()` delay is required or not\n    // Since all slots in Vue 2.6.x are always functions\n    this.updateTarget();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unmountTarget();\n    this.$_defaultFn = null;\n  },\n  methods: {\n    // Get the element which the target should be appended to\n    getContainer: function getContainer() {\n      /* istanbul ignore else */\n      if (IS_BROWSER) {\n        var container = this.container;\n        return isString(container) ? select(container) : container;\n      } else {\n        return null;\n      }\n    },\n    // Mount the target\n    mountTarget: function mountTarget() {\n      if (!this.$_target) {\n        var $container = this.getContainer();\n\n        if ($container) {\n          var $el = document.createElement('div');\n          $container.appendChild($el);\n          this.$_target = new BVTransporterTarget({\n            el: $el,\n            parent: this,\n            propsData: {\n              // Initial nodes to be rendered\n              nodes: concat(this.normalizeSlot())\n            }\n          });\n        }\n      }\n    },\n    // Update the content of the target\n    updateTarget: function updateTarget() {\n      if (IS_BROWSER && this.$_target) {\n        var defaultFn = this.$scopedSlots.default;\n\n        if (!this.disabled) {\n          /* istanbul ignore else: only applicable in Vue 2.5.x */\n          if (defaultFn && this.$_defaultFn !== defaultFn) {\n            // We only update the target component if the scoped slot\n            // function is a fresh one. The new slot syntax (since Vue 2.6)\n            // can cache unchanged slot functions and we want to respect that here\n            this.$_target.updatedNodes = defaultFn;\n          } else if (!defaultFn) {\n            // We also need to be back compatible with non-scoped default slot (i.e. 2.5.x)\n            this.$_target.updatedNodes = this.$slots.default;\n          }\n        } // Update the scoped slot function cache\n\n\n        this.$_defaultFn = defaultFn;\n      }\n    },\n    // Unmount the target\n    unmountTarget: function unmountTarget() {\n      this.$_target && this.$_target.$destroy();\n      this.$_target = null;\n    }\n  },\n  render: function render(h) {\n    // This component has no root element, so only a single VNode is allowed\n    if (this.disabled) {\n      var $nodes = concat(this.normalizeSlot()).filter(identity);\n\n      if ($nodes.length > 0 && !$nodes[0].text) {\n        return $nodes[0];\n      }\n    }\n\n    return h();\n  }\n});","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { BvEvent } from '../../../utils/bv-event.class';\nimport { defineProperties, readonlyDescriptor } from '../../../utils/object';\n\nvar BvModalEvent = /*#__PURE__*/function (_BvEvent) {\n  _inherits(BvModalEvent, _BvEvent);\n\n  var _super = _createSuper(BvModalEvent);\n\n  function BvModalEvent(type) {\n    var _this;\n\n    var eventInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, BvModalEvent);\n\n    _this = _super.call(this, type, eventInit); // Freeze our new props as readonly, but leave them enumerable\n\n    defineProperties(_assertThisInitialized(_this), {\n      trigger: readonlyDescriptor()\n    });\n    return _this;\n  }\n\n  _createClass(BvModalEvent, null, [{\n    key: \"Defaults\",\n    get: function get() {\n      return _objectSpread(_objectSpread({}, _get(_getPrototypeOf(BvModalEvent), \"Defaults\", this)), {}, {\n        trigger: null\n      });\n    }\n  }]);\n\n  return BvModalEvent;\n}(BvEvent); // Named exports\n\n\nexport { BvModalEvent };","/**\n * Private ModalManager helper\n * Handles controlling modal stacking zIndexes and body adjustments/classes\n */\nimport { Vue } from '../../../vue';\nimport { IS_BROWSER } from '../../../constants/env';\nimport { HOOK_EVENT_NAME_BEFORE_DESTROY } from '../../../constants/events';\nimport { addClass, getAttr, getBCR, getCS, getStyle, hasAttr, removeAttr, removeClass, requestAF, selectAll, setAttr, setStyle } from '../../../utils/dom';\nimport { isNull } from '../../../utils/inspect';\nimport { toFloat, toInteger } from '../../../utils/number'; // --- Constants ---\n// Default modal backdrop z-index\n\nvar DEFAULT_ZINDEX = 1040; // Selectors for padding/margin adjustments\n\nvar SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\nvar SELECTOR_STICKY_CONTENT = '.sticky-top';\nvar SELECTOR_NAVBAR_TOGGLER = '.navbar-toggler'; // --- Main component ---\n// @vue/component\n\nvar ModalManager = /*#__PURE__*/Vue.extend({\n  data: function data() {\n    return {\n      modals: [],\n      baseZIndex: null,\n      scrollbarWidth: null,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalCount: function modalCount() {\n      return this.modals.length;\n    },\n    modalsAreOpen: function modalsAreOpen() {\n      return this.modalCount > 0;\n    }\n  },\n  watch: {\n    modalCount: function modalCount(newCount, oldCount) {\n      if (IS_BROWSER) {\n        this.getScrollbarWidth();\n\n        if (newCount > 0 && oldCount === 0) {\n          // Transitioning to modal(s) open\n          this.checkScrollbar();\n          this.setScrollbar();\n          addClass(document.body, 'modal-open');\n        } else if (newCount === 0 && oldCount > 0) {\n          // Transitioning to modal(s) closed\n          this.resetScrollbar();\n          removeClass(document.body, 'modal-open');\n        }\n\n        setAttr(document.body, 'data-modal-open-count', String(newCount));\n      }\n    },\n    modals: function modals(newValue) {\n      var _this = this;\n\n      this.checkScrollbar();\n      requestAF(function () {\n        _this.updateModals(newValue || []);\n      });\n    }\n  },\n  methods: {\n    // Public methods\n    registerModal: function registerModal(modal) {\n      var _this2 = this;\n\n      // Register the modal if not already registered\n      if (modal && this.modals.indexOf(modal) === -1) {\n        // Add modal to modals array\n        this.modals.push(modal);\n        modal.$once(HOOK_EVENT_NAME_BEFORE_DESTROY, function () {\n          _this2.unregisterModal(modal);\n        });\n      }\n    },\n    unregisterModal: function unregisterModal(modal) {\n      var index = this.modals.indexOf(modal);\n\n      if (index > -1) {\n        // Remove modal from modals array\n        this.modals.splice(index, 1); // Reset the modal's data\n\n        if (!(modal._isBeingDestroyed || modal._isDestroyed)) {\n          this.resetModal(modal);\n        }\n      }\n    },\n    getBaseZIndex: function getBaseZIndex() {\n      if (isNull(this.baseZIndex) && IS_BROWSER) {\n        // Create a temporary `div.modal-backdrop` to get computed z-index\n        var div = document.createElement('div');\n        addClass(div, 'modal-backdrop');\n        addClass(div, 'd-none');\n        setStyle(div, 'display', 'none');\n        document.body.appendChild(div);\n        this.baseZIndex = toInteger(getCS(div).zIndex, DEFAULT_ZINDEX);\n        document.body.removeChild(div);\n      }\n\n      return this.baseZIndex || DEFAULT_ZINDEX;\n    },\n    getScrollbarWidth: function getScrollbarWidth() {\n      if (isNull(this.scrollbarWidth) && IS_BROWSER) {\n        // Create a temporary `div.measure-scrollbar` to get computed z-index\n        var div = document.createElement('div');\n        addClass(div, 'modal-scrollbar-measure');\n        document.body.appendChild(div);\n        this.scrollbarWidth = getBCR(div).width - div.clientWidth;\n        document.body.removeChild(div);\n      }\n\n      return this.scrollbarWidth || 0;\n    },\n    // Private methods\n    updateModals: function updateModals(modals) {\n      var _this3 = this;\n\n      var baseZIndex = this.getBaseZIndex();\n      var scrollbarWidth = this.getScrollbarWidth();\n      modals.forEach(function (modal, index) {\n        // We update data values on each modal\n        modal.zIndex = baseZIndex + index;\n        modal.scrollbarWidth = scrollbarWidth;\n        modal.isTop = index === _this3.modals.length - 1;\n        modal.isBodyOverflowing = _this3.isBodyOverflowing;\n      });\n    },\n    resetModal: function resetModal(modal) {\n      if (modal) {\n        modal.zIndex = this.getBaseZIndex();\n        modal.isTop = true;\n        modal.isBodyOverflowing = false;\n      }\n    },\n    checkScrollbar: function checkScrollbar() {\n      // Determine if the body element is overflowing\n      var _getBCR = getBCR(document.body),\n          left = _getBCR.left,\n          right = _getBCR.right;\n\n      this.isBodyOverflowing = left + right < window.innerWidth;\n    },\n    setScrollbar: function setScrollbar() {\n      var body = document.body; // Storage place to cache changes to margins and padding\n      // Note: This assumes the following element types are not added to the\n      // document after the modal has opened.\n\n      body._paddingChangedForModal = body._paddingChangedForModal || [];\n      body._marginChangedForModal = body._marginChangedForModal || [];\n\n      if (this.isBodyOverflowing) {\n        var scrollbarWidth = this.scrollbarWidth; // Adjust fixed content padding\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_FIXED_CONTENT).forEach(function (el) {\n          var actualPadding = getStyle(el, 'paddingRight') || '';\n          setAttr(el, 'data-padding-right', actualPadding);\n          setStyle(el, 'paddingRight', \"\".concat(toFloat(getCS(el).paddingRight, 0) + scrollbarWidth, \"px\"));\n\n          body._paddingChangedForModal.push(el);\n        }); // Adjust sticky content margin\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_STICKY_CONTENT).forEach(function (el)\n        /* istanbul ignore next */\n        {\n          var actualMargin = getStyle(el, 'marginRight') || '';\n          setAttr(el, 'data-margin-right', actualMargin);\n          setStyle(el, 'marginRight', \"\".concat(toFloat(getCS(el).marginRight, 0) - scrollbarWidth, \"px\"));\n\n          body._marginChangedForModal.push(el);\n        }); // Adjust <b-navbar-toggler> margin\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_NAVBAR_TOGGLER).forEach(function (el)\n        /* istanbul ignore next */\n        {\n          var actualMargin = getStyle(el, 'marginRight') || '';\n          setAttr(el, 'data-margin-right', actualMargin);\n          setStyle(el, 'marginRight', \"\".concat(toFloat(getCS(el).marginRight, 0) + scrollbarWidth, \"px\"));\n\n          body._marginChangedForModal.push(el);\n        }); // Adjust body padding\n\n        var actualPadding = getStyle(body, 'paddingRight') || '';\n        setAttr(body, 'data-padding-right', actualPadding);\n        setStyle(body, 'paddingRight', \"\".concat(toFloat(getCS(body).paddingRight, 0) + scrollbarWidth, \"px\"));\n      }\n    },\n    resetScrollbar: function resetScrollbar() {\n      var body = document.body;\n\n      if (body._paddingChangedForModal) {\n        // Restore fixed content padding\n        body._paddingChangedForModal.forEach(function (el) {\n          /* istanbul ignore next: difficult to test in JSDOM */\n          if (hasAttr(el, 'data-padding-right')) {\n            setStyle(el, 'paddingRight', getAttr(el, 'data-padding-right') || '');\n            removeAttr(el, 'data-padding-right');\n          }\n        });\n      }\n\n      if (body._marginChangedForModal) {\n        // Restore sticky content and navbar-toggler margin\n        body._marginChangedForModal.forEach(function (el) {\n          /* istanbul ignore next: difficult to test in JSDOM */\n          if (hasAttr(el, 'data-margin-right')) {\n            setStyle(el, 'marginRight', getAttr(el, 'data-margin-right') || '');\n            removeAttr(el, 'data-margin-right');\n          }\n        });\n      }\n\n      body._paddingChangedForModal = null;\n      body._marginChangedForModal = null; // Restore body padding\n\n      if (hasAttr(body, 'data-padding-right')) {\n        setStyle(body, 'paddingRight', getAttr(body, 'data-padding-right') || '');\n        removeAttr(body, 'data-padding-right');\n      }\n    }\n  }\n}); // Create and export our modal manager instance\n\nexport var modalManager = new ModalManager();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { COMPONENT_UID_KEY, Vue } from '../../vue';\nimport { NAME_MODAL } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CANCEL, EVENT_NAME_CHANGE, EVENT_NAME_CLOSE, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_OK, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE, EVENT_OPTIONS_NO_CAPTURE } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_MODAL_BACKDROP, SLOT_NAME_MODAL_CANCEL, SLOT_NAME_MODAL_FOOTER, SLOT_NAME_MODAL_HEADER, SLOT_NAME_MODAL_HEADER_CLOSE, SLOT_NAME_MODAL_OK, SLOT_NAME_MODAL_TITLE } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptFocus, closest, contains, getActiveElement as _getActiveElement, getTabables, requestAF, select } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName, eventOn, eventOff } from '../../utils/events';\nimport { htmlOrText } from '../../utils/html';\nimport { identity } from '../../utils/identity';\nimport { isString, isUndefinedOrNull } from '../../utils/inspect';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { observeDom } from '../../utils/observe-dom';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnDocumentMixin } from '../../mixins/listen-on-document';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenOnWindowMixin } from '../../mixins/listen-on-window';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { scopedStyleMixin } from '../../mixins/scoped-style';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition';\nimport { BVTransporter } from '../transporter/transporter';\nimport { BvModalEvent } from './helpers/bv-modal-event.class';\nimport { modalManager } from './helpers/modal-manager'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar TRIGGER_BACKDROP = 'backdrop';\nvar TRIGGER_ESC = 'esc';\nvar TRIGGER_FORCE = 'FORCE';\nvar TRIGGER_TOGGLE = 'toggle';\nvar BUTTON_CANCEL = 'cancel'; // TODO: This should be renamed to 'close'\n\nvar BUTTON_CLOSE = 'headerclose';\nvar BUTTON_OK = 'ok';\nvar BUTTONS = [BUTTON_CANCEL, BUTTON_CLOSE, BUTTON_OK]; // `ObserveDom` config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class']\n}; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  autoFocusButton: makeProp(PROP_TYPE_STRING, null,\n  /* istanbul ignore next */\n  function (value) {\n    return isUndefinedOrNull(value) || arrayIncludes(BUTTONS, value);\n  }),\n  bodyBgVariant: makeProp(PROP_TYPE_STRING),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  bodyTextVariant: makeProp(PROP_TYPE_STRING),\n  busy: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonSize: makeProp(PROP_TYPE_STRING),\n  cancelDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  cancelTitle: makeProp(PROP_TYPE_STRING, 'Cancel'),\n  cancelTitleHtml: makeProp(PROP_TYPE_STRING),\n  cancelVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  centered: makeProp(PROP_TYPE_BOOLEAN, false),\n  contentClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  dialogClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerBgVariant: makeProp(PROP_TYPE_STRING),\n  footerBorderVariant: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerTextVariant: makeProp(PROP_TYPE_STRING),\n  headerBgVariant: makeProp(PROP_TYPE_STRING),\n  headerBorderVariant: makeProp(PROP_TYPE_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerCloseContent: makeProp(PROP_TYPE_STRING, '&times;'),\n  headerCloseLabel: makeProp(PROP_TYPE_STRING, 'Close'),\n  headerCloseVariant: makeProp(PROP_TYPE_STRING),\n  headerTextVariant: makeProp(PROP_TYPE_STRING),\n  // TODO: Rename to `noBackdrop` and deprecate `hideBackdrop`\n  hideBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noFooter` and deprecate `hideFooter`\n  hideFooter: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeader` and deprecate `hideHeader`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeaderClose` and deprecate `hideHeaderClose`\n  hideHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  ignoreEnforceFocusSelector: makeProp(PROP_TYPE_ARRAY_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  modalClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  noStacking: makeProp(PROP_TYPE_BOOLEAN, false),\n  okDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  okOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  okTitle: makeProp(PROP_TYPE_STRING, 'OK'),\n  okTitleHtml: makeProp(PROP_TYPE_STRING),\n  okVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // HTML Element, CSS selector string or Vue component instance\n  returnFocus: makeProp([HTMLElement, PROP_TYPE_OBJECT, PROP_TYPE_STRING]),\n  scrollable: makeProp(PROP_TYPE_BOOLEAN, false),\n  size: makeProp(PROP_TYPE_STRING, 'md'),\n  static: makeProp(PROP_TYPE_BOOLEAN, false),\n  title: makeProp(PROP_TYPE_STRING),\n  titleClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  titleHtml: makeProp(PROP_TYPE_STRING),\n  titleSrOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  titleTag: makeProp(PROP_TYPE_STRING, 'h5')\n})), NAME_MODAL); // --- Main component ---\n// @vue/component\n\nexport var BModal = /*#__PURE__*/Vue.extend({\n  name: NAME_MODAL,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnDocumentMixin, listenOnRootMixin, listenOnWindowMixin, normalizeSlotMixin, scopedStyleMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalId: function modalId() {\n      return this.safeId();\n    },\n    modalOuterId: function modalOuterId() {\n      return this.safeId('__BV_modal_outer_');\n    },\n    modalHeaderId: function modalHeaderId() {\n      return this.safeId('__BV_modal_header_');\n    },\n    modalBodyId: function modalBodyId() {\n      return this.safeId('__BV_modal_body_');\n    },\n    modalTitleId: function modalTitleId() {\n      return this.safeId('__BV_modal_title_');\n    },\n    modalContentId: function modalContentId() {\n      return this.safeId('__BV_modal_content_');\n    },\n    modalFooterId: function modalFooterId() {\n      return this.safeId('__BV_modal_footer_');\n    },\n    modalBackdropId: function modalBackdropId() {\n      return this.safeId('__BV_modal_backdrop_');\n    },\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), this.size), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), this.headerBgVariant), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), this.headerTextVariant), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), this.headerBorderVariant), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), this.bodyBgVariant), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), this.bodyTextVariant), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), this.footerBgVariant), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), this.footerTextVariant), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), this.footerBorderVariant), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        ok: this.onOk,\n        visible: this.isVisible\n      };\n    },\n    computeIgnoreEnforceFocusSelector: function computeIgnoreEnforceFocusSelector() {\n      // Normalize to an single selector with selectors separated by `,`\n      return concat(this.ignoreEnforceFocusSelector).filter(identity).join(',').trim();\n    },\n    computedAttrs: function computedAttrs() {\n      // If the parent has a scoped style attribute, and the modal\n      // is portalled, add the scoped attribute to the modal wrapper\n      var scopedStyleAttrs = !this.static ? this.scopedStyleAttrs : {};\n      return _objectSpread(_objectSpread(_objectSpread({}, scopedStyleAttrs), this.bvAttrs), {}, {\n        id: this.modalOuterId\n      });\n    },\n    computedModalAttrs: function computedModalAttrs() {\n      var isVisible = this.isVisible,\n          ariaLabel = this.ariaLabel;\n      return {\n        id: this.modalId,\n        role: 'dialog',\n        'aria-hidden': isVisible ? null : 'true',\n        'aria-modal': isVisible ? 'true' : null,\n        'aria-label': ariaLabel,\n        'aria-labelledby': this.hideHeader || ariaLabel || // TODO: Rename slot to `title` and deprecate `modal-title`\n        !(this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) || this.titleHtml || this.title) ? null : this.modalTitleId,\n        'aria-describedby': this.modalBodyId\n      };\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this[newValue ? 'show' : 'hide']();\n    }\n  }),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_observer = null;\n    this.$_returnFocus = this.returnFocus || null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_SHOW), this.showHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_HIDE), this.hideHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_TOGGLE), this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot(getRootEventName(NAME_MODAL, EVENT_NAME_SHOW), this.modalListener); // Initially show modal?\n\n    if (this[MODEL_PROP_NAME] === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    this.setObserver(false);\n\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    setObserver: function setObserver() {\n      var on = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n\n      if (on) {\n        this.$_observer = observeDom(this.$refs.content, this.checkModalOverflow.bind(this), OBSERVER_CONFIG);\n      }\n    },\n    // Private method to update the v-model\n    updateModel: function updateModel(value) {\n      if (value !== this[MODEL_PROP_NAME]) {\n        this.$emit(MODEL_EVENT_NAME, value);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread(_objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, options), {}, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.modalId\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next */\n        this.$once(EVENT_NAME_HIDDEN, this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.$_returnFocus = this.$_returnFocus || this.getActiveElement();\n      var showEvt = this.buildEvent(EVENT_NAME_SHOW, {\n        cancelable: true\n      });\n      this.emitEvent(showEvt); // Don't show if canceled\n\n      if (showEvt.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      this.isClosing = true;\n      var hideEvt = this.buildEvent(EVENT_NAME_HIDE, {\n        cancelable: trigger !== TRIGGER_FORCE,\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === BUTTON_OK) {\n        this.$emit(EVENT_NAME_OK, hideEvt);\n      } else if (trigger === BUTTON_CANCEL) {\n        this.$emit(EVENT_NAME_CANCEL, hideEvt);\n      } else if (trigger === BUTTON_CLOSE) {\n        this.$emit(EVENT_NAME_CLOSE, hideEvt);\n      }\n\n      this.emitEvent(hideEvt); // Hide if not canceled\n\n      if (hideEvt.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n\n      this.setObserver(false); // Trigger the hide transition\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.$_returnFocus = triggerEl;\n      }\n\n      if (this.isVisible) {\n        this.hide(TRIGGER_TOGGLE);\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      var activeElement = _getActiveElement(IS_BROWSER ? [document.body] : []); // Preset the fallback return focus value if it is not set\n      // `document.activeElement` should be the trigger element that was clicked or\n      // in the case of using the v-model, which ever element has current focus\n      // Will be overridden by some commands such as toggle, etc.\n      // Note: On IE 11, `document.activeElement` may be `null`\n      // So we test it for truthiness first\n      // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n\n\n      return activeElement && activeElement.focus ? activeElement : null;\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce(getRootEventName(NAME_MODAL, EVENT_NAME_HIDDEN), this.doShow);\n        return;\n      }\n\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n\n        _this.$nextTick(function () {\n          // Observe changes in modal content and adjust if necessary\n          // In a `$nextTick()` in case modal content is lazy\n          _this.setObserver(true);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      var _this2 = this;\n\n      this.isBlock = true; // We add the `show` class 1 frame later\n      // `requestAF()` runs the callback before the next repaint, so we need\n      // two calls to guarantee the next frame has been rendered\n\n      requestAF(function () {\n        requestAF(function () {\n          _this2.isShow = true;\n        });\n      });\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this3 = this;\n\n      this.checkModalOverflow();\n      this.isTransitioning = false; // We use `requestAF()` to allow transition hooks to complete\n      // before passing control over to the other handlers\n      // This will allow users to not have to use `$nextTick()` or `requestAF()`\n      // when trying to pre-focus an element\n\n      requestAF(function () {\n        _this3.emitEvent(_this3.buildEvent(EVENT_NAME_SHOWN));\n\n        _this3.setEnforceFocus(true);\n\n        _this3.$nextTick(function () {\n          // Delayed in a `$nextTick()` to allow users time to pre-focus\n          // an element if the wish\n          _this3.focusFirst();\n        });\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this4 = this;\n\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this4.isClosing = false;\n        modalManager.unregisterModal(_this4);\n\n        _this4.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n\n        _this4.emitEvent(_this4.buildEvent(EVENT_NAME_HIDDEN));\n      });\n    },\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type; // We emit on `$root` first in case a global listener wants to cancel\n      // the event first before the instance emits its event\n\n      this.emitOnRoot(getRootEventName(NAME_MODAL, type), bvEvent, bvEvent.componentId);\n      this.$emit(type, bvEvent);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this5 = this;\n\n      // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n      var modal = this.$refs.modal;\n\n      var onceModalMouseup = function onceModalMouseup(event) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n\n        if (event.target === modal) {\n          _this5.ignoreBackdropClick = true;\n        }\n      };\n\n      eventOn(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n    },\n    onClickOut: function onClickOut(event) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, event.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n\n      if (!contains(this.$refs.content, event.target)) {\n        this.hide(TRIGGER_BACKDROP);\n      }\n    },\n    onOk: function onOk() {\n      this.hide(BUTTON_OK);\n    },\n    onCancel: function onCancel() {\n      this.hide(BUTTON_CANCEL);\n    },\n    onClose: function onClose() {\n      this.hide(BUTTON_CLOSE);\n    },\n    onEsc: function onEsc(event) {\n      // If ESC pressed, hide modal\n      if (event.keyCode === CODE_ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide(TRIGGER_ESC);\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(event) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = event.target;\n\n      if (this.noEnforceFocus || !this.isTop || !this.isVisible || !content || document === target || contains(content, target) || this.computeIgnoreEnforceFocusSelector && closest(this.computeIgnoreEnforceFocusSelector, target, true)) {\n        return;\n      }\n\n      var tabables = getTabables(this.$refs.content);\n      var bottomTrap = this.$refs['bottom-trap'];\n      var topTrap = this.$refs['top-trap'];\n\n      if (bottomTrap && target === bottomTrap) {\n        // If user pressed TAB out of modal into our bottom trab trap element\n        // Find the first tabable element in the modal content and focus it\n        if (attemptFocus(tabables[0])) {\n          // Focus was successful\n          return;\n        }\n      } else if (topTrap && target === topTrap) {\n        // If user pressed CTRL-TAB out of modal and into our top tab trap element\n        // Find the last tabable element in the modal content and focus it\n        if (attemptFocus(tabables[tabables.length - 1])) {\n          // Focus was successful\n          return;\n        }\n      } // Otherwise focus the modal content container\n\n\n      attemptFocus(content, {\n        preventScroll: true\n      });\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      this.listenDocument(on, 'focusin', this.focusHandler);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      this.listenWindow(on, 'resize', this.checkModalOverflow);\n      this.listenWindow(on, 'orientationchange', this.checkModalOverflow);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.$_returnFocus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.modalId) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvent) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvent.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      var _this6 = this;\n\n      // Don't try and focus if we are SSR\n      if (IS_BROWSER) {\n        requestAF(function () {\n          var modal = _this6.$refs.modal;\n          var content = _this6.$refs.content;\n\n          var activeElement = _this6.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n\n          if (modal && content && !(activeElement && contains(content, activeElement))) {\n            var ok = _this6.$refs['ok-button'];\n            var cancel = _this6.$refs['cancel-button'];\n            var close = _this6.$refs['close-button']; // Focus the appropriate button or modal content wrapper\n\n            var autoFocus = _this6.autoFocusButton;\n            /* istanbul ignore next */\n\n            var el = autoFocus === BUTTON_OK && ok ? ok.$el || ok : autoFocus === BUTTON_CANCEL && cancel ? cancel.$el || cancel : autoFocus === BUTTON_CLOSE && close ? close.$el || close : content; // Focus the element\n\n            attemptFocus(el);\n\n            if (el === content) {\n              // Make sure top of modal is showing (if longer than the viewport)\n              _this6.$nextTick(function () {\n                modal.scrollTop = 0;\n              });\n            }\n          }\n        });\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.$_returnFocus || null;\n      this.$_returnFocus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var $header = h();\n\n      if (!this.hideHeader) {\n        // TODO: Rename slot to `header` and deprecate `modal-header`\n        var $modalHeader = this.normalizeSlot(SLOT_NAME_MODAL_HEADER, this.slotScope);\n\n        if (!$modalHeader) {\n          var $closeButton = h();\n\n          if (!this.hideHeaderClose) {\n            $closeButton = h(BButtonClose, {\n              props: {\n                content: this.headerCloseContent,\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              },\n              ref: 'close-button'\n            }, // TODO: Rename slot to `header-close` and deprecate `modal-header-close`\n            [this.normalizeSlot(SLOT_NAME_MODAL_HEADER_CLOSE)]);\n          }\n\n          $modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.modalTitleId\n            },\n            // TODO: Rename slot to `title` and deprecate `modal-title`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) ? {} : htmlOrText(this.titleHtml, this.title)\n          }, // TODO: Rename slot to `title` and deprecate `modal-title`\n          this.normalizeSlot(SLOT_NAME_MODAL_TITLE, this.slotScope)), $closeButton];\n        }\n\n        $header = h('header', {\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.modalHeaderId\n          },\n          ref: 'header'\n        }, [$modalHeader]);\n      } // Modal body\n\n\n      var $body = h('div', {\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.modalBodyId\n        },\n        ref: 'body'\n      }, this.normalizeSlot(SLOT_NAME_DEFAULT, this.slotScope)); // Modal footer\n\n      var $footer = h();\n\n      if (!this.hideFooter) {\n        // TODO: Rename slot to `footer` and deprecate `modal-footer`\n        var $modalFooter = this.normalizeSlot(SLOT_NAME_MODAL_FOOTER, this.slotScope);\n\n        if (!$modalFooter) {\n          var $cancelButton = h();\n\n          if (!this.okOnly) {\n            $cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n              domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_CANCEL) ? {} : htmlOrText(this.cancelTitleHtml, this.cancelTitle),\n              on: {\n                click: this.onCancel\n              },\n              ref: 'cancel-button'\n            }, // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n            this.normalizeSlot(SLOT_NAME_MODAL_CANCEL));\n          }\n\n          var $okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_OK) ? {} : htmlOrText(this.okTitleHtml, this.okTitle),\n            on: {\n              click: this.onOk\n            },\n            ref: 'ok-button'\n          }, // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n          this.normalizeSlot(SLOT_NAME_MODAL_OK));\n          $modalFooter = [$cancelButton, $okButton];\n        }\n\n        $footer = h('footer', {\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.modalFooterId\n          },\n          ref: 'footer'\n        }, [$modalFooter]);\n      } // Assemble modal content\n\n\n      var $modalContent = h('div', {\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          id: this.modalContentId,\n          tabindex: '-1'\n        },\n        ref: 'content'\n      }, [$header, $body, $footer]); // Tab traps to prevent page from scrolling to next element in\n      // tab index during enforce-focus tab cycle\n\n      var $tabTrapTop = h();\n      var $tabTrapBottom = h();\n\n      if (this.isVisible && !this.noEnforceFocus) {\n        $tabTrapTop = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'top-trap'\n        });\n        $tabTrapBottom = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'bottom-trap'\n        });\n      } // Modal dialog wrapper\n\n\n      var $modalDialog = h('div', {\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        },\n        ref: 'dialog'\n      }, [$tabTrapTop, $modalContent, $tabTrapBottom]); // Modal\n\n      var $modal = h('div', {\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        attrs: this.computedModalAttrs,\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        },\n        directives: [{\n          name: 'show',\n          value: this.isVisible\n        }],\n        ref: 'modal'\n      }, [$modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use `BVTransition` here due to the differences in\n      // transition durations for `.modal` and `.modal-dialog`\n      // At least until https://github.com/vuejs/vue/issues/9986 is resolved\n\n      $modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [$modal]); // Modal backdrop\n\n      var $backdrop = h();\n\n      if (!this.hideBackdrop && this.isVisible) {\n        $backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.modalBackdropId\n          }\n        }, // TODO: Rename slot to `backdrop` and deprecate `modal-backdrop`\n        this.normalizeSlot(SLOT_NAME_MODAL_BACKDROP));\n      }\n\n      $backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [$backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        style: this.modalOuterStyle,\n        attrs: this.computedAttrs,\n        key: \"modal-outer-\".concat(this[COMPONENT_UID_KEY])\n      }, [$modal, $backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BVTransporter, [this.makeModal(h)]);\n    }\n  }\n});","<template>\n  <b-modal\n      size=\"lg\"\n      class=\"phone-recording-recorder-selector\"\n      no-close-on-backdrop\n      no-close-on-esc\n      :title=\"'flow-builder.select-a-caller-from-the-list-below'|trans\"\n      :visible=\"isModalVisible\"\n      :ok-title=\"'flow-builder.call-this-phone-number'|trans\"\n      :cancel-title=\"'flow-builder.close'|trans\"\n      @ok=\"handleModalClosed\"\n      @cancel=\"handleModalCancelled\"\n      @close=\"handleModalCancelled\"\n  >\n    <div class=\"call-to-record-modal-table-container\">\n      <table class=\"table table-striped\">\n        <thead>\n        <tr>\n          <th class=\"recorder-selector-field\"></th>\n          <th>{{ 'flow-builder.name'|trans }}</th>\n          <th>{{ 'flow-builder.phone-number'|trans }}</th>\n        </tr>\n        </thead>\n        <tbody id=\"call-to-record-modal-list\">\n        <tr v-for=\"recorder in recorders\" class=\"call-to-record-item\">\n          <td class=\"recorder-selector-field\">\n            <input v-model=\"selectedRecorder\"\n                   type=\"radio\"\n                   x-name=\"calltorecord_caller_select\"\n                   :id=\"`call-to-record-caller-${recorder.id}`\"\n                   :value=\"recorder\">\n          </td>\n          <td><label :for=\"`call-to-record-caller-${recorder.id}`\" @click=\"setSelectedRecorder(recorder)\">{{ recorder.name }}</label></td>\n          <td><label :for=\"`call-to-record-caller-${recorder.id}`\" @click=\"setSelectedRecorder(recorder)\">{{ recorder.phone }}</label></td>\n        </tr>\n        </tbody>\n      </table>\n\n      <h4>{{ 'flow-builder.add-a-description-to-this-recording'|trans }}</h4>\n      <input v-model=\"description\"\n             type=\"text\"\n             class=\"form-control\"\n             rows=\"2\"\n             :placeholder=\"'flow-builder.optional-description'|trans\">\n\n      <h4>{{ 'flow-builder.add-a-new-recorder'|trans }}</h4>\n      <table class=\"table\">\n        <tbody>\n        <tr>\n          <td class=\"recorder-selector-field\">\n            <input v-model=\"selectedRecorder\"\n                   type=\"radio\"\n                   name=\"calltorecord_caller_select\"\n                   id=\"new_recorder_radio\"\n                   :value=\"draft\">\n          </td>\n          <td>\n            <input v-model=\"draft.name\"\n                   type=\"text\"\n                   :placeholder=\"'flow-builder.name'|trans\"\n                   @click=\"selectNewRecorder\"\n                   class=\"form-control\">\n          </td>\n          <td>\n            <input v-model=\"draft.phone\"\n                   type=\"text\"\n                   :placeholder=\"'flow-builder.phone-number'|trans\"\n                   @click=\"selectNewRecorder\"\n                   class=\"form-control\">\n          </td>\n        </tr>\n\n        </tbody>\n      </table>\n    </div>\n  </b-modal>\n</template>\n\n<script>\nimport { lang } from '@/lib/filters/lang'\nimport lodash from 'lodash'\nimport { mapState } from 'vuex'\nimport { BModal } from 'bootstrap-vue'\n\nexport default {\n  components: {\n    BModal,\n  },\n\n  props: {\n    isModalVisible: Boolean,\n  },\n\n  mixins: [lang],\n\n  data() {\n    return {\n      selectedRecorder: null,\n      description: null,\n      draft: null,\n    }\n  },\n\n  created() {\n    this.reset()\n  },\n\n  computed: {\n    ...mapState({\n      recorders: ({ audio: { recording: { recorders } } }) => recorders,\n    }),\n  },\n\n  methods: {\n    selectNewRecorder() {\n      this.draft.isNew = true\n      this.selectedRecorder = this.draft\n    },\n    setSelectedRecorder(recorder) {\n      this.selectedRecorder = recorder\n    },\n    reset() {\n      this.draft = {\n        name: null,\n        phone: null,\n        isNew: true,\n      }\n      this.description = null\n      this.selectedRecorder = null\n    },\n\n    handleModalClosed() {\n      const\n        { description } = this\n      const value = lodash.clone(this.selectedRecorder)\n\n      this.reset()\n      this.$emit('input', {\n        value,\n        recorder: value,\n        description,\n      })\n    },\n\n    handleModalCancelled() {\n      this.reset()\n\n      const\n        { description } = this\n      const value = lodash.clone(this.selectedRecorder)\n\n      this.$emit('input', {\n        value,\n        recorder: value,\n        description,\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.phone-recording-recorder-selector {\n  padding-top: 3em;\n\n  .modal-body {\n    h4, .h4 {\n      margin-top: 2em;\n    }\n  }\n\n  .table {\n    .recorder-selector-field {\n      width: 3em;\n      text-align: center;\n      vertical-align: middle;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhoneRecordingRecorderSelector.vue?vue&type=template&id=6630b4be&scoped=true&\"\nimport script from \"./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=6630b4be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6630b4be\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"isFeatureCallToRecordEnabled\" class=\"phone-recorder\">\n    <phone-recording-recorder-selector\n        v-model=\"callConfig\"\n        @input=\"handleRecorderSelectionChanged\"\n        :isModalVisible=\"isRecorderSelectorVisible\"/>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport PhoneRecordingRecorderSelector from './PhoneRecordingRecorderSelector'\n\nexport default {\n  components: {\n    PhoneRecordingRecorderSelector,\n  },\n\n  props: ['recordingKey'],\n\n  data() {\n    return {\n      // this is set by hooking into the v-model property of <phone-recording-recorder-selector v-model=\"callConfig\">\n      // which $emits a new value that results in setting this variable by reference.\n      callConfig: null,\n    }\n  },\n\n  computed: {\n    ...mapState({\n      // todo: deprecate (this + setAudioRecordingConfigVisibilityForSelectedBlock) in favor of modal + local state\n      isRecorderSelectorVisible: ({ audio: { recording: { isRecorderSelectorVisible } } }) => isRecorderSelectorVisible,\n    }),\n\n    ...mapGetters(['isFeatureCallToRecordEnabled']),\n  },\n\n  methods: {\n    handleRecorderSelectionChanged() {\n      this.$store.commit('setAudioRecordingConfigVisibilityForSelectedBlock', { isVisible: false })\n\n      if (!this.callConfig.recorder) {\n        return\n      }\n\n      const callConfig = {\n        key: this.recordingKey,\n        description: this.callConfig.description,\n        ...this.callConfig.recorder,\n      }\n\n      this.$store.dispatch('startAudioRecordingFor', callConfig)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhoneRecorder.vue?vue&type=template&id=58e4d142&\"\nimport script from \"./PhoneRecorder.vue?vue&type=script&lang=js&\"\nexport * from \"./PhoneRecorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-monitor\"},[(_vm.hasProgress)?_c('div',{staticClass:\"upload-monitor-progress\"},[_c('h6',[_vm._v(_vm._s(_vm._f(\"trans\")('trees.uploading'))+\"… \"+_vm._s(_vm.upload.file.name))]),_c('div',{staticClass:\"progress\"},[_c('b-progress',{staticClass:\"mb-3\",attrs:{\"value\":_vm.progress * 1,\"show-value\":\"\",\"animated\":\"\"}})],1)]):_vm._e(),(_vm.isFailure)?_c('p',{staticClass:\"text-danger small\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('trees.error-uploading-file-try-again'))+\" \"),(_vm.upload.message)?_c('span',{staticClass:\"details\"},[_vm._v(\"(\"+_vm._s(_vm.upload.message)+\")\")]):_vm._e()]):_vm._e(),(!_vm.hasProgress)?_vm._t(\"default\"):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Vue } from '../../vue';\nimport { NAME_PROGRESS_BAR } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { htmlOrText } from '../../utils/html';\nimport { isBoolean } from '../../utils/inspect';\nimport { mathMax, mathPow } from '../../utils/math';\nimport { toFixed, toFloat, toInteger } from '../../utils/number';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  animated: makeProp(PROP_TYPE_BOOLEAN, null),\n  label: makeProp(PROP_TYPE_STRING),\n  labelHtml: makeProp(PROP_TYPE_STRING),\n  max: makeProp(PROP_TYPE_NUMBER_STRING, null),\n  precision: makeProp(PROP_TYPE_NUMBER_STRING, null),\n  showProgress: makeProp(PROP_TYPE_BOOLEAN, null),\n  showValue: makeProp(PROP_TYPE_BOOLEAN, null),\n  striped: makeProp(PROP_TYPE_BOOLEAN, null),\n  value: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  variant: makeProp(PROP_TYPE_STRING)\n}, NAME_PROGRESS_BAR); // --- Main component ---\n// @vue/component\n\nexport var BProgressBar = /*#__PURE__*/Vue.extend({\n  name: NAME_PROGRESS_BAR,\n  mixins: [normalizeSlotMixin],\n  inject: {\n    bvProgress: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  props: props,\n  computed: {\n    progressBarClasses: function progressBarClasses() {\n      var computedAnimated = this.computedAnimated,\n          computedVariant = this.computedVariant;\n      return [computedVariant ? \"bg-\".concat(computedVariant) : '', this.computedStriped || computedAnimated ? 'progress-bar-striped' : '', computedAnimated ? 'progress-bar-animated' : ''];\n    },\n    progressBarStyles: function progressBarStyles() {\n      return {\n        width: 100 * (this.computedValue / this.computedMax) + '%'\n      };\n    },\n    computedValue: function computedValue() {\n      return toFloat(this.value, 0);\n    },\n    computedMax: function computedMax() {\n      // Prefer our max over parent setting\n      // Default to `100` for invalid values (`-x`, `0`, `NaN`)\n      var max = toFloat(this.max) || toFloat(this.bvProgress.max, 0);\n      return max > 0 ? max : 100;\n    },\n    computedPrecision: function computedPrecision() {\n      // Prefer our precision over parent setting\n      // Default to `0` for invalid values (`-x`, `NaN`)\n      return mathMax(toInteger(this.precision, toInteger(this.bvProgress.precision, 0)), 0);\n    },\n    computedProgress: function computedProgress() {\n      var precision = this.computedPrecision;\n      var p = mathPow(10, precision);\n      return toFixed(100 * p * this.computedValue / this.computedMax / p, precision);\n    },\n    computedVariant: function computedVariant() {\n      // Prefer our variant over parent setting\n      return this.variant || this.bvProgress.variant;\n    },\n    computedStriped: function computedStriped() {\n      // Prefer our striped over parent setting\n      return isBoolean(this.striped) ? this.striped : this.bvProgress.striped || false;\n    },\n    computedAnimated: function computedAnimated() {\n      // Prefer our animated over parent setting\n      return isBoolean(this.animated) ? this.animated : this.bvProgress.animated || false;\n    },\n    computedShowProgress: function computedShowProgress() {\n      // Prefer our showProgress over parent setting\n      return isBoolean(this.showProgress) ? this.showProgress : this.bvProgress.showProgress || false;\n    },\n    computedShowValue: function computedShowValue() {\n      // Prefer our showValue over parent setting\n      return isBoolean(this.showValue) ? this.showValue : this.bvProgress.showValue || false;\n    }\n  },\n  render: function render(h) {\n    var label = this.label,\n        labelHtml = this.labelHtml,\n        computedValue = this.computedValue,\n        computedPrecision = this.computedPrecision;\n    var $children;\n    var domProps = {};\n\n    if (this.hasNormalizedSlot()) {\n      $children = this.normalizeSlot();\n    } else if (label || labelHtml) {\n      domProps = htmlOrText(labelHtml, label);\n    } else if (this.computedShowProgress) {\n      $children = this.computedProgress;\n    } else if (this.computedShowValue) {\n      $children = toFixed(computedValue, computedPrecision);\n    }\n\n    return h('div', {\n      staticClass: 'progress-bar',\n      class: this.progressBarClasses,\n      style: this.progressBarStyles,\n      attrs: {\n        role: 'progressbar',\n        'aria-valuemin': '0',\n        'aria-valuemax': toString(this.computedMax),\n        'aria-valuenow': toFixed(computedValue, computedPrecision)\n      },\n      domProps: domProps\n    }, $children);\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_PROGRESS } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BProgressBar, props as BProgressBarProps } from './progress-bar'; // --- Props ---\n\nvar progressBarProps = omit(BProgressBarProps, ['label', 'labelHtml']);\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, progressBarProps), {}, {\n  animated: makeProp(PROP_TYPE_BOOLEAN, false),\n  height: makeProp(PROP_TYPE_STRING),\n  max: makeProp(PROP_TYPE_NUMBER_STRING, 100),\n  precision: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  showProgress: makeProp(PROP_TYPE_BOOLEAN, false),\n  showValue: makeProp(PROP_TYPE_BOOLEAN, false),\n  striped: makeProp(PROP_TYPE_BOOLEAN, false)\n})), NAME_PROGRESS); // --- Main component ---\n// @vue/component\n\nexport var BProgress = /*#__PURE__*/Vue.extend({\n  name: NAME_PROGRESS,\n  mixins: [normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvProgress: this\n    };\n  },\n  props: props,\n  computed: {\n    progressHeight: function progressHeight() {\n      return {\n        height: this.height || null\n      };\n    }\n  },\n  render: function render(h) {\n    var $childNodes = this.normalizeSlot();\n\n    if (!$childNodes) {\n      $childNodes = h(BProgressBar, {\n        props: pluckProps(progressBarProps, this.$props)\n      });\n    }\n\n    return h('div', {\n      staticClass: 'progress',\n      style: this.progressHeight\n    }, [$childNodes]);\n  }\n});","import axios from 'axios'\nimport lodash from 'lodash'\nimport Vue from 'vue'\n\nexport const Statuses = {\n  UPLOADING: -1,\n  UNINITIALIZED: 0,\n  SUCCESS: 1,\n  FAILURE: 2,\n}\n\nexport const UploadStatusToStateMap = {\n  [Statuses.UPLOADING]: 'uploading',\n  [Statuses.UNINITIALIZED]: 'uninitialized',\n  [Statuses.SUCCESS]: 'success',\n  [Statuses.FAILURE]: 'failure',\n}\n\nexport default {\n  namespaced: true,\n\n  state: {\n    uploadProgressByKey: {},\n    errorMessageByKey: {},\n\n    uploadsById: {},\n    uploadIdsByKey: {},\n  },\n\n  mutations: {\n    setErrorMessage({ errorMessageByKey }, { key, errorMessage }) {\n      Vue.set(errorMessageByKey, key, errorMessage)\n    },\n\n    setUploadProgress({ uploadProgressByKey }, { key, uploadProgress }) {\n      Vue.set(uploadProgressByKey, key, uploadProgress)\n    },\n\n    setUploadStatusFor({ uploadsById, uploadIdsByKey }, {\n      file: fileWithRefs, key, status, progress, message, cancel,\n    }) {\n      const file = lodash.pick(fileWithRefs, ['averageSpeed', 'currentSpeed', 'error', 'name', 'paused', 'relativePath', 'size', 'uniqueIdentifier'])\n      Vue.set(uploadsById, file.uniqueIdentifier, {\n        key, status, progress, message, cancel, file,\n      })\n      Vue.set(uploadIdsByKey, key, file.uniqueIdentifier)\n    },\n  },\n\n  actions: {\n    uploadFile({ commit }, {\n      key,\n      uploadUrl,\n      formDataFields,\n      onSuccess,\n      onError,\n    }) {\n      if (!uploadUrl) {\n        commit('setUploadProgress', { key, uploadProgress: null })\n        onError(new Error(`url was ${uploadUrl}`))\n        return\n      }\n\n      const formData = new FormData()\n      lodash.forEach(formDataFields, (value, name) => {\n        formData.set(name, value)\n      })\n\n      const config = {\n        onUploadProgress: (progressEvent) => {\n          commit('setUploadProgress', {\n            key,\n            uploadProgress: Math.floor((progressEvent.loaded * 100) / progressEvent.total),\n          })\n        },\n      }\n\n      axios.post(uploadUrl, formData, config)\n        .then((response) => {\n          commit('setUploadProgress', { key, uploadProgress: null })\n          onSuccess(response)\n        })\n        .catch((error) => {\n          commit('setUploadProgress', { key, uploadProgress: null })\n          onError(error)\n        })\n    },\n\n    // todo: this is slightly different, because it implements chunked+resumable uploads; generify\n    // todo: upgrade backend to use more recent composer package that's compatible w/ npm flow.js\n    // https://github.com/flowjs/flow-php-server\n    uploadFiles({ commit, dispatch, state }, { key, files, uploader }) { // todo: handle multi-file-per-key\n      const cancel = (_) => uploader.cancel()\n\n      files.forEach((file) => commit('setUploadStatusFor', {\n        file, key, progress: 0, status: Statuses.UNINITIALIZED, message: null, cancel,\n      }))\n\n      uploader.on('fileProgress', (file, e) => {\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: `Upload in progress... ${_.parseInt(file.progress() * 100)}%`}, {root: true})\n        console.debug(`Upload in progress... ${_.parseInt(file.progress() * 100)}%`)\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          progress: file.progress(),\n          status: Statuses.UPLOADING,\n          message: null,\n          cancel,\n        })\n      })\n\n      uploader.on('fileSuccess', (file, json) => {\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: 'Upload successful!', isComplete: true}, {root: true})\n        console.debug('Upload successful!')\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          progress: 1,\n          status: Statuses.SUCCESS,\n          message: null,\n          cancel,\n        })\n        // uploader.cancel() // clear for next batch\n      })\n\n      uploader.on('error', (json, file) => {\n        const { status_description } = JSON.parse(json) || {}\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: status_description, isComplete: true}, {root: true})\n        console.debug(`Upload has error ${status_description}`)\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          status: Statuses.FAILURE,\n          message: status_description,\n          cancel,\n        })\n        // uploader.cancel() // clear for retry\n      })\n\n      uploader.upload()\n      // TODO: enable showAppMessageFor and use it as follow\n      // dispatch('showAppMessageFor', {message: 'Upload in progress...'}, {root: true})\n      console.debug('Upload in progress...')\n    },\n  },\n}\n","<template>\n  <div class=\"upload-monitor\">\n    <div v-if=\"hasProgress\" class=\"upload-monitor-progress\">\n      <h6>{{ 'trees.uploading' | trans }}&hellip; {{ upload.file.name }}</h6>\n\n      <div class=\"progress\">\n        <b-progress :value=\"progress * 1\" show-value animated class=\"mb-3\"/>\n      </div>\n    </div>\n\n    <p v-if=\"isFailure\" class=\"text-danger small\">\n      {{ 'trees.error-uploading-file-try-again'|trans }}\n      <span v-if=\"upload.message\" class=\"details\">({{ upload.message }})</span>\n    </p>\n\n    <slot v-if=\"!hasProgress\"/>\n  </div>\n</template>\n\n<script>\nimport { lang } from '@/lib/filters/lang'\nimport lodash, { forEach } from 'lodash'\n\nimport { mapState } from 'vuex'\nimport { BProgress } from 'bootstrap-vue'\nimport multimediaUpload, { Statuses as UploadStatuses } from '@/store/trees/multimediaUpload'\n\nexport default {\n  props: ['uploadKey'],\n\n  mixins: [lang],\n\n  components: { BProgress },\n\n  computed: {\n    ...mapState('multimediaUpload', ['uploadsById', 'uploadIdsByKey']),\n\n    upload() {\n      return this.uploadsById[this.uploadIdsByKey[this.uploadKey]]\n    },\n\n    hasProgress() {\n      return this.upload\n          && this.upload.status !== UploadStatuses.SUCCESS\n          && this.upload.status !== UploadStatuses.FAILURE\n    },\n\n    isFailure() {\n      return this.upload && this.upload.status === UploadStatuses.FAILURE\n    },\n\n    progress() {\n      return lodash.get(this.upload, 'progress', 0) * 100\n    },\n  },\n\n  created() {\n    const { $store } = this\n    const modules = {\n      multimediaUpload,\n    }\n\n    forEach(modules, (v, k) => !$store.hasModule(k) && $store.registerModule(k, v))\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.progress {\n  margin-bottom: 0.5em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadMonitor.vue?vue&type=template&id=3101c22e&\"\nimport script from \"./UploadMonitor.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadMonitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  Getter,\n  Mutation,\n  namespace,\n} from 'vuex-class'\nimport {\n  IBlock,\n  IFlow,\n  IResource,\n  SupportedContentType,\n  SupportedMode,\n  IResourceValue as IResourceDefinitionVariantOverModes,\n} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport FlowUploader from '@/lib/mixins/FlowUploader'\nimport { Component, Prop } from 'vue-property-decorator'\nimport {\n  discoverContentTypesFor,\n  findOrGenerateStubbedVariantOn,\n  findResourceVariantOverModesOn, IResourceDefinitionVariantOverModesFilter,\n} from '@/store/flow/resource'\nimport AudioLibrarySelector from '@/components/common/AudioLibrarySelector.vue'\nimport { ValidationException } from '@floip/flow-runner/src/domain/exceptions/ValidationException'\nimport PhoneRecorder from '@/components/interaction-designer/block-editors/PhoneRecorder.vue'\nimport UploadMonitor from '../block-editors/UploadMonitor.vue'\nimport ResourceVariantTextEditor from './ResourceVariantTextEditor.vue'\nimport { ILanguage } from \"@floip/flow-runner/dist/flow-spec/ILanguage\"\nimport { mixins } from \"vue-class-component\"\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\n\n  interface IAudioFile {\n    id: string;\n    filename: string;\n    description: string;\n    language_id: string;\n    duration_seconds: string;\n    original_extension: string;\n    created_at: string;\n  }\n\n  interface IResourceDefinitionVariantOverModesWithOptionalValue extends Partial<IResourceDefinitionVariantOverModes> {\n    value?: IResourceDefinitionVariantOverModes['value']\n  }\n\n  @Component({\n    components: {\n      AudioLibrarySelector,\n      ResourceVariantTextEditor,\n      UploadMonitor,\n      PhoneRecorder,\n    },\n  })\nexport class ResourceEditor extends mixins(FlowUploader, Permissions, Routes, Lang) {\n  @Prop({ required: true }) block!: IBlock\n\n  @Prop({ required: true }) flow!: IFlow\n\n  @Prop() resource!: IResource\n\n  @Prop() label?: string | number\n\n    discoverContentTypesFor = discoverContentTypesFor\n\n    findOrGenerateStubbedVariantOn = findOrGenerateStubbedVariantOn\n\n    findResourceVariantOverModesOn = findResourceVariantOverModesOn\n\n    SupportedMode = SupportedMode\n\n    SupportedContentType = SupportedContentType\n\n    triggerRecordViaPhoneFor(langId: ILanguage['id']) {\n      this.$store.commit('setAudioRecordingConfigVisibilityForSelectedBlock', { langId, isVisible: true })\n    }\n\n    handleFilesSubmittedFor(key: string, { data }: { data: any }) {\n      console.debug('call handleFilesSubmittedFor')\n      this.$store.dispatch('multimediaUpload/uploadFiles', { ...data, key })\n    }\n\n    handleFileSuccessFor(key: string, langId: ILanguage['id'], event: any) {\n      const { data: { file, json } } = event\n      const { uuid: jsKey } = this.block\n      const {\n        audio_file_id: id,\n        audio_uuid: filename,\n        created_at: { date: created_at },\n        description,\n        duration_seconds,\n      } = JSON.parse(json)\n      const extension = description.split('.')[description.split('.').length - 1]\n      const uploadedAudio: IAudioFile = {\n        id,\n        filename,\n        description,\n        language_id: langId,\n        duration_seconds,\n        original_extension: extension,\n        created_at,\n      }\n\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resource.uuid,\n        filter: { language_id: langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR] },\n        value: description,\n      })\n      event.target.blur() // remove the focus from the `upload` Tab\n      this.pushAudioIntoLibrary(uploadedAudio)\n    }\n\n    findAudioResourceVariantFor(resource: IResource, filter: IResourceDefinitionVariantOverModesFilter) {\n      try {\n        return findResourceVariantOverModesOn(resource, filter).value\n      } catch (e) {\n        if (!(e instanceof ValidationException)) {\n          throw e\n        }\n\n        return null\n      }\n    }\n\n    @Getter availableAudio!: IAudioFile[]\n\n    @Getter isFeatureAudioUploadEnabled!: boolean\n\n    @Mutation pushAudioIntoLibrary!: (audio: IAudioFile) => void\n\n    @flowVuexNamespace.Action resource_setOrCreateValueModeSpecific!: ({ resourceId, filter, value }: { resourceId: IResource['uuid']; filter: IResourceDefinitionVariantOverModesWithOptionalValue; value: string }) => void\n\n    @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default ResourceEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResourceEditor.vue?vue&type=template&id=fd779be8&\"\nimport script from \"./ResourceEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResourceEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".phone-recording-recorder-selector[data-v-6630b4be]{padding-top:3em}.phone-recording-recorder-selector .modal-body .h4[data-v-6630b4be],.phone-recording-recorder-selector .modal-body h4[data-v-6630b4be]{margin-top:2em}.phone-recording-recorder-selector .table .recorder-selector-field[data-v-6630b4be]{width:3em;text-align:center;vertical-align:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=custom&index=0&blockType=x-style&lang=scss&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=custom&index=0&blockType=x-style&lang=scss&scoped=true\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".btn-ghost{background:transparent;border:none}.audio-library-selection{position:relative;background-color:transparent!important;background-image:none!important;border-color:#ccc!important}.audio-library-selection .audio-library-selection-download-dropdown{position:absolute;right:1.6em;top:50%;margin-top:-8px;color:#888}.audio-library-selection .audio-library-selection-download-dropdown svg{vertical-align:middle}.audio-library-selection .audio-library-selection-clear-selection{margin-right:-7px}.audio-library-selection .audio-file-description{text-overflow:ellipsis;overflow:hidden;margin-bottom:3px}.audio-library-selection .vue-sound-wrapper{margin-bottom:8px;margin-left:1em}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-pause2,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-play3{font-size:130%;color:#888}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-pause2:hover,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-play3:hover{color:#000;text-decoration:none}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-download,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-stop2,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-volume-high,.audio-library-selection .vue-sound-wrapper .vue-sound__player .volume-toggle{display:none!important}.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-current,.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-separator,.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-total{font-size:80%;color:#888}.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-wrapper{text-align:center;width:71%!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-id text-right\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.block-id'))+\": \"),_c('em',[_vm._v(_vm._s(_vm.blockId))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { IBlock } from '@floip/flow-runner'\nimport { Component, Prop } from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport { mixins } from \"vue-class-component\";\n\n@Component({})\nclass BlockId extends mixins(Lang) {\n    @Prop()readonly block!: IBlock\n\n    get blockId(): string {\n      return this.block.uuid || ''\n    }\n  }\n\nexport default BlockId\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockId.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockId.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockId.vue?vue&type=template&id=9ef7b11c&\"\nimport script from \"./BlockId.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockId.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=custom&index=0&blockType=x-style&lang=scss&scoped=true\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"98e06cea\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=6630b4be&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=6630b4be&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"001dc3d2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".audio-library-search-field.dropdown .dropdown-menu[data-v-50208a5c]{display:block;min-width:100%}.audio-library-search-field.dropdown .dropdown-menu>li.pagers>a[data-v-50208a5c]{clear:none;margin-top:0;margin-bottom:0;padding-top:.5em;padding-bottom:.5em}.audio-library-search-field.dropdown .dropdown-menu>li.pagers>a.disabled[data-v-50208a5c]{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:not-allowed;color:#777}.close[data-v-50208a5c]{pointer-events:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".progress{margin-bottom:.5em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-variant-text-editor\"},[_c('div',{staticClass:\"content-editor\",class:{'content-editor-selected': !!_vm.content}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"},{name:\"focus\",rawName:\"v-focus\",value:(_vm.isSelected),expression:\"isSelected\"}],staticClass:\"form-control\",attrs:{\"placeholder\":_vm._f(\"trans\")((\"flow-builder.enter-\" + (_vm.resourceVariant.content_type.toString().toLowerCase()) + \"-content\"))},domProps:{\"value\":(_vm.content)},on:{\"focus\":_vm.select,\"blur\":_vm.deselect,\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})]),_c('div',{staticClass:\"content-toolbar\"},[(_vm.isEditable)?_c('span',{staticClass:\"text-muted transition-all\",class:{invisible: !_vm.characterCounter.count}},[_vm._v(\" \"+_vm._s(_vm.characterCounter.count)+\" characters \"),(_vm.mode === 'sms' && _vm.characterCounter.pages > 1)?[_vm._v(\" (\"+_vm._s(_vm.characterCounter.pages)+\" \"+_vm._s(_vm.characterCounter.hasUnicode ? 'unicode pages' : 'pages')+\") \")]:_vm._e()],2):_vm._e(),(_vm.doesContentContainExpression)?_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top.html\",value:((\"<p>\" + (_vm.trans('flow-builder.youre-using-floip-expressions')) + \"</p>\\n                     <p>\\n                       <strong>\" + (_vm.trans('flow-builder.pro-tip')) + \":</strong>\\n                       \" + (_vm.trans('flow-builder.floip-expressions-escape-with-double-at-symbol')) + \"\\n                     </p>\")),expression:\"`<p>${trans('flow-builder.youre-using-floip-expressions')}</p>\\n                     <p>\\n                       <strong>${trans('flow-builder.pro-tip')}:</strong>\\n                       ${trans('flow-builder.floip-expressions-escape-with-double-at-symbol')}\\n                     </p>`\",modifiers:{\"hover\":true,\"top\":true,\"html\":true}}],attrs:{\"href\":\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\",\"target\":\"_blank\"}},[_c('kbd',{staticStyle:{\"margin-left\":\"1em\"}},[_c('i',{staticClass:\"glyphicon glyphicon-console\"}),(_vm.doesContentContainExpressionError)?_c('i',{staticClass:\"glyphicon glyphicon glyphicon-remove-sign text-danger\"}):_c('i',{staticClass:\"glyphicon glyphicon-ok-sign text-success\"})])]):_vm._e(),(_vm.doesContentContainExpressionError)?_c('div',{staticClass:\"alert alert-danger\",staticStyle:{\"margin-top\":\"0.5em\"}},[_c('p',[_c('i',{staticClass:\"glyphicon glyphicon-remove-sign\"}),_c('strong',[_c('a',{attrs:{\"href\":\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\",\"target\":\"_blank\"}},[_vm._v(\"FLOIP Expression\")]),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.error-found'))+\" \")])]),_c('p',[_c('em',[_vm._v(\" \"+_vm._s(_vm.contentExpressionAST.message)+\" (\"),(_vm.contentExpressionAST.location.start.line !== 1)?_c('span',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.on-line'))+\" \"+_vm._s(_vm.contentExpressionAST.location.start.line)+\", \")]):_vm._e(),_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.at-character'))+\" \"+_vm._s(_vm.contentExpressionAST.location.start.column)+\") \")])])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"resource-variant-text-editor\">\n    <div class=\"content-editor\" :class=\"{'content-editor-selected': !!content}\">\n      <textarea v-model=\"content\"\n              v-focus=\"isSelected\"\n              @focus=\"select\"\n              @blur=\"deselect\"\n              :placeholder=\"`flow-builder.enter-${resourceVariant.content_type.toString().toLowerCase()}-content` | trans\"\n              class=\"form-control\"></textarea>\n\n      <!-- <button @click=\"select\"\n              class=\"btn btn-xs btn-secondary\">\n        <i class=\"glyphicon glyphicon-pencil\"></i>\n      </button> -->\n    </div>\n\n    <div class=\"content-toolbar\">\n<!--      <block-content-autogen-button-->\n<!--          v-if=\"enableAutogenButton\"-->\n<!--          :isEditable=\"isEditable\"-->\n<!--          :langId=\"langId\"-->\n<!--          :type=\"type\"-->\n<!--          :block=\"block\"-->\n<!--          class=\"pull-right\" />-->\n\n      <span v-if=\"isEditable\" class=\"text-muted transition-all\" :class=\"{invisible: !characterCounter.count}\">\n        {{characterCounter.count}} characters\n\n        <template v-if=\"mode === 'sms' && characterCounter.pages > 1\">\n          ({{characterCounter.pages}} {{characterCounter.hasUnicode ? 'unicode pages' : 'pages'}})\n        </template>\n      </span>\n\n      <a v-if=\"doesContentContainExpression\"\n         v-b-tooltip.hover.top.html=\"`<p>${trans('flow-builder.youre-using-floip-expressions')}</p>\n                     <p>\n                       <strong>${trans('flow-builder.pro-tip')}:</strong>\n                       ${trans('flow-builder.floip-expressions-escape-with-double-at-symbol')}\n                     </p>`\"\n        href=\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\"\n        target=\"_blank\">\n\n        <kbd style=\"margin-left: 1em\">\n          <i class=\"glyphicon glyphicon-console\"></i>\n          <i v-if=\"doesContentContainExpressionError\" class=\"glyphicon glyphicon glyphicon-remove-sign text-danger\"></i>\n          <i v-else class=\"glyphicon glyphicon-ok-sign text-success\"></i>\n        </kbd>\n      </a>\n\n      <div v-if=\"doesContentContainExpressionError\"\n          class=\"alert alert-danger\"\n          style=\"\n  margin-top: 0.5em;\n\">\n        <p>\n          <i class=\"glyphicon glyphicon-remove-sign\"></i>\n          <strong>\n            <a href=\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\"\n               target=\"_blank\">FLOIP Expression</a>\n            {{'flow-builder.error-found' | trans}}\n          </strong>\n        </p>\n\n        <p><!-- NOTE: Funky source formatting to mitigate spaces between parens -->\n          <em>\n            {{contentExpressionAST.message}}\n            (<span v-if=\"contentExpressionAST.location.start.line !== 1\">{{'flow-builder.on-line' | trans}}\n              {{contentExpressionAST.location.start.line}},\n            </span>{{'flow-builder.at-character' | trans}} {{contentExpressionAST.location.start.column}})\n          </em>\n        </p>\n      </div>\n    </div>\n\n<!--    <template v-if=\"!isEditable\">-->\n<!--      <p v-if=\"content\">{{content}}</p>-->\n<!--      <p>-->\n<!--        <em class=\"text-muted\">{{'flow-builder.no-sms-content-yet' | trans}}</em>-->\n<!--      </p>-->\n<!--    </template>-->\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { lang } from '@/lib/filters/lang'\nimport { parse as floipExpressionParser } from '@floip/expression-parser'\nimport { isObject, some } from 'lodash'\nimport VueFocus from 'vue-focus'\nimport { mapActions } from 'vuex'\nimport { BTooltip } from 'bootstrap-vue'\n\n// import BlockContentAutogenButton from './BlockContentAutogenButton'\n\nVue.component('b-tooltip', BTooltip)\n\nexport default {\n  components: {\n    // BlockContentAutogenButton,\n  },\n  mixins: [lang, VueFocus.mixin],\n\n  props: {\n    isEditable: Boolean,\n    resourceId: {\n      type: String,\n      default: null,\n    },\n    resourceVariant: {\n      type: Object, // as () => IResourceValue\n      default: null,\n    },\n    mode: {\n      type: String,\n      default: null,\n    },\n\n    enableAutogenButton: {\n      type: Boolean,\n      default: true,\n    },\n\n    // block: Object, // maybe!?\n    // langId: [String, Number],\n    // type: String,\n    // pathToTextContent: String,\n  },\n\n  data: () => ({ isSelected: false }),\n\n  computed: {\n    content: {\n      get() {\n        return this.resourceVariant.value\n      },\n\n      set(value) {\n        const { resourceId, mode } = this\n        const { language_id: languageId, content_type: contentType } = this.resourceVariant\n\n        this.resource_setOrCreateValueModeSpecific({\n          resourceId,\n          filter: { language_id: languageId, content_type: contentType, modes: [mode] },\n          value,\n        })\n      },\n    },\n\n    contentExpressionAST() {\n      let ast = []\n\n      try {\n        ast = floipExpressionParser(this.content)\n      } catch (e) {\n        if (e instanceof SyntaxError || e.name === 'SyntaxError') {\n          return e\n        }\n      }\n\n      const hasMembers = some(ast, isObject)\n      return hasMembers\n        ? ast\n        : null\n    },\n\n    doesContentContainExpression() {\n      return !!this.contentExpressionAST\n    },\n\n    doesContentContainExpressionError() {\n      return !!(this.contentExpressionAST instanceof Error)\n    },\n\n    characterCounter() {\n      const\n        hasUnicode = !/^[\\x00-\\x7F]*$/.test(this.content)\n      const count = this.content.length\n\n      console.debug('BlockTextContentEditorForLangAndType', 'characterCounter', { hasUnicode, count })\n\n      return {\n        hasUnicode,\n        count,\n        pages: hasUnicode ? Math.ceil(count / 70) : Math.ceil(count / 160),\n      }\n    },\n  },\n\n  methods: {\n    ...mapActions('flow', ['resource_setOrCreateValueModeSpecific']),\n\n    select() { this.isSelected = true },\n    deselect() { this.isSelected = false },\n\n    // debouncedSaveTree: debounce(function () {\n    //   this.$store.dispatch('attemptSaveTree')\n    // }, 500),\n  },\n}\n</script>\n\n<x-style lang=\"scss\" scoped>\n  .block-text-content-editor-for-lang-and-type {\n    margin-bottom: 0.5em;\n\n    .content-editor {\n      position: relative;\n\n      textarea {\n        height: 56px;\n      }\n\n      textarea, input[type=\"text\"] {\n        &:not(:focus) {\n          + button {\n            opacity: 1;\n          }\n        }\n\n        + button {\n          position: absolute;\n          bottom: 7px;\n          right: 10px; //15px + 7px; // 15px padding => parent, 8px padding => textarea\n\n          transition: opacity 200ms ease-in-out;\n          opacity: 0;\n        }\n      }\n\n      &-selected {\n        textarea, input[type=\"text\"] {\n          background-color: #F8F8F8;\n          //border-color: #DDDDDD;\n        }\n      }\n    }\n\n    .content-toolbar {\n      margin-top: 1px;\n    }\n  }\n\n  .invisible {\n    opacity: 0;\n  }\n</x-style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceVariantTextEditor.vue?vue&type=template&id=40ae6254&\"\nimport script from \"./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./ResourceVariantTextEditor.vue?vue&type=custom&index=0&blockType=x-style&lang=scss&scoped=true\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f82b14ce\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","/**\n * @license MIT\n */\n(function(window, document, undefined) {'use strict';\n  if (!window || !document) {\n    console.warn('Flowjs needs window and document objects to work');\n    return;\n  }\n  // ie10+\n  var ie10plus = window.navigator.msPointerEnabled;\n  /**\n   * Flow.js is a library providing multiple simultaneous, stable and\n   * resumable uploads via the HTML5 File API.\n   * @param [opts]\n   * @param {number|Function} [opts.chunkSize]\n   * @param {bool} [opts.forceChunkSize]\n   * @param {number} [opts.simultaneousUploads]\n   * @param {bool} [opts.singleFile]\n   * @param {string} [opts.fileParameterName]\n   * @param {number} [opts.progressCallbacksInterval]\n   * @param {number} [opts.speedSmoothingFactor]\n   * @param {Object|Function} [opts.query]\n   * @param {Object|Function} [opts.headers]\n   * @param {bool} [opts.withCredentials]\n   * @param {Function} [opts.preprocess]\n   * @param {string} [opts.method]\n   * @param {string|Function} [opts.testMethod]\n   * @param {string|Function} [opts.uploadMethod]\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\n   * @param {bool} [opts.allowDuplicateUploads]\n   * @param {string|Function} [opts.target]\n   * @param {number} [opts.maxChunkRetries]\n   * @param {number} [opts.chunkRetryInterval]\n   * @param {Array.<number>} [opts.permanentErrors]\n   * @param {Array.<number>} [opts.successStatuses]\n   * @param {Function} [opts.initFileFn]\n   * @param {Function} [opts.readFileFn]\n   * @param {Function} [opts.generateUniqueIdentifier]\n   * @constructor\n   */\n  function Flow(opts) {\n    /**\n     * Supported by browser?\n     * @type {boolean}\n     */\n    this.support = (\n        typeof File !== 'undefined' &&\n        typeof Blob !== 'undefined' &&\n        typeof FileList !== 'undefined' &&\n        (\n          !!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice ||\n          false\n        ) // slicing files support\n    );\n\n    if (!this.support) {\n      return ;\n    }\n\n    /**\n     * Check if directory upload is supported\n     * @type {boolean}\n     */\n    this.supportDirectory = (\n        /Chrome/.test(window.navigator.userAgent) ||\n        /Firefox/.test(window.navigator.userAgent) ||\n        /Edge/.test(window.navigator.userAgent)\n    );\n\n    /**\n     * List of FlowFile objects\n     * @type {Array.<FlowFile>}\n     */\n    this.files = [];\n\n    /**\n     * Default options for flow.js\n     * @type {Object}\n     */\n    this.defaults = {\n      chunkSize: 1024 * 1024,\n      forceChunkSize: false,\n      simultaneousUploads: 3,\n      singleFile: false,\n      fileParameterName: 'file',\n      progressCallbacksInterval: 500,\n      speedSmoothingFactor: 0.1,\n      query: {},\n      headers: {},\n      withCredentials: false,\n      preprocess: null,\n      changeRawDataBeforeSend: null,\n      method: 'multipart',\n      testMethod: 'GET',\n      uploadMethod: 'POST',\n      prioritizeFirstAndLastChunk: false,\n      allowDuplicateUploads: false,\n      target: '/',\n      testChunks: true,\n      generateUniqueIdentifier: null,\n      maxChunkRetries: 0,\n      chunkRetryInterval: null,\n      permanentErrors: [404, 413, 415, 500, 501],\n      successStatuses: [200, 201, 202],\n      onDropStopPropagation: false,\n      initFileFn: null,\n      readFileFn: webAPIFileRead\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = {};\n\n    /**\n     * List of events:\n     *  key stands for event name\n     *  value array list of callbacks\n     * @type {}\n     */\n    this.events = {};\n\n    var $ = this;\n\n    /**\n     * On drop event\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.onDrop = function (event) {\n      if ($.opts.onDropStopPropagation) {\n        event.stopPropagation();\n      }\n      event.preventDefault();\n      var dataTransfer = event.dataTransfer;\n      if (dataTransfer.items && dataTransfer.items[0] &&\n        dataTransfer.items[0].webkitGetAsEntry) {\n        $.webkitReadDataTransfer(event);\n      } else {\n        $.addFiles(dataTransfer.files, event);\n      }\n    };\n\n    /**\n     * Prevent default\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.preventEvent = function (event) {\n      event.preventDefault();\n    };\n\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = Flow.extend({}, this.defaults, opts || {});\n\n  }\n\n  Flow.prototype = {\n    /**\n     * Set a callback for an event, possible events:\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\n     * fileRemoved(file), fileRetry(file), fileError(file, message),\n     * complete(), progress(), error(message, file), pause()\n     * @function\n     * @param {string} event\n     * @param {Function} callback\n     */\n    on: function (event, callback) {\n      event = event.toLowerCase();\n      if (!this.events.hasOwnProperty(event)) {\n        this.events[event] = [];\n      }\n      this.events[event].push(callback);\n    },\n\n    /**\n     * Remove event callback\n     * @function\n     * @param {string} [event] removes all events if not specified\n     * @param {Function} [fn] removes all callbacks of event if not specified\n     */\n    off: function (event, fn) {\n      if (event !== undefined) {\n        event = event.toLowerCase();\n        if (fn !== undefined) {\n          if (this.events.hasOwnProperty(event)) {\n            arrayRemove(this.events[event], fn);\n          }\n        } else {\n          delete this.events[event];\n        }\n      } else {\n        this.events = {};\n      }\n    },\n\n    /**\n     * Fire an event\n     * @function\n     * @param {string} event event name\n     * @param {...} args arguments of a callback\n     * @return {bool} value is false if at least one of the event handlers which handled this event\n     * returned false. Otherwise it returns true.\n     */\n    fire: function (event, args) {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      event = event.toLowerCase();\n      var preventDefault = false;\n      if (this.events.hasOwnProperty(event)) {\n        each(this.events[event], function (callback) {\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\n        }, this);\n      }\n      if (event != 'catchall') {\n        args.unshift('catchAll');\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\n      }\n      return !preventDefault;\n    },\n\n    /**\n     * Read webkit dataTransfer object\n     * @param event\n     */\n    webkitReadDataTransfer: function (event) {\n      var $ = this;\n      var queue = event.dataTransfer.items.length;\n      var files = [];\n      each(event.dataTransfer.items, function (item) {\n        var entry = item.webkitGetAsEntry();\n        if (!entry) {\n          decrement();\n          return ;\n        }\n        if (entry.isFile) {\n          // due to a bug in Chrome's File System API impl - #149735\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\n        } else {\n          readDirectory(entry.createReader());\n        }\n      });\n      function readDirectory(reader) {\n        reader.readEntries(function (entries) {\n          if (entries.length) {\n            queue += entries.length;\n            each(entries, function(entry) {\n              if (entry.isFile) {\n                var fullPath = entry.fullPath;\n                entry.file(function (file) {\n                  fileReadSuccess(file, fullPath);\n                }, readError);\n              } else if (entry.isDirectory) {\n                readDirectory(entry.createReader());\n              }\n            });\n            readDirectory(reader);\n          } else {\n            decrement();\n          }\n        }, readError);\n      }\n      function fileReadSuccess(file, fullPath) {\n        // relative path should not start with \"/\"\n        file.relativePath = fullPath.substring(1);\n        files.push(file);\n        decrement();\n      }\n      function readError(fileError) {\n        decrement();\n        throw fileError;\n      }\n      function decrement() {\n        if (--queue == 0) {\n          $.addFiles(files, event);\n        }\n      }\n    },\n\n    /**\n     * Generate unique identifier for a file\n     * @function\n     * @param {FlowFile} file\n     * @returns {string}\n     */\n    generateUniqueIdentifier: function (file) {\n      var custom = this.opts.generateUniqueIdentifier;\n      if (typeof custom === 'function') {\n        return custom(file);\n      }\n      // Some confusion in different versions of Firefox\n      var relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\n      return file.size + '-' + relativePath.replace(/[^0-9a-zA-Z_-]/img, '');\n    },\n\n    /**\n     * Upload next chunk from the queue\n     * @function\n     * @returns {boolean}\n     * @private\n     */\n    uploadNextChunk: function (preventEvents) {\n      // In some cases (such as videos) it's really handy to upload the first\n      // and last chunk of a file quickly; this let's the server check the file's\n      // metadata and determine if there's even a point in continuing.\n      var found = false;\n      if (this.opts.prioritizeFirstAndLastChunk) {\n        each(this.files, function (file) {\n          if (!file.paused && file.chunks.length &&\n            file.chunks[0].status() === 'pending') {\n            file.chunks[0].send();\n            found = true;\n            return false;\n          }\n          if (!file.paused && file.chunks.length > 1 &&\n            file.chunks[file.chunks.length - 1].status() === 'pending') {\n            file.chunks[file.chunks.length - 1].send();\n            found = true;\n            return false;\n          }\n        });\n        if (found) {\n          return found;\n        }\n      }\n\n      // Now, simply look for the next, best thing to upload\n      each(this.files, function (file) {\n        if (!file.paused) {\n          each(file.chunks, function (chunk) {\n            if (chunk.status() === 'pending') {\n              chunk.send();\n              found = true;\n              return false;\n            }\n          });\n        }\n        if (found) {\n          return false;\n        }\n      });\n      if (found) {\n        return true;\n      }\n\n      // The are no more outstanding chunks to upload, check is everything is done\n      var outstanding = false;\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          outstanding = true;\n          return false;\n        }\n      });\n      if (!outstanding && !preventEvents) {\n        // All chunks have been uploaded, complete\n        async(function () {\n          this.fire('complete');\n        }, this);\n      }\n      return false;\n    },\n\n\n    /**\n     * Assign a browse action to one or more DOM nodes.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     * @param {boolean} isDirectory Pass in true to allow directories to\n     * @param {boolean} singleFile prevent multi file upload\n     * @param {Object} attributes set custom attributes:\n     *  http://www.w3.org/TR/html-markup/input.file.html#input.file-attributes\n     *  eg: accept: 'image/*'\n     * be selected (Chrome only).\n     */\n    assignBrowse: function (domNodes, isDirectory, singleFile, attributes) {\n      if (domNodes instanceof Element) {\n        domNodes = [domNodes];\n      }\n\n      each(domNodes, function (domNode) {\n        var input;\n        if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\n          input = domNode;\n        } else {\n          input = document.createElement('input');\n          input.setAttribute('type', 'file');\n          // display:none - not working in opera 12\n          extend(input.style, {\n            visibility: 'hidden',\n            position: 'absolute',\n            width: '1px',\n            height: '1px'\n          });\n          // for opera 12 browser, input must be assigned to a document\n          domNode.appendChild(input);\n          // https://developer.mozilla.org/en/using_files_from_web_applications)\n          // event listener is executed two times\n          // first one - original mouse click event\n          // second - input.click(), input is inside domNode\n          domNode.addEventListener('click', function() {\n            input.click();\n          }, false);\n        }\n        if (!this.opts.singleFile && !singleFile) {\n          input.setAttribute('multiple', 'multiple');\n        }\n        if (isDirectory) {\n          input.setAttribute('webkitdirectory', 'webkitdirectory');\n        }\n        each(attributes, function (value, key) {\n          input.setAttribute(key, value);\n        });\n        // When new files are added, simply append them to the overall list\n        var $ = this;\n        input.addEventListener('change', function (e) {\n       \t  if (e.target.value) {\n            $.addFiles(e.target.files, e);\n            e.target.value = '';\n       \t  }\n        }, false);\n      }, this);\n    },\n\n    /**\n     * Assign one or more DOM nodes as a drop target.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     */\n    assignDrop: function (domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(domNodes, function (domNode) {\n        domNode.addEventListener('dragover', this.preventEvent, false);\n        domNode.addEventListener('dragenter', this.preventEvent, false);\n        domNode.addEventListener('drop', this.onDrop, false);\n      }, this);\n    },\n\n    /**\n     * Un-assign drop event from DOM nodes\n     * @function\n     * @param domNodes\n     */\n    unAssignDrop: function (domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(domNodes, function (domNode) {\n        domNode.removeEventListener('dragover', this.preventEvent);\n        domNode.removeEventListener('dragenter', this.preventEvent);\n        domNode.removeEventListener('drop', this.onDrop);\n      }, this);\n    },\n\n    /**\n     * Returns a boolean indicating whether or not the instance is currently\n     * uploading anything.\n     * @function\n     * @returns {boolean}\n     */\n    isUploading: function () {\n      var uploading = false;\n      each(this.files, function (file) {\n        if (file.isUploading()) {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * should upload next chunk\n     * @function\n     * @returns {boolean|number}\n     */\n    _shouldUploadNext: function () {\n      var num = 0;\n      var should = true;\n      var simultaneousUploads = this.opts.simultaneousUploads;\n      each(this.files, function (file) {\n        each(file.chunks, function(chunk) {\n          if (chunk.status() === 'uploading') {\n            num++;\n            if (num >= simultaneousUploads) {\n              should = false;\n              return false;\n            }\n          }\n        });\n      });\n      // if should is true then return uploading chunks's length\n      return should && num;\n    },\n\n    /**\n     * Start or resume uploading.\n     * @function\n     */\n    upload: function () {\n      // Make sure we don't start too many uploads at once\n      var ret = this._shouldUploadNext();\n      if (ret === false) {\n        return;\n      }\n      // Kick off the queue\n      this.fire('uploadStart');\n      var started = false;\n      for (var num = 1; num <= this.opts.simultaneousUploads - ret; num++) {\n        started = this.uploadNextChunk(true) || started;\n      }\n      if (!started) {\n        async(function () {\n          this.fire('complete');\n        }, this);\n      }\n    },\n\n    /**\n     * Resume uploading.\n     * @function\n     */\n    resume: function () {\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          file.resume();\n        }\n      });\n    },\n\n    /**\n     * Pause uploading.\n     * @function\n     */\n    pause: function () {\n      each(this.files, function (file) {\n        file.pause();\n      });\n    },\n\n    /**\n     * Cancel upload of all FlowFile objects and remove them from the list.\n     * @function\n     */\n    cancel: function () {\n      for (var i = this.files.length - 1; i >= 0; i--) {\n        this.files[i].cancel();\n      }\n    },\n\n    /**\n     * Returns a number between 0 and 1 indicating the current upload progress\n     * of all files.\n     * @function\n     * @returns {number}\n     */\n    progress: function () {\n      var totalDone = 0;\n      var totalSize = 0;\n      // Resume all chunks currently being uploaded\n      each(this.files, function (file) {\n        totalDone += file.progress() * file.size;\n        totalSize += file.size;\n      });\n      return totalSize > 0 ? totalDone / totalSize : 0;\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {File} file\n     * @param {Event} [event] event is optional\n     */\n    addFile: function (file, event) {\n      this.addFiles([file], event);\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {FileList|Array} fileList\n     * @param {Event} [event] event is optional\n     */\n    addFiles: function (fileList, event) {\n      var files = [];\n      each(fileList, function (file) {\n        // https://github.com/flowjs/flow.js/issues/55\n        if ((!ie10plus || ie10plus && file.size > 0) && !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.'))) {\n          var uniqueIdentifier = this.generateUniqueIdentifier(file);\n          if (this.opts.allowDuplicateUploads || !this.getFromUniqueIdentifier(uniqueIdentifier)) {\n            var f = new FlowFile(this, file, uniqueIdentifier);\n            if (this.fire('fileAdded', f, event)) {\n              files.push(f);\n            }\n          }\n        }\n      }, this);\n      if (this.fire('filesAdded', files, event)) {\n        each(files, function (file) {\n          if (this.opts.singleFile && this.files.length > 0) {\n            this.removeFile(this.files[0]);\n          }\n          this.files.push(file);\n        }, this);\n        this.fire('filesSubmitted', files, event);\n      }\n    },\n\n\n    /**\n     * Cancel upload of a specific FlowFile object from the list.\n     * @function\n     * @param {FlowFile} file\n     */\n    removeFile: function (file) {\n      for (var i = this.files.length - 1; i >= 0; i--) {\n        if (this.files[i] === file) {\n          this.files.splice(i, 1);\n          file.abort();\n          this.fire('fileRemoved', file);\n        }\n      }\n    },\n\n    /**\n     * Look up a FlowFile object by its unique identifier.\n     * @function\n     * @param {string} uniqueIdentifier\n     * @returns {boolean|FlowFile} false if file was not found\n     */\n    getFromUniqueIdentifier: function (uniqueIdentifier) {\n      var ret = false;\n      each(this.files, function (file) {\n        if (file.uniqueIdentifier === uniqueIdentifier) {\n          ret = file;\n        }\n      });\n      return ret;\n    },\n\n    /**\n     * Returns the total size of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    getSize: function () {\n      var totalSize = 0;\n      each(this.files, function (file) {\n        totalSize += file.size;\n      });\n      return totalSize;\n    },\n\n    /**\n     * Returns the total size uploaded of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = 0;\n      each(this.files, function (file) {\n        size += file.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining: function () {\n      var sizeDelta = 0;\n      var averageSpeed = 0;\n      each(this.files, function (file) {\n        if (!file.paused && !file.error) {\n          sizeDelta += file.size - file.sizeUploaded();\n          averageSpeed += file.averageSpeed;\n        }\n      });\n      if (sizeDelta && !averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!sizeDelta && !averageSpeed) {\n        return 0;\n      }\n      return Math.floor(sizeDelta / averageSpeed);\n    }\n  };\n\n\n\n\n\n\n  /**\n   * FlowFile class\n   * @name FlowFile\n   * @param {Flow} flowObj\n   * @param {File} file\n   * @param {string} uniqueIdentifier\n   * @constructor\n   */\n  function FlowFile(flowObj, file, uniqueIdentifier) {\n\n    /**\n     * Reference to parent Flow instance\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Used to store the bytes read\n     * @type {Blob|string}\n     */\n    this.bytes = null;\n\n    /**\n     * Reference to file\n     * @type {File}\n     */\n    this.file = file;\n\n    /**\n     * File name. Some confusion in different versions of Firefox\n     * @type {string}\n     */\n    this.name = file.fileName || file.name;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.size = file.size;\n\n    /**\n     * Relative file path\n     * @type {string}\n     */\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\n\n    /**\n     * File unique identifier\n     * @type {string}\n     */\n    this.uniqueIdentifier = (uniqueIdentifier === undefined ? flowObj.generateUniqueIdentifier(file) : uniqueIdentifier);\n\n    /**\n     * Size of Each Chunk\n     * @type {number}\n     */\n    this.chunkSize = 0;\n\n    /**\n     * List of chunks\n     * @type {Array.<FlowChunk>}\n     */\n    this.chunks = [];\n\n    /**\n     * Indicated if file is paused\n     * @type {boolean}\n     */\n    this.paused = false;\n\n    /**\n     * Indicated if file has encountered an error\n     * @type {boolean}\n     */\n    this.error = false;\n\n    /**\n     * Average upload speed\n     * @type {number}\n     */\n    this.averageSpeed = 0;\n\n    /**\n     * Current upload speed\n     * @type {number}\n     */\n    this.currentSpeed = 0;\n\n    /**\n     * Date then progress was called last time\n     * @type {number}\n     * @private\n     */\n    this._lastProgressCallback = Date.now();\n\n    /**\n     * Previously uploaded file size\n     * @type {number}\n     * @private\n     */\n    this._prevUploadedSize = 0;\n\n    /**\n     * Holds previous progress\n     * @type {number}\n     * @private\n     */\n    this._prevProgress = 0;\n\n    this.bootstrap();\n  }\n\n  FlowFile.prototype = {\n    /**\n     * Update speed parameters\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\n     * @function\n     */\n    measureSpeed: function () {\n      var timeSpan = Date.now() - this._lastProgressCallback;\n      if (!timeSpan) {\n        return ;\n      }\n      var smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\n      var uploaded = this.sizeUploaded();\n      // Prevent negative upload speed after file upload resume\n      this.currentSpeed = Math.max((uploaded - this._prevUploadedSize) / timeSpan * 1000, 0);\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\n      this._prevUploadedSize = uploaded;\n    },\n\n    /**\n     * For internal usage only.\n     * Callback when something happens within the chunk.\n     * @function\n     * @param {FlowChunk} chunk\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\n     * @param {string} [message]\n     */\n    chunkEvent: function (chunk, event, message) {\n      switch (event) {\n        case 'progress':\n          if (Date.now() - this._lastProgressCallback <\n            this.flowObj.opts.progressCallbacksInterval) {\n            break;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this, chunk);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          break;\n        case 'error':\n          this.error = true;\n          this.abort(true);\n          this.flowObj.fire('fileError', this, message, chunk);\n          this.flowObj.fire('error', message, this, chunk);\n          break;\n        case 'success':\n          if (this.error) {\n            return;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this, chunk);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          if (this.isComplete()) {\n            this.currentSpeed = 0;\n            this.averageSpeed = 0;\n            this.flowObj.fire('fileSuccess', this, message, chunk);\n          }\n          break;\n        case 'retry':\n          this.flowObj.fire('fileRetry', this, chunk);\n          break;\n      }\n    },\n\n    /**\n     * Pause file upload\n     * @function\n     */\n    pause: function() {\n      this.paused = true;\n      this.abort();\n    },\n\n    /**\n     * Resume file upload\n     * @function\n     */\n    resume: function() {\n      this.paused = false;\n      this.flowObj.upload();\n    },\n\n    /**\n     * Abort current upload\n     * @function\n     */\n    abort: function (reset) {\n      this.currentSpeed = 0;\n      this.averageSpeed = 0;\n      var chunks = this.chunks;\n      if (reset) {\n        this.chunks = [];\n      }\n      each(chunks, function (c) {\n        if (c.status() === 'uploading') {\n          c.abort();\n          this.flowObj.uploadNextChunk();\n        }\n      }, this);\n    },\n\n    /**\n     * Cancel current upload and remove from a list\n     * @function\n     */\n    cancel: function () {\n      this.flowObj.removeFile(this);\n    },\n\n    /**\n     * Retry aborted file upload\n     * @function\n     */\n    retry: function () {\n      this.bootstrap();\n      this.flowObj.upload();\n    },\n\n    /**\n     * Clear current chunks and slice file again\n     * @function\n     */\n    bootstrap: function () {\n      if (typeof this.flowObj.opts.initFileFn === \"function\") {\n        this.flowObj.opts.initFileFn(this);\n      }\n\n      this.abort(true);\n      this.error = false;\n      // Rebuild stack of chunks from file\n      this._prevProgress = 0;\n      var round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\n      this.chunkSize = evalOpts(this.flowObj.opts.chunkSize, this);\n      var chunks = Math.max(\n        round(this.size / this.chunkSize), 1\n      );\n      for (var offset = 0; offset < chunks; offset++) {\n        this.chunks.push(\n          new FlowChunk(this.flowObj, this, offset)\n        );\n      }\n    },\n\n    /**\n     * Get current upload progress status\n     * @function\n     * @returns {number} from 0 to 1\n     */\n    progress: function () {\n      if (this.error) {\n        return 1;\n      }\n      if (this.chunks.length === 1) {\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\n        return this._prevProgress;\n      }\n      // Sum up progress across everything\n      var bytesLoaded = 0;\n      each(this.chunks, function (c) {\n        // get chunk progress relative to entire file\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\n      });\n      var percent = bytesLoaded / this.size;\n      // We don't want to lose percentages when an upload is paused\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.9999 ? 1 : percent);\n      return this._prevProgress;\n    },\n\n    /**\n     * Indicates if file is being uploaded at the moment\n     * @function\n     * @returns {boolean}\n     */\n    isUploading: function () {\n      var uploading = false;\n      each(this.chunks, function (chunk) {\n        if (chunk.status() === 'uploading') {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Indicates if file is has finished uploading and received a response\n     * @function\n     * @returns {boolean}\n     */\n    isComplete: function () {\n      var outstanding = false;\n      each(this.chunks, function (chunk) {\n        var status = chunk.status();\n        if (status === 'pending' || status === 'uploading' || status === 'reading' || chunk.preprocessState === 1 || chunk.readState === 1) {\n          outstanding = true;\n          return false;\n        }\n      });\n      return !outstanding;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = 0;\n      each(this.chunks, function (chunk) {\n        size += chunk.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining: function () {\n      if (this.paused || this.error) {\n        return 0;\n      }\n      var delta = this.size - this.sizeUploaded();\n      if (delta && !this.averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!delta && !this.averageSpeed) {\n        return 0;\n      }\n      return Math.floor(delta / this.averageSpeed);\n    },\n\n    /**\n     * Get file type\n     * @function\n     * @returns {string}\n     */\n    getType: function () {\n      return this.file.type && this.file.type.split('/')[1];\n    },\n\n    /**\n     * Get file extension\n     * @function\n     * @returns {string}\n     */\n    getExtension: function () {\n      return this.name.substr((~-this.name.lastIndexOf(\".\") >>> 0) + 2).toLowerCase();\n    }\n  };\n\n  /**\n   * Default read function using the webAPI\n   *\n   * @function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk)\n   *\n   */\n  function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk) {\n    var function_name = 'slice';\n\n    if (fileObj.file.slice)\n      function_name =  'slice';\n    else if (fileObj.file.mozSlice)\n      function_name = 'mozSlice';\n    else if (fileObj.file.webkitSlice)\n      function_name = 'webkitSlice';\n\n    chunk.readFinished(fileObj.file[function_name](startByte, endByte, fileType));\n  }\n\n\n  /**\n   * Class for storing a single chunk\n   * @name FlowChunk\n   * @param {Flow} flowObj\n   * @param {FlowFile} fileObj\n   * @param {number} offset\n   * @constructor\n   */\n  function FlowChunk(flowObj, fileObj, offset) {\n\n    /**\n     * Reference to parent flow object\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to parent FlowFile object\n     * @type {FlowFile}\n     */\n    this.fileObj = fileObj;\n\n    /**\n     * File offset\n     * @type {number}\n     */\n    this.offset = offset;\n\n    /**\n     * Indicates if chunk existence was checked on the server\n     * @type {boolean}\n     */\n    this.tested = false;\n\n    /**\n     * Number of retries performed\n     * @type {number}\n     */\n    this.retries = 0;\n\n    /**\n     * Pending retry\n     * @type {boolean}\n     */\n    this.pendingRetry = false;\n\n    /**\n     * Preprocess state\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\n     */\n    this.preprocessState = 0;\n\n    /**\n     * Read state\n     * @type {number} 0 = not read, 1 = reading, 2 = finished\n     */\n    this.readState = 0;\n\n\n    /**\n     * Bytes transferred from total request size\n     * @type {number}\n     */\n    this.loaded = 0;\n\n    /**\n     * Total request size\n     * @type {number}\n     */\n    this.total = 0;\n\n    /**\n     * Size of a chunk\n     * @type {number}\n     */\n    this.chunkSize = this.fileObj.chunkSize;\n\n    /**\n     * Chunk start byte in a file\n     * @type {number}\n     */\n    this.startByte = this.offset * this.chunkSize;\n\n    /**\n     * A specific filename for this chunk which otherwise default to the main name\n     * @type {string}\n     */\n    this.filename = null;\n\n    /**\n      * Compute the endbyte in a file\n      *\n      */\n    this.computeEndByte = function() {\n      var endByte = Math.min(this.fileObj.size, (this.offset + 1) * this.chunkSize);\n      if (this.fileObj.size - endByte < this.chunkSize && !this.flowObj.opts.forceChunkSize) {\n        // The last chunk will be bigger than the chunk size,\n        // but less than 2 * this.chunkSize\n        endByte = this.fileObj.size;\n      }\n      return endByte;\n    }\n\n    /**\n     * Chunk end byte in a file\n     * @type {number}\n     */\n    this.endByte = this.computeEndByte();\n\n    /**\n     * XMLHttpRequest\n     * @type {XMLHttpRequest}\n     */\n    this.xhr = null;\n\n    var $ = this;\n\n    /**\n     * Send chunk event\n     * @param event\n     * @param {...} args arguments of a callback\n     */\n    this.event = function (event, args) {\n      args = Array.prototype.slice.call(arguments);\n      args.unshift($);\n      $.fileObj.chunkEvent.apply($.fileObj, args);\n    };\n    /**\n     * Catch progress event\n     * @param {ProgressEvent} event\n     */\n    this.progressHandler = function(event) {\n      if (event.lengthComputable) {\n        $.loaded = event.loaded ;\n        $.total = event.total;\n      }\n      $.event('progress', event);\n    };\n\n    /**\n     * Catch test event\n     * @param {Event} event\n     */\n    this.testHandler = function(event) {\n      var status = $.status(true);\n      if (status === 'error') {\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (status === 'success') {\n        $.tested = true;\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        // Error might be caused by file pause method\n        // Chunks does not exist on the server side\n        $.tested = true;\n        $.send();\n      }\n    };\n\n    /**\n     * Upload has stopped\n     * @param {Event} event\n     */\n    this.doneHandler = function(event) {\n      var status = $.status();\n      if (status === 'success' || status === 'error') {\n        delete this.data;\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        $.event('retry', $.message());\n        $.pendingRetry = true;\n        $.abort();\n        $.retries++;\n        var retryInterval = $.flowObj.opts.chunkRetryInterval;\n        if (retryInterval !== null) {\n          setTimeout(function () {\n            $.send();\n          }, retryInterval);\n        } else {\n          $.send();\n        }\n      }\n    };\n  }\n\n  FlowChunk.prototype = {\n    /**\n     * Get params for a request\n     * @function\n     */\n    getParams: function () {\n      return {\n        flowChunkNumber: this.offset + 1,\n        flowChunkSize: this.chunkSize,\n        flowCurrentChunkSize: this.endByte - this.startByte,\n        flowTotalSize: this.fileObj.size,\n        flowIdentifier: this.fileObj.uniqueIdentifier,\n        flowFilename: this.fileObj.name,\n        flowRelativePath: this.fileObj.relativePath,\n        flowTotalChunks: this.fileObj.chunks.length\n      };\n    },\n\n    /**\n     * Get target option with query params\n     * @function\n     * @param params\n     * @returns {string}\n     */\n    getTarget: function(target, params){\n      if (params.length == 0) {\n\treturn target;\n      }\n\n      if(target.indexOf('?') < 0) {\n        target += '?';\n      } else {\n        target += '&';\n      }\n      return target + params.join('&');\n    },\n\n    /**\n     * Makes a GET request without any data to see if the chunk has already\n     * been uploaded in a previous session\n     * @function\n     */\n    test: function () {\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.addEventListener(\"load\", this.testHandler, false);\n      this.xhr.addEventListener(\"error\", this.testHandler, false);\n      var testMethod = evalOpts(this.flowObj.opts.testMethod, this.fileObj, this);\n      var data = this.prepareXhrRequest(testMethod, true);\n      this.xhr.send(data);\n    },\n\n    /**\n     * Finish preprocess state\n     * @function\n     */\n    preprocessFinished: function () {\n      // Re-compute the endByte after the preprocess function to allow an\n      // implementer of preprocess to set the fileObj size\n      this.endByte = this.computeEndByte();\n\n      this.preprocessState = 2;\n      this.send();\n    },\n\n    /**\n     * Finish read state\n     * @function\n     */\n    readFinished: function (bytes) {\n      this.readState = 2;\n      this.bytes = bytes;\n      this.send();\n    },\n\n\n    /**\n     * Uploads the actual data in a POST call\n     * @function\n     */\n    send: function () {\n      var preprocess = this.flowObj.opts.preprocess;\n      var read = this.flowObj.opts.readFileFn;\n      if (typeof preprocess === 'function') {\n        switch (this.preprocessState) {\n          case 0:\n            this.preprocessState = 1;\n            preprocess(this);\n            return;\n          case 1:\n            return;\n        }\n      }\n      switch (this.readState) {\n        case 0:\n          this.readState = 1;\n          read(this.fileObj, this.startByte, this.endByte, this.fileObj.file.type, this);\n          return;\n        case 1:\n          return;\n      }\n      if (this.flowObj.opts.testChunks && !this.tested) {\n        this.test();\n        return;\n      }\n\n      this.loaded = 0;\n      this.total = 0;\n      this.pendingRetry = false;\n\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\n      this.xhr.addEventListener(\"load\", this.doneHandler, false);\n      this.xhr.addEventListener(\"error\", this.doneHandler, false);\n\n      var uploadMethod = evalOpts(this.flowObj.opts.uploadMethod, this.fileObj, this);\n      var data = this.prepareXhrRequest(uploadMethod, false, this.flowObj.opts.method, this.bytes);\n      var changeRawDataBeforeSend = this.flowObj.opts.changeRawDataBeforeSend;\n      if (typeof changeRawDataBeforeSend === 'function') {\n        data = changeRawDataBeforeSend(this, data);\n      }\n      this.xhr.send(data);\n    },\n\n    /**\n     * Abort current xhr request\n     * @function\n     */\n    abort: function () {\n      // Abort and reset\n      var xhr = this.xhr;\n      this.xhr = null;\n      if (xhr) {\n        xhr.abort();\n      }\n    },\n\n    /**\n     * Retrieve current chunk upload status\n     * @function\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\n     */\n    status: function (isTest) {\n      if (this.readState === 1) {\n        return 'reading';\n      } else if (this.pendingRetry || this.preprocessState === 1) {\n        // if pending retry then that's effectively the same as actively uploading,\n        // there might just be a slight delay before the retry starts\n        return 'uploading';\n      } else if (!this.xhr) {\n        return 'pending';\n      } else if (this.xhr.readyState < 4) {\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\n        // or 'LOADING' - meaning that stuff is happening\n        return 'uploading';\n      } else {\n        if (this.flowObj.opts.successStatuses.indexOf(this.xhr.status) > -1) {\n          // HTTP 200, perfect\n\t\t      // HTTP 202 Accepted - The request has been accepted for processing, but the processing has not been completed.\n          return 'success';\n        } else if (this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\n            !isTest && this.retries >= this.flowObj.opts.maxChunkRetries) {\n          // HTTP 413/415/500/501, permanent error\n          return 'error';\n        } else {\n          // this should never happen, but we'll reset and queue a retry\n          // a likely case for this would be 503 service unavailable\n          this.abort();\n          return 'pending';\n        }\n      }\n    },\n\n    /**\n     * Get response from xhr request\n     * @function\n     * @returns {String}\n     */\n    message: function () {\n      return this.xhr ? this.xhr.responseText : '';\n    },\n\n    /**\n     * Get upload progress\n     * @function\n     * @returns {number}\n     */\n    progress: function () {\n      if (this.pendingRetry) {\n        return 0;\n      }\n      var s = this.status();\n      if (s === 'success' || s === 'error') {\n        return 1;\n      } else if (s === 'pending') {\n        return 0;\n      } else {\n        return this.total > 0 ? this.loaded / this.total : 0;\n      }\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = this.endByte - this.startByte;\n      // can't return only chunk.loaded value, because it is bigger than chunk size\n      if (this.status() !== 'success') {\n        size = this.progress() * size;\n      }\n      return size;\n    },\n\n    /**\n     * Prepare Xhr request. Set query, headers and data\n     * @param {string} method GET or POST\n     * @param {bool} isTest is this a test request\n     * @param {string} [paramsMethod] octet or form\n     * @param {Blob} [blob] to send\n     * @returns {FormData|Blob|Null} data to send\n     */\n    prepareXhrRequest: function(method, isTest, paramsMethod, blob) {\n      // Add data from the query options\n      var query = evalOpts(this.flowObj.opts.query, this.fileObj, this, isTest);\n      query = extend(query || {}, this.getParams());\n\n      var target = evalOpts(this.flowObj.opts.target, this.fileObj, this, isTest);\n      var data = null;\n      if (method === 'GET' || paramsMethod === 'octet') {\n        // Add data from the query options\n        var params = [];\n        each(query, function (v, k) {\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\n        });\n        target = this.getTarget(target, params);\n        data = blob || null;\n      } else {\n        // Add data from the query options\n        data = new FormData();\n        each(query, function (v, k) {\n          data.append(k, v);\n        });\n        if (typeof blob !== \"undefined\") {\n            data.append(this.flowObj.opts.fileParameterName, blob, this.filename || this.fileObj.file.name);\n        }\n      }\n\n      this.xhr.open(method, target, true);\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\n\n      // Add data from header options\n      each(evalOpts(this.flowObj.opts.headers, this.fileObj, this, isTest), function (v, k) {\n        this.xhr.setRequestHeader(k, v);\n      }, this);\n\n      return data;\n    }\n  };\n\n  /**\n   * Remove value from array\n   * @param array\n   * @param value\n   */\n  function arrayRemove(array, value) {\n    var index = array.indexOf(value);\n    if (index > -1) {\n      array.splice(index, 1);\n    }\n  }\n\n  /**\n   * If option is a function, evaluate it with given params\n   * @param {*} data\n   * @param {...} args arguments of a callback\n   * @returns {*}\n   */\n  function evalOpts(data, args) {\n    if (typeof data === \"function\") {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      data = data.apply(null, args.slice(1));\n    }\n    return data;\n  }\n  Flow.evalOpts = evalOpts;\n\n  /**\n   * Execute function asynchronously\n   * @param fn\n   * @param context\n   */\n  function async(fn, context) {\n    setTimeout(fn.bind(context), 0);\n  }\n\n  /**\n   * Extends the destination object `dst` by copying all of the properties from\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\n   * @function\n   * @param {Object} dst Destination object.\n   * @param {...Object} src Source object(s).\n   * @returns {Object} Reference to `dst`.\n   */\n  function extend(dst, src) {\n    each(arguments, function(obj) {\n      if (obj !== dst) {\n        each(obj, function(value, key){\n          dst[key] = value;\n        });\n      }\n    });\n    return dst;\n  }\n  Flow.extend = extend;\n\n  /**\n   * Iterate each element of an object\n   * @function\n   * @param {Array|Object} obj object or an array to iterate\n   * @param {Function} callback first argument is a value and second is a key.\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\n   */\n  function each(obj, callback, context) {\n    if (!obj) {\n      return ;\n    }\n    var key;\n    // Is Array?\n    // Array.isArray won't work, not only arrays can be iterated by index https://github.com/flowjs/ng-flow/issues/236#\n    if (typeof(obj.length) !== 'undefined') {\n      for (key = 0; key < obj.length; key++) {\n        if (callback.call(context, obj[key], key) === false) {\n          return ;\n        }\n      }\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\n          return ;\n        }\n      }\n    }\n  }\n  Flow.each = each;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowFile}\n   */\n  Flow.FlowFile = FlowFile;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowChunk}\n   */\n  Flow.FlowChunk = FlowChunk;\n\n  /**\n   * Library version\n   * @type {string}\n   */\n  Flow.version = '<%= version %>';\n\n  if ( typeof module === \"object\" && module && typeof module.exports === \"object\" ) {\n    // Expose Flow as module.exports in loaders that implement the Node\n    // module pattern (including browserify). Do not create the global, since\n    // the user will be storing it themselves locally, and globals are frowned\n    // upon in the Node module world.\n    module.exports = Flow;\n  } else {\n    // Otherwise expose Flow to the global object as usual\n    window.Flow = Flow;\n\n    // Register as a named AMD module, since Flow can be concatenated with other\n    // files that may use define, but not via a proper concatenation script that\n    // understands anonymous AMD modules. A named AMD is safest and most robust\n    // way to register. Lowercase flow is used because AMD module names are\n    // derived from file names, and Flow is normally delivered in a lowercase\n    // file name. Do this after creating the global so that if an AMD module wants\n    // to call noConflict to hide this version of Flow, it will work.\n    if ( typeof define === \"function\" && define.amd ) {\n      define( \"flow\", [], function () { return Flow; } );\n    }\n  }\n})(typeof window !== 'undefined' && window, typeof document !== 'undefined' && document);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-message',{attrs:{\"message-key\":(\"block/\" + (_vm.block.uuid) + \"/name\")},scopedSlots:_vm._u([{key:\"input-control\",fn:function(ref){\nvar isValid = ref.isValid;\nreturn [_c('div',{staticClass:\"block-name\",attrs:{\"id\":((_vm.block.uuid) + \".name\")}},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.block-name'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-name'),\"validState\":isValid},on:{\"keydown\":_vm.filterName},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.only-accepts-word-characters'))+\" \")])])],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <validation-message :message-key=\"`block/${block.uuid}/name`\" #input-control=\"{ isValid }\">\n    <div class=\"block-name\" :id=\"`${block.uuid}.name`\">\n      <text-editor v-model=\"name\"\n                   :label=\"'flow-builder.block-name' | trans\"\n                   :placeholder=\"'flow-builder.enter-block-name' | trans\"\n                   :validState=\"isValid\"\n                   @keydown=\"filterName\">\n        <small class=\"text-muted\">\n          {{'flow-builder.only-accepts-word-characters' | trans}}\n        </small>\n      </text-editor>\n    </div>\n  </validation-message>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport TextEditor from '@/components/common/TextEditor'\nimport { lang } from '@/lib/filters/lang'\nimport ValidationMessage from '@/components/common/ValidationMessage';\n\nexport default {\n  components: {\n    TextEditor,\n    ValidationMessage\n  },\n  mixins: [lang],\n  props: {\n    block: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    name: {\n      get() {\n        return this.block.name\n      },\n      set(value) {\n        this.block_setName({ blockId: this.block.uuid, value })\n      },\n    },\n  },\n  methods: {\n    ...mapMutations('flow', ['block_setName']),\n    filterName(e) {\n      if (e.key.match(/\\W+|Enter/g)) {\n        e.preventDefault()\n      }\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NameEditor.vue?vue&type=template&id=041f538e&\"\nimport script from \"./NameEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./NameEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=50208a5c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=50208a5c&lang=scss&scoped=true&\"","'use strict';\n\nvar Vue = require('vue');\nVue = 'default' in Vue ? Vue['default'] : Vue;\n\nvar version = '2.1.0';\n\nvar compatible = (/^2\\./).test(Vue.version);\nif (!compatible) {\n  Vue.util.warn('VueFocus ' + version + ' only supports Vue 2.x, and does not support Vue ' + Vue.version);\n}\n\nvar focus = {\n  inserted: function(el, binding) {\n    if (binding.value) el.focus();\n    else el.blur();\n  },\n\n  componentUpdated: function(el, binding) {\n    if (binding.modifiers.lazy) {\n      if (Boolean(binding.value) === Boolean(binding.oldValue)) {\n        return;\n      }\n    }\n\n    if (binding.value) el.focus();\n    else el.blur();\n  },\n};\n\nvar mixin = {\n  directives: {\n    focus: focus,\n  },\n};\n\nexports.version = version;\nexports.focus = focus;\nexports.mixin = mixin;","/*!\n * Fuse.js v3.6.1 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"Fuse\",[],t):\"object\"==typeof exports?exports.Fuse=t():e.Fuse=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1),a=r(7),s=a.get,c=(a.deepValue,a.isArray),h=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,a=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.caseSensitive,v=void 0!==f&&f,p=r.tokenSeparator,d=void 0===p?/ +/g:p,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,b=r.id,S=void 0===b?null:b,x=r.keys,M=void 0===x?[]:x,_=r.shouldSort,w=void 0===_||_,L=r.getFn,A=void 0===L?s:L,O=r.sortFn,C=void 0===O?function(e,t){return e.score-t.score}:O,j=r.tokenize,P=void 0!==j&&j,I=r.matchAllTokens,F=void 0!==I&&I,T=r.includeMatches,N=void 0!==T&&T,z=r.includeScore,E=void 0!==z&&z,W=r.verbose,K=void 0!==W&&W;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:a,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:d,findAllMatches:y,minMatchCharLength:k,id:S,keys:M,includeMatches:N,includeScore:E,shouldSort:w,getFn:A,sortFn:C,verbose:K,tokenize:P,matchAllTokens:F},this.setCollection(t),this._processKeys(M)}var t,r,a;return t=e,(r=[{key:\"setCollection\",value:function(e){return this.list=e,e}},{key:\"_processKeys\",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&\"string\"==typeof e[0])for(var t=0,r=e.length;t<r;t+=1){var n=e[t];this._keyWeights[n]=1,this._keyNames.push(n)}else{for(var o=null,i=null,a=0,s=0,c=e.length;s<c;s+=1){var h=e[s];if(!h.hasOwnProperty(\"name\"))throw new Error('Missing \"name\" property in key object');var l=h.name;if(this._keyNames.push(l),!h.hasOwnProperty(\"weight\"))throw new Error('Missing \"weight\" property in key object');var u=h.weight;if(u<0||u>1)throw new Error('\"weight\" property in key must bein the range of [0, 1)');i=null==i?u:Math.max(i,u),o=null==o?u:Math.min(o,u),this._keyWeights[l]=u,a+=u}if(a>1)throw new Error(\"Total of weights cannot exceed 1\")}}},{key:\"search\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\\nSearch pattern: \"'.concat(e,'\"'));var r=this._prepareSearchers(e),n=r.tokenSearchers,o=r.fullSearcher,i=this._search(n,o);return this._computeScore(i),this.options.shouldSort&&this._sort(i),t.limit&&\"number\"==typeof t.limit&&(i=i.slice(0,t.limit)),this._format(i)}},{key:\"_prepareSearchers\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,o=r.length;n<o;n+=1)t.push(new i(r[n],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:\"_search\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.list,n={},o=[];if(\"string\"==typeof r[0]){for(var i=0,a=r.length;i<a;i+=1)this._analyze({key:\"\",value:r[i],record:i,index:i},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return o}for(var s=0,c=r.length;s<c;s+=1)for(var h=r[s],l=0,u=this._keyNames.length;l<u;l+=1){var f=this._keyNames[l];this._analyze({key:f,value:this.options.getFn(h,f),record:h,index:s},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return o}},{key:\"_analyze\",value:function(e,t){var r=this,n=e.key,o=e.arrayIndex,i=void 0===o?-1:o,a=e.value,s=e.record,h=e.index,l=t.tokenSearchers,u=void 0===l?[]:l,f=t.fullSearcher,v=t.resultMap,p=void 0===v?{}:v,d=t.results,g=void 0===d?[]:d;!function e(t,o,i,a){if(null!=o)if(\"string\"==typeof o){var s=!1,h=-1,l=0;r._log(\"\\nKey: \".concat(\"\"===n?\"--\":n));var v=f.search(o);if(r._log('Full text: \"'.concat(o,'\", score: ').concat(v.score)),r.options.tokenize){for(var d=o.split(r.options.tokenSeparator),y=d.length,m=[],k=0,b=u.length;k<b;k+=1){var S=u[k];r._log('\\nPattern: \"'.concat(S.pattern,'\"'));for(var x=!1,M=0;M<y;M+=1){var _=d[M],w=S.search(_),L={};w.isMatch?(L[_]=w.score,s=!0,x=!0,m.push(w.score)):(L[_]=1,r.options.matchAllTokens||m.push(1)),r._log('Token: \"'.concat(_,'\", score: ').concat(L[_]))}x&&(l+=1)}h=m[0];for(var A=m.length,O=1;O<A;O+=1)h+=m[O];h/=A,r._log(\"Token score average:\",h)}var C=v.score;h>-1&&(C=(C+h)/2),r._log(\"Score average:\",C);var j=!r.options.tokenize||!r.options.matchAllTokens||l>=u.length;if(r._log(\"\\nCheck Matches: \".concat(j)),(s||v.isMatch)&&j){var P={key:n,arrayIndex:t,value:o,score:C};r.options.includeMatches&&(P.matchedIndices=v.matchedIndices);var I=p[a];I?I.output.push(P):(p[a]={item:i,output:[P]},g.push(p[a]))}}else if(c(o))for(var F=0,T=o.length;F<T;F+=1)e(F,o[F],i,a)}(i,a,s,h)}},{key:\"_computeScore\",value:function(e){this._log(\"\\n\\nComputing score:\\n\");for(var t=this._keyWeights,r=!!Object.keys(t).length,n=0,o=e.length;n<o;n+=1){for(var i=e[n],a=i.output,s=a.length,c=1,h=0;h<s;h+=1){var l=a[h],u=l.key,f=r?t[u]:1,v=0===l.score&&t&&t[u]>0?Number.EPSILON:l.score;c*=Math.pow(v,f)}i.score=c,this._log(i)}}},{key:\"_sort\",value:function(e){this._log(\"\\n\\nSorting....\"),e.sort(this.options.sortFn)}},{key:\"_format\",value:function(e){var t=[];if(this.options.verbose){var r=[];this._log(\"\\n\\nOutput:\\n\\n\",JSON.stringify(e,function(e,t){if(\"object\"===n(t)&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t},2)),r=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var i=r[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty(\"arrayIndex\")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var c={item:s.item},h=0,l=o.length;h<l;h+=1)o[h](s,c);t.push(c)}else t.push(s.item)}return t}},{key:\"_log\",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,r),a&&o(t,a),e}();e.exports=h},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(2),i=r(3),a=r(6),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,s=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.isCaseSensitive,v=void 0!==f&&f,p=r.tokenSeparator,d=void 0===p?/ +/g:p,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,b=r.includeMatches,S=void 0!==b&&b;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:d,findAllMatches:y,includeMatches:S,minMatchCharLength:k},this.pattern=v?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}var t,r,s;return t=e,(r=[{key:\"search\",value:function(e){var t=this.options,r=t.isCaseSensitive,n=t.includeMatches;if(r||(e=e.toLowerCase()),this.pattern===e){var a={isMatch:!0,score:0};return n&&(a.matchedIndices=[[0,e.length-1]]),a}var s=this.options,c=s.maxPatternLength,h=s.tokenSeparator;if(this.pattern.length>c)return o(e,this.pattern,h);var l=this.options,u=l.location,f=l.distance,v=l.threshold,p=l.findAllMatches,d=l.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:u,distance:f,threshold:v,findAllMatches:p,minMatchCharLength:d,includeMatches:n})}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=s},function(e,t){var r=/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(r,\"\\\\$&\").replace(n,\"|\")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){var n=r(4),o=r(5);e.exports=function(e,t,r,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,v=void 0!==f&&f,p=i.minMatchCharLength,d=void 0===p?1:p,g=i.includeMatches,y=void 0!==g&&g,m=s,k=e.length,b=u,S=e.indexOf(t,m),x=t.length,M=[],_=0;_<k;_+=1)M[_]=0;if(-1!==S){var w=n(t,{errors:0,currentLocation:S,expectedLocation:m,distance:h});if(b=Math.min(w,b),-1!==(S=e.lastIndexOf(t,m+x))){var L=n(t,{errors:0,currentLocation:S,expectedLocation:m,distance:h});b=Math.min(L,b)}}S=-1;for(var A=[],O=1,C=x+k,j=1<<(x<=31?x-1:30),P=0;P<x;P+=1){for(var I=0,F=C;I<F;){n(t,{errors:P,currentLocation:m+F,expectedLocation:m,distance:h})<=b?I=F:C=F,F=Math.floor((C-I)/2+I)}C=F;var T=Math.max(1,m-F+1),N=v?k:Math.min(m+F,k)+x,z=Array(N+2);z[N+1]=(1<<P)-1;for(var E=N;E>=T;E-=1){var W=E-1,K=r[e.charAt(W)];if(K&&(M[W]=1),z[E]=(z[E+1]<<1|1)&K,0!==P&&(z[E]|=(A[E+1]|A[E])<<1|1|A[E+1]),z[E]&j&&(O=n(t,{errors:P,currentLocation:W,expectedLocation:m,distance:h}))<=b){if(b=O,(S=W)<=m)break;T=Math.max(1,2*m-S)}}if(n(t,{errors:P+1,currentLocation:m,expectedLocation:m,distance:h})>b)break;A=z}var $={isMatch:S>=0,score:0===O?.001:O};return y&&($.matchedIndices=o(M,d)),$}},function(e,t){e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=n/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||((o=i-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}},function(e,t){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t){var r=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===Object.prototype.toString.call(e)},n=function(e){return null==e?\"\":function(e){if(\"string\"==typeof e)return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}(e)},o=function(e){return\"string\"==typeof e},i=function(e){return\"number\"==typeof e};e.exports={get:function(e,t){var a=[];return function e(t,s){if(s){var c=s.indexOf(\".\"),h=s,l=null;-1!==c&&(h=s.slice(0,c),l=s.slice(c+1));var u=t[h];if(null!=u)if(l||!o(u)&&!i(u))if(r(u))for(var f=0,v=u.length;f<v;f+=1)e(u[f],l);else l&&e(u,l);else a.push(n(u))}else a.push(t)}(e,t),a},isArray:r,isString:o,isNum:i,toString:n}}])});"],"sourceRoot":""}
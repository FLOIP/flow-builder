(function(e){function t(t){for(var a,n,c=t[0],s=t[1],l=t[2],u=0,d=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);b&&b(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],a=!0,n=1;n<o.length;n++){var c=o[n];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=o[0]))}return e}var a={},n={app:0},i={app:0},r=[];function c(e){return s.p+"js/"+({"chunk-builder":"chunk-builder"}[e]||e)+"."+{"chunk-builder":"8d4b1e63"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var t=[],o={"chunk-builder":1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=new Promise((function(t,o){for(var a="css/"+({"chunk-builder":"chunk-builder"}[e]||e)+"."+{"chunk-builder":"d694c591"}[e]+".css",i=s.p+a,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var l=r[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===a||u===i)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete n[e],b.parentNode.removeChild(b),o(r)},b.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(b)})).then((function(){n[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,o){a=i[e]=[t,o]}));t.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(b);var o=i[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,o[1](d)}i[e]=void 0}};var b=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var b=u;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("cd49")},"02b5":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return L}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"core-set-group-membership-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("group-membership-editor",{attrs:{block:e.block}}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("8e5f"),v=o.n(p),h=o("c964"),m=(o("96cf"),o("31aa")),g=o("2ef0"),k=o("85b2"),j="add",_="remove",O="Core.SetGroupMembership",y={},w={},C={createWith:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.t0=a,o.next=5,(new m["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.abrupt("return",Object(g["defaultsDeep"])(n,{type:O,name:"",label:"",semantic_label:"",config:{group_key:"",group_name:"",is_member:null},exits:i,tags:[],vendor_metadata:{}}));case 14:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value = true"},{root:!0})},setIsMember:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:a=e.commit,n=e.rootGetters,i=n["builder/activeBlock"],r=!1,t&&(r=t.id===j),a("flow/block_updateConfigByPath",{blockId:i.uuid,path:"is_member",value:r},{root:!0});case 5:case"end":return o.stop()}}),o)})))()},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(k["f"])({block:o,schemaVersion:a})}},x={namespaced:!0,getters:y,mutations:w,actions:C},E=o("4a51"),B=o("af98"),I=o("2fe1"),S=Object(b["e"])("flow/".concat(O)),T=Object(b["e"])("flow"),M=Object(b["e"])("builder"),R=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"actionsList",[{id:j,name:e.trans("flow-builder.add")},{id:_,name:e.trans("flow-builder.remove")}]),Object(u["a"])(Object(c["a"])(e),"setIsMember",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),Object(u["a"])(Object(c["a"])(e),"block_updateConfigByPath",void 0),e}return Object(r["a"])(o,[{key:"selectedAction",get:function(){var e=this.block.config.is_member;return e?e&&Object(g["find"])(this.actionsList,{id:j})||{}:Object(g["find"])(this.actionsList,{id:_})||{}},set:function(e){this.setIsMember(e)}}]),o}(Object(I["c"])(E["a"]));Object(d["__decorate"])([Object(f["b"])()],R.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],R.prototype,"flow",void 0),Object(d["__decorate"])([S.Action],R.prototype,"setIsMember",void 0),Object(d["__decorate"])([S.Action],R.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([M.Getter],R.prototype,"isEditable",void 0),Object(d["__decorate"])([T.Mutation],R.prototype,"block_updateConfigByPath",void 0),R=Object(d["__decorate"])([Object(f["a"])({components:{VueMultiselect:v.a}})],R);var A=R,L=Object(B["d"])(O,x),V=A,F=(o("7f46"),o("2877")),N=Object(F["a"])(V,a,n,!1,null,"9b2e4bd2",null);t["default"]=N.exports},"03d5":function(e,t,o){"use strict";o.r(t),o.d(t,"MobilePrimitives_SelectManyResponseBlock",(function(){return g})),o.d(t,"install",(function(){return j}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-primitive-select-many-response-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),o("div",{staticClass:"prompt-resource"},[e.promptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.prompt"),resource:e.promptResource,block:e.block,flow:e.flow}}):e._e()],1),o("hr"),o("choices-builder",{attrs:{block:e.block},on:{choiceChanged:e.handleChoiceChanged}}),o("hr"),o("minimum-choices-editor",{attrs:{block:e.block}}),o("maximum-choices-editor",{attrs:{block:e.block}}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1,"label-class":""},on:{branchingTypeChanged:function(t){return e.reflowExitsWhenSwitchingToBranchingTypeNotUnified()}}}),e._t("extras"),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("2c4c"),c=o("920b"),s=o("92a6"),l=o("fc11"),u=(o("99af"),o("9ab4")),d=o("1b40"),b=o("5801"),f=o("4bb5"),p=o("af98"),v=o("5c47"),h=Object(f["e"])("flow/".concat(b["a"])),m=Object(f["e"])("builder"),g=function(e){Object(c["a"])(o,e);var t=Object(s["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n)),Object(l["a"])(Object(r["a"])(e),"showSemanticLabel",!1),e}return o}(v["default"]);Object(u["__decorate"])([m.Getter],g.prototype,"isEditable",void 0),Object(u["__decorate"])([h.Action],g.prototype,"handleBranchingTypeChangedToUnified",void 0),g=Object(u["__decorate"])([Object(d["a"])({})],g);var k=g,j=Object(p["d"])(b["a"],b["b"]),_=k,O=o("2877"),y=Object(O["a"])(_,a,n,!1,null,null,null);t["default"]=y.exports},"0402":function(e,t,o){"use strict";o.r(t);var a=o("d0ff"),n=(o("99af"),o("a026")),i=o("ad3d"),r=o("ecee"),c=o("c074"),s=o("b702"),l={prefix:"fac",iconName:"audio",icon:[32,32,[],"e001","M21.118 12.441C20.8093 11.8235 20.0585 11.5732 19.441 11.882C18.8235 12.1907 18.5732 12.9415 18.882 13.559L21.118 12.441ZM18.882 20.441C18.5732 21.0585 18.8235 21.8093 19.441 22.118C20.0585 22.4268 20.8093 22.1765 21.118 21.559L18.882 20.441ZM25.118 8.44098C24.8093 7.82351 24.0585 7.57323 23.441 7.88197C22.8235 8.1907 22.5732 8.94154 22.882 9.55902L25.118 8.44098ZM22.882 24.441C22.5732 25.0585 22.8235 25.8093 23.441 26.118C24.0585 26.4268 24.8093 26.1765 25.118 25.559L22.882 24.441ZM10.4683 20.1414L11.1835 19.1161L11.1835 19.1161L10.4683 20.1414ZM14.4279 22.9034L15.143 21.8782L15.143 21.8782L14.4279 22.9034ZM14.3766 10.2941L13.5974 9.31673L13.5974 9.31673L14.3766 10.2941ZM10.4841 13.3973L9.70486 12.4199L9.70486 12.4199L10.4841 13.3973ZM20 13C18.882 13.559 18.8819 13.5588 18.8818 13.5586C18.8817 13.5585 18.8816 13.5583 18.8816 13.5582C18.8815 13.558 18.8814 13.5578 18.8813 13.5576C18.8811 13.5573 18.881 13.5571 18.8809 13.5569C18.8808 13.5567 18.8809 13.557 18.8813 13.5577C18.882 13.5591 18.8836 13.5624 18.886 13.5674C18.8909 13.5775 18.8991 13.5947 18.9102 13.6185C18.9325 13.6661 18.9661 13.7399 19.0073 13.8361C19.0901 14.0292 19.202 14.309 19.3141 14.6453C19.5433 15.3329 19.75 16.1891 19.75 17H22.25C22.25 15.8109 21.9567 14.6671 21.6859 13.8547C21.548 13.441 21.4099 13.0958 21.3052 12.8514C21.2527 12.7288 21.2082 12.6308 21.1757 12.5612C21.1595 12.5264 21.1462 12.4987 21.1364 12.4785C21.1315 12.4684 21.1275 12.4602 21.1244 12.4539C21.1229 12.4508 21.1216 12.4481 21.1205 12.446C21.12 12.4449 21.1195 12.4439 21.1191 12.4431C21.1189 12.4427 21.1187 12.4423 21.1185 12.442C21.1184 12.4418 21.1183 12.4415 21.1183 12.4414C21.1181 12.4412 21.118 12.441 20 13ZM19.75 17C19.75 17.8109 19.5433 18.6671 19.3141 19.3547C19.202 19.691 19.0901 19.9708 19.0073 20.1639C18.9661 20.2601 18.9325 20.3339 18.9102 20.3815C18.8991 20.4053 18.8909 20.4225 18.886 20.4326C18.8836 20.4376 18.882 20.4409 18.8813 20.4423C18.8809 20.443 18.8808 20.4433 18.8809 20.4431C18.881 20.4429 18.8811 20.4427 18.8813 20.4424C18.8814 20.4422 18.8815 20.442 18.8816 20.4418C18.8816 20.4417 18.8817 20.4415 18.8818 20.4414C18.8819 20.4412 18.882 20.441 20 21C21.118 21.559 21.1181 21.5588 21.1183 21.5586C21.1183 21.5585 21.1184 21.5582 21.1185 21.558C21.1187 21.5577 21.1189 21.5573 21.1191 21.5569C21.1195 21.5561 21.12 21.5551 21.1205 21.554C21.1216 21.5519 21.1229 21.5492 21.1244 21.5461C21.1275 21.5398 21.1315 21.5316 21.1364 21.5215C21.1462 21.5013 21.1595 21.4736 21.1757 21.4388C21.2082 21.3692 21.2527 21.2712 21.3052 21.1486C21.4099 20.9042 21.548 20.559 21.6859 20.1453C21.9567 19.3329 22.25 18.1891 22.25 17H19.75ZM24 9C22.882 9.55902 22.8819 9.55881 22.8818 9.55863C22.8817 9.55858 22.8817 9.55841 22.8816 9.55832C22.8815 9.55815 22.8815 9.55804 22.8815 9.55799C22.8814 9.55789 22.8815 9.55803 22.8817 9.5584C22.882 9.55915 22.8829 9.56085 22.8842 9.56348C22.8868 9.56875 22.8912 9.57774 22.8973 9.59035C22.9095 9.61557 22.9284 9.65521 22.9532 9.70829C23.0028 9.81452 23.0755 9.97429 23.1636 10.1799C23.3401 10.5917 23.577 11.184 23.8141 11.8953C24.2933 13.3329 24.75 15.1891 24.75 17H27.25C27.25 14.8109 26.7067 12.6671 26.1859 11.1047C25.923 10.316 25.6599 9.65827 25.4614 9.1951C25.362 8.96321 25.2785 8.77923 25.2187 8.65108C25.1888 8.58698 25.1648 8.53677 25.1477 8.50145C25.1391 8.48378 25.1323 8.46983 25.1273 8.45971C25.1248 8.45465 25.1228 8.45055 25.1212 8.44743C25.1205 8.44586 25.1198 8.44454 25.1193 8.44347C25.119 8.44293 25.1188 8.44246 25.1186 8.44204C25.1185 8.44183 25.1183 8.44157 25.1183 8.44147C25.1182 8.44122 25.118 8.44098 24 9ZM24.75 17C24.75 18.8109 24.2933 20.6671 23.8141 22.1047C23.577 22.816 23.3401 23.4083 23.1636 23.8201C23.0755 24.0257 23.0028 24.1855 22.9532 24.2917C22.9284 24.3448 22.9095 24.3844 22.8973 24.4097C22.8912 24.4223 22.8868 24.4313 22.8842 24.4365C22.8829 24.4392 22.882 24.4408 22.8817 24.4416C22.8815 24.442 22.8814 24.4421 22.8815 24.442C22.8815 24.442 22.8815 24.4418 22.8816 24.4417C22.8817 24.4416 22.8817 24.4414 22.8818 24.4414C22.8819 24.4412 22.882 24.441 24 25C25.118 25.559 25.1182 25.5588 25.1183 25.5585C25.1183 25.5584 25.1185 25.5582 25.1186 25.558C25.1188 25.5575 25.119 25.5571 25.1193 25.5565C25.1198 25.5555 25.1205 25.5541 25.1212 25.5526C25.1228 25.5494 25.1248 25.5453 25.1273 25.5403C25.1323 25.5302 25.1391 25.5162 25.1477 25.4986C25.1648 25.4632 25.1888 25.413 25.2187 25.3489C25.2785 25.2208 25.362 25.0368 25.4614 24.8049C25.6599 24.3417 25.923 23.684 26.1859 22.8953C26.7067 21.3329 27.25 19.1891 27.25 17H24.75ZM3.75 14.6154V18.9615H6.25V14.6154H3.75ZM6 21.2115H9.89621V18.7115H6V21.2115ZM9.75318 21.1666L13.7127 23.9286L15.143 21.8782L11.1835 19.1161L9.75318 21.1666ZM17.25 22.0832V11.0761H14.75V22.0832H17.25ZM13.5974 9.31673L9.70486 12.4199L11.2633 14.3747L15.1558 11.2716L13.5974 9.31673ZM9.8607 12.3654H6V14.8654H9.8607V12.3654ZM9.70486 12.4199C9.74914 12.3846 9.80408 12.3654 9.8607 12.3654V14.8654C10.3703 14.8654 10.8648 14.6924 11.2633 14.3747L9.70486 12.4199ZM17.25 11.0761C17.25 9.19123 15.0713 8.14179 13.5974 9.31673L15.1558 11.2716C14.9921 11.4021 14.75 11.2855 14.75 11.0761H17.25ZM13.7127 23.9286C15.2043 24.969 17.25 23.9018 17.25 22.0832H14.75C14.75 21.8811 14.9773 21.7625 15.143 21.8782L13.7127 23.9286ZM9.89621 21.2115C9.84506 21.2115 9.79513 21.1958 9.75318 21.1666L11.1835 19.1161C10.8059 18.8528 10.3566 18.7115 9.89621 18.7115V21.2115ZM3.75 18.9615C3.75 20.2042 4.75736 21.2115 6 21.2115V18.7115C6.13807 18.7115 6.25 18.8235 6.25 18.9615H3.75ZM6.25 14.6154C6.25 14.7535 6.13807 14.8654 6 14.8654V12.3654C4.75736 12.3654 3.75 13.3727 3.75 14.6154H6.25Z"]},u={prefix:"fac",iconName:"enter",icon:[17,20,[],"e002","M1 9C0.447715 9 0 9.44772 0 10C0 10.5523 0.447715 11 1 11V9ZM11 11H12V9H11V11ZM7.99929 4.62347C7.63354 4.20965 7.00157 4.17068 6.58775 4.53643C6.17393 4.90218 6.13497 5.53414 6.50071 5.94796L7.99929 4.62347ZM11.4167 10L12.166 10.6622L12.7513 10L12.166 9.33775L11.4167 10ZM6.50071 14.052C6.13497 14.4659 6.17393 15.0978 6.58775 15.4636C7.00157 15.8293 7.63354 15.7904 7.99929 15.3765L6.50071 14.052ZM3.33333 3.14286C3.33333 3.69514 3.78105 4.14286 4.33333 4.14286C4.88562 4.14286 5.33333 3.69514 5.33333 3.14286H3.33333ZM5.33333 16.8571C5.33333 16.3049 4.88562 15.8571 4.33333 15.8571C3.78105 15.8571 3.33333 16.3049 3.33333 16.8571H5.33333ZM1 11H11V9H1V11ZM5.33333 3.14286V2H3.33333V3.14286H5.33333ZM5.33333 2H15V0H5.33333V2ZM15 2V18H17V2H15ZM15 18H5.33333V20H15V18ZM5.33333 18V16.8571H3.33333V18H5.33333ZM10.6674 9.33775L8.58405 11.6949L10.0826 13.0194L12.166 10.6622L10.6674 9.33775ZM8.58405 11.6949L6.50071 14.052L7.99929 15.3765L10.0826 13.0194L8.58405 11.6949ZM6.50071 5.94796L8.58405 8.3051L10.0826 6.98061L7.99929 4.62347L6.50071 5.94796ZM8.58405 8.3051L10.6674 10.6622L12.166 9.33775L10.0826 6.98061L8.58405 8.3051ZM5.33333 18H5.33333H3.33333C3.33333 19.1046 4.22877 20 5.33333 20V18ZM15 18V20C16.1046 20 17 19.1046 17 18H15ZM15 2H15H17C17 0.89543 16.1046 0 15 0V2ZM5.33333 2L5.33333 2V0C4.22876 0 3.33333 0.895431 3.33333 2H5.33333Z"]},d={prefix:"fac",iconName:"record-audio",icon:[32,32,[],"e003","M7.99805 13.9376C7.9636 13.3864 7.48883 12.9675 6.93762 13.0019C6.38641 13.0364 5.9675 13.5112 6.00195 14.0624L7.99805 13.9376ZM25.9981 14.0624C26.0325 13.5112 25.6136 13.0364 25.0624 13.0019C24.5112 12.9675 24.0364 13.3864 24.0019 13.9376L25.9981 14.0624ZM15 28C15 28.5523 15.4477 29 16 29C16.5523 29 17 28.5523 17 28H15ZM8 27C7.44772 27 7 27.4477 7 28C7 28.5523 7.44772 29 8 29V27ZM24 29C24.5523 29 25 28.5523 25 28C25 27.4477 24.5523 27 24 27V29ZM20 8V13H22V8H20ZM12 13V8H10V13H12ZM16 17C13.7909 17 12 15.2091 12 13H10C10 16.3137 12.6863 19 16 19V17ZM20 13C20 15.2091 18.2091 17 16 17V19C19.3137 19 22 16.3137 22 13H20ZM16 4C18.2091 4 20 5.79086 20 8H22C22 4.68629 19.3137 2 16 2V4ZM16 2C12.6863 2 10 4.68629 10 8H12C12 5.79086 13.7909 4 16 4V2ZM6.00195 14.0624C6.09611 15.5689 6.7059 17.7811 8.24207 19.6375C9.81064 21.5331 12.3011 23 16 23V21C12.8989 21 10.9727 19.8003 9.78293 18.3625C8.56077 16.8855 8.07056 15.0977 7.99805 13.9376L6.00195 14.0624ZM16 23C19.6989 23 22.1894 21.5331 23.7579 19.6375C25.2941 17.7811 25.9039 15.5689 25.9981 14.0624L24.0019 13.9376C23.9294 15.0977 23.4392 16.8855 22.2171 18.3625C21.0273 19.8003 19.1011 21 16 21V23ZM17 28V22H15V28H17ZM8 29H24V27H8V29Z"]},b={prefix:"fac",iconName:"settings",icon:[16,16,[],"e004","M14.9757 7.00154L13.2241 5.81525L13.6254 3.73557C13.7015 3.34893 13.5785 2.95057 13.3002 2.66938C13.019 2.39111 12.6207 2.26809 12.2399 2.34424L10.1632 2.74553L8.97979 0.990993C8.53749 0.3378 7.45958 0.3378 7.01728 0.990993L5.83392 2.74553L3.76011 2.34424C3.37053 2.27102 2.9751 2.39111 2.69684 2.67231C2.41857 2.9535 2.29555 3.34893 2.3717 3.73557L2.77299 5.81525L1.02138 7.00154C0.693322 7.22415 0.5 7.59029 0.5 7.98572C0.5 8.38115 0.696251 8.74729 1.02138 8.96697L2.77299 10.1533L2.3717 12.2329C2.29555 12.6196 2.41857 13.0179 2.69684 13.2962C2.9751 13.5745 3.3676 13.6975 3.76011 13.6213L5.83392 13.2201L7.01728 14.9746C7.23697 15.3027 7.60603 15.4989 7.99854 15.4989C8.39104 15.4989 8.76011 15.3027 8.97979 14.9775L10.1632 13.223L12.2399 13.6243C12.6324 13.7034 13.0249 13.5774 13.3032 13.2991C13.5814 13.0209 13.7015 12.6225 13.6283 12.2359L13.227 10.1562L14.9786 8.9699C15.3037 8.75022 15.5 8.38115 15.5 7.98865C15.4971 7.59029 15.3037 7.22415 14.9757 7.00154ZM11.6687 9.50886L12.1842 12.1802L9.51875 11.6647L7.99854 13.9172L6.47832 11.6618L3.81576 12.1773L4.33128 9.50593L2.08172 7.98279L4.33128 6.45965L3.81576 3.7883L6.48125 4.30382L7.99854 2.05426L9.51875 4.30675L12.1842 3.79123L11.6687 6.45965L13.9183 7.98279L11.6687 9.50886ZM7.99854 4.95409C6.32015 4.95409 4.95226 6.32198 4.95226 8.00037C4.95226 9.67875 6.32015 11.0466 7.99854 11.0466C9.67692 11.0466 11.0448 9.67875 11.0448 8.00037C11.0448 6.32198 9.67692 4.95409 7.99854 4.95409ZM7.99854 9.64067C7.09344 9.64067 6.35823 8.90546 6.35823 8.00037C6.35823 7.09527 7.09344 6.36006 7.99854 6.36006C8.90363 6.36006 9.63884 7.09527 9.63884 8.00037C9.63884 8.90546 8.90363 9.64067 7.99854 9.64067Z"]},f={prefix:"fac",iconName:"upload",icon:[32,32,[],"e005","M15.3415 5.24742C15.7185 4.91753 16.2815 4.91753 16.6585 5.24742L24.6585 12.2474C25.0741 12.6111 25.1163 13.2429 24.7526 13.6585C24.3889 14.0741 23.7571 14.1163 23.3415 13.7526L17 8.20377V19C17 19.5523 16.5523 20 16 20C15.4477 20 15 19.5523 15 19V8.20377L8.6585 13.7526C8.24287 14.1163 7.61111 14.0741 7.24742 13.6585C6.88374 13.2429 6.92586 12.6111 7.3415 12.2474L15.3415 5.24742ZM7 20C7.55228 20 8 20.4477 8 21V26H24V21C24 20.4477 24.4477 20 25 20C25.5523 20 26 20.4477 26 21V27C26 27.5523 25.5523 28 25 28H7C6.44772 28 6 27.5523 6 27V21C6 20.4477 6.44772 20 7 20Z"]},p={prefix:"fac",iconName:"ussd",icon:[32,32,[],"e006","M17.9279 23.5201L18.6005 24.2601L18.6005 24.2601L17.9279 23.5201ZM13 28H12V30.2606L13.6727 28.7399L13 28ZM13 23H14V22H13V23ZM13.25 11C13.25 10.4477 12.8023 10 12.25 10C11.6977 10 11.25 10.4477 11.25 11H13.25ZM11.25 17.5C11.25 18.0523 11.6977 18.5 12.25 18.5C12.8023 18.5 13.25 18.0523 13.25 17.5H11.25ZM10.659 11.2448C10.2685 10.8543 9.63532 10.8543 9.2448 11.2448C8.85427 11.6353 8.85427 12.2685 9.2448 12.659L10.659 11.2448ZM13.841 17.2552C14.2315 17.6457 14.8647 17.6457 15.2552 17.2552C15.6457 16.8647 15.6457 16.2315 15.2552 15.841L13.841 17.2552ZM9 13.25C8.44772 13.25 8 13.6977 8 14.25C8 14.8023 8.44772 15.25 9 15.25V13.25ZM15.5 15.25C16.0523 15.25 16.5 14.8023 16.5 14.25C16.5 13.6977 16.0523 13.25 15.5 13.25V15.25ZM15.2552 12.659C15.6457 12.2685 15.6457 11.6353 15.2552 11.2448C14.8647 10.8543 14.2315 10.8543 13.841 11.2448L15.2552 12.659ZM9.24479 15.841C8.85427 16.2315 8.85427 16.8647 9.24479 17.2552C9.63532 17.6457 10.2685 17.6457 10.659 17.2552L9.24479 15.841ZM20.9884 11.1521C21.0724 10.6062 20.6979 10.0956 20.1521 10.0116C19.6062 9.92765 19.0956 10.3021 19.0116 10.8479L20.9884 11.1521ZM18.0116 17.3479C17.9276 17.8938 18.3021 18.4044 18.8479 18.4884C19.3938 18.5724 19.9044 18.1979 19.9884 17.6521L18.0116 17.3479ZM23.9884 11.1521C24.0724 10.6062 23.6979 10.0956 23.1521 10.0116C22.6062 9.92765 22.0956 10.3021 22.0116 10.8479L23.9884 11.1521ZM21.0116 17.3479C20.9276 17.8938 21.3021 18.4044 21.8479 18.4884C22.3938 18.5724 22.9044 18.1979 22.9884 17.6521L21.0116 17.3479ZM18 12C17.4477 12 17 12.4477 17 13C17 13.5523 17.4477 14 18 14V12ZM24 14C24.5523 14 25 13.5523 25 13C25 12.4477 24.5523 12 24 12V14ZM18 15C17.4477 15 17 15.4477 17 16C17 16.5523 17.4477 17 18 17V15ZM24 17C24.5523 17 25 16.5523 25 16C25 15.4477 24.5523 15 24 15V17ZM7 6H26V4H7V6ZM27 7V21H29V7H27ZM6 21V7H4V21H6ZM26 22H19.2732V24H26V22ZM4 21C4 22.6569 5.34315 24 7 24V22C6.44771 22 6 21.5523 6 21H4ZM27 21C27 21.5523 26.5523 22 26 22V24C27.6569 24 29 22.6569 29 21H27ZM26 6C26.5523 6 27 6.44772 27 7H29C29 5.34315 27.6569 4 26 4V6ZM7 4C5.34315 4 4 5.34315 4 7H6C6 6.44772 6.44772 6 7 6V4ZM17.2552 22.7802L12.3273 27.2601L13.6727 28.7399L18.6005 24.2601L17.2552 22.7802ZM14 28V23H12V28H14ZM19.2732 22C18.5269 22 17.8074 22.2782 17.2552 22.7802L18.6005 24.2601C18.7846 24.0927 19.0244 24 19.2732 24V22ZM11.25 11V14.25H13.25V11H11.25ZM11.25 14.25V17.5H13.25V14.25H11.25ZM9.2448 12.659L11.5429 14.9571L12.9571 13.5429L10.659 11.2448L9.2448 12.659ZM11.5429 14.9571L13.841 17.2552L15.2552 15.841L12.9571 13.5429L11.5429 14.9571ZM9 15.25H12.25V13.25H9V15.25ZM12.25 15.25H15.5V13.25H12.25V15.25ZM13.841 11.2448L11.5429 13.5429L12.9571 14.9571L15.2552 12.659L13.841 11.2448ZM11.5429 13.5429L9.24479 15.841L10.659 17.2552L12.9571 14.9571L11.5429 13.5429ZM19.0116 10.8479L18.7039 12.8479L20.6807 13.1521L20.9884 11.1521L19.0116 10.8479ZM18.7039 12.8479L18.2424 15.8479L20.2191 16.1521L20.6807 13.1521L18.7039 12.8479ZM18.2424 15.8479L18.0116 17.3479L19.9884 17.6521L20.2191 16.1521L18.2424 15.8479ZM22.0116 10.8479L21.7039 12.8479L23.6807 13.1521L23.9884 11.1521L22.0116 10.8479ZM21.7039 12.8479L21.2424 15.8479L23.2191 16.1521L23.6807 13.1521L21.7039 12.8479ZM21.2424 15.8479L21.0116 17.3479L22.9884 17.6521L23.2191 16.1521L21.2424 15.8479ZM18 14H19.6923V12H18V14ZM19.6923 14H22.6923V12H19.6923V14ZM22.6923 14H24V12H22.6923V14ZM18 17H19.2308V15H18V17ZM19.2308 17H22.2308V15H19.2308V17ZM22.2308 17H24V15H22.2308V17ZM13 22H7V24H13V22Z"]},v={prefix:"fac",iconName:"copy",icon:[32,32,[],"e007","M14.667 13.333c-.737 0-1.334.597-1.334 1.334v12c0 .736.597 1.333 1.334 1.333h12c.736 0 1.333-.597 1.333-1.333v-12c0-.737-.597-1.334-1.333-1.334h-12zm-4 1.334a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-12a4 4 0 0 1-4-4v-12z M5.333 4A1.333 1.333 0 0 0 4 5.333v12a1.333 1.333 0 0 0 1.333 1.334h1.334a1.333 1.333 0 1 1 0 2.666H5.333a4 4 0 0 1-4-4v-12a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v1.334a1.333 1.333 0 1 1-2.666 0V5.333A1.334 1.334 0 0 0 17.333 4h-12z"]},h={prefix:"fac",iconName:"expand",icon:[32,32,[],"e008","M13.432 27.9a1.333 1.333 0 0 1-1.304 1.36l-7.998.172a1.333 1.333 0 0 1-1.362-1.304l-.171-7.999a1.333 1.333 0 0 1 2.666-.057l.142 6.665 6.666-.142a1.333 1.333 0 0 1 1.361 1.304zM28.201 13.123a1.333 1.333 0 0 1-1.39-1.273l-.294-6.66-6.66.293a1.333 1.333 0 1 1-.118-2.664l7.992-.352a1.333 1.333 0 0 1 1.39 1.273l.353 7.992a1.333 1.333 0 0 1-1.273 1.391z M17.977 14.518a1.333 1.333 0 0 1-.084-1.884L26.806 2.9a1.333 1.333 0 0 1 1.967 1.8l-8.913 9.736c-.497.543-1.34.58-1.883.083zM3.179 29.062a1.333 1.333 0 0 1-.04-1.886l9.13-9.53a1.333 1.333 0 0 1 1.926 1.844l-9.131 9.531c-.51.532-1.354.55-1.885.04z"]},m={prefix:"fac",iconName:"minimize",icon:[32,32,[],"e009","M4 18.667c0-.737.597-1.334 1.333-1.334h8c.737 0 1.334.597 1.334 1.334v8a1.333 1.333 0 0 1-2.667 0V20H5.333A1.333 1.333 0 0 1 4 18.667zM18.667 4C19.403 4 20 4.597 20 5.333V12h6.667a1.333 1.333 0 1 1 0 2.667h-8a1.333 1.333 0 0 1-1.334-1.334v-8c0-.736.597-1.333 1.334-1.333z M28.943 3.057c.52.52.52 1.365 0 1.886l-9.334 9.333a1.333 1.333 0 1 1-1.885-1.886l9.333-9.333c.52-.52 1.365-.52 1.886 0zM14.276 17.724c.52.52.52 1.365 0 1.886l-9.333 9.333a1.333 1.333 0 0 1-1.886-1.886l9.333-9.333c.521-.52 1.365-.52 1.886 0z"]},g={prefix:"fac",iconName:"single-exit",icon:[32,32,[],"e010","M21 8H11V14H21V8ZM10 7V15H15.5V19H12V25H20V19H16.5V15H22V7H10ZM13 20H19V24H13V20Z"]},k={prefix:"fac",iconName:"advanced-exit",icon:[32,32,[],"e011","M11 8H21V14H11V8ZM10 7H22V15H16.5V19H25V25H7V19H15.5V15H10V7ZM24 20H8V24H24V20ZM13 22C13 22.5523 12.5523 23 12 23C11.4477 23 11 22.5523 11 22C11 21.4477 11.4477 21 12 21C12.5523 21 13 21.4477 13 22ZM16 23C16.5523 23 17 22.5523 17 22C17 21.4477 16.5523 21 16 21C15.4477 21 15 21.4477 15 22C15 22.5523 15.4477 23 16 23ZM21 22C21 22.5523 20.5523 23 20 23C19.4477 23 19 22.5523 19 22C19 21.4477 19.4477 21 20 21C20.5523 21 21 21.4477 21 22Z"]},j={prefix:"fac",iconName:"one-exit-per-choice",icon:[32,32,[],"e012","M21 8H11V14H21V8ZM10 7V15H15.5V18.5H11.5V21H9V25H14V21H12.5V19.5H19.5V21H18V25H23V21H20.5V18.5H16.5V15H22V7H10ZM10 24V22H13V24H10ZM22 24V22H19V24H22Z"]},_={prefix:"fac",iconName:"home",icon:[24,24,[],"e013","M9.38843 22.559V15.3539H14.6058V22.559C14.6058 23.3515 15.1927 24 15.9101 24H19.8231C20.5405 24 21.1275 23.3515 21.1275 22.559V12.4719H23.3448C23.9448 12.4719 24.2318 11.6506 23.7753 11.2183L12.871 0.367457C12.3754 -0.122486 11.6188 -0.122486 11.1232 0.367457L0.218936 11.2183C-0.224539 11.6506 0.0493717 12.4719 0.649367 12.4719H2.86674V22.559C2.86674 23.3515 3.45369 24 4.17108 24H8.08409C8.80148 24 9.38843 23.3515 9.38843 22.559Z"]},O={prefix:"fac",iconName:"content",icon:[32,32,[],"e014","M23 4v0c0.552 0 1 0.448 1 1v23c0 0.552-0.448 1-1 1h-14c-0.552 0-1-0.448-1-1v-23c0-0.552 0.448-1 1-1h14zM9 3c-1.105 0-2 0.895-2 2v0 23c0 1.105 0.895 2 2 2v0h14c1.105 0 2-0.895 2-2v0-23c0-1.105-0.895-2-2-2v0h-14z M19.7 7v0c0.552 0 1 0.448 1 1v13c0 0.552-0.448 1-1 1h-7.2c-0.552 0-1-0.448-1-1v-13c0-0.552 0.448-1 1-1h7.2zM12.5 6c-1.105 0-2 0.895-2 2v0 13c0 1.105 0.895 2 2 2v0h7.2c1.105 0 2-0.895 2-2v0-13c0-1.105-0.895-2-2-2v0h-7.2zM16 27v0c-0.552 0-1-0.448-1-1s0.448-1 1-1v0c0.552 0 1 0.448 1 1s-0.448 1-1 1zM16 28c1.105 0 2-0.895 2-2s-0.895-2-2-2v0c-1.105 0-2 0.895-2 2s0.895 2 2 2v0z"]},y={prefix:"fac",iconName:"contact",icon:[32,32,[],"e015","M16 13v0c-2.761 0-5-2.239-5-5s2.239-5 5-5v0c2.761 0 5 2.239 5 5s-2.239 5-5 5zM16 14c3.314 0 6-2.686 6-6s-2.686-6-6-6v0c-3.314 0-6 2.686-6 6s2.686 6 6 6v0zM9 15.89h14c1.105 0 2 0.895 2 2v10.443h-18v-10.444c0-1.105 0.895-2 2-2zM26 17.889c0-1.657-1.343-3-3-3v0h-14c-1.657 0-3 1.343-3 3v0 11.444h20v-11.443z"]},w={prefix:"fac",iconName:"branching",icon:[32,32,[],"e016","M12 4v4h-10v-4h10zM2 3c-0.552 0-1 0.448-1 1v0 4c0 0.552 0.448 1 1 1v0h10c0.552 0 1-0.448 1-1v0-4c0-0.552-0.448-1-1-1v0h-10zM26 4v4h-10v-4h10zM16 3c-0.552 0-1 0.448-1 1v0 4c0 0.552 0.448 1 1 1v0h10c0.552 0 1-0.448 1-1v0-4c0-0.552-0.448-1-1-1v0h-10zM20 14v4h-10v-4h10zM10 13c-0.552 0-1 0.448-1 1v0 4c0 0.552 0.448 1 1 1v0h10c0.552 0 1-0.448 1-1v0-4c0-0.552-0.448-1-1-1v0h-10zM30 24v4h-10v-4h10zM20 23c-0.552 0-1 0.448-1 1v0 4c0 0.552 0.448 1 1 1v0h10c0.552 0 1-0.448 1-1v0-4c0-0.552-0.448-1-1-1v0h-10z M15 6.5h-2.5v-1h2.5v1zM28.5 6.5h-2v-1h3v11.5h-8.5v-1h7.5v-9.5zM14.5 19h1v7h3.5v1h-4.5v-8z"]},C={prefix:"fac",iconName:"weather",icon:[32,32,[],"e017","M9.294 7.97c-2.196-0.082-4.117 1.822-4.194 4.36-0.002 0.053-0.003 0.116-0.003 0.179 0 1.041 0.329 2.005 0.889 2.793l-0.010-0.015-0.812 0.578c-0.668-0.936-1.068-2.103-1.068-3.364 0-0.073 0.001-0.146 0.004-0.219l-0 0.010c0.092-2.998 2.39-5.429 5.225-5.323 1.29 0.048 2.444 0.618 3.304 1.505l-0.715 0.694c-0.696-0.717-1.611-1.162-2.62-1.2z M10 16.1c0-3.415 2.506-6.1 5.5-6.1 2.21 0 4.146 1.454 5.017 3.597l0.205 0.504 0.485-0.247c0.699-0.356 1.475-0.554 2.293-0.554 2.994 0 5.5 2.685 5.5 6.1s-2.506 6.1-5.5 6.1h-14.721l-0.219-0.027c-1.965-0.239-3.56-2.093-3.56-4.423 0-2.504 1.835-4.45 4-4.45h0c0.155 0 0.308 0.010 0.44 0.027l0.561 0.068-0.001-0.595zM9.016 15.6h-0.016c-2.805 0-5 2.486-5 5.45 0 2.603 1.688 4.831 4 5.341v0.109h15.5c3.634 0 6.5-3.225 6.5-7.1s-2.866-7.1-6.5-7.1c-0.799 0-1.564 0.157-2.27 0.445-1.088-2.212-3.23-3.745-5.73-3.745-3.476 0-6.25 2.951-6.484 6.6zM13.928 5.91l-1 1.65-0.856-0.52 1-1.65 0.856 0.52zM7.488 3.89l0.5 2.2-0.976 0.22-0.5-2.2 0.976-0.22zM2.24 8.511l2 1.1-0.482 0.876-2-1.1 0.482-0.876zM2.129 16.863l1.5-1.65 0.74 0.672-1.5 1.65-0.74-0.672z"]},x={prefix:"fac",iconName:"developer",icon:[32,32,[],"e018","M11.052 12.934c0-0 0-0 0-0 0-0.25-0.202-0.452-0.452-0.452-0.061 0-0.12 0.012-0.173 0.034l0.003-0.001-7.958 3.23c-0.279 0.116-0.471 0.386-0.471 0.701s0.192 0.585 0.466 0.699l0.005 0.002 7.958 3.23c0.050 0.021 0.108 0.033 0.169 0.033 0.25 0 0.452-0.203 0.452-0.452 0-0.189-0.116-0.351-0.28-0.418l-0.003-0.001-7.746-3.092 7.746-3.093c0.168-0.069 0.284-0.23 0.284-0.42 0-0 0-0 0-0v0zM12.319 25.385c-0.017 0.046-0.026 0.098-0.026 0.153 0 0.255 0.207 0.462 0.462 0.462 0.2 0 0.371-0.128 0.435-0.306l0.001-0.003 6.704-19.076c0.017-0.046 0.026-0.098 0.026-0.153 0-0.255-0.207-0.462-0.462-0.462-0.2 0-0.371 0.128-0.435 0.306l-0.001 0.003-6.704 19.076zM21.57 12.515c-0.053-0.024-0.116-0.038-0.181-0.038-0.25 0-0.452 0.202-0.452 0.452 0 0.193 0.122 0.358 0.292 0.423l0.003 0.001 7.746 3.093-7.746 3.092c-0.174 0.066-0.296 0.231-0.296 0.424 0 0.25 0.202 0.452 0.452 0.452 0.066 0 0.128-0.014 0.184-0.039l-0.003 0.001 7.958-3.229c0.279-0.116 0.471-0.386 0.471-0.701s-0.192-0.585-0.466-0.699l-0.005-0.002-7.958-3.23z"]},E={prefix:"fac",iconName:"text",icon:[32,32,[],"e019","M3.5 6.115a1.5 1.5 0 0 0-1.5 1.5v15.87a1.5 1.5 0 0 0 1.5 1.5h7.112l1.588 3.177c.622 1.245 2.459 1.044 2.796-.307l.718-2.87h8.594a1.5 1.5 0 0 0 1.5-1.5V7.115h-.588v-1H5.469v2h18.34v14.87h-8.486a1.5 1.5 0 0 0-1.455 1.137l-.484 1.936-1.122-2.243a1.5 1.5 0 0 0-1.341-.83H4V8.115h1.469v-2H3.5z M5.469 13.698c0-.454.368-.822.823-.822h7.818a.823.823 0 1 1 0 1.646H6.292a.823.823 0 0 1-.823-.824zM5.469 18.636c0-.454.368-.823.823-.823h11.933a.823.823 0 1 1 0 1.646H6.292a.823.823 0 0 1-.823-.823z M29.335 9.584a6.584 6.584 0 1 1-13.168 0 6.584 6.584 0 0 1 13.168 0z M22.751 14.521a4.938 4.938 0 1 0 0-9.875 4.938 4.938 0 0 0 0 9.875zm0 1.646a6.584 6.584 0 1 0 0-13.167 6.584 6.584 0 0 0 0 13.167z M23.74 12.298a.578.578 0 0 1-1.155 0V8.13h-.972a.508.508 0 0 1 0-1.017h3.099a.508.508 0 1 1 0 1.017h-.972v4.167z"]},B=[l,u,d,b,f,p,v,h,m,g,k,j,_,O,y,w,C,x,E];r["c"].add.apply(r["c"],[c["a"],s["a"],c["b"],c["c"],s["b"],s["c"],s["d"],s["e"],s["f"],s["g"],c["d"],c["e"],s["h"],s["i"]].concat(Object(a["a"])(B))),n["default"].component("FontAwesomeIcon",i["a"])},"0c39":function(e,t,o){},"0f77":function(e,t,o){},1023:function(e,t,o){},"109e":function(e,t,o){"use strict";var a=o("37e5"),n=o.n(a);n.a},1677:function(e,t,o){"use strict";var a=o("4205"),n=o.n(a);n.a},"18b0":function(e,t,o){"use strict";o.d(t,"c",(function(){return a})),o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return _}));var a,n,i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-output-branching-config"},[o("div",{staticClass:"form-group"},[o("label",{class:e.labelClass},[e._v(e._s(e._f("trans")("flow-builder.output-branching")))]),o("div",{staticClass:"btn-group d-block"},[e.hasExitPerChoice?o("button",{staticClass:"btn btn-sm",class:{active:e.isBranchingTypeExitPerChoice,"btn-primary":e.isBranchingTypeExitPerChoice,"btn-outline-primary":!e.isBranchingTypeExitPerChoice},attrs:{title:e._f("trans")("flow-builder.separate-output-for-each-choice"),"data-placement":"bottom","data-toggle":"tooltip"},on:{click:function(t){e.selectedBranchingType=e.OutputBranchingType.EXIT_PER_CHOICE}}},[o("font-awesome-icon",{staticClass:"exit-type-icons",attrs:{icon:["fac","one-exit-per-choice"]}})],1):e._e(),e.hasUnifiedExit?o("button",{staticClass:"btn btn-sm",class:{active:e.isBranchingTypeUnified,"btn-primary":e.isBranchingTypeUnified,"btn-outline-primary":!e.isBranchingTypeUnified},attrs:{title:e._f("trans")("flow-builder.one-output-for-all-choices"),"data-placement":"bottom","data-toggle":"tooltip"},on:{click:function(t){e.selectedBranchingType=e.OutputBranchingType.UNIFIED}}},[o("font-awesome-icon",{staticClass:"exit-type-icons",attrs:{icon:["fac","single-exit"]}})],1):e._e(),o("button",{staticClass:"btn btn-sm",class:{active:e.isBranchingTypeAdvanced,"btn-primary":e.isBranchingTypeAdvanced,"btn-outline-primary":!e.isBranchingTypeAdvanced},attrs:{title:e._f("trans")("flow-builder.advanced-configuration-of-outputs"),"data-placement":"bottom","data-toggle":"tooltip",disabled:!e.hasUnifiedExit&&!e.hasExitPerChoice},on:{click:function(t){e.selectedBranchingType=e.OutputBranchingType.ADVANCED}}},[o("font-awesome-icon",{staticClass:"exit-type-icons",attrs:{icon:["fac","advanced-exit"]}})],1)])]),e.isBranchingTypeAdvanced?o("advanced-exits-builder",{attrs:{block:e.block}}):e._e(),o("div",{staticClass:"form-group"},[o("h6",[e._v("When no valid response/all exit expressions evaluate to false")]),o("div",{staticClass:"form-check"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.noValidResponse,expression:"noValidResponse"}],staticClass:"form-check-input",attrs:{id:e.NoValidResponseHandler.END_CALL,type:"radio"},domProps:{value:e.NoValidResponseHandler.END_CALL,checked:e._q(e.noValidResponse,e.NoValidResponseHandler.END_CALL)},on:{change:function(t){e.noValidResponse=e.NoValidResponseHandler.END_CALL}}}),o("label",{staticClass:"form-check-label",attrs:{for:e.NoValidResponseHandler.END_CALL}},[e._v(" End the call/session ")])]),o("div",{staticClass:"form-check"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.noValidResponse,expression:"noValidResponse"}],staticClass:"form-check-input",attrs:{id:e.NoValidResponseHandler.CONTINUE_THRU_EXIT,type:"radio"},domProps:{value:e.NoValidResponseHandler.CONTINUE_THRU_EXIT,checked:e._q(e.noValidResponse,e.NoValidResponseHandler.CONTINUE_THRU_EXIT)},on:{change:function(t){e.noValidResponse=e.NoValidResponseHandler.CONTINUE_THRU_EXIT}}}),o("label",{staticClass:"form-check-label",attrs:{for:e.NoValidResponseHandler.CONTINUE_THRU_EXIT}},[e._v(" Continue through Default exit ")])])])],1)},r=[],c=o("276c"),s=o("e954"),l=o("2c4c"),u=o("920b"),d=o("92a6"),b=o("fc11"),f=(o("99af"),o("9ab4")),p=o("2ef0"),v=o("1b40"),h=o("9300"),m=o("2fe1"),g=o("4a51"),k=o("4bb5"),j=Object(k["e"])("flow");(function(e){e["UNIFIED"]="UNIFIED",e["EXIT_PER_CHOICE"]="EXIT_PER_CHOICE",e["ADVANCED"]="ADVANCED"})(a||(a={})),function(e){e["END_CALL"]="END_CALL",e["CONTINUE_THRU_EXIT"]="CONTINUE_THRU_EXIT"}(n||(n={}));var _=function(e){Object(u["a"])(o,e);var t=Object(d["a"])(o);function o(){var e;Object(c["a"])(this,o);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),Object(b["a"])(Object(l["a"])(e),"block",void 0),Object(b["a"])(Object(l["a"])(e),"hasExitPerChoice",void 0),Object(b["a"])(Object(l["a"])(e),"hasUnifiedExit",void 0),Object(b["a"])(Object(l["a"])(e),"labelClass",void 0),Object(b["a"])(Object(l["a"])(e),"OutputBranchingType",a),Object(b["a"])(Object(l["a"])(e),"NoValidResponseHandler",n),Object(b["a"])(Object(l["a"])(e),"block_updateVendorMetadataByPath",void 0),Object(b["a"])(Object(l["a"])(e),"block_exitClearDestinationBlockFor",void 0),e}return Object(s["a"])(o,[{key:"mounted",value:function(){Object(p["isEmpty"])(this.selectedBranchingType)&&(this.selectedBranchingType=a.UNIFIED),Object(p["isEmpty"])(this.noValidResponse)&&(this.noValidResponse=n.END_CALL)}},{key:"selectedBranchingType",get:function(){return Object(p["get"])(this.block.vendor_metadata,"io_viamo.branchingType")},set:function(e){var t=this.block.uuid;switch(this.block_updateVendorMetadataByPath({blockId:t,path:"io_viamo.branchingType",value:e}),e){case a.UNIFIED:this.$emit("branchingTypeChangedToUnified");break;case a.EXIT_PER_CHOICE:break;case a.ADVANCED:break;default:console.warn("block-editors/BlockOutputBranchingConfig","Unknown branching type received.",{branchingType:e})}this.$emit("branchingTypeChanged",{branchingType:e})}},{key:"noValidResponse",get:function(){return Object(p["get"])(this.block.vendor_metadata,"io_viamo.noValidResponse")},set:function(e){var t=this.block.uuid;this.block_updateVendorMetadataByPath({blockId:t,path:"io_viamo.noValidResponse",value:e});var o=Object(p["find"])(this.block.exits,"default");if(null==o)throw new h["ValidationException"]("Missing default exit on block ".concat(t,"."));this.block_exitClearDestinationBlockFor({blockExit:o})}},{key:"isBranchingTypeExitPerChoice",get:function(){return this.selectedBranchingType===a.EXIT_PER_CHOICE}},{key:"isBranchingTypeUnified",get:function(){return this.selectedBranchingType===a.UNIFIED}},{key:"isBranchingTypeAdvanced",get:function(){return this.selectedBranchingType===a.ADVANCED}}]),o}(Object(m["c"])(g["a"]));Object(f["__decorate"])([Object(v["b"])()],_.prototype,"block",void 0),Object(f["__decorate"])([Object(v["b"])()],_.prototype,"hasExitPerChoice",void 0),Object(f["__decorate"])([Object(v["b"])({default:!0})],_.prototype,"hasUnifiedExit",void 0),Object(f["__decorate"])([Object(v["b"])({default:"text-primary"})],_.prototype,"labelClass",void 0),Object(f["__decorate"])([j.Mutation],_.prototype,"block_updateVendorMetadataByPath",void 0),Object(f["__decorate"])([j.Mutation],_.prototype,"block_exitClearDestinationBlockFor",void 0),_=Object(f["__decorate"])([Object(v["a"])({})],_);var O=_,y=O,w=(o("d220"),o("2877")),C=Object(w["a"])(y,i,r,!1,null,"f9bc9488",null);C.exports},2003:function(e,t,o){},"289e":function(e,t,o){},"2b44":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return T}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"smart-devices-photo-response-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),e.promptResource?o("resource-editor",{attrs:{resource:e.promptResource,block:e.block,flow:e.flow}}):e._e(),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="SmartDevices.PhotoResponse",k={},j={},_={createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.next=4,a("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return i=o.sent,o.t0=a,o.next=8,(new v["IdGeneratorUuidV4"]).generate();case 8:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=14,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 14:return o.t5=o.sent,r=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",exits:r,config:{prompt:i.uuid},tags:[],vendor_metadata:{}}));case 17:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"NOT(block.value = false)"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("4a51"),w=o("af98"),C=o("2fe1"),x=Object(b["e"])("flow"),E=Object(b["e"])("builder"),B=Object(b["e"])("flow/".concat(g)),I=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"resourcesByUuidOnActiveFlow",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),e}return Object(r["a"])(o,[{key:"promptResource",get:function(){return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]}}]),o}(Object(C["c"])(y["a"]));Object(d["__decorate"])([Object(f["b"])()],I.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],I.prototype,"flow",void 0),Object(d["__decorate"])([x.Getter],I.prototype,"resourcesByUuidOnActiveFlow",void 0),Object(d["__decorate"])([E.Getter],I.prototype,"isEditable",void 0),Object(d["__decorate"])([B.Action],I.prototype,"handleBranchingTypeChangedToUnified",void 0),I=Object(d["__decorate"])([Object(f["a"])({})],I);var S=I,T=Object(w["d"])(g,O),M=S,R=o("2877"),A=Object(R["a"])(M,a,n,!1,null,null,null);t["default"]=A.exports},"2d61":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return R}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-primitive-numeric-response-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),o("minimum-numeric-editor",{attrs:{block:e.block},on:{commitValidationMinimumChange:e.updateValidationMin}}),o("maximum-numeric-editor",{attrs:{block:e.block},on:{commitValidationMaximumChange:e.updateValidationMax}}),o("max-digit-editor",{attrs:{block:e.block,"has-ivr":e.hasVoiceMode},on:{commitMaxDigitsChange:e.updateMaxDigits}}),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),e.promptResource?o("resource-editor",{attrs:{resource:e.promptResource,block:e.block,flow:e.flow}}):e._e(),e._t("extras"),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="MobilePrimitives.NumericResponse",k={},j={},_={setValidationMinimum:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.value,r=""===i?void 0:i,a("flow/block_updateConfigByKey",{blockId:n,key:"validation_minimum",value:r},{root:!0}),o.abrupt("return",r);case 5:case"end":return o.stop()}}),o)})))()},setValidationMaximum:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.value,r=""===i?void 0:i,a("flow/block_updateConfigByKey",{blockId:n,key:"validation_maximum",value:r},{root:!0}),o.abrupt("return",r);case 5:case"end":return o.stop()}}),o)})))()},setMaxDigits:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.value,r=""===i?void 0:i,a("flow/block_updateConfigByKey",{blockId:n,key:"ivr",value:{max_digits:r}},{root:!0}),o.abrupt("return",r);case 5:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,e.commit,n=t.props,o.t0=a,o.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.next=15,a("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 15:return r=o.sent,o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",exits:i,config:{prompt:r.uuid,validation_minimum:void 0,validation_maximum:void 0},tags:[],vendor_metadata:{}}));case 17:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:O(a)},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}};function O(e){return null!==e.config.validation_minimum&&void 0!==e.config.validation_minimum||null!==e.config.validation_maximum&&void 0!==e.config.validation_maximum?null!==e.config.validation_minimum&&void 0!==e.config.validation_minimum&&null!==e.config.validation_maximum&&void 0!==e.config.validation_maximum?"AND(is_number(block.value, block.value >= ".concat(e.config.validation_minimum,", block.value <= ").concat(e.config.validation_maximum,"))"):null===e.config.validation_minimum||void 0===e.config.validation_minimum||null!==e.config.validation_maximum&&void 0!==e.config.validation_maximum?null!==e.config.validation_minimum&&void 0!==e.config.validation_minimum||null===e.config.validation_maximum||void 0===e.config.validation_maximum?(console.warn("Exit test condition not found for NumericBlock, providing `true` by default"),"true"):"AND(is_number(block.value), block.value <= ".concat(e.config.validation_maximum,"))"):"AND(is_number(block.value), block.value >= ".concat(e.config.validation_minimum,"))"):"is_number(block.value)"}var y={namespaced:!0,getters:k,mutations:j,actions:_},w=o("4a51"),C=o("af98"),x=o("2fe1"),E=o("18b0"),B=Object(b["e"])("flow"),I=Object(b["e"])("flow/".concat(g)),S=Object(b["e"])("builder"),T=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"resourcesByUuidOnActiveFlow",void 0),Object(u["a"])(Object(c["a"])(e),"hasVoiceMode",void 0),Object(u["a"])(Object(c["a"])(e),"block_convertExitFormationToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"setValidationMinimum",void 0),Object(u["a"])(Object(c["a"])(e),"setValidationMaximum",void 0),Object(u["a"])(Object(c["a"])(e),"setMaxDigits",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),e}return Object(r["a"])(o,[{key:"promptResource",get:function(){return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]}},{key:"updateValidationMin",value:function(e){this.setValidationMinimum({blockId:this.block.uuid,value:e}),this.handleActionsAccordingToBranchingType()}},{key:"updateValidationMax",value:function(e){this.setValidationMaximum({blockId:this.block.uuid,value:e}),this.handleActionsAccordingToBranchingType()}},{key:"updateMaxDigits",value:function(e){this.setMaxDigits({blockId:this.block.uuid,value:e})}},{key:"handleActionsAccordingToBranchingType",value:function(){var e=this.block.vendor_metadata,t=E["c"].UNIFIED;e.io_viamo.branchingType===t&&this.handleBranchingTypeChangedToUnified({block:this.block})}}]),o}(Object(x["c"])(w["a"]));Object(d["__decorate"])([Object(f["b"])()],T.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],T.prototype,"flow",void 0),Object(d["__decorate"])([B.Getter],T.prototype,"resourcesByUuidOnActiveFlow",void 0),Object(d["__decorate"])([B.Getter],T.prototype,"hasVoiceMode",void 0),Object(d["__decorate"])([B.Action],T.prototype,"block_convertExitFormationToUnified",void 0),Object(d["__decorate"])([I.Action],T.prototype,"setValidationMinimum",void 0),Object(d["__decorate"])([I.Action],T.prototype,"setValidationMaximum",void 0),Object(d["__decorate"])([I.Action],T.prototype,"setMaxDigits",void 0),Object(d["__decorate"])([I.Action],T.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([S.Getter],T.prototype,"isEditable",void 0),T=Object(d["__decorate"])([Object(f["a"])({})],T);var M=T,R=Object(C["d"])(g,y),A=M,L=o("2877"),V=Object(L["a"])(A,a,n,!1,null,null,null);t["default"]=V.exports},"2fbc":function(e,t,o){},"341e":function(e,t,o){"use strict";var a=o("1023"),n=o.n(a);n.a},"34c1":function(e,t,o){var a={"./1.0.0-rc1/flowSpecJsonSchema.json":"fc41","./1.0.0-rc2/flowSpecJsonSchema.json":"5a2e","./1.0.0-rc3/flowSpecJsonSchema.json":"29d3","./1.0.0-rc4/flowSpecJsonSchema.json":"9b2d","./current/flowSpecJsonSchema.json":"0eaa"};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="34c1"},"37e5":function(e,t,o){},"393e":function(e,t,o){"use strict";o.d(t,"e",(function(){return l})),o.d(t,"f",(function(){return u})),o.d(t,"a",(function(){return d})),o.d(t,"d",(function(){return p})),o.d(t,"c",(function(){return v})),o.d(t,"b",(function(){return h}));var a=o("fc11"),n=o("f3f3"),i=o("c964"),r=(o("96cf"),o("a434"),o("d3b7"),o("ddb0"),o("4de4"),o("99af"),o("b64b"),o("13d5"),o("9300")),c=o("44e8"),s=o("2ef0"),l={resourcesByUuidOnActiveFlow:function(e,t){return Object(s["keyBy"])(t.activeFlow.resources,"uuid")},resourceUuidsOnActiveFlow:function(e,t){return Object(s["filter"])(Object(s["map"])(t.activeFlow.resources,(function(e){return e.uuid})))}},u={},d={resource_add:function(e,t){var o=e.getters,a=t.resource;if(null==a)throw new c["a"]("Unable to add null resource to flow");o.activeFlow.resources.push(a)},resource_delete:function(e,t){var o=e.getters,a=t.resourceId,n=o.activeFlow,i=Object(s["findIndex"])(n.resources,(function(e){return e.uuid===a}));n.resources.splice(i,1)},resource_createVariant:function(e,t){var o=e.getters,a=t.resourceId,n=t.variant;b(a,o.activeFlow).values.push(Object(s["cloneDeep"])(n))},resource_setValue:function(e,t){var o=e.getters,a=t.resourceId,n=t.filter,i=t.value;f(a,n,o.activeFlow).value=i||""},resource_setModes:function(e,t){var o=e.getters,a=t.resourceId,n=t.filter,i=t.modes;if(Object(s["isEmpty"])(i))throw new c["a"]("`mode` is required to assign mode on `IResourceDefinitionVariantOverModes`.");f(a,n,o.activeFlow).modes=i},resource_createWith:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.props,e.abrupt("return",Object(n["a"])({},Object(s["defaults"])(o,{values:[]})));case 2:case"end":return e.stop()}}),e)})))()},resource_setOrCreateValueModeSpecific:function(e,t){e.commit;var o=e.dispatch,a=(e.state,e.getters),n=t.resourceId,i=t.filter,r=t.value;try{f(n,i,a.activeFlow),o("resource_setValueModeSpecific",{resourceId:n,filter:i,value:r})}catch(l){if(!(l instanceof c["a"]))throw l;o("resource_createVariant",{resourceId:n,variant:Object.assign(Object(s["cloneDeep"])(i),{value:r})})}},resource_setValueModeSpecific:function(e,t){e.commit,e.state;var o=e.dispatch,a=e.getters,n=t.resourceId,i=t.filter,r=t.value,c=Object(s["first"])(i.modes),l=f(n,i,a.activeFlow);if(l.modes.length>1)return o("resource_setModes",{resourceId:n,filter:l,modes:Object(s["without"])(l.modes,c)}),void o("resource_createVariant",{resourceId:n,variant:Object.assign(Object(s["cloneDeep"])(l),{modes:[c],value:r})});o("resource_setValue",{resourceId:n,filter:l,value:r})}};function b(e,t){var o=t.resources,a=Object(s["find"])(o,{uuid:e});if(null==a)throw new c["a"]("Unable to find resource on context: ".concat(e," in ").concat(Object(s["map"])(o,"uuid")));return a}function f(e,t,o){return p(b(e,o),t)}function p(e,t){var o=Object(s["without"])(Object.keys(t),"modes"),a=Object(s["pick"])(t,o),n=Object(s["find"])(e.values,(function(e){return Object(s["isEqual"])(a,Object(s["pick"])(e,o))&&0===Object(s["difference"])(t.modes,e.modes).length}));if(null==n)throw new c["a"]("Unable to find resource variant (over modes) on context: (\n      ".concat(e.uuid,",\n      ").concat(JSON.stringify(t),") in\n        ").concat(JSON.stringify(Object(s["map"])(e.values,(function(e){return Object(s["pick"])(e,o)})))));return n}function v(e,t){try{return p(e,t)}catch(o){if(!(o instanceof c["a"]))throw o;return Object.assign(Object(s["cloneDeep"])(t),{value:""})}}function h(e,t){var o,n=r["SupportedContentType"].TEXT,i=r["SupportedContentType"].AUDIO,c=r["SupportedContentType"].IMAGE,s=r["SupportedContentType"].VIDEO,l=(o={},Object(a["a"])(o,r["SupportedMode"].IVR,[i]),Object(a["a"])(o,r["SupportedMode"].SMS,[n]),Object(a["a"])(o,r["SupportedMode"].TEXT,[n]),Object(a["a"])(o,r["SupportedMode"].USSD,[n]),Object(a["a"])(o,r["SupportedMode"].OFFLINE,[n,c,s]),Object(a["a"])(o,r["SupportedMode"].RICH_MESSAGING,[n,c,s]),o);if(!t||!t.values.length)return l[e];var u={};return u=t.values.reduce((function(e,t){return t.modes.reduce((function(e,o){return e[o]||(e[o]=[]),e[o].push(t.content_type),e}),e),e}),u),Object.assign(l,u)[e]}},"3bae":function(e,t,o){"use strict";var a=o("581b"),n=o.n(a);n.a},"3dbb":function(e,t,o){"use strict";var a=o("6fb5"),n=o.n(a);n.a},"3ebb":function(e,t,o){"use strict";var a=o("2fbc"),n=o.n(a);n.a},"3ef7":function(e,t,o){"use strict";o.r(t),o.d(t,"BaseBlock",(function(){return m}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("resource-editors"),e._t("extras"),e.usesDefaultBranchingEditor?e._t("branching",(function(){return[o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:e.handleBranchingTypeChangedToUnified}})]})):e._e(),o("categorization",{attrs:{block:e.block}}),e.usesDefaultContactPropsEditor?e._t("contact-props",(function(){return[o("generic-contact-property-editor",{attrs:{block:e.block}})]})):e._e(),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("4a51"),v=o("2fe1"),h=Object(b["e"])("builder"),m=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"usesDefaultBranchingEditor",void 0),Object(u["a"])(Object(c["a"])(e),"usesDefaultContactPropsEditor",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),e}return Object(r["a"])(o,[{key:"handleBranchingTypeChangedToUnified",value:function(){this.$emit("handleBranchingTypeChangedToUnified")}}]),o}(Object(v["c"])(p["a"]));Object(d["__decorate"])([Object(f["b"])()],m.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],m.prototype,"flow",void 0),Object(d["__decorate"])([Object(f["b"])({default:!0})],m.prototype,"usesDefaultBranchingEditor",void 0),Object(d["__decorate"])([Object(f["b"])({default:!0})],m.prototype,"usesDefaultContactPropsEditor",void 0),Object(d["__decorate"])([Object(f["b"])({default:!1})],m.prototype,"showSemanticLabel",void 0),Object(d["__decorate"])([h.Getter],m.prototype,"isEditable",void 0),m=Object(d["__decorate"])([Object(f["a"])({})],m);var g=m,k=g,j=o("2877"),_=Object(j["a"])(k,a,n,!1,null,null,null);t["default"]=_.exports},"41bd":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return S}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"core-log-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/message"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("expression-input",{attrs:{label:e._f("trans")("flow-builder.log-message"),placeholder:e._f("trans")("flow-builder.enter-message"),"current-expression":e.value,"valid-state":a},on:{commitExpressionChange:e.commitMessageChange}})]}}])}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="Core.Log",k={},j={},_={editMessage:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.message,a("flow/block_updateConfigByKey",{blockId:n,key:"message",value:i},{root:!0}),o.abrupt("return",i);case 4:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.t0=a,o.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",exits:i,config:{message:""},tags:[],vendor_metadata:{}}));case 14:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value = true"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("af98"),w=o("4a51"),C=o("2fe1"),x=Object(b["e"])("flow/".concat(g)),E=Object(b["e"])("builder"),B=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"editMessage",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),e}return Object(r["a"])(o,[{key:"value",get:function(){return this.block.config.message||""}},{key:"commitMessageChange",value:function(e){return this.editMessage({blockId:this.block.uuid,message:e})}}]),o}(Object(C["c"])(w["a"]));Object(d["__decorate"])([Object(f["b"])()],B.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],B.prototype,"flow",void 0),Object(d["__decorate"])([x.Action],B.prototype,"editMessage",void 0),Object(d["__decorate"])([x.Action],B.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([E.Getter],B.prototype,"isEditable",void 0),B=Object(d["__decorate"])([Object(f["a"])({})],B);var I=B,S=Object(y["d"])(g,O),T=I,M=o("2877"),R=Object(M["a"])(T,a,n,!1,null,null,null);t["default"]=R.exports},4205:function(e,t,o){},"425b":function(e,t,o){"use strict";var a=o("829c"),n=o.n(a);n.a},4364:function(e,t,o){"use strict";var a=o("0f77"),n=o.n(a);n.a},4456:function(e,t,o){},"4456a":function(e,t,o){},4678:function(e,t,o){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="4678"},"4a51":function(e,t,o){"use strict";(function(e){o.d(t,"b",(function(){return p}));var a=o("276c"),n=o("e954"),i=o("920b"),r=o("92a6"),c=o("9ab4"),s=o("a026"),l=o("1b40"),u=e,d=function(e,t){return u.Lang?u.Lang[e].apply(u.Lang,t):t[0]},b=function(e){return function(){return d(e,arguments)}},f=function(e){Object(i["a"])(o,e);var t=Object(r["a"])(o);function o(){return Object(a["a"])(this,o),t.apply(this,arguments)}return Object(n["a"])(o,[{key:"trans",value:function(e,t){return u.Lang.trans(e,t)}},{key:"transIf",value:function(e,t){return e?this.trans(t):""}}]),o}(s["default"]);f=Object(c["__decorate"])([Object(l["a"])({filters:{trans:b("trans"),choice:b("choice")}})],f),t["a"]=f;var p=f}).call(this,o("c8ba"))},"4ebe":function(e,t,o){"use strict";var a=o("dc3c"),n=o.n(a);n.a},5800:function(e,t,o){var a={"./1.0.0-rc1/IAdvancedSelectOneBlock.json":"467b","./1.0.0-rc1/ICaseBlock.json":"24dc","./1.0.0-rc1/ILocationResponseBlock.json":"b194","./1.0.0-rc1/ILogBlock.json":"7074","./1.0.0-rc1/IMessageBlock.json":"aa41","./1.0.0-rc1/INumericResponseBlock.json":"e0ae","./1.0.0-rc1/IOpenResponseBlock.json":"5831","./1.0.0-rc1/IOutputBlock.json":"5663","./1.0.0-rc1/IPhotoResponseBlock.json":"a0ef","./1.0.0-rc1/IPrintBlock.json":"79a9","./1.0.0-rc1/IReadBlock.json":"27e7","./1.0.0-rc1/IRunFlowBlock.json":"bf9a","./1.0.0-rc1/ISelectManyResponseBlock.json":"44db","./1.0.0-rc1/ISelectOneResponseBlock.json":"5149","./1.0.0-rc1/ISetContactPropertyBlock.json":"f37b","./1.0.0-rc1/ISetGroupMembershipBlock.json":"45d5","./1.0.0-rc2/IAdvancedSelectOneBlock.json":"5c3b","./1.0.0-rc2/ICaseBlock.json":"fabe","./1.0.0-rc2/ILocationResponseBlock.json":"24e6","./1.0.0-rc2/ILogBlock.json":"025b","./1.0.0-rc2/IMessageBlock.json":"5402","./1.0.0-rc2/INumericResponseBlock.json":"0999","./1.0.0-rc2/IOpenResponseBlock.json":"6612","./1.0.0-rc2/IOutputBlock.json":"c3a9","./1.0.0-rc2/IPhotoResponseBlock.json":"42f5","./1.0.0-rc2/IPrintBlock.json":"3d43","./1.0.0-rc2/IReadBlock.json":"56d3","./1.0.0-rc2/IRunFlowBlock.json":"4377","./1.0.0-rc2/ISelectManyResponseBlock.json":"468a","./1.0.0-rc2/ISelectOneResponseBlock.json":"897a","./1.0.0-rc2/ISetContactPropertyBlock.json":"9744","./1.0.0-rc2/ISetGroupMembershipBlock.json":"f2ae","./1.0.0-rc3/IAdvancedSelectOneBlock.json":"ebe9","./1.0.0-rc3/ICaseBlock.json":"df71","./1.0.0-rc3/ILocationResponseBlock.json":"4b5a","./1.0.0-rc3/ILogBlock.json":"5c92","./1.0.0-rc3/IMessageBlock.json":"9f75","./1.0.0-rc3/INumericResponseBlock.json":"ca51","./1.0.0-rc3/IOpenResponseBlock.json":"284f","./1.0.0-rc3/IOutputBlock.json":"bf9b","./1.0.0-rc3/IPhotoResponseBlock.json":"3da6","./1.0.0-rc3/IPrintBlock.json":"b781","./1.0.0-rc3/IReadBlock.json":"5bbb","./1.0.0-rc3/IRunFlowBlock.json":"84e0","./1.0.0-rc3/ISelectManyResponseBlock.json":"347b","./1.0.0-rc3/ISelectOneResponseBlock.json":"8832","./1.0.0-rc3/ISetContactPropertyBlock.json":"9b07","./1.0.0-rc3/ISetGroupMembershipBlock.json":"e4a3","./1.0.0-rc4/IAdvancedSelectOneBlock.json":"171d","./1.0.0-rc4/ICaseBlock.json":"35a7","./1.0.0-rc4/ILocationResponseBlock.json":"c6df","./1.0.0-rc4/ILogBlock.json":"0468","./1.0.0-rc4/IMessageBlock.json":"6faa","./1.0.0-rc4/INumericResponseBlock.json":"d6b7","./1.0.0-rc4/IOpenResponseBlock.json":"6897","./1.0.0-rc4/IOutputBlock.json":"ee9c","./1.0.0-rc4/IPhotoResponseBlock.json":"fdc7","./1.0.0-rc4/IPrintBlock.json":"3897","./1.0.0-rc4/IReadBlock.json":"74af","./1.0.0-rc4/IRunFlowBlock.json":"a629","./1.0.0-rc4/ISelectManyResponseBlock.json":"bcf6","./1.0.0-rc4/ISelectOneResponseBlock.json":"fea94","./1.0.0-rc4/ISetContactPropertyBlock.json":"7464","./1.0.0-rc4/ISetGroupMembershipBlock.json":"f47e","./current/IAdvancedSelectOneBlock.json":"9e25","./current/ICaseBlock.json":"0e0e","./current/ILocationResponseBlock.json":"24e9","./current/ILogBlock.json":"8b9f","./current/IMessageBlock.json":"1010","./current/INumericResponseBlock.json":"5cb6","./current/IOpenResponseBlock.json":"30f6","./current/IOutputBlock.json":"858c","./current/IPhotoResponseBlock.json":"768e","./current/IPrintBlock.json":"7cfe","./current/IReadBlock.json":"65d3","./current/IRunFlowBlock.json":"2ced","./current/ISelectManyResponseBlock.json":"d713","./current/ISelectOneResponseBlock.json":"d76c","./current/ISetContactPropertyBlock.json":"41c5","./current/ISetGroupMembershipBlock.json":"44b3"};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="5800"},5801:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var a=o("c964"),n=o("f3f3"),i=(o("b64b"),o("a15b"),o("d81d"),o("96cf"),o("9300")),r=o("31aa"),c=o("2ef0"),s=o("18b0"),l=o("85b2"),u=o("ecef"),d="MobilePrimitives.SelectManyResponse",b=Object(n["a"])({},u["d"]),f=Object(n["a"])({},u["e"]),p=Object(n["a"])(Object(n["a"])({},u["b"]),{},{setMinChoices:function(e,t){var o=e.commit,a=e.dispatch,n=e.rootGetters,r=t.blockId,l=t.value,u=Object(i["findBlockWith"])(r,n["flow/activeFlow"]);o("flow/block_updateConfigByKey",{blockId:u.uuid,key:"minimum_choices",value:Object(c["isNumber"])(l)?l:void 0},{root:!0});var d=u.vendor_metadata,b=s["c"].UNIFIED;d.io_viamo.branchingType===b&&a("handleBranchingTypeChangedToUnified",{block:u})},setMaxChoices:function(e,t){var o=e.commit,a=e.dispatch,n=e.rootGetters,r=t.blockId,l=t.value,u=Object(i["findBlockWith"])(r,n["flow/activeFlow"]);o("flow/block_updateConfigByKey",{blockId:u.uuid,key:"maximum_choices",value:Object(c["isNumber"])(l)?l:void 0},{root:!0});var d=u.vendor_metadata,b=s["c"].UNIFIED;d.io_viamo.branchingType===b&&a("handleBranchingTypeChangedToUnified",{block:u})},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:v(a)},{root:!0})},createWith:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function o(){var a,n,i,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.next=4,a("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return i=o.sent,o.t0=a,o.next=8,(new r["IdGeneratorUuidV4"]).generate();case 8:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=14,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 14:return o.t5=o.sent,s=[o.t5],o.abrupt("return",Object(c["defaultsDeep"])(n,{type:d,name:"",label:"",semantic_label:"",exits:s,config:{prompt:i.uuid,choices:{},minimum_choices:void 0,maximum_choices:void 0},vendor_metadata:{},tags:[]}));case 17:case"end":return o.stop()}}),o)})))()},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(l["f"])({block:o,schemaVersion:a})}});function v(e){var t=e.config,o=t.choices,a=t.minimum_choices,n=t.maximum_choices,i=Object.keys(o);if(0===i.length)return console.warn("Choices are empty for SelectManyBlock, providing `true` by default"),"true";var r="COUNT(block.value) >= ".concat(a),s="COUNT(block.value) <= ".concat(n),l="OR(".concat(i.map((function(e){return'IN("'.concat(e,'", block.value)')})).join(", "),")");return Object(c["isNumber"])(a)&&Object(c["isNumber"])(n)?"AND(".concat([r,s,l].join(", "),")"):Object(c["isNumber"])(a)?"AND(".concat([r,l].join(", "),")"):Object(c["isNumber"])(n)?"AND(".concat([s,l].join(", "),")"):l}t["b"]={namespaced:!0,state:u["f"],getters:b,mutations:f,actions:p}},"581b":function(e,t,o){},"59c3":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return T}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"smart-devices-location-response-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("threshold-editor",{attrs:{block:e.block},on:{commitAccuracyThresholdMetersChange:e.updateThreshold}}),o("timeout-editor",{attrs:{block:e.block},on:{commitAccuracyTimeoutSecondsChange:e.updateTimeout}}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),e.promptResource?o("resource-editor",{attrs:{resource:e.promptResource,block:e.block,flow:e.flow}}):e._e(),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="SmartDevices.LocationResponse",k={},j={},_={setAccuracyThreshold:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.value,a("flow/block_updateConfigByKey",{blockId:n,key:"accuracy_threshold_meters",value:i},{root:!0}),o.abrupt("return",i);case 4:case"end":return o.stop()}}),o)})))()},setAccuracyTimeout:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.value,a("flow/block_updateConfigByKey",{blockId:n,key:"accuracy_timeout_seconds",value:i},{root:!0}),o.abrupt("return",i);case 4:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.next=4,a("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return i=o.sent,o.t0=a,o.next=8,(new v["IdGeneratorUuidV4"]).generate();case 8:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=14,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 14:return o.t5=o.sent,r=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",exits:r,config:{prompt:i.uuid,accuracy_threshold_meters:5,accuracy_timeout_seconds:120},tags:[],vendor_metadata:{}}));case 17:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"NOT(block.value = false)"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("4a51"),w=o("af98"),C=o("2fe1"),x=Object(b["e"])("flow"),E=Object(b["e"])("flow/".concat(g)),B=Object(b["e"])("builder"),I=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"resourcesByUuidOnActiveFlow",void 0),Object(u["a"])(Object(c["a"])(e),"setAccuracyThreshold",void 0),Object(u["a"])(Object(c["a"])(e),"setAccuracyTimeout",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),e}return Object(r["a"])(o,[{key:"updateThreshold",value:function(e){this.setAccuracyThreshold({blockId:this.block.uuid,value:e})}},{key:"updateTimeout",value:function(e){this.setAccuracyTimeout({blockId:this.block.uuid,value:e})}},{key:"promptResource",get:function(){return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]}}]),o}(Object(C["c"])(y["a"]));Object(d["__decorate"])([Object(f["b"])()],I.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],I.prototype,"flow",void 0),Object(d["__decorate"])([x.Getter],I.prototype,"resourcesByUuidOnActiveFlow",void 0),Object(d["__decorate"])([E.Action],I.prototype,"setAccuracyThreshold",void 0),Object(d["__decorate"])([E.Action],I.prototype,"setAccuracyTimeout",void 0),Object(d["__decorate"])([E.Action],I.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([B.Getter],I.prototype,"isEditable",void 0),I=Object(d["__decorate"])([Object(f["a"])({})],I);var S=I,T=Object(w["d"])(g,O),M=S,R=o("2877"),A=Object(R["a"])(M,a,n,!1,null,null,null);t["default"]=A.exports},"5c47":function(e,t,o){"use strict";o.r(t),o.d(t,"MobilePrimitives_SelectOneResponseBlock",(function(){return w})),o.d(t,"install",(function(){return x}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-primitive-select-one-response-block"},[o("base-block",{attrs:{block:e.block,flow:e.flow,"uses-default-contact-props-editor":e.usesDefaultContactPropsEditor,"uses-default-branching-editor":e.usesDefaultBranchingEditor,"show-semantic-label":!1}},[o("template",{slot:"extras"},[e.$slots["extras"]?e._e():[o("choices-builder",{attrs:{block:e.block},on:{choiceChanged:e.handleChoiceChanged}}),e.$slots["branching"]?e._e():o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!0,"label-class":""},on:{branchingTypeChanged:function(t){return e.reflowExitsWhenSwitchingToBranchingTypeNotUnified()}}}),o("div",{staticClass:"prompt-resource"},[e.promptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.prompt"),resource:e.promptResource,block:e.block,flow:e.flow}}):e._e()],1)],e.$slots["extras"]?e._t("extras"):e._e()],2),o("template",{slot:"branching"},[e._t("branching")],2),o("template",{slot:"contact-props"},[e._t("contact-props")],2)],2),e._t("vendor")],2)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("9300"),f=o("4bb5"),p=o("1b40"),v=o("2ef0"),h=o("ecef"),m=o("4a51"),g=o("af98"),k=o("2fe1"),j=o("393e"),_=o("18b0"),O=Object(f["e"])("flow"),y=Object(f["e"])("flow/".concat(h["a"])),w=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"usesDefaultBranchingEditor",void 0),Object(u["a"])(Object(c["a"])(e),"usesDefaultContactPropsEditor",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"SupportedMode",b["SupportedMode"]),Object(u["a"])(Object(c["a"])(e),"findOrGenerateStubbedVariantOn",j["c"]),Object(u["a"])(Object(c["a"])(e),"resourcesByUuidOnActiveFlow",void 0),Object(u["a"])(Object(c["a"])(e),"reflowExitsFromChoices",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),e}return Object(r["a"])(o,[{key:"promptResource",get:function(){return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]}},{key:"handleChoiceChanged",value:function(){var e=this.block,t=e.uuid,o=e.vendor_metadata,a=_["c"].EXIT_PER_CHOICE,n=_["c"].UNIFIED;o.io_viamo.branchingType===n&&this.handleBranchingTypeChangedToUnified({block:this.block}),o.io_viamo.branchingType===a&&this.reflowExitsFromChoices({blockId:t})}},{key:"reflowExitsWhenSwitchingToBranchingTypeNotUnified",value:function(){var e=this.block,t=e.uuid,o=e.vendor_metadata,a=_["c"].EXIT_PER_CHOICE,n=_["c"].ADVANCED,i=Object(v["includes"])([a,n],o.io_viamo.branchingType);i?this.reflowExitsFromChoices({blockId:t}):this.handleBranchingTypeChangedToUnified({block:this.block})}}]),o}(Object(k["c"])(m["a"]));Object(d["__decorate"])([Object(p["b"])()],w.prototype,"block",void 0),Object(d["__decorate"])([Object(p["b"])()],w.prototype,"flow",void 0),Object(d["__decorate"])([Object(p["b"])({default:!1})],w.prototype,"usesDefaultBranchingEditor",void 0),Object(d["__decorate"])([Object(p["b"])({default:!0})],w.prototype,"usesDefaultContactPropsEditor",void 0),Object(d["__decorate"])([O.Getter],w.prototype,"resourcesByUuidOnActiveFlow",void 0),Object(d["__decorate"])([y.Action],w.prototype,"reflowExitsFromChoices",void 0),Object(d["__decorate"])([y.Action],w.prototype,"handleBranchingTypeChangedToUnified",void 0),w=Object(d["__decorate"])([Object(p["a"])({})],w);var C=w,x=Object(g["d"])(h["a"],h["c"]),E=C,B=o("2877"),I=Object(B["a"])(E,a,n,!1,null,null,null);t["default"]=I.exports},"5d73":function(e,t,o){"use strict";var a=o("9266"),n=o.n(a);n.a},"5d74":function(e,t,o){"use strict";var a=o("0c39"),n=o.n(a);n.a},"5dcb":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return S}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"core-output-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/value"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("expression-input",{attrs:{label:e._f("trans")("flow-builder.output-expression"),placeholder:e._f("trans")("flow-builder.enter-expression"),"current-expression":e.value,"valid-state":a},on:{commitExpressionChange:e.commitExpressionChange}})]}}])}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="Core.Output",k={},j={},_={editOutputExpression:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.value,a("flow/block_updateConfig",{blockId:n,newConfig:{value:i}},{root:!0}),o.abrupt("return",i);case 4:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.t0=a,o.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",config:{value:null},exits:i,tags:[],vendor_metadata:{}}));case 14:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value > 0"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("4a51"),w=o("af98"),C=o("2fe1"),x=Object(b["e"])("flow/".concat(g)),E=Object(b["e"])("builder"),B=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"editOutputExpression",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),e}return Object(r["a"])(o,[{key:"value",get:function(){return this.block.config.value||""}},{key:"commitExpressionChange",value:function(e){return this.editOutputExpression({blockId:this.block.uuid,value:e})}}]),o}(Object(C["c"])(y["a"]));Object(d["__decorate"])([Object(f["b"])()],B.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],B.prototype,"flow",void 0),Object(d["__decorate"])([x.Action],B.prototype,"editOutputExpression",void 0),Object(d["__decorate"])([x.Action],B.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([E.Getter],B.prototype,"isEditable",void 0),B=Object(d["__decorate"])([Object(f["a"])({})],B);var I=B,S=Object(w["d"])(g,O),T=I,M=o("2877"),R=Object(M["a"])(T,a,n,!1,null,null,null);t["default"]=R.exports},"64bb":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return T}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-primitive-open-response-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("hr"),o("max-duration-seconds-editor",{attrs:{block:e.block,"has-ivr":e.hasVoiceMode},on:{commitMaxDurationChange:e.setMaxDurationSeconds}}),o("max-response-characters-editor",{attrs:{block:e.block,"has-text":e.hasTextMode},on:{commitMaxResponseCharactersChange:e.setMaxResponseCharacters}}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),e.promptResource?o("resource-editor",{attrs:{resource:e.promptResource,block:e.block,flow:e.flow}}):e._e(),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="MobilePrimitives.OpenResponse",k={},j={},_={setMaxDurationSeconds:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=e.rootGetters,i=n["builder/activeBlock"],a("flow/block_updateConfigByKey",{blockId:i.uuid,key:"ivr",value:{max_duration_seconds:t}},{root:!0}),o.abrupt("return",t);case 4:case"end":return o.stop()}}),o)})))()},setMaxResponseCharacters:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=e.rootGetters,i=n["builder/activeBlock"],r={max_response_characters:t},a("flow/block_updateConfigByKey",{blockId:i.uuid,key:"text",value:r},{root:!0}),o.abrupt("return",r);case 5:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,e.commit,n=t.props,o.t0=a,o.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.next=15,a("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 15:return r=o.sent,o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",exits:i,config:{prompt:r.uuid},tags:[],vendor_metadata:{}}));case 17:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"LEN(block.value) > 0"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("4a51"),w=o("af98"),C=o("2fe1"),x=Object(b["e"])("flow"),E=Object(b["e"])("flow/".concat(g)),B=Object(b["e"])("builder"),I=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"resourcesByUuidOnActiveFlow",void 0),Object(u["a"])(Object(c["a"])(e),"hasTextMode",void 0),Object(u["a"])(Object(c["a"])(e),"hasVoiceMode",void 0),Object(u["a"])(Object(c["a"])(e),"setMaxDurationSeconds",void 0),Object(u["a"])(Object(c["a"])(e),"setMaxResponseCharacters",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),e}return Object(r["a"])(o,[{key:"promptResource",get:function(){return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]}}]),o}(Object(C["c"])(y["a"]));Object(d["__decorate"])([Object(f["b"])()],I.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],I.prototype,"flow",void 0),Object(d["__decorate"])([x.Getter],I.prototype,"resourcesByUuidOnActiveFlow",void 0),Object(d["__decorate"])([x.Getter],I.prototype,"hasTextMode",void 0),Object(d["__decorate"])([x.Getter],I.prototype,"hasVoiceMode",void 0),Object(d["__decorate"])([E.Action],I.prototype,"setMaxDurationSeconds",void 0),Object(d["__decorate"])([E.Action],I.prototype,"setMaxResponseCharacters",void 0),Object(d["__decorate"])([E.Action],I.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([B.Getter],I.prototype,"isEditable",void 0),I=Object(d["__decorate"])([Object(f["a"])({})],I);var S=I,T=Object(w["d"])(g,O),M=S,R=o("2877"),A=Object(R["a"])(M,a,n,!1,null,null,null);t["default"]=A.exports},"65ca":function(e,t,o){"use strict";var a=o("2003"),n=o.n(a);n.a},"6a7a":function(e,t,o){"use strict";var a=o("a379"),n=o.n(a);n.a},"6ba7":function(e,t,o){},"6df9":function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"d",(function(){return u})),o.d(t,"a",(function(){return d})),o.d(t,"c",(function(){return b}));var a=o("c964"),n=o("f3f3"),i=(o("96cf"),o("b0c0"),o("a434"),o("4de4"),o("a026")),r=o("9300"),c=o("2ef0"),s=o("31aa"),l={},u={block_setName:function(e,t){var o=t.blockId,a=t.value;Object(r["findBlockOnActiveFlowWith"])(o,e).name=a},block_setLabel:function(e,t){var o=t.blockId,a=t.value;Object(r["findBlockOnActiveFlowWith"])(o,e).label=a},block_setSemanticLabel:function(e,t){var o=t.blockId,a=t.value;Object(r["findBlockOnActiveFlowWith"])(o,e).semantic_label=a},block_setTags:function(e,t){var o=t.blockId,a=t.value;Object(r["findBlockOnActiveFlowWith"])(o,e).tags=a},block_addTag:function(e,t){var o=t.blockId,a=t.value,n=Object(r["findBlockOnActiveFlowWith"])(o,e);Object(c["isArray"])(n.tags)?n.tags.push(a):n.tags=[a]},block_setExitName:function(e,t){var o=t.exitId,a=t.blockId,n=t.value,i=Object(r["findBlockOnActiveFlowWith"])(a,e);Object(r["findBlockExitWith"])(o,i).name=n},block_setExitTest:function(e,t){var o=t.exitId,a=t.blockId,n=t.value,i=Object(r["findBlockOnActiveFlowWith"])(a,e);Object(r["findBlockExitWith"])(o,i).test=n},block_setExitSemanticLabel:function(e,t){var o=t.exitId,a=t.blockId,n=t.value,i=Object(r["findBlockOnActiveFlowWith"])(a,e);Object(r["findBlockExitWith"])(o,i).semantic_label=n},block_addExit:function(e,t){var o=t.blockId,a=t.exit,n=Object(r["findBlockOnActiveFlowWith"])(o,e);n.exits.splice(n.exits.length-1,0,a)},block_removeExit:function(e,t){var o=t.blockId,a=t.exit,n=Object(r["findBlockOnActiveFlowWith"])(o,e);n.exits=Object(c["reject"])(n.exits,(function(e){return e.uuid===a.uuid}))},block_updateConfig:function(e,t){var o=t.blockId,a=t.newConfig;Object(r["findBlockOnActiveFlowWith"])(o,e).config=a},block_updateConfigByKey:function(e,t){var o=t.blockId,a=t.key,i=t.value,c=Object(r["findBlockOnActiveFlowWith"])(o,e).config;c[a]=i,Object(r["findBlockOnActiveFlowWith"])(o,e).config=Object(n["a"])({},c)},block_removeConfigByKey:function(e,t){var o=t.blockId,a=t.key;i["default"].delete(Object(r["findBlockOnActiveFlowWith"])(o,e).config,a)},block_updateConfigByPath:function(e,t){var o=t.blockId,a=t.path,n=t.value;Object(c["setWith"])(Object(r["findBlockOnActiveFlowWith"])(o,e).config,a,n,(function(e,t,o){return i["default"].set(o,t,e)}))},block_setBlockExitDestinationBlockId:function(e,t){var o=t.blockId,a=t.exitId,n=t.destinationBlockId;n||(n=void 0);var i=Object(r["findBlockOnActiveFlowWith"])(o,e);Object(r["findBlockExitWith"])(a,i).destination_block=n},block_updateVendorMetadataByPath:function(e,t){var o=t.blockId,a=t.path,n=t.value,s=Object(r["findBlockOnActiveFlowWith"])(o,e).vendor_metadata,l=Object(c["toPath"])(a);Object(c["reduce"])(l,(function(e,t,o){var a=o===l.length-1?n:Object(c["get"])(e,t,{});return i["default"].set(e,t,a),a}),s)},block_exitClearDestinationBlockFor:function(e,t){var o=t.blockExit;o.destination_block=void 0}},d={block_setLabel:function(e,t){var o=e.commit,a=t.blockId,n=t.value;o("block_setLabel",{blockId:a,value:n}),o("block_setName",{blockId:a,value:Object(c["snakeCase"])(n)})},block_createBlockDefaultExitWith:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,i=t.props,o.abrupt("return",a("block_createBlockExitWith",{props:Object(n["a"])(Object(n["a"])({},i),{},{name:"Default",default:!0,test:""})}));case 3:case"end":return o.stop()}}),o)})))()},block_createBlockExitWith:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.dispatch,e.commit,a=t.props,o.abrupt("return",Object(n["a"])({},Object(c["defaults"])(a,{name:"",config:{},destination_block:void 0,test:"",semantic_label:void 0})));case 3:case"end":return o.stop()}}),o)})))()},block_updateBlockExitWith:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r,c,s,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:a=e.commit,n=t.blockId,i=t.exitId,r=t.props,c=r.test,s=r.name,l=r.semantic_label,a("block_setExitName",{blockId:n,exitId:i,value:s}),a("block_setExitTest",{blockId:n,exitId:i,value:c}),a("block_setExitSemanticLabel",{blockId:n,exitId:i,value:l});case 5:case"end":return o.stop()}}),o)})))()},block_swapBlockExitDestinationBlockIds:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function o(){var a,n,i,c,s,l,u,d,b,f;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a=e.commit,n=e.state,i=t.first,c=t.second,i&&c){o.next=5;break}return console.warn("Unable to swap destinationBlockId on null: ".concat(JSON.stringify({first:i,second:c}))),o.abrupt("return");case 5:s=Object(r["findBlockOnActiveFlowWith"])(i.blockId,n),l=Object(r["findBlockOnActiveFlowWith"])(c.blockId,n),u=Object(r["findBlockExitWith"])(i.exitId,s),d=u.destination_block,b=Object(r["findBlockExitWith"])(c.exitId,l),f=b.destination_block,a("block_setBlockExitDestinationBlockId",{blockId:c.blockId,exitId:c.exitId,destinationBlockId:d}),a("block_setBlockExitDestinationBlockId",{blockId:i.blockId,exitId:i.exitId,destinationBlockId:f});case 11:case"end":return o.stop()}}),o)})))()},block_convertExitFormationToUnified:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function o(){var a,n,i,l,u,d;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.state,n=e.dispatch,i=t.blockId,l=t.test,u=Object(r["findBlockOnActiveFlowWith"])(i,a),o.next=5,(new s["IdGeneratorUuidV4"]).generate();case 5:return o.t0=o.sent,o.t1=l,d={uuid:o.t0,name:"1",test:o.t1},o.next=10,n("block_createBlockExitWith",{props:d});case 10:o.t2=o.sent,o.t3=Object(c["last"])(u.exits),u.exits=[o.t2,o.t3];case 13:case"end":return o.stop()}}),o)})))()},block_select:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function o(){var a,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:a=e.state,n=t.blockId,a.selectedBlocks.push(n);case 3:case"end":return o.stop()}}),o)})))()},block_deselect:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function o(){var a,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:a=e.state,n=t.blockId,a.selectedBlocks=a.selectedBlocks.filter((function(e){return e!==n}));case 3:case"end":return o.stop()}}),o)})))()}};function b(e){return Object(c["has"])(e.config,"prompt")}},"6e6b":function(e,t,o){},"6fb5":function(e,t,o){},"78cc":function(e,t,o){"use strict";var a=o("c441"),n=o.n(a);n.a},"79f2":function(e,t,o){"use strict";var a=o("eef5"),n=o.n(a);n.a},"7ec0":function(e,t,o){"use strict";var a=o("6e6b"),n=o.n(a);n.a},"7f46":function(e,t,o){"use strict";var a=o("8394"),n=o.n(a);n.a},"829c":function(e,t,o){},8394:function(e,t,o){},"84d1":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return M}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"core-set-contact-property-block"},[o("base-block",{attrs:{block:e.block,flow:e.flow,"show-semantic-label":!1,"uses-default-contact-props-editor":e.usesDefaultContactPropsEditor,"uses-default-branching-editor":e.usesDefaultBranchingEditor},on:{handleBranchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}},[o("template",{slot:"extras"},[e.$slots["extras"]?e._e():o("contact-property-editor",{attrs:{block:e.block}}),e.$slots["extras"]?e._t("extras"):e._e()],2),o("template",{slot:"branching"},[e._t("branching")],2),o("template",{slot:"contact-props"},[e._t("contact-props")],2)],2),e._t("vendor")],2)},n=[],i=o("276c"),r=o("2c4c"),c=o("920b"),s=o("92a6"),l=o("fc11"),u=(o("99af"),o("9ab4")),d=o("4bb5"),b=o("1b40"),f=o("c964"),p=(o("96cf"),o("31aa")),v=o("2ef0"),h=o("85b2"),m={},g={},k={createWith:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.dispatch,a=t.props,o.abrupt("return",Object(v["defaultsDeep"])(a,{type:"",name:"",label:"",semantic_label:"",config:{},exits:[],tags:[],vendor_metadata:{}}));case 3:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value = true"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(h["f"])({block:o,schemaVersion:a})}},j={namespaced:!0,getters:m,mutations:g,actions:k},_="Core.SetContactProperty",O=Object(v["cloneDeep"])(j.actions),y={createWith:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,n.type=_,n.config={set_contact_property:{property_key:"",property_value:""}},o.t0=a,o.next=7,(new p["IdGeneratorUuidV4"]).generate();case 7:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=13,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 13:return o.t5=o.sent,i=[o.t5],n.exits=i,o.abrupt("return",O.createWith({dispatch:a},{props:n}));case 17:case"end":return o.stop()}}),o)})))()}},w=Object(v["cloneDeep"])(j);w.actions.createWith=y.createWith;var C=w,x=o("4a51"),E=o("af98"),B=o("2fe1"),I=Object(d["e"])("flow/".concat(_)),S=function(e){Object(c["a"])(o,e);var t=Object(s["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n)),Object(l["a"])(Object(r["a"])(e),"block",void 0),Object(l["a"])(Object(r["a"])(e),"flow",void 0),Object(l["a"])(Object(r["a"])(e),"usesDefaultBranchingEditor",void 0),Object(l["a"])(Object(r["a"])(e),"usesDefaultContactPropsEditor",void 0),Object(l["a"])(Object(r["a"])(e),"showSemanticLabel",!1),Object(l["a"])(Object(r["a"])(e),"handleBranchingTypeChangedToUnified",void 0),e}return o}(Object(B["c"])(x["a"]));Object(u["__decorate"])([Object(b["b"])()],S.prototype,"block",void 0),Object(u["__decorate"])([Object(b["b"])()],S.prototype,"flow",void 0),Object(u["__decorate"])([Object(b["b"])({default:!0})],S.prototype,"usesDefaultBranchingEditor",void 0),Object(u["__decorate"])([Object(b["b"])({default:!1})],S.prototype,"usesDefaultContactPropsEditor",void 0),Object(u["__decorate"])([I.Action],S.prototype,"handleBranchingTypeChangedToUnified",void 0),S=Object(u["__decorate"])([Object(b["a"])({})],S);var T=S,M=Object(E["d"])(_,C),R=T,A=o("2877"),L=Object(A["a"])(R,a,n,!1,null,null,null);t["default"]=L.exports},"85b2":function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return b})),o.d(t,"c",(function(){return f})),o.d(t,"d",(function(){return p})),o.d(t,"e",(function(){return v})),o.d(t,"f",(function(){return h}));o("e260"),o("4ec9"),o("d3b7"),o("3ca3"),o("ddb0"),o("99af"),o("a15b"),o("d81d"),o("159b"),o("caad"),o("ac1f"),o("1276");var a=o("ebd9"),n=o.n(a),i=o("2ef0"),r=o("1401"),c=o.n(r),s=["additionalProperties","required"],l=new Map;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=new n.a({allErrors:!0});if(c()(o),""===t)return o.compile(e);var a=o.getSchema(t);if(a||(o.addSchema(e),a=o.getSchema(t)),!a)throw new Error("Cannot find definition ".concat(t," in schema ").concat(e));return a}function d(e,t){null!=e?console.debug("store/validation:",t," | isValid:",e.isValid," | error dataPaths:","".concat(Object.prototype.hasOwnProperty.call(e,"ajvErrors")&&e.ajvErrors?e.ajvErrors.map((function(e){return Object(i["get"])(e,"dataPath","undefined")})).join(";"):"undefined")," | error messages:","".concat(Object.prototype.hasOwnProperty.call(e,"ajvErrors")&&e.ajvErrors?e.ajvErrors.map((function(e){return Object(i["get"])(e,"message","undefined")})).join(";"):"undefined")," | error details:",e):console.debug("store/validation:","the status in debugValidationStatus was undefined")}function b(e){var t=e.keyPrefix,o=e.errors,a=e.accumulator;null===o||void 0===o||o.forEach((function(e){var o="",n="";s.includes(e.keyword)?(o="".concat(t).concat(e.schemaPath),n="".concat(e.message,", for params ").concat(JSON.stringify(e.params)),console.warn("store/validation:","Schema issue found on ".concat(o,": ").concat(n))):(o="".concat(t).concat(e.dataPath),n=e.message),a[o]=n}))}function f(e){var t="flow";if(Object(i["isEmpty"])(l)||!l.has(t)){var a=o("34c1")("./".concat(e,"/flowSpecJsonSchema.json"));a.definitions.IFlow.additionalProperties=!0,delete a.definitions.IFlow.properties.blocks,l.set(t,u(a,"#/definitions/IFlow"))}return l.get(t)}function p(e){var t="language";if(Object(i["isEmpty"])(l)||!l.has(t)){var a=o("34c1")("./".concat(e,"/flowSpecJsonSchema.json"));l.set(t,u(a,"#/definitions/ILanguage"))}return l.get(t)}function v(e){var t="resource";if(Object(i["isEmpty"])(l)||!l.has(t)){var a=o("34c1")("./".concat(e,"/flowSpecJsonSchema.json"));l.set(t,u(a,"#/definitions/IResource"))}return l.get(t)}function h(e){var t=e.block,a=e.schemaVersion,n=null;if(Object(i["isEmpty"])(l)||!l.has(t.type)){var r,c=t.type.split(".")[t.type.split(".").length-1];try{r=o("5800")("./".concat(a,"/I").concat(c,"Block.json")),n=u(r)}catch(s){if("MODULE_NOT_FOUND"!==s.code)throw s;console.info("A Specific Validator for the ".concat(c,"Block could not be found. ")+"Falling back the generic Block validator for ".concat(a)),r=o("34c1")("./".concat(a,"/flowSpecJsonSchema.json")),n=u(r,"#/definitions/IBlock")}l.set(t.type,n)}else n=l.get(t.type);return{isValid:n(t),ajvErrors:n.errors,type:t.type,label:t.label,context:{resourceUuid:Object(i["get"])(t,"config.prompt")}}}},"865f":function(e,t,o){"use strict";var a=o("6ba7"),n=o.n(a);n.a},"884b":function(e,t,o){},9266:function(e,t,o){},"9ea4":function(e,t,o){"use strict";var a=o("884b"),n=o.n(a);n.a},a379:function(e,t,o){},a925:function(e,t,o){var a={"./af":"65d7","./af.js":"65d7","./ar":"87f4","./ar-dz":"a873","./ar-dz.js":"a873","./ar-kw":"1333","./ar-kw.js":"1333","./ar-ly":"9f58","./ar-ly.js":"9f58","./ar-ma":"2e78","./ar-ma.js":"2e78","./ar-sa":"7727","./ar-sa.js":"7727","./ar-tn":"2c75","./ar-tn.js":"2c75","./ar.js":"87f4","./az":"3f69","./az.js":"3f69","./be":"2e86","./be.js":"2e86","./bg":"f4c3","./bg.js":"f4c3","./bm":"d539","./bm.js":"d539","./bn":"772c","./bn-bd":"7612","./bn-bd.js":"7612","./bn.js":"772c","./bo":"7d2b","./bo.js":"7d2b","./br":"7e42","./br.js":"7e42","./bs":"1841","./bs.js":"1841","./ca":"a615","./ca.js":"a615","./cs":"a78e","./cs.js":"a78e","./cv":"8570","./cv.js":"8570","./cy":"9d4d","./cy.js":"9d4d","./da":"38ba","./da.js":"38ba","./de":"c3fe","./de-at":"9dc2","./de-at.js":"9dc2","./de-ch":"694b1","./de-ch.js":"694b1","./de.js":"c3fe","./dv":"8c17","./dv.js":"8c17","./el":"5c9d","./el.js":"5c9d","./en-au":"7213","./en-au.js":"7213","./en-ca":"09b1","./en-ca.js":"09b1","./en-gb":"a42a","./en-gb.js":"a42a","./en-ie":"8fd4","./en-ie.js":"8fd4","./en-il":"794e","./en-il.js":"794e","./en-in":"e734","./en-in.js":"e734","./en-nz":"6c36","./en-nz.js":"6c36","./en-sg":"939d","./en-sg.js":"939d","./eo":"372d","./eo.js":"372d","./es":"ca85","./es-do":"7a59","./es-do.js":"7a59","./es-mx":"287e","./es-mx.js":"287e","./es-us":"221d","./es-us.js":"221d","./es.js":"ca85","./et":"ac6e","./et.js":"ac6e","./eu":"acd5","./eu.js":"acd5","./fa":"4e16","./fa.js":"4e16","./fi":"2a06","./fi.js":"2a06","./fil":"64ae","./fil.js":"64ae","./fo":"3e12","./fo.js":"3e12","./fr":"0d66","./fr-ca":"0d57","./fr-ca.js":"0d57","./fr-ch":"798e","./fr-ch.js":"798e","./fr.js":"0d66","./fy":"bd4d","./fy.js":"bd4d","./ga":"0ff6","./ga.js":"0ff6","./gd":"c344","./gd.js":"c344","./gl":"7846","./gl.js":"7846","./gom-deva":"e29f","./gom-deva.js":"e29f","./gom-latn":"675b","./gom-latn.js":"675b","./gu":"538c","./gu.js":"538c","./he":"8df8e","./he.js":"8df8e","./hi":"ab57","./hi.js":"ab57","./hr":"807a","./hr.js":"807a","./hu":"3229","./hu.js":"3229","./hy-am":"ac77","./hy-am.js":"ac77","./id":"3500","./id.js":"3500","./is":"2330","./is.js":"2330","./it":"bf52","./it-ch":"42b7","./it-ch.js":"42b7","./it.js":"bf52","./ja":"c022","./ja.js":"c022","./jv":"6ac8","./jv.js":"6ac8","./ka":"56cf","./ka.js":"56cf","./kk":"6da0","./kk.js":"6da0","./km":"b5aa","./km.js":"b5aa","./kn":"bf53","./kn.js":"bf53","./ko":"315f","./ko.js":"315f","./ku":"09db","./ku.js":"09db","./ky":"bffd","./ky.js":"bffd","./lb":"c666","./lb.js":"c666","./lo":"0139","./lo.js":"0139","./lt":"57a4","./lt.js":"57a4","./lv":"4fdf","./lv.js":"4fdf","./me":"d087","./me.js":"d087","./mi":"bff4","./mi.js":"bff4","./mk":"7cff","./mk.js":"7cff","./ml":"cfd2","./ml.js":"cfd2","./mn":"d49a","./mn.js":"d49a","./mr":"afba","./mr.js":"afba","./ms":"ba94","./ms-my":"80d2","./ms-my.js":"80d2","./ms.js":"ba94","./mt":"236f","./mt.js":"236f","./my":"ceaa","./my.js":"ceaa","./nb":"cf62","./nb.js":"cf62","./ne":"6c11","./ne.js":"6c11","./nl":"8538","./nl-be":"18aa","./nl-be.js":"18aa","./nl.js":"8538","./nn":"5687","./nn.js":"5687","./oc-lnc":"7f9f","./oc-lnc.js":"7f9f","./pa-in":"f112","./pa-in.js":"f112","./pl":"a865","./pl.js":"a865","./pt":"3005","./pt-br":"d705","./pt-br.js":"d705","./pt.js":"3005","./ro":"c354","./ro.js":"c354","./ru":"b6f4","./ru.js":"b6f4","./sd":"6c64","./sd.js":"6c64","./se":"c2cd","./se.js":"c2cd","./si":"9a0c","./si.js":"9a0c","./sk":"91fd","./sk.js":"91fd","./sl":"800b","./sl.js":"800b","./sq":"8fc8","./sq.js":"8fc8","./sr":"58f6","./sr-cyrl":"7fa6","./sr-cyrl.js":"7fa6","./sr.js":"58f6","./ss":"ab05","./ss.js":"ab05","./sv":"489a","./sv.js":"489a","./sw":"f683","./sw.js":"f683","./ta":"30c0","./ta.js":"30c0","./te":"29e8","./te.js":"29e8","./tet":"80b7","./tet.js":"80b7","./tg":"9e71","./tg.js":"9e71","./th":"8575","./th.js":"8575","./tk":"929d","./tk.js":"929d","./tl-ph":"2935","./tl-ph.js":"2935","./tlh":"c80c","./tlh.js":"c80c","./tr":"6fa0","./tr.js":"6fa0","./tzl":"81a8","./tzl.js":"81a8","./tzm":"a30f","./tzm-latn":"083a","./tzm-latn.js":"083a","./tzm.js":"a30f","./ug-cn":"7994","./ug-cn.js":"7994","./uk":"660b","./uk.js":"660b","./ur":"a63f","./ur.js":"a63f","./uz":"62bb","./uz-latn":"4b8a","./uz-latn.js":"4b8a","./uz.js":"62bb","./vi":"0521","./vi.js":"0521","./x-pseudo":"b73e","./x-pseudo.js":"b73e","./yo":"f86c","./yo.js":"f86c","./zh-cn":"1f75","./zh-cn.js":"1f75","./zh-hk":"379a","./zh-hk.js":"379a","./zh-mo":"eee5","./zh-mo.js":"eee5","./zh-tw":"c840","./zh-tw.js":"c840"};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="a925"},ab96:function(e,t,o){var a={"./af":"8872","./af.js":"8872","./ar":"bb32","./ar-dz":"f38b","./ar-dz.js":"f38b","./ar-kw":"8a87","./ar-kw.js":"8a87","./ar-ly":"119f","./ar-ly.js":"119f","./ar-ma":"de6a","./ar-ma.js":"de6a","./ar-sa":"ab35","./ar-sa.js":"ab35","./ar-tn":"7068","./ar-tn.js":"7068","./ar.js":"bb32","./az":"32c8","./az.js":"32c8","./be":"a569","./be.js":"a569","./bg":"911b","./bg.js":"911b","./bm":"cade","./bm.js":"cade","./bn":"b059","./bn-bd":"60a6","./bn-bd.js":"60a6","./bn.js":"b059","./bo":"0b7e","./bo.js":"0b7e","./br":"7beb","./br.js":"7beb","./bs":"44a7","./bs.js":"44a7","./ca":"5978","./ca.js":"5978","./cs":"3e30","./cs.js":"3e30","./cv":"90d4","./cv.js":"90d4","./cy":"893a","./cy.js":"893a","./da":"673f","./da.js":"673f","./de":"745c","./de-at":"beab","./de-at.js":"beab","./de-ch":"5939","./de-ch.js":"5939","./de.js":"745c","./dv":"4da0","./dv.js":"4da0","./el":"6f8c","./el.js":"6f8c","./en-au":"8a25","./en-au.js":"8a25","./en-ca":"2e5f","./en-ca.js":"2e5f","./en-gb":"0787","./en-gb.js":"0787","./en-ie":"a30f3","./en-ie.js":"a30f3","./en-il":"45c0","./en-il.js":"45c0","./en-in":"3c1e","./en-in.js":"3c1e","./en-nz":"ff2e","./en-nz.js":"ff2e","./en-sg":"f14d","./en-sg.js":"f14d","./eo":"69bc","./eo.js":"69bc","./es":"f88f","./es-do":"66dc","./es-do.js":"66dc","./es-mx":"10af","./es-mx.js":"10af","./es-us":"e89d","./es-us.js":"e89d","./es.js":"f88f","./et":"71be","./et.js":"71be","./eu":"7780","./eu.js":"7780","./fa":"0b63","./fa.js":"0b63","./fi":"a33d","./fi.js":"a33d","./fil":"3dbd","./fil.js":"3dbd","./fo":"fc63","./fo.js":"fc63","./fr":"9a51","./fr-ca":"cda8","./fr-ca.js":"cda8","./fr-ch":"4a7d","./fr-ch.js":"4a7d","./fr.js":"9a51","./fy":"854a","./fy.js":"854a","./ga":"4489","./ga.js":"4489","./gd":"c0d5","./gd.js":"c0d5","./gl":"4530","./gl.js":"4530","./gom-deva":"8967","./gom-deva.js":"8967","./gom-latn":"2ef4","./gom-latn.js":"2ef4","./gu":"cbd2","./gu.js":"cbd2","./he":"c2f9","./he.js":"c2f9","./hi":"77fe","./hi.js":"77fe","./hr":"a34a","./hr.js":"a34a","./hu":"8d44","./hu.js":"8d44","./hy-am":"c920","./hy-am.js":"c920","./id":"4197","./id.js":"4197","./is":"540c","./is.js":"540c","./it":"2f58","./it-ch":"a347","./it-ch.js":"a347","./it.js":"2f58","./ja":"f6f6","./ja.js":"f6f6","./jv":"99f1","./jv.js":"99f1","./ka":"60e4","./ka.js":"60e4","./kk":"17f2","./kk.js":"17f2","./km":"ec19","./km.js":"ec19","./kn":"2216","./kn.js":"2216","./ko":"dba2","./ko.js":"dba2","./ku":"917e","./ku.js":"917e","./ky":"3ad1","./ky.js":"3ad1","./lb":"cb9a","./lb.js":"cb9a","./lo":"786a","./lo.js":"786a","./lt":"0eeb","./lt.js":"0eeb","./lv":"0716","./lv.js":"0716","./me":"325a","./me.js":"325a","./mi":"7732","./mi.js":"7732","./mk":"2fde","./mk.js":"2fde","./ml":"9991","./ml.js":"9991","./mn":"fb02","./mn.js":"fb02","./mr":"623d","./mr.js":"623d","./ms":"a904","./ms-my":"d801","./ms-my.js":"d801","./ms.js":"a904","./mt":"ddbe","./mt.js":"ddbe","./my":"c740","./my.js":"c740","./nb":"8196","./nb.js":"8196","./ne":"1f2a","./ne.js":"1f2a","./nl":"e056","./nl-be":"325b","./nl-be.js":"325b","./nl.js":"e056","./nn":"b7b0","./nn.js":"b7b0","./oc-lnc":"57c8","./oc-lnc.js":"57c8","./pa-in":"99c7","./pa-in.js":"99c7","./pl":"5919","./pl.js":"5919","./pt":"d9ae","./pt-br":"d851","./pt-br.js":"d851","./pt.js":"d9ae","./ro":"ce90","./ro.js":"ce90","./ru":"87a5","./ru.js":"87a5","./sd":"235c","./sd.js":"235c","./se":"839b","./se.js":"839b","./si":"2dd2","./si.js":"2dd2","./sk":"8cd8","./sk.js":"8cd8","./sl":"2a76","./sl.js":"2a76","./sq":"4a4d","./sq.js":"4a4d","./sr":"1632","./sr-cyrl":"73fd","./sr-cyrl.js":"73fd","./sr.js":"1632","./ss":"052a","./ss.js":"052a","./sv":"cb84","./sv.js":"cb84","./sw":"b126","./sw.js":"b126","./ta":"f946","./ta.js":"f946","./te":"399d","./te.js":"399d","./tet":"8d77","./tet.js":"8d77","./tg":"6588","./tg.js":"6588","./th":"462a","./th.js":"462a","./tk":"7d6b","./tk.js":"7d6b","./tl-ph":"27ff","./tl-ph.js":"27ff","./tlh":"1239","./tlh.js":"1239","./tr":"09a0","./tr.js":"09a0","./tzl":"e9ca","./tzl.js":"e9ca","./tzm":"d954","./tzm-latn":"e577","./tzm-latn.js":"e577","./tzm.js":"d954","./ug-cn":"5756","./ug-cn.js":"5756","./uk":"7c79","./uk.js":"7c79","./ur":"fb86","./ur.js":"fb86","./uz":"e487","./uz-latn":"251a","./uz-latn.js":"251a","./uz.js":"e487","./vi":"9681","./vi.js":"9681","./x-pseudo":"8e0c","./x-pseudo.js":"8e0c","./yo":"5cf8","./yo.js":"5cf8","./zh-cn":"96ae","./zh-cn.js":"96ae","./zh-hk":"7e5c","./zh-hk.js":"7e5c","./zh-mo":"eb4b","./zh-mo.js":"eb4b","./zh-tw":"623f","./zh-tw.js":"623f"};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="ab96"},af98:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"f",(function(){return f})),o.d(t,"d",(function(){return p})),o.d(t,"e",(function(){return v})),o.d(t,"b",(function(){return h})),o.d(t,"c",(function(){return m}));var a,n=o("d0ff"),i=o("c964"),r=o("fc11"),c=(o("96cf"),o("159b"),o("a434"),o("99af"),o("aff5"),o("a9e3"),o("2ef0")),s=o("9300");(function(e){e["CONNECTION_SOURCE_RELOCATE"]="CONNECTION_SOURCE_RELOCATE",e["CONNECTION_CREATE"]="CONNECTION_CREATE",e["BLOCK_RELOCATE"]="BLOCK_RELOCATE"})(a||(a={}));var l=function(){var e;return{activeBlockId:null,isEditable:!0,activeConnectionsContext:[],operations:(e={},Object(r["a"])(e,a.CONNECTION_SOURCE_RELOCATE,{kind:a.CONNECTION_SOURCE_RELOCATE,data:null}),Object(r["a"])(e,a.CONNECTION_CREATE,{kind:a.CONNECTION_CREATE,data:null}),Object(r["a"])(e,a.BLOCK_RELOCATE,null),e),draggableForExitsByUuid:{},isBlockEditorOpen:!1,interactionDesignerBoundingClientRect:{}}},u={activeBlock:function(e,t){var o=e.activeBlockId,a=t.blocksById;return o?a[o]:null},blocksById:function(e,t,o,a){var n=a["flow/activeFlow"]?a["flow/activeFlow"]:{blocks:[]},i=n.blocks;return Object(c["keyBy"])(i,"uuid")},nodeLabelsById:function(e,t,o){var a=o.flow.flows;return Object(c["mapValues"])(Object(c["keyBy"])(a[0].blocks,"uuid"),"label")},exitLabelsById:function(e,t,o){var a=o.flow.flows;return Object(c["mapValues"])(Object(c["keyBy"])(Object(c["flatMap"])(a[0].blocks,"exits"),"uuid"),"label")},isEditable:function(e){return e.isEditable},interactionDesignerBoundingClientRect:function(e){return e.interactionDesignerBoundingClientRect}},d={activateBlock:function(e,t){var o=t.blockId;e.activeBlockId=o},activateConnection:function(e,t){var o=t.connectionContext;e.activeConnectionsContext=Object(c["union"])([o],e.activeConnectionsContext)},deactivateConnection:function(e,t){var o=t.connectionContext;e.activeConnectionsContext=Object(c["filter"])(e.activeConnectionsContext,(function(e){return e!==o}))},setOperation:function(e,t){var o=e.operations,a=t.operation;o[a.kind]=a},setBlockPositionTo:function(e,t){var o=t.position,a=o.x,n=o.y,i=t.block;i.ui_metadata.canvas_coordinates.x=a,i.ui_metadata.canvas_coordinates.y=n},setIsEditable:function(e,t){e.isEditable=t},initDraggableForExitsByUuid:function(e){e.draggableForExitsByUuid={}},setIsBlockEditorOpen:function(e,t){e.isBlockEditorOpen=t},setInteractionDesignerBoundingClientRect:function(e,t){e.interactionDesignerBoundingClientRect=t}},b={removeConnectionFrom:function(e,t){var o=e.commit,a=t.block.uuid,n=t.exit.uuid;o("flow/block_setBlockExitDestinationBlockId",{blockId:a,exitId:n,destinationBlockId:void 0},{root:!0})},initializeConnectionSourceRelocateWith:function(e,t){var o=e.commit,n=t.block.uuid,i=t.exit.uuid,r=t.position,c={kind:a.CONNECTION_SOURCE_RELOCATE,data:{from:{blockId:n,exitId:i},position:r,to:{blockId:n,exitId:i}}};o("setOperation",{operation:c})},setConnectionSourceRelocateValue:function(e,t){var o=e.commit,n=e.state,i=t.block.uuid,r=t.exit.uuid,c=n.operations[a.CONNECTION_SOURCE_RELOCATE].data;if(!c)throw new s["ValidationException"]("Unable to modify uninitialized operation: ".concat(JSON.stringify(c)));var l=c.from,u=c.position,d={kind:a.CONNECTION_SOURCE_RELOCATE,data:{from:l,position:u,to:{blockId:i,exitId:r}}};o("setOperation",{operation:d})},setConnectionSourceRelocateValueToNullFrom:function(e,t){var o=e.commit,n=e.state,i=t.block.uuid,r=t.exit.uuid,l=n.operations[a.CONNECTION_SOURCE_RELOCATE].data;if(!l)throw new s["ValidationException"]("Unable to modify uninitialized operation: ".concat(JSON.stringify(l)));var u=l.from,d=l.to,b=l.position;if(!Object(c["isEqual"])(d,{blockId:i,exitId:r}))throw new s["ValidationException"]("Unable to nullify exit relocation from different exit.");var f={kind:a.CONNECTION_SOURCE_RELOCATE,data:{from:u,position:b,to:null}};o("setOperation",{operation:f})},applyConnectionSourceRelocate:function(e){var t=e.dispatch,o=e.commit,n=e.state.operations,i=n[a.CONNECTION_SOURCE_RELOCATE].data;if(!i)throw new s["ValidationException"]("Unable to complete uninitialized operation: ".concat(JSON.stringify(i)));var r=i.from,c=i.to;t("flow/block_swapBlockExitDestinationBlockIds",{first:r,second:c},{root:!0});var l={kind:a.CONNECTION_SOURCE_RELOCATE,data:null};o("setOperation",{operation:l})},initializeConnectionCreateWith:function(e,t){var o=e.commit,n=t.block.uuid,i=t.exit.uuid,r=t.position;if(!n||!i)throw new s["ValidationException"]("Unable to create connection without source: ".concat(JSON.stringify({blockId:n,exitId:i})));var c={kind:a.CONNECTION_CREATE,data:{source:{blockId:n,exitId:i},position:r,targetId:null}};o("setOperation",{operation:c})},setConnectionCreateTargetBlock:function(e,t){var o=e.commit,n=e.state,i=t.block,r=n.operations[a.CONNECTION_CREATE].data;if(!r)throw new s["ValidationException"]("Unable to modify uninitialized operation: ".concat(JSON.stringify(r)));var c=r.source,l=r.position,u={kind:a.CONNECTION_CREATE,data:{source:c,position:l,targetId:i.uuid}};o("setOperation",{operation:u})},setConnectionCreateTargetBlockToNullFrom:function(e,t){var o=e.commit,n=e.state,i=t.block,r=n.operations[a.CONNECTION_CREATE].data;if(!r)throw new s["ValidationException"]("Unable to modify uninitialized operation: ".concat(JSON.stringify(r)));var l=r.source,u=r.targetId,d=r.position;if(!Object(c["isEqual"])(u,i.uuid))throw new s["ValidationException"]("Unable to nullify exit relocation from different exit.");var b={kind:a.CONNECTION_CREATE,data:{source:l,position:d,targetId:null}};o("setOperation",{operation:b})},applyConnectionCreate:function(e){var t=e.commit,o=e.state.operations,n=o[a.CONNECTION_CREATE].data;if(!n)throw new s["ValidationException"]("Unable to complete uninitialized operation: ".concat(JSON.stringify(n)));var i=n.source,r=i.blockId,c=i.exitId,l=n.targetId;t("flow/block_setBlockExitDestinationBlockId",{blockId:r,exitId:c,destinationBlockId:l},{root:!0});var u={kind:a.CONNECTION_CREATE,data:null};t("setOperation",{operation:u})},importFlowsAndResources:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function o(){var a,i,r,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:i=e.rootState,r=t.flows,console.debug("importing flows ..."),console.log({flows:r}),c=i.flow,r.forEach((function(e,t){Object.prototype.hasOwnProperty.call([t],"supported_modes")&&r[t].supported_modes.length||(r[t].supported_modes=i.trees.ui.defaultModes)})),(a=c.flows).splice.apply(a,[0,Number.MAX_SAFE_INTEGER].concat(Object(n["a"])(r))),c.first_flow_id=r[0].uuid,i.trees.ui.languages=r[0].languages;case 9:case"end":return o.stop()}}),o)})))()},setIsEditable:function(e,t){var o=e.commit,a=Boolean(t);o("setIsEditable",a)}},f={namespaced:!0,state:l,getters:u,mutations:d,actions:b};function p(e,t){return function(o){return o.$store.hasModule(["flow",e])||o.$store.registerModule(["flow",e],t)}}function v(e,t){var o,a,i,r;return console.debug("store/builder","generateConnectionLayoutKeyFor",e.uuid,t.uuid),[[null===(o=e.ui_metadata)||void 0===o?void 0:o.canvas_coordinates.x,null===(a=e.ui_metadata)||void 0===a?void 0:a.canvas_coordinates.y],[null===(i=t.ui_metadata)||void 0===i?void 0:i.canvas_coordinates.x,null===(r=t.ui_metadata)||void 0===r?void 0:r.canvas_coordinates.y],e.label,t.label].concat(Object(n["a"])(Object(c["map"])(e.exits,"name")),Object(n["a"])(Object(c["map"])(t.exits,"name")))}function h(e){var t,o,a=120,n=110,i=null===e||void 0===e||null===(t=e.ui_metadata)||void 0===t?void 0:t.canvas_coordinates.x,r=null===e||void 0===e||null===(o=e.ui_metadata)||void 0===o?void 0:o.canvas_coordinates.y;if(null==i||null==r){var c=g();i=c.x,r=c.y}return{x:null!=i?i+a:a,y:null!=r?r+n:n}}function m(e){return{isSelected:!1}}function g(){var e=document.getElementsByClassName("builder-canvas")[0],t=document.getElementsByClassName("tree-sidebar-container")[0],o=e.getBoundingClientRect(),a=t?t.clientWidth:0;return{x:Math.round(Math.abs(o.left)+(window.innerWidth-a)/2),y:Math.round(Math.abs(o.top)+window.innerHeight/2)}}},b107:function(e,t,o){},b221:function(e,t,o){var a={"./1.0.0-rc1/IAdvancedSelectOneBlock.json":"467b","./1.0.0-rc1/ICaseBlock.json":"24dc","./1.0.0-rc1/ILocationResponseBlock.json":"b194","./1.0.0-rc1/ILogBlock.json":"7074","./1.0.0-rc1/IMessageBlock.json":"aa41","./1.0.0-rc1/INumericResponseBlock.json":"e0ae","./1.0.0-rc1/IOpenResponseBlock.json":"5831","./1.0.0-rc1/IOutputBlock.json":"5663","./1.0.0-rc1/IPhotoResponseBlock.json":"a0ef","./1.0.0-rc1/IPrintBlock.json":"79a9","./1.0.0-rc1/IReadBlock.json":"27e7","./1.0.0-rc1/IRunFlowBlock.json":"bf9a","./1.0.0-rc1/ISelectManyResponseBlock.json":"44db","./1.0.0-rc1/ISelectOneResponseBlock.json":"5149","./1.0.0-rc1/ISetContactPropertyBlock.json":"f37b","./1.0.0-rc1/ISetGroupMembershipBlock.json":"45d5","./1.0.0-rc1/flowSpecJsonSchema.json":"fc41","./1.0.0-rc2/IAdvancedSelectOneBlock.json":"5c3b","./1.0.0-rc2/ICaseBlock.json":"fabe","./1.0.0-rc2/ILocationResponseBlock.json":"24e6","./1.0.0-rc2/ILogBlock.json":"025b","./1.0.0-rc2/IMessageBlock.json":"5402","./1.0.0-rc2/INumericResponseBlock.json":"0999","./1.0.0-rc2/IOpenResponseBlock.json":"6612","./1.0.0-rc2/IOutputBlock.json":"c3a9","./1.0.0-rc2/IPhotoResponseBlock.json":"42f5","./1.0.0-rc2/IPrintBlock.json":"3d43","./1.0.0-rc2/IReadBlock.json":"56d3","./1.0.0-rc2/IRunFlowBlock.json":"4377","./1.0.0-rc2/ISelectManyResponseBlock.json":"468a","./1.0.0-rc2/ISelectOneResponseBlock.json":"897a","./1.0.0-rc2/ISetContactPropertyBlock.json":"9744","./1.0.0-rc2/ISetGroupMembershipBlock.json":"f2ae","./1.0.0-rc2/flowSpecJsonSchema.json":"5a2e","./1.0.0-rc3/IAdvancedSelectOneBlock.json":"ebe9","./1.0.0-rc3/ICaseBlock.json":"df71","./1.0.0-rc3/ILocationResponseBlock.json":"4b5a","./1.0.0-rc3/ILogBlock.json":"5c92","./1.0.0-rc3/IMessageBlock.json":"9f75","./1.0.0-rc3/INumericResponseBlock.json":"ca51","./1.0.0-rc3/IOpenResponseBlock.json":"284f","./1.0.0-rc3/IOutputBlock.json":"bf9b","./1.0.0-rc3/IPhotoResponseBlock.json":"3da6","./1.0.0-rc3/IPrintBlock.json":"b781","./1.0.0-rc3/IReadBlock.json":"5bbb","./1.0.0-rc3/IRunFlowBlock.json":"84e0","./1.0.0-rc3/ISelectManyResponseBlock.json":"347b","./1.0.0-rc3/ISelectOneResponseBlock.json":"8832","./1.0.0-rc3/ISetContactPropertyBlock.json":"9b07","./1.0.0-rc3/ISetGroupMembershipBlock.json":"e4a3","./1.0.0-rc3/flowSpecJsonSchema.json":"29d3","./1.0.0-rc4/IAdvancedSelectOneBlock.json":"171d","./1.0.0-rc4/ICaseBlock.json":"35a7","./1.0.0-rc4/ILocationResponseBlock.json":"c6df","./1.0.0-rc4/ILogBlock.json":"0468","./1.0.0-rc4/IMessageBlock.json":"6faa","./1.0.0-rc4/INumericResponseBlock.json":"d6b7","./1.0.0-rc4/IOpenResponseBlock.json":"6897","./1.0.0-rc4/IOutputBlock.json":"ee9c","./1.0.0-rc4/IPhotoResponseBlock.json":"fdc7","./1.0.0-rc4/IPrintBlock.json":"3897","./1.0.0-rc4/IReadBlock.json":"74af","./1.0.0-rc4/IRunFlowBlock.json":"a629","./1.0.0-rc4/ISelectManyResponseBlock.json":"bcf6","./1.0.0-rc4/ISelectOneResponseBlock.json":"fea94","./1.0.0-rc4/ISetContactPropertyBlock.json":"7464","./1.0.0-rc4/ISetGroupMembershipBlock.json":"f47e","./1.0.0-rc4/flowSpecJsonSchema.json":"9b2d","./current/IAdvancedSelectOneBlock.json":"9e25","./current/ICaseBlock.json":"0e0e","./current/ILocationResponseBlock.json":"24e9","./current/ILogBlock.json":"8b9f","./current/IMessageBlock.json":"1010","./current/INumericResponseBlock.json":"5cb6","./current/IOpenResponseBlock.json":"30f6","./current/IOutputBlock.json":"858c","./current/IPhotoResponseBlock.json":"768e","./current/IPrintBlock.json":"7cfe","./current/IReadBlock.json":"65d3","./current/IRunFlowBlock.json":"2ced","./current/ISelectManyResponseBlock.json":"d713","./current/ISelectOneResponseBlock.json":"d76c","./current/ISetContactPropertyBlock.json":"41c5","./current/ISetGroupMembershipBlock.json":"44b3","./current/flowSpecJsonSchema.json":"0eaa"};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="b221"},b5ce:function(e,t,o){"use strict";var a=o("4456"),n=o.n(a);n.a},b6b9:function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return S}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"console-io-read-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("hr"),o("format-string-editor",{attrs:{block:e.block},on:{commitFormatStringChange:e.setFormatString}}),o("div",[o("h6",[e._v(e._s(e._f("trans")("flow-builder.destination-variable")))]),e._l(e.destinationVariablesFields,(function(t,a){return o("div",{key:a,staticClass:"form-group"},[o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/destination_variables/"+a},scopedSlots:e._u([{key:"input-control",fn:function(t){var n=t.isValid;return[o("text-editor",{attrs:{label:"",placeholder:e._f("trans")("flow-builder.destination-variable-placeholder"),"valid-state":n,value:""},on:{keydown:e.filterVariableName,input:function(t){return e.updatedestinationVariables(t,a)}}})]}}],null,!0)})],1)}))],2),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("ac1f"),o("466d"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="ConsoleIO.Read",k={destinationVariablesFields:function(e,t,o,a){var n=a["builder/activeBlock"];return new Array(Object(h["split"])(n.config.format_string||"","%").length-1)}},j={},_={setFormatString:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=e.rootGetters,i=n["builder/activeBlock"],r={format_string:t},a("flow/block_updateConfigByKey",{blockId:i.uuid,key:"format_string",value:t},{root:!0}),o.abrupt("return",r);case 5:case"end":return o.stop()}}),o)})))()},editDestinationVariable:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r,c,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=e.rootGetters,i=t.variableName,r=t.keyIndex,c=n["builder/activeBlock"],s=c.config.destination_variables||[],s[r]=i,a("flow/block_updateConfigByKey",{blockId:c.uuid,key:"destination_variables",value:s},{root:!0}),o.abrupt("return",s);case 7:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.t0=a,o.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",config:{format_string:"",destination_variables:[]},exits:i,tags:[],vendor_metadata:{}}));case 14:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value = true"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("4a51"),w=o("af98"),C=o("2fe1"),x=Object(b["e"])("flow/".concat(g)),E=Object(b["e"])("builder"),B=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),e}return Object(r["a"])(o,[{key:"filterVariableName",value:function(e){e.key.match(/\W+|Enter/g)&&e.preventDefault()}},{key:"updatedestinationVariables",value:function(e,t){this.editDestinationVariable({variableName:e,keyIndex:t})}}]),o}(Object(C["c"])(y["a"]));Object(d["__decorate"])([Object(f["b"])()],B.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],B.prototype,"flow",void 0),Object(d["__decorate"])([x.Action],B.prototype,"setFormatString",void 0),Object(d["__decorate"])([x.Action],B.prototype,"editDestinationVariable",void 0),Object(d["__decorate"])([x.Getter],B.prototype,"destinationVariablesFields",void 0),Object(d["__decorate"])([x.Action],B.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([E.Getter],B.prototype,"isEditable",void 0),B=Object(d["__decorate"])([Object(f["a"])({})],B);var I=B,S=Object(w["d"])(g,O),T=I,M=o("2877"),R=Object(M["a"])(T,a,n,!1,null,null,null);t["default"]=R.exports},bc78:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return n}));o("99af");var a=function(e){if(e.params.field){var t="block/".concat(e.params.blockId).concat(e.params.field),o=document.getElementById(t);o?o.scrollIntoView({behavior:"smooth",block:"center"}):console.debug("Deep linking: cannot scroll to ",t," as the DOM element is not found")}},n=function(e){var t=document.querySelector("#block\\/".concat(e," .plain-draggable"));t?t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}):console.debug("Deep linking: cannot scroll block ",t,"as block is not found in the DOM")}},c441:function(e,t,o){},c600:function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return T}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-primitive-message-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),e.promptResource?o("resource-editor",{attrs:{resource:e.promptResource,block:e.block,flow:e.flow}}):e._e(),e._t("extras"),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="MobilePrimitives.Message",k={},j={},_={createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.next=4,a("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return i=o.sent,o.t0=a,o.next=8,(new v["IdGeneratorUuidV4"]).generate();case 8:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=14,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 14:return o.t5=o.sent,r=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",exits:r,config:{prompt:i.uuid},tags:[],vendor_metadata:{}}));case 17:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value > 0"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("4a51"),w=o("af98"),C=o("2fe1"),x=Object(b["e"])("flow"),E=Object(b["e"])("builder"),B=Object(b["e"])("flow/".concat(g)),I=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"resourcesByUuidOnActiveFlow",void 0),Object(u["a"])(Object(c["a"])(e),"block_convertExitFormationToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),e}return Object(r["a"])(o,[{key:"promptResource",get:function(){return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]}}]),o}(Object(C["c"])(y["a"]));Object(d["__decorate"])([Object(f["b"])()],I.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],I.prototype,"flow",void 0),Object(d["__decorate"])([x.Getter],I.prototype,"resourcesByUuidOnActiveFlow",void 0),Object(d["__decorate"])([x.Action],I.prototype,"block_convertExitFormationToUnified",void 0),Object(d["__decorate"])([E.Getter],I.prototype,"isEditable",void 0),Object(d["__decorate"])([B.Action],I.prototype,"handleBranchingTypeChangedToUnified",void 0),I=Object(d["__decorate"])([Object(f["a"])({})],I);var S=I,T=Object(w["d"])(g,O),M=S,R=o("2877"),A=Object(R["a"])(M,a,n,!1,null,null,null);t["default"]=A.exports},cab2:function(e,t,o){"use strict";var a=o("276c"),n=o("e954"),i=o("2c4c"),r=o("920b"),c=o("92a6"),s=o("fc11"),l=(o("99af"),o("9ab4")),u=o("a026"),d=o("2ef0"),b=o("2fe1"),f=o("4bb5");function p(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(d["isArray"])(t)?o?Object(d["every"])(t,(function(t){return e[t]})):Object(d["find"])(t,(function(t){return e[t]})):e[t]}var v=function(e){Object(r["a"])(o,e);var t=Object(c["a"])(o);function o(){var e;Object(a["a"])(this,o);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(s["a"])(Object(i["a"])(e),"permissions",void 0),e}return Object(n["a"])(o,[{key:"can",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return p(this.permissions,e,t)}}]),o}(u["default"]);Object(l["__decorate"])([f["d"]],v.prototype,"permissions",void 0),v=Object(l["__decorate"])([b["b"]],v),t["a"]=v},cab8:function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return S}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"core-run-flow-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/flow_id"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"form-group"},[o("text-editor",{attrs:{label:e._f("trans")("flow-builder.destination-flow"),placeholder:e._f("trans")("flow-builder.enter-destination-flow-id"),"valid-state":a},model:{value:e.destinationFlowId,callback:function(t){e.destinationFlowId=t},expression:"destinationFlowId"}})],1)]}}])}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("4de4"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="Core.RunFlow",k={otherFlows:function(e,t,o,a){return o.flow.flows.filter((function(e){return e.uuid!==a["flow/activeFlow"].uuid}))}},j={},_={setDestinationFlowId:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.newDestinationFlowId,a("flow/block_updateConfig",{blockId:n,newConfig:{flow_id:i}},{root:!0}),o.abrupt("return",i);case 4:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.t0=a,o.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",config:{flow_id:""},exits:i,tags:[],vendor_metadata:{}}));case 14:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value = true"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("4a51"),w=o("af98"),C=o("2fe1"),x=Object(b["e"])("flow/".concat(g)),E=Object(b["e"])("builder"),B=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),e}return Object(r["a"])(o,[{key:"destinationFlowId",get:function(){return this.block.config.flow_id},set:function(e){this.setDestinationFlowId({blockId:this.block.uuid,newDestinationFlowId:e})}}]),o}(Object(C["c"])(y["a"]));Object(d["__decorate"])([Object(f["b"])()],B.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],B.prototype,"flow",void 0),Object(d["__decorate"])([x.Action],B.prototype,"setDestinationFlowId",void 0),Object(d["__decorate"])([x.Action],B.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([E.Getter],B.prototype,"isEditable",void 0),B=Object(d["__decorate"])([Object(f["a"])({})],B);var I=B,S=Object(w["d"])(g,O),T=I,M=o("2877"),R=Object(M["a"])(T,a,n,!1,null,null,null);t["default"]=R.exports},cd49:function(e,t,o){"use strict";o.r(t);var a={};o.r(a),o.d(a,"AudioLibrarySearchField",(function(){return B})),o.d(a,"AudioLibrarySelection",(function(){return N})),o.d(a,"AudioLibrarySelector",(function(){return W})),o.d(a,"ExpressionInput",(function(){return ne})),o.d(a,"FloatEditor",(function(){return ue})),o.d(a,"NumericEditor",(function(){return he})),o.d(a,"PlainDraggable",(function(){return ye})),o.d(a,"TextEditor",(function(){return Ie})),o.d(a,"ValidationMessage",(function(){return Ze}));var n={};o.r(n),o.d(n,"Block",(function(){return at})),o.d(n,"BuilderCanvas",(function(){return vt})),o.d(n,"Connection",(function(){return Ct}));var i={};o.r(i),o.d(i,"AdvancedExitEditor",(function(){return Mt})),o.d(i,"AdvancedExitsBuilder",(function(){return Dt})),o.d(i,"BlockEditor",(function(){return Gt})),o.d(i,"BlockId",(function(){return Yt})),o.d(i,"OutputBranchingType",(function(){return et["c"]})),o.d(i,"NoValidResponseHandler",(function(){return et["b"]})),o.d(i,"BlockOutputBranchingConfig",(function(){return et["a"]})),o.d(i,"Categorization",(function(){return no})),o.d(i,"ChoicesBuilder",(function(){return vo})),o.d(i,"ContactPropertyEditor",(function(){return wo})),o.d(i,"ExitSemanticLabelEditor",(function(){return So})),o.d(i,"FormatStringEditor",(function(){return Vo})),o.d(i,"GenericContactPropertyEditor",(function(){return Go})),o.d(i,"GroupMembershipEditor",(function(){return oa})),o.d(i,"GroupSelector",(function(){return da})),o.d(i,"LabelEditor",(function(){return ga})),o.d(i,"MaxDigitEditor",(function(){return wa})),o.d(i,"MaxDurationSecondsEditor",(function(){return Sa})),o.d(i,"MaxResponseCharactersEditor",(function(){return Va})),o.d(i,"MaximumChoicesEditor",(function(){return za})),o.d(i,"MaximumNumericEditor",(function(){return Xa})),o.d(i,"MinimumChoicesEditor",(function(){return an})),o.d(i,"MinimumNumericEditor",(function(){return un})),o.d(i,"NameEditor",(function(){return mn})),o.d(i,"PhoneRecorder",(function(){return yn})),o.d(i,"PhoneRecordingRecorderSelector",(function(){return Sn})),o.d(i,"SemanticLabelEditor",(function(){return Vn})),o.d(i,"TagSelector",(function(){return $n})),o.d(i,"ThresholdEditor",(function(){return Xn})),o.d(i,"TimeoutEditor",(function(){return oi})),o.d(i,"UploadMonitor",(function(){return fi}));var r={};o.r(r),o.d(r,"SmartDevices_PhotoResponseBlock",(function(){return mi["default"]})),o.d(r,"photoResponseBlockIntstaller",(function(){return mi["install"]})),o.d(r,"SmartDevices_LocationResponseBlock",(function(){return gi["default"]})),o.d(r,"locationResponseBlockInstaller",(function(){return gi["install"]})),o.d(r,"MobilePrimitives_SelectOneResponseBlock",(function(){return ki["default"]})),o.d(r,"selectOneResponseBlockInstaller",(function(){return ki["install"]})),o.d(r,"MobilePrimitives_SelectManyResponseBlock",(function(){return ji["default"]})),o.d(r,"selectManyResponseBlockInstaller",(function(){return ji["install"]})),o.d(r,"MobilePrimitives_OpenResponseBlock",(function(){return _i["default"]})),o.d(r,"openResponseBlockInstaller",(function(){return _i["install"]})),o.d(r,"MobilePrimitives_NumericResponseBlock",(function(){return Oi["default"]})),o.d(r,"numericResponseBlockInstaller",(function(){return Oi["install"]})),o.d(r,"MobilePrimitives_MessageBlock",(function(){return yi["default"]})),o.d(r,"messageBlockInstaller",(function(){return yi["install"]})),o.d(r,"Core_CaseBlock",(function(){return wi["default"]})),o.d(r,"caseBlockInstaller",(function(){return wi["install"]})),o.d(r,"Core_SetGroupMembershipBlock",(function(){return Ci["default"]})),o.d(r,"setGroupMembershipBlockInstaller",(function(){return Ci["install"]})),o.d(r,"ConsoleIO_PrintBlock",(function(){return xi["default"]})),o.d(r,"printBlockInstaller",(function(){return xi["install"]})),o.d(r,"Core_RunFlowBlock",(function(){return Ei["default"]})),o.d(r,"runFlowBlockInstaller",(function(){return Ei["install"]})),o.d(r,"Core_LogBlock",(function(){return Bi["default"]})),o.d(r,"logBlockInstaller",(function(){return Bi["install"]})),o.d(r,"Core_OutputBlock",(function(){return Ii["default"]})),o.d(r,"outputBlockInstaller",(function(){return Ii["install"]})),o.d(r,"ConsoleIO_ReadBlock",(function(){return Si["default"]})),o.d(r,"readBlockInstaller",(function(){return Si["install"]})),o.d(r,"Core_SetContactPropertyBlock",(function(){return Ti["default"]})),o.d(r,"setContactPropertyBlockInstaller",(function(){return Ti["install"]})),o.d(r,"BaseBlock",(function(){return Mi["BaseBlock"]}));var c={};o.r(c),o.d(c,"ExitBlockEditorToggle",(function(){return Li})),o.d(c,"FirstBlockEditorButton",(function(){return Hi})),o.d(c,"FlowEditor",(function(){return Ji})),o.d(c,"InteractionTimeoutEditor",(function(){return nr})),o.d(c,"FlowLabelEditor",(function(){return dr})),o.d(c,"LanguagesEditor",(function(){return mr})),o.d(c,"ModesEditor",(function(){return yr}));var s={};o.r(s),o.d(s,"ErrorHandler",(function(){return Sr})),o.d(s,"ImportMatcher",(function(){return Fr})),o.d(s,"LanguageAdder",(function(){return Zr}));var l={};o.r(l),o.d(l,"BlockErrorsExpandable",(function(){return oc})),o.d(l,"ErrorNotifications",(function(){return uc})),o.d(l,"SelectionBanner",(function(){return mc})),o.d(l,"TreeBuilderToolbar",(function(){return yc["a"]}));var u={};o.r(u),o.d(u,"BlockToolbar",(function(){return Tc}));var d={};o.r(d),o.d(d,"ResourceEditor",(function(){return Zc})),o.d(d,"ResourceVariantTextEditor",(function(){return es}));var b={};o.r(b);var f=o("c964"),p=(o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("96cf"),o("a026")),v=o("2f62"),h=(o("4989"),o("ab8b"),o("2dd8"),o("e607"),o("b107"),o("d0af")),m=o("f3f3"),g=(o("159b"),o("4fad"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"audio-library-search-field dropdown"},[o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.rawQuery,expression:"rawQuery"}],staticClass:"form-control",attrs:{type:"text",placeholder:e._f("trans")("flow-builder.search-audio-library"),disabled:e.isEntireLibraryModeEnabled},domProps:{value:e.rawQuery},on:{focus:e.activate,blur:e.deactivate,input:[function(t){t.target.composing||(e.rawQuery=t.target.value)},e.resetPagination]}}),o("span",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-primary dropdown-toggle",class:{active:e.isEntireLibraryModeEnabled},on:{click:function(t){return t.preventDefault(),e.toggleAudioLibrary.apply(null,arguments)}}},[o("i",{staticClass:"glyphicon glyphicon-search"})])])]),e.query||e.isAudioLibraryEmpty||e.isEntireLibraryModeEnabled?o("div",{staticClass:"dropdown-menu"},[e.isEntireLibraryModeEnabled?[o("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[o("button",{staticClass:"close active",on:{click:e.toggleAudioLibrary}},[e._v("x ")]),o("i",{staticClass:"glyphicon glyphicon-info-sign"}),e._v(" "+e._s(e._f("trans")("flow-builder.showing-entire-audio-library"))+" ")]),o("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}})]:e._e(),e.isAudioLibraryEmpty?e._e():[e._l(e.search(e.query).slice(e.offset*e.limit,(e.offset+1)*e.limit),(function(t){return o("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),e.select(t)}}},[e._v(" "+e._s(t.description)+" ")])})),e.query.length>=3&&!e.search(e.query).length?o("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v(" "+e._s(e._f("trans")("flow-builder.no-audio-files-found-for-X"))+' "'),o("em",[e._v(e._s(e.query))]),e._v('". ')]):e._e(),e.query&&e.query.length<3?o("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v(" "+e._s(e._f("trans")("flow-builder.enter-at-least-three-chars"))+" ")]):e._e(),e.hasPrevious||e.hasNext?[o("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}}),o("div",{staticClass:"pagers dropdown-item"},[o("a",{staticClass:"col-md-6",class:{disabled:!e.hasPrevious},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.decrementPage.apply(null,arguments)}}},[o("i",{staticClass:"glyphicon glyphicon-chevron-left"}),e._v(" "+e._s(e._f("trans")("flow-builder.previous"))+" ")]),o("a",{staticClass:"col-md-6 text-right",class:{disabled:!e.hasNext},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.incrementPage.apply(null,arguments)}}},[e._v(" "+e._s(e._f("trans")("flow-builder.next"))+" "),o("i",{staticClass:"glyphicon glyphicon-chevron-right"})])])]:e._e()],e.isAudioLibraryEmpty?o("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[o("i",{staticClass:"glyphicon glyphicon-warning-sign"}),e._v(" "+e._s(e._f("trans")("flow-builder.audio-lib-empty-for-this-org"))+" ")]):e._e()],2):e._e()])}),k=[],j=(o("ac1f"),o("841c"),o("ffe7")),O=o.n(j),y=o("2ef0"),w=o.n(y),C=o("f837"),x=o.n(C),E=o("4a51"),B={mixins:[x.a.mixin,E["b"]],props:["langId","audioFiles"],data:function(){return{isActive:!1,rawQuery:"",cache:{},isEntireLibraryModeEnabled:!1,offset:0,limit:10}},computed:{query:function(){return Object(y["trim"])(this.rawQuery)},isAudioLibraryEmpty:function(){return this.isActive&&!this.audioFiles.length},hasNext:function(){return this.search(this.query).length/(this.offset+1)>this.limit},hasPrevious:function(){return this.offset>0}},methods:{search:function(e){if(this.isEntireLibraryModeEnabled)return this.audioFiles;if(e.length<3)return[];if(console.debug("flow-builder.ResourceViewer.AudioLibrarySearchField","searching",e),e in this.cache)return console.debug("flow-builder.ResourceViewer.AudioLibrarySearchField","cache hit",e),this.cache[e];console.debug("flow-builder.ResourceViewer.AudioLibrarySearchField","cache miss",e);var t=["filename","description"];return this.cache[e]=new O.a(this.audioFiles,{keys:t}).search(e),this.cache[e]},incrementPage:function(){this.hasNext&&(this.offset+=1)},decrementPage:function(){this.hasPrevious&&(this.offset-=1)},resetPagination:function(){this.offset=0},toggleAudioLibrary:function(){this.isEntireLibraryModeEnabled=!this.isEntireLibraryModeEnabled,this.resetPagination()},select:function(e){this.$emit("select",{value:e,langId:this.langId})},activate:function(){this.isActive=!0},deactivate:function(){this.isActive=!1}}},I=B,S=I,T=(o("865f"),o("2877")),M=Object(T["a"])(S,g,k,!1,null,"3332292c",null),R=(M.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"well well-sm audio-library-selection",class:{"tree-audio-control-text-container-selectable":e.selectable,"tree-audio-control-text-container-selected":!e.selectable},attrs:{"data-audio-file-container-language":e.langId}},[o("button",{staticClass:"audio-library-selection-clear-selection btn-ghost pull-right",on:{click:function(t){return t.preventDefault(),e.clear.apply(null,arguments)}}},[o("i",{staticClass:"glyphicon glyphicon-remove"})]),o("div",{staticClass:"btn-group audio-library-selection-download-dropdown"},[e._m(0),o("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[o("li",[o("a",{staticClass:"tree-block-audio-files-download-original",attrs:{href:e.audioFileUrl,target:"_blank"}},[e._v(e._s(e._f("trans")("flow-builder.original-file")))])])])]),o("p",{staticClass:"audio-file-description",attrs:{title:e.audioFileUrl}},[e._v(" "+e._s(e.audioFileUrl)+" ")]),o("div",{staticClass:"btn-toolbar"},[e.selectable?o("button",{staticClass:"btn btn-secondary btn-xs",on:{click:function(t){return t.preventDefault(),e.select.apply(null,arguments)}}},[o("i",{staticClass:"glyphicon glyphicon-ok"})]):e._e()])])}),A=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("button",{staticClass:"btn btn-ghost dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[o("span",{staticClass:"glyphicon glyphicon-download-alt",attrs:{"aria-hidden":"true"}}),o("span",{staticClass:"caret"})])}],L=o("c1df"),V=o.n(L),F={filters:{formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"llll";return e?V.a.utc(e).format(t):""},fromNow:function(e,t){return V.a.utc(e).fromNow(t)},formatDuration:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"seconds",o=arguments.length>2?arguments[2]:void 0,a=V.a.locale();V.a.locale("en");var n=V.a.duration(e,t).humanize(o);return V.a.locale(a),n},formatDurationLocalized:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"seconds",a=arguments.length>3?arguments[3]:void 0,n=V.a.locale();V.a.locale(t);var i=V.a.duration(e,o).humanize(a);return V.a.locale(n),i}}},N={mixins:[E["b"],F],props:["audioFile","selected","selectable","langId"],computed:{audioFileUrl:function(){return this.audioFile}},methods:{select:function(){this.$emit("select")},clear:function(){this.$emit("clear")}}},P=N,D=P,U=(o("79f2"),Object(T["a"])(D,R,A,!1,null,null,null)),H=(U.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"audio-library-selector"},[e.selectedAudioFile?o("audio-library-selection",{attrs:{"audio-file":e.selectedAudioFile,"lang-id":e.langId},on:{clear:e.clearSelection}}):[o("audio-library-search-field",{attrs:{"lang-id":e.langId,"audio-files":e.audioFiles},on:{select:e.selectAudioFile}})]],2)}),$=[],z=(o("a4d3"),o("e01a"),o("9300")),W={props:["alternateSelections","selectedAudioFile","langId","audioFiles","isPlaying","audioPlayerUrl","resourceId"],computed:{selectable:function(){return!Object(y["isEmpty"])(this.alternateSelections)}},methods:Object(m["a"])(Object(m["a"])({},Object(v["b"])("flow",["resource_setOrCreateValueModeSpecific"])),{},{clearSelection:function(){this.resource_setOrCreateValueModeSpecific({resourceId:this.resourceId,filter:{language_id:this.langId,content_type:z["SupportedContentType"].AUDIO,modes:[z["SupportedMode"].IVR]},value:""})},selectAudioFile:function(e){var t=e.value,o=e.langId;this.resource_setOrCreateValueModeSpecific({resourceId:this.resourceId,filter:{language_id:o,content_type:z["SupportedContentType"].AUDIO,modes:[z["SupportedMode"].IVR]},value:t.description})}})},G=W,Z=G,q=Object(T["a"])(Z,H,$,!1,null,null,null),K=(q.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"expression-input form-group"},[e.label?o("label",{class:e.labelClass},[e._v(e._s(e.label))]):e._e(),o("div",{staticClass:"input-group"},[e.prependText?o("div",{staticClass:"input-group-prepend"},[o("span",{staticClass:"input-group-text"},[e._v(e._s(e.prependText))])]):e._e(),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.expression,expression:"expression"}],ref:"input",class:["form-control",{"is-invalid":e.isInvalid}],attrs:{rows:e.rows,placeholder:e.placeholder},domProps:{value:e.expression},on:{input:[function(t){t.target.composing||(e.expression=t.target.value)},function(t){return e.$emit("input",t.target.value)}]}})]),e._t("default")],2)}),X=[],J=o("54f8"),Y=o("d0ff"),Q=(o("a9e3"),o("99af"),o("d81d"),o("b0c0"),o("5db7"),o("73d9"),o("a630"),o("3ca3"),o("d3b7"),o("ddb0"),o("4ec9"),o("4b17e")),ee=o.n(Q),te=(o("c6c1"),o("20c7")),oe=["phone"],ae=["now","yesterday","today","tomorrow"],ne={mixins:[E["a"]],props:{label:{type:[String,Number],required:!0},labelClass:{type:String,default:"text-primary",required:!1},placeholder:{type:String,default:""},currentExpression:{type:String,required:!1},expressionIdentifier:{type:[String,Number],default:null},rows:{type:Number,required:!1,default:1},validState:{type:Boolean,default:null,required:!1},prependText:{type:String,default:"",required:!1}},data:function(){return{suggest:{}}},computed:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(v["c"])(["subscriberPropertyFields"])),Object(v["c"])("flow",["activeFlow"])),{},{isInvalid:function(){return!1===this.validState},expression:{get:function(){return this.currentExpression},set:function(e){null!==this.expressionIdentifier&&(e={identifier:this.expressionIdentifier,value:e}),this.$emit("commitExpressionChange",e)}},expressionContext:function(){var e=this.subscriberPropertyFields.map((function(e){return e.name})).concat(oe),t=this.activeFlow.blocks.flatMap((function(e){return[e.name,e.uuid]}));return{contact:e,flow:t,date:ae}},topLevelSuggestions:function(){return{trigger:"@",values:[{value:"@()",focusText:[-1,-1]}].concat(Object(Y["a"])(Array.from(Object.entries(this.expressionContext)).map((function(e){return"@".concat(e[0])}))))}},contextSuggestions:function(){return Array.from(Object.entries(this.expressionContext)).map((function(e){var t=e[0];return{trigger:"".concat(t,"."),values:e[1].map((function(e){return"".concat(t,".").concat(e)}))}}))},methodSuggestions:function(){return Array.from(this.evaluatorMethods.entries()).map((function(e){return{trigger:e[0],values:e[1].map((function(e){return{value:"".concat(e,"()"),focusText:[-1,-1]}}))}}))},evaluatorMethods:function(){var e,t=new Map,o=Object(J["a"])(te["MethodNodeEvaluatorFactory"].defaultHandlers());try{for(o.s();!(e=o.n()).done;){var a,n=e.value,i=Object(J["a"])(n.handles());try{for(i.s();!(a=i.n()).done;){var r=a.value,c=r.substr(0,2),s=c.toUpperCase(),l=r.toUpperCase();t.has(c)?(t.set(c,[].concat(Object(Y["a"])(t.get(c)),[r])),t.set(s,[].concat(Object(Y["a"])(t.get(s)),[l]))):(t.set(c,[r]),t.set(s,[l]))}}catch(u){i.e(u)}finally{i.f()}}}catch(u){o.e(u)}finally{o.f()}return t},suggestions:function(){return[].concat(Object(Y["a"])(this.contextSuggestions),Object(Y["a"])(this.methodSuggestions),[this.topLevelSuggestions])}}),mounted:function(){var e=this.$refs.input;this.suggest=new ee.a({caseSensitive:!1,suggestions:this.suggestions,onChange:function(){return e.dispatchEvent(new Event("input"))}},e)}},ie=ne,re=ie,ce=Object(T["a"])(re,K,X,!1,null,null,null),se=(ce.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"float-editor"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e.label))]),o("div",[o("input",{staticClass:"form-control",class:{"is-invalid":e.isInvalid},attrs:{type:"number",min:e.min,placeholder:e.placeholder,step:e.step},domProps:{value:e.value},on:{keypress:e.filterFloat,keydown:function(t){return e.$emit("keydown",t)},input:function(t){return e.$emit("input",t.target.value)}}})]),e._t("default")],2)}),le=[],ue=(o("466d"),o("4d63"),o("25f0"),{props:{label:{type:[String,Number],required:!0},placeholder:{type:String,default:""},step:{type:String,default:"0.1"},value:{type:[String,Number],required:!0},min:{type:[String,Number],required:!1,default:""},regexFloatFiltering:{type:String,required:!1,default:"[0-9-.,]"},validState:{type:Boolean,default:null,required:!1}},computed:{isInvalid:function(){return!1===this.validState}},methods:{filterFloat:function(e){e.key.match(new RegExp(this.regexFloatFiltering,"g"))||e.preventDefault()}}}),de=ue,be=de,fe=Object(T["a"])(be,se,le,!1,null,null,null),pe=(fe.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"number-editor"},[o("label",{staticClass:"text-primary mb-0"},[e._v(e._s(e.label))]),o("div",{staticClass:"small mb-2"},[e._v(e._s(e.subTitle))]),o("div",[o("input",{staticClass:"form-control",class:{"is-invalid":e.isInvalid},attrs:{type:"number",min:"0",placeholder:e.placeholder},domProps:{value:e.value},on:{keypress:e.filterNumeric,keydown:function(t){return e.$emit("keydown",t)},input:function(t){return e.$emit("input",t.target.value)}}})]),e._t("default")],2)}),ve=[],he={props:{validState:{type:Boolean,default:null,required:!1},label:{type:[String,Number],required:!0},placeholder:{type:String,default:""},value:{type:[String,Number],required:!1},regexNumericFiltering:{type:String,required:!1,default:"[0-9-]"},subTitle:{type:[String],required:!1,default:""}},computed:{isInvalid:function(){return!1===this.validState}},methods:{filterNumeric:function(e){e.key.match(new RegExp(this.regexNumericFiltering,"g"))||e.preventDefault()}}},me=he,ge=me,ke=Object(T["a"])(ge,pe,ve,!1,null,null,null),je=(ke.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"plain-draggable"},[e._t("default")],2)}),_e=[],Oe=o("3d6b"),ye={props:{startX:Number,startY:Number,handleDomId:String,isEditable:Boolean},data:function(){return{}},watch:{isEditable:function(e){this.draggable.disabled=!e}},mounted:function(){console.debug("PlainDraggable.vue","mounted");var e=this.$el.querySelectorAll(".draggable-handle")[0];this.draggable=new Oe["a"](this.$el,{containment:document.querySelector(".builder-canvas"),autoScroll:!0,leftTop:!1,disabled:!1,onDrag:this.handleDragged,onDragStart:this.handleDragStarted,onDragEnd:this.handleDragEnded,left:this.startX,top:this.startY,handle:e}),this.handleInitialized()},destroyed:function(){var e=this.draggable;this.$emit("destroyed",{draggable:e}),this.draggable.remove()},methods:{handleInitialized:function(){var e=this.draggable;this.$emit("initialized",{draggable:e})},handleDragged:function(e){var t=this.draggable;this.$emit("dragged",{draggable:t,position:e})},handleDragStarted:function(e){var t=this.draggable;this.$emit("dragStarted",{draggable:t,position:e})},handleDragEnded:function(e){var t=this.draggable;this.$emit("dragEnded",{draggable:t,position:e})},handleMoved:function(e){var t=this.draggable;this.$emit("moved",{draggable:t,position:e})}}},we=ye,Ce=we,xe=Object(T["a"])(Ce,je,_e,!1,null,null,null),Ee=(xe.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.label?o("label",{class:e.labelClass},[e._v(e._s(e.label))]):e._e(),o("textarea",{staticClass:"form-control",class:{"is-invalid":e.isInvalid},attrs:{placeholder:e.placeholder,rows:e.rows},domProps:{value:e.value},on:{keydown:function(t){return e.$emit("keydown",t)},input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),e._t("default")],2)}),Be=[],Ie={props:{label:{type:[String,Number],required:!0},labelClass:{type:String,default:"text-primary",required:!1},placeholder:{type:String,required:!0},value:{type:String,required:!0},validState:{type:Boolean,default:null,required:!1},rows:{type:Number,required:!1,default:1}},computed:{isInvalid:function(){return!1===this.validState}}},Se=Ie,Te=Se,Me=Object(T["a"])(Te,Ee,Be,!1,null,null,null),Re=(Me.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"validation-message form-group",attrs:{id:e.messageKey}},[e._t("input-control",null,{isValid:e.isValid}),e.shouldHideValidation?e._e():o("small",{staticClass:"text-danger"},[e._v(" "+e._s(e.errorMessage)+" ")])],2)}),Ae=[],Le=o("276c"),Ve=o("e954"),Fe=o("2c4c"),Ne=o("920b"),Pe=o("92a6"),De=o("fc11"),Ue=o("9ab4"),He=o("1b40"),$e=o("2fe1"),ze=o("5fda"),We=o("4bb5"),Ge=Object(We["e"])("validation"),Ze=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"messageKey",void 0),Object(De["a"])(Object(Fe["a"])(e),"shouldHideValidation",void 0),Object(De["a"])(Object(Fe["a"])(e),"flattenErrorMessages",void 0),e}return Object(Ve["a"])(o,[{key:"errorMessage",get:function(){return Object.prototype.hasOwnProperty.call(this.flattenErrorMessages,this.messageKey)?this.flattenErrorMessages[this.messageKey]:""}},{key:"isValid",get:function(){return!this.errorMessage}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],Ze.prototype,"messageKey",void 0),Object(Ue["__decorate"])([Object(He["b"])({default:!1})],Ze.prototype,"shouldHideValidation",void 0),Object(Ue["__decorate"])([Ge.Getter],Ze.prototype,"flattenErrorMessages",void 0),Ze=Object(Ue["__decorate"])([Object(He["a"])({components:{BAlert:ze["a"]}})],Ze);var qe=Ze,Ke=qe,Xe=Object(T["a"])(Ke,Re,Ae,!1,null,null,null),Je=(Xe.exports,function(){var e,t=this,o=t.$createElement,a=t._self._c||o;return a("div",{on:{click:t.selectBlock}},[t.shouldShowBlockEditor?a("block-editor",{staticClass:"block-editor",style:{transform:t.translatedBlockEditorPosition}}):t._e(),t.hasLayout?a("plain-draggable",{ref:"draggable",staticClass:"block",class:(e={active:t.isBlockActivated,"has-toolbar":t.isBlockSelected||t.shouldShowBlockEditor},e["has-exits"]=t.hasExitsShown,e["has-multiple-exits"]=t.hasMultipleExitsShown,e["has-"+t.numberOfExitsShown+"-exits"]=!0,e["category-"+t.blockClasses[t.block.type].category]=!0,e),attrs:{"start-x":t.x,"start-y":t.y,"is-editable":t.isEditable},on:{dragged:t.onMoved,dragStarted:t.selectBlock,dragEnded:t.handleDraggableEndedForBlock,destroyed:t.handleDraggableDestroyedForBlock}},[a("block-toolbar",{attrs:{block:t.block,"is-editor-visible":t.shouldShowBlockEditor,"is-block-selected":t.isBlockSelected}}),a("header",{staticClass:"block-target draggable-handle",class:{initial:!1,pending:t.isConnectionCreateActive,fulfilled:!1,rejected:!1,activated:t.isBlockActivated},attrs:{id:"block/"+t.block.uuid+"/handle"},on:{mouseenter:function(e){t.isConnectionCreateActive&&t.activateBlockAsDropZone(e)},mouseleave:function(e){t.isConnectionCreateActive&&t.deactivateBlockAsDropZone(e)}}},[a("div",{staticClass:"d-flex justify-content-between"},[a("p",{staticClass:"block-type text-muted"},[t._v(" "+t._s(t.trans("flow-builder."+t.block.type))+" ")]),t.activeFlow.first_block_id===t.block.uuid?a("i",{staticClass:"glyphicon glyphicon-arrow-down"}):t._e()]),a("h3",{staticClass:"block-label",class:{empty:!t.block.label},style:{maxWidth:t.labelContainerMaxWidth+"px"}},[t._v(" "+t._s(t.block.label||t.trans("flow-builder.untitled-block"))+" ")])]),a("footer",{ref:"block/"+t.block.uuid+"/exits",staticClass:"block-exits d-flex mt-1",class:{"pointer-events-none":!t.isEditable},attrs:{id:"block/"+t.block.uuid+"/exits"}},t._l(t.block.exits,(function(e){return a("div",{key:e.uuid,staticClass:"block-exit mr-2 flex-shrink-1",class:{initial:!1,pending:t.isConnectionSourceRelocateActive,fulfilled:!1,rejected:!1,activated:t.isExitActivatedForRelocate(e)},on:{mouseenter:function(o){t.isConnectionSourceRelocateActive&&t.activateExitAsDropZone(o,e)},mouseleave:function(o){t.isConnectionSourceRelocateActive&&t.deactivateExitAsDropZone(o,e)}}},[e.default&&t.block.vendor_metadata.io_viamo.noValidResponse===t.NoValidResponseHandler.END_CALL?t._e():a("div",[a("div",{staticClass:"total-label-container"},[a("span",{staticClass:"badge badge-primary tree-block-item-label tree-block-item-output-subscribers-1"})]),a("div",{staticClass:"block-exit-name badge badge-warning is-connected",class:{"is-connected":null!=e.destination_block,"is-disconnected":null==e.destination_block,"is-connected-and-hovered":null!=e.destination_block&&t.exitHovers[e.uuid]||null!=e.destination_block&&t.lineHovers[e.uuid]},on:{mouseenter:function(o){return t.exitMouseEnter(e)},mouseleave:function(o){return t.exitMouseLeave(e)}}},[t.exitHovers[e.uuid]||t.isExitActivatedForCreate(e)?t._e():a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:e.test,expression:"exit.test",modifiers:{hover:!0,bottom:!0}}],staticClass:"block-exit-name-text align-self-center"},[t._v(" "+t._s(e.name||"(untitled)")+" ")]),a("span",{staticClass:"align-self-center"},[null==e.destination_block?[t.exitHovers[e.uuid]||t.isExitActivatedForCreate(e)?a("plain-draggable",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.transIf(t.isEditable,"flow-builder.tooltip-new-connection"),expression:"transIf(isEditable, 'flow-builder.tooltip-new-connection')",modifiers:{hover:!0,bottom:!0}}],key:"exit/"+e.uuid+"/pseudo-block-handle",staticClass:"btn btn-xs btn-flat p-0",attrs:{id:"exit/"+e.uuid+"/pseudo-block-handle","is-editable":t.isEditable},on:{initialized:function(o){return t.handleDraggableInitializedFor(e,o)},dragStarted:function(o){return t.onCreateExitDragStarted(o,e)},dragged:function(e){return t.onCreateExitDragged(e)},dragEnded:function(o){return t.onCreateExitDragEnded(o,e)},destroyed:function(o){return t.handleDraggableDestroyedFor(e)}}},[a("i",{staticClass:"glyphicon glyphicon-move"})]):t._e(),t.isConnectionCreateActive&&t.isExitActivatedForCreate(e)&&t.livePosition?[a("div",{staticClass:"btn btn-xs p-0",attrs:{id:"exit/"+e.uuid+"/handle"}},[a("i",{staticClass:"glyphicon glyphicon-move"})]),a("connection",{key:"exit/"+e.uuid+"/line-for-draft",attrs:{"repaint-cache-key-generator":t.generateConnectionLayoutKeyFor,source:t.block,target:t.blocksById[e.destination_block],exit:e,position:t.livePosition}})]:t._e()]:t._e(),null!=e.destination_block?[a("div",{key:"exit/"+e.uuid+"/handle",staticClass:"btn btn-xs btn-flat",attrs:{id:"exit/"+e.uuid+"/handle"}},[t.exitHovers[e.uuid]?a("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.trans("flow-builder.tooltip-remove-connection"),expression:"trans('flow-builder.tooltip-remove-connection')",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger",attrs:{title:"Click to remove this connection",icon:["far","times-circle"]},on:{click:function(o){return t.removeConnectionFrom(e)}}}):t._e()],1),a("connection",{key:"exit/"+e.uuid+"/line",attrs:{"repaint-cache-key-generator":t.generateConnectionLayoutKeyFor,source:t.livePosition?null:t.block,target:t.blocksById[e.destination_block],exit:e,position:t.livePosition},on:{lineMouseIn:function(o){return t.setLineHovered(e,!0)},lineMouseOut:function(o){return t.setLineHovered(e,!1)}}})]:t._e()],2)])])])})),0)],1):t._e()],1)}),Ye=[],Qe=(o("5319"),o("af98")),et=o("18b0"),tt=o("b4ae");p["default"].component("BTooltip",tt["a"]);var ot=650,at={mixins:[E["b"]],props:["block","x","y"],data:function(){return{livePosition:null,labelContainerMaxWidth:ot,blockWidth:0,blockHeight:0,exitHovers:{},lineHovers:{},NoValidResponseHandler:et["b"]}},watch:{blockExitsLength:function(e,t){this.$nextTick((function(){this.updateLabelContainerMaxWidth(e,e<t)}))}},updated:function(){this.blockWidth=this.$refs.draggable.$el.clientWidth},created:function(){this.initDraggableForExitsByUuid()},mounted:function(){this.$nextTick((function(){this.updateLabelContainerMaxWidth()}))},computed:Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(v["e"])("flow",["selectedBlocks"])),Object(v["e"])("builder",["activeBlockId","operations","activeConnectionsContext","draggableForExitsByUuid","isBlockEditorOpen"])),Object(v["e"])({blockClasses:function(e){var t=e.trees.ui;return t.blockClasses}})),Object(v["c"])("builder",["blocksById","isEditable","interactionDesignerBoundingClientRect"])),Object(v["c"])("flow",["activeFlow"])),{},{blockExitsLength:function(){return this.block.exits.length},numberOfExitsShown:function(){var e=this.block.exits,t=Object(y["get"])(this.block.vendor_metadata,"io_viamo.noValidResponse")===et["b"].CONTINUE_THRU_EXIT;return e.length-(t?0:1)},hasExitsShown:function(){return this.numberOfExitsShown>0},hasMultipleExitsShown:function(){return this.numberOfExitsShown>1},hasLayout:function(){return Object(y["isNumber"])(this.x)&&Object(y["isNumber"])(this.y)},isAssociatedWithActiveConnection:function(e){var t=e.block,o=e.activeConnectionsContext;return!!Object(y["filter"])(o,(function(e){return e.sourceId===t.uuid||e.targetId===t.uuid})).length},isBlockSelected:function(){return Object(y["includes"])(this.selectedBlocks,this.block.uuid)},isConnectionSourceRelocateActive:function(e){var t=e.operations;return!!t[Qe["a"].CONNECTION_SOURCE_RELOCATE].data},isConnectionCreateActive:function(e){var t=e.operations;return!!t[Qe["a"].CONNECTION_CREATE].data},isBlockActivated:function(e){var t=e.activeBlockId,o=e.isAssociatedWithActiveConnection,a=e.block,n=e.operations;if(t&&t===a.uuid||o)return!0;var i=n[Qe["a"].CONNECTION_CREATE].data;return i&&i.targetId===a.uuid},translatedBlockEditorPosition:function(){var e=5,t=32,o=this.x+this.blockWidth+e-this.interactionDesignerBoundingClientRect.left,a=this.y-t;return"translate(".concat(o,"px, ").concat(a,"px)")},shouldShowBlockEditor:function(){return this.isBlockEditorOpen&&this.activeBlockId===this.block.uuid}}),methods:Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])({},{generateConnectionLayoutKeyFor:Qe["e"]}),Object(v["d"])("builder",["activateBlock","setBlockPositionTo","initDraggableForExitsByUuid","setIsBlockEditorOpen"])),Object(v["b"])("builder",{_removeConnectionFrom:"removeConnectionFrom"})),Object(v["b"])("builder",["initializeConnectionSourceRelocateWith","setConnectionSourceRelocateValue","setConnectionSourceRelocateValueToNullFrom","applyConnectionSourceRelocate","initializeConnectionCreateWith","setConnectionCreateTargetBlock","setConnectionCreateTargetBlockToNullFrom","applyConnectionCreate"])),{},{exitMouseEnter:function(e){this.$set(this.exitHovers,e.uuid,!0)},exitMouseLeave:function(e){this.$set(this.exitHovers,e.uuid,!1)},setLineHovered:function(e,t){var o=this;this.$nextTick((function(){o.$set(o.lineHovers,e.uuid,t)}))},updateLabelContainerMaxWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.blockExitsLength,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=document.querySelector("#block\\/".concat(this.block.uuid," .block-exit"));if(o){if(t){if(ot<(e-1)*o.offsetWidth)return void(this.labelContainerMaxWidth=(e-1)*o.offsetWidth)}else if(ot<e*o.clientWidth)return void(this.labelContainerMaxWidth=e*o.offsetWidth);this.labelContainerMaxWidth=ot}else console.debug("blockExitWidth","DOM not ready yet on","#block\\/".concat(this.block.uuid," .block-exit"))},resolveTextResource:function(e){var t=this.activeFlow.resources,o={resources:t,language_id:"22",mode:z["SupportedMode"].SMS},a=new z["ResourceResolver"](o).resolve(e);return a.hasText()?a.getText():e},isExitActivatedForRelocate:function(e){var t=this.operations[Qe["a"].CONNECTION_SOURCE_RELOCATE].data;return t&&t.to&&t.to.exitId===e.uuid},isExitActivatedForCreate:function(e){var t=this.operations[Qe["a"].CONNECTION_CREATE].data;return t&&t.source&&t.source.exitId===e.uuid},activateExitAsDropZone:function(e,t){var o=this.block;this.setConnectionSourceRelocateValue({block:o,exit:t})},deactivateExitAsDropZone:function(e,t){var o=this.block;this.setConnectionSourceRelocateValueToNullFrom({block:o,exit:t})},activateBlockAsDropZone:function(e){var t=this.block;this.setConnectionCreateTargetBlock({block:t})},deactivateBlockAsDropZone:function(e){var t=this.block;this.setConnectionCreateTargetBlockToNullFrom({block:t})},onMoved:function(e){var t=this,o=e.position,a=o.left,n=o.top,i=this.block;this.$nextTick((function(){t.setBlockPositionTo({position:{x:a,y:n},block:i}),Object(y["forEach"])(t.draggableForExitsByUuid,(function(e,t){try{e.position()}catch(o){console.warn("Block","onMoved","positioning draggable on",t,'can\'t access property "initElm", props is undefined')}})),console.debug("Block","onMoved","positioned all of",t.draggableForExitsByUuid)}))},removeConnectionFrom:function(e){var t=this.block;this._removeConnectionFrom({block:t,exit:e}),this.labelContainerMaxWidth+=0},handleDraggableInitializedFor:function(e,t){var o=e.uuid,a=t.draggable;this.draggableForExitsByUuid[o]=a;var n=a.left,i=a.top,r=this.block.uuid;console.debug("Block","handleDraggableInitializedFor",{blockId:r,exitId:o,coords:{left:n,top:i}})},handleDraggableDestroyedFor:function(e){var t=e.uuid;delete this.draggableForExitsByUuid[t]},onCreateExitDragStarted:function(e,t){var o=e.draggable,a=this.block,n=o.left,i=o.top;this.initializeConnectionCreateWith({block:a,exit:t,position:{x:n,y:i}}),o.left+=30,o.top+=25},onCreateExitDragged:function(e){var t=e.position,o=t.left,a=t.top;this.livePosition={x:o,y:a}},onCreateExitDragEnded:function(e){var t=e.draggable,o=this.operations[Qe["a"].CONNECTION_CREATE].data.position,a=o.x,n=o.y;console.debug("Block","onCreateExitDragEnded","operation.data.position",{left:a,top:n}),console.debug("Block","onCreateExitDragEnded","reset",{left:t.left,top:t.top}),Object.assign(t,{left:a,top:n}),this.applyConnectionCreate(),this.livePosition=null},onMoveExitDragStarted:function(e,t){var o=e.draggable,a=this.block,n=o.left,i=o.top;this.initializeConnectionSourceRelocateWith({block:a,exit:t,position:{x:n,y:i}}),o.left+=30,o.top+=25},onMoveExitDragged:function(e){var t=e.position,o=t.left,a=t.top;this.livePosition={x:o,y:a}},onMoveExitDragEnded:function(e){var t=e.draggable,o=this.operations[Qe["a"].CONNECTION_SOURCE_RELOCATE].data.position,a=o.x,n=o.y;console.debug("Block","onMoveExitDragEnded","operation.data.position",{left:a,top:n}),console.debug("Block","onMoveExitDragEnded","reset",{left:t.left,top:t.top}),Object.assign(t,{left:a,top:n}),this.applyConnectionSourceRelocate(),this.livePosition=null},selectBlock:function(){var e=this.isBlockEditorOpen?"block-selected-details":"block-selected";this.$router.replace({name:e,params:{blockId:this.block.uuid}},void 0,(function(e){null==e?console.warn("Unknown navigation error has occurred when selecting a block"):"NavigationDuplicated"!==e.name&&console.warn(e)}))},handleDraggableEndedForBlock:function(){console.debug("Block","handleDraggableEndedForBlock");var e=this;Object(y["forEach"])(this.block.exits,(function(t){delete e.draggableForExitsByUuid[t.uuid]}))},handleDraggableDestroyedForBlock:function(){console.debug("Block","handleDraggableDestroyedForBlock");var e=this;Object(y["forEach"])(this.block.exits,(function(t){delete e.draggableForExitsByUuid[t.uuid]}))}})},nt=at,it=nt,rt=(o("5d74"),Object(T["a"])(it,Je,Ye,!1,null,null,null)),ct=(rt.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.activeFlow?o("div",{staticClass:"builder-canvas no-select",style:{minWidth:e.canvasWidth+"px",minHeight:e.canvasHeight+"px"}},e._l(e.activeFlow.blocks,(function(e){return o("block",{key:e.uuid,ref:"block/"+e.uuid,refInFor:!0,attrs:{id:"block/"+e.uuid,block:e,x:e.ui_metadata.canvas_coordinates.x,y:e.ui_metadata.canvas_coordinates.y}})})),1):e._e()}),st=[],lt=Object(We["e"])("flow"),ut=Object(We["e"])("validation"),dt=Object(We["e"])("builder"),bt=-10,ft=120,pt=300,vt=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"widthAdjustment",void 0),Object(De["a"])(Object(Fe["a"])(e),"debounceVerticalScroll",Object(y["debounce"])((function(){window.scrollTo({top:this.canvasHeight})}),pt)),Object(De["a"])(Object(Fe["a"])(e),"debounceHorizontalScroll",Object(y["debounce"])((function(){window.scrollTo({left:this.canvasWidth})}),pt)),Object(De["a"])(Object(Fe["a"])(e),"flows",void 0),Object(De["a"])(Object(Fe["a"])(e),"activeFlow",void 0),Object(De["a"])(Object(Fe["a"])(e),"isBlockEditorOpen",void 0),Object(De["a"])(Object(Fe["a"])(e),"validate_flow",void 0),Object(De["a"])(Object(Fe["a"])(e),"validate_block",void 0),Object(De["a"])(Object(Fe["a"])(e),"validate_resourcesOnSupportedValues",void 0),e}return Object(Ve["a"])(o,[{key:"onActiveFlowChanged",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.debug("watch/activeFlow:","active flow has changed from builder canvas, validating ..."),e.next=3,this.validate_flow({flow:t});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onBlocksInActiveFlowChanged",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,o){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return console.debug("watch/activeFlow.blocks:","blocks inside active flow have changed, validating ..."),e.next=5,Promise.all(t.map(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(y["find"])(o,{uuid:t.uuid}),Object(y["isEqual"])(t,n)){e.next=4;break}return e.next=4,a.validate_block({block:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)})));function t(t,o){return e.apply(this,arguments)}return t}()},{key:"onResourcesOnActiveFlowChanged",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.debug("watch/activeFlow.resources:","resources inside active flow have changed, validating ..."),e.next=3,this.validate_resourcesOnSupportedValues({resources:t,supportedModes:this.activeFlow.supported_modes});case 3:case"end":return e.stop()}}),e,this)})));function t(t,o){return e.apply(this,arguments)}return t}()},{key:"onCanvasHeightChanged",value:function(e){console.debug("canvas height changed to",e),this.debounceVerticalScroll()}},{key:"onCanvasWidthChanged",value:function(e){console.debug("canvas width changed to",e),this.debounceHorizontalScroll()}},{key:"blocksOnActiveFlowForWatcher",get:function(){return Object(y["cloneDeep"])(this.activeFlow.blocks)}},{key:"blockHeight",get:function(){var e,t=this.$refs["block/".concat(null===(e=this.blockAtTheLowestPosition)||void 0===e?void 0:e.uuid)];if(!t){var o;console.debug("Interaction Designer","Unable to find DOM element corresponding to lowest block id: ","block/".concat(null===(o=this.blockAtTheLowestPosition)||void 0===o?void 0:o.uuid));var a=84;return a}return t[0].$refs.draggable.$el.offsetHeight}},{key:"blockWidth",get:function(){var e,t=this.$refs["block/".concat(null===(e=this.blockAtTheFurthestRightPosition)||void 0===e?void 0:e.uuid)];if(!t){var o;console.debug("Interaction Designer","Unable to find DOM element corresponding to furthest right block id: ","block/".concat(null===(o=this.blockAtTheFurthestRightPosition)||void 0===o?void 0:o.uuid));var a=110;return a}return t[0].$refs.draggable.$el.offsetWidth}},{key:"blockAtTheLowestPosition",get:function(){return Object(y["maxBy"])(this.activeFlow.blocks,"ui_metadata.canvas_coordinates.y")}},{key:"blockAtTheFurthestRightPosition",get:function(){return Object(y["maxBy"])(this.activeFlow.blocks,"ui_metadata.canvas_coordinates.x")}},{key:"windowHeight",get:function(){return window.screen.availHeight}},{key:"windowWidth",get:function(){return window.screen.availWidth}},{key:"canvasHeight",get:function(){if(0===this.activeFlow.blocks.length)return this.windowHeight;if(!this.blockAtTheLowestPosition)return console.debug("Interaction Designer","Unable to find block at the lowest position"),this.windowHeight;var e=this.blockAtTheLowestPosition.ui_metadata.canvas_coordinates.y,t=e+bt;return t<this.windowHeight?this.windowHeight:t}},{key:"canvasWidth",get:function(){if(0===this.activeFlow.blocks.length)return this.windowWidth-this.widthAdjustment;if(!this.blockAtTheFurthestRightPosition)return console.debug("Interaction Designer","Unable to find block at the furthest right position"),this.windowWidth-this.widthAdjustment;var e=this.blockAtTheFurthestRightPosition.ui_metadata.canvas_coordinates.x,t=e+this.blockWidth+ft+this.visibleBlockEditorWidth;return t<this.windowWidth?this.windowWidth-this.widthAdjustment:t-this.widthAdjustment}},{key:"visibleBlockEditorWidth",get:function(){var e=365;return this.isBlockEditorOpen?e:0}}]),o}(He["c"]);Object(Ue["__decorate"])([Object(He["b"])()],vt.prototype,"block",void 0),Object(Ue["__decorate"])([Object(He["b"])({default:0})],vt.prototype,"widthAdjustment",void 0),Object(Ue["__decorate"])([Object(He["d"])("activeFlow",{deep:!0,immediate:!0})],vt.prototype,"onActiveFlowChanged",null),Object(Ue["__decorate"])([Object(He["d"])("blocksOnActiveFlowForWatcher",{deep:!0,immediate:!0})],vt.prototype,"onBlocksInActiveFlowChanged",null),Object(Ue["__decorate"])([Object(He["d"])("activeFlow.resources",{deep:!0,immediate:!0})],vt.prototype,"onResourcesOnActiveFlowChanged",null),Object(Ue["__decorate"])([Object(He["d"])("canvasHeight")],vt.prototype,"onCanvasHeightChanged",null),Object(Ue["__decorate"])([Object(He["d"])("canvasWidth")],vt.prototype,"onCanvasWidthChanged",null),Object(Ue["__decorate"])([lt.State],vt.prototype,"flows",void 0),Object(Ue["__decorate"])([lt.Getter],vt.prototype,"activeFlow",void 0),Object(Ue["__decorate"])([dt.State],vt.prototype,"isBlockEditorOpen",void 0),Object(Ue["__decorate"])([ut.Action],vt.prototype,"validate_flow",void 0),Object(Ue["__decorate"])([ut.Action],vt.prototype,"validate_block",void 0),Object(Ue["__decorate"])([ut.Action],vt.prototype,"validate_resourcesOnSupportedValues",void 0),vt=Object(Ue["__decorate"])([Object(He["a"])({})],vt);var ht=vt,mt=ht,gt=(o("6a7a"),Object(T["a"])(mt,ct,st,!1,null,"2b67081b",null)),kt=(gt.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticClass:"connection",attrs:{"reposition-hook":e.repositionHook}})}),jt=[],_t=(o("a15b"),o("e2dd")),Ot="#6897BB",yt="#30516a",wt="#dc3545",Ct={props:{exit:Object,repaintCacheKeyGenerator:Function,source:Object,target:Object,position:Object},data:function(){return{isPermanentlyActive:!1}},computed:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(v["e"])("builder",["activeConnectionContext"])),Object(v["c"])("builder",["blocksById"])),{},{options:function(){return{startPlug:"square",startPlugColor:Ot,endPlugColor:yt,gradient:!0,startSocket:"bottom",endSocket:"top",size:5,outline:!0,outlineColor:"#ffffff",path:"grid",endPlugSize:.5}},prominentOptions:function(){return{startPlugColor:wt,endPlugColor:wt}},connectionContext:function(){var e,t,o;return{sourceId:null===(e=this.source)||void 0===e?void 0:e.uuid,targetId:null===(t=this.target)||void 0===t?void 0:t.uuid,exitId:null===(o=this.exit)||void 0===o?void 0:o.uuid}},sourceElementId:function(e){var t=e.exit;return"exit/".concat(t.uuid,"/handle")},targetElementId:function(e){var t=e.exit;return t.destination_block?"block/".concat(t.destination_block,"/handle"):"exit/".concat(t.uuid,"/pseudo-block-handle")},repositionHook:function(){if(!this.repaintCacheKeyGenerator)return null;this.$nextTick(this.reposition);var e=this.source||Object(m["a"])(Object(m["a"])({},Object(y["set"])({},"ui_metadata.canvas_coordinates.x",this.position.x)),Object(y["set"])({},"ui_metadata.canvas_coordinates.y",this.position.y)),t=this.target||Object(m["a"])(Object(m["a"])({},Object(y["set"])({},"ui_metadata.canvas_coordinates.x",this.position.x)),Object(y["set"])({},"ui_metadata.canvas_coordinates.y",this.position.y));return this.repaintCacheKeyGenerator(e,t).join("\n")}}),mounted:function(){var e={x:"50%",y:-7},t=document.getElementById(this.sourceElementId),o=this.position?document.getElementById(this.targetElementId):_t["a"].pointAnchor(document.getElementById(this.targetElementId),e);this.line=new _t["a"](t,o,this.options);var a=this,n=document.querySelector("body>.leader-line:last-of-type");n.addEventListener("click",a.clickHandler,!1),n.addEventListener("click",a.clickAwayHandler(n),!1),n.addEventListener("mouseover",a.mouseOverHandler,!1),n.addEventListener("mouseout",a.mouseOutHandler,!1)},beforeDestroy:function(){this.line.remove()},methods:Object(m["a"])(Object(m["a"])({},Object(v["d"])("builder",["activateConnection","deactivateConnection","activateBlock"])),{},{reposition:function(){var e,t;if(this.line){var o=this.line.position();console.debug("connection","repositioning",{sourceId:null===(e=this.source)||void 0===e?void 0:e.uuid,targetId:null===(t=this.target)||void 0===t?void 0:t.uuid,position:o,x:this.line.top,y:this.line.left})}},mouseOverHandler:function(){this.line.setOptions(this.prominentOptions),this.activateConnection({connectionContext:this.connectionContext}),this.$emit("lineMouseIn")},mouseOutHandler:function(){this.isPermanentlyActive||(this.line.setOptions(this.options),this.deactivateConnection({connectionContext:this.connectionContext})),this.$emit("lineMouseOut")},clickHandler:function(){this.isPermanentlyActive=!0,this.activateConnection({connectionContext:this.connectionContext}),this.activateBlock({blockId:null}),this.$emit("lineMouseIn")},clickAwayHandler:function(e){var t=this;document.addEventListener("click",(function(o){try{t.line.end}catch(n){return}var a=e.contains(o.target);a||(t.isPermanentlyActive=!1,t.line.setOptions(t.options),t.deactivateConnection({connectionContext:t.connectionContext})),t.$emit("lineMouseOut")}),!1)}})},xt=Ct,Et=xt,Bt=(o("d139"),Object(T["a"])(Et,kt,jt,!1,null,null,null)),It=(Bt.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"advanced-exit-editor"},[o("expression-input",{ref:"testExpressionInput",attrs:{label:"",placeholder:e._f("trans")("flow-builder.advanced-exit-expression-placeholder"),"current-expression":e.test,rows:1,"prepend-text":e.label},on:{commitExpressionChange:e.commitExpressionChange}}),o("h6",{staticClass:"mt-2"},[e._v(e._s(e._f("trans")("flow-builder.advanced-exit-name")))]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],ref:"name",staticClass:"form-control",attrs:{placeholder:e._f("trans")("flow-builder.advanced-exit-name-placeholder"),rows:"1"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})],1)}),St=[],Tt=Object(We["e"])("flow"),Mt=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"exit",void 0),Object(De["a"])(Object(Fe["a"])(e),"label",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_setExitTest",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_setExitName",void 0),e}return Object(Ve["a"])(o,[{key:"test",get:function(){return this.exit.test}},{key:"name",get:function(){return this.exit.name},set:function(e){var t=this.block.uuid,o=this.exit.uuid;this.$emit("beforeExitNameChanged",{blockId:t,exitId:o,value:e}),this.block_setExitName({blockId:t,exitId:o,value:e}),this.$emit("afterExitNameChanged",{blockId:t,exitId:o,value:e})}},{key:"commitExpressionChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("beforeExitTestChanged",{exitId:this.exit.uuid,blockId:this.block.uuid,value:t}),this.block_setExitTest({exitId:this.exit.uuid,blockId:this.block.uuid,value:t}),this.$emit("afterExitTestChanged",{exitId:this.exit.uuid,blockId:this.block.uuid,value:t});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],Mt.prototype,"block",void 0),Object(Ue["__decorate"])([Object(He["b"])()],Mt.prototype,"exit",void 0),Object(Ue["__decorate"])([Object(He["b"])()],Mt.prototype,"label",void 0),Object(Ue["__decorate"])([Tt.Mutation],Mt.prototype,"block_setExitTest",void 0),Object(Ue["__decorate"])([Tt.Mutation],Mt.prototype,"block_setExitName",void 0),Mt=Object(Ue["__decorate"])([Object(He["a"])({})],Mt);var Rt=Mt,At=Rt,Lt=Object(T["a"])(At,It,St,!1,null,null,null),Vt=(Lt.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"advanced-exits-builder"},[o("h6",[e._v("Set advanced exit configurations using test expressions")]),e._l(e.block.exits,(function(t,a){return[t.default?e._e():o("advanced-exit-editor",{key:t.uuid,ref:"exitEditors",refInFor:!0,staticClass:"advanced-block-exit-builder-item mb-3",attrs:{block:e.block,exit:t,label:(a+1).toString()},on:{afterExitTestChanged:function(o){return e.handleExitChanged(t,a)},afterExitNameChanged:function(o){return e.handleExitChanged(t,a)}}})]})),e.draftExit?o("advanced-exit-editor",{ref:"draftExitEditor",staticClass:"advanced-block-exit-builder-item mb-3",attrs:{block:e.block,exit:e.draftExit,label:e.block.exits.length.toString()},on:{beforeExitTestChanged:e.addDraftExitToBlock,beforeExitNameChanged:e.addDraftExitToBlock}}):e._e()],2)}),Ft=[],Nt=o("31aa"),Pt=Object(We["e"])("flow"),Dt=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"draftExit",null),Object(De["a"])(Object(Fe["a"])(e),"block_addExit",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_removeExit",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_createBlockExitWith",void 0),e}return Object(Ve["a"])(o,[{key:"created",value:function(){this.generateDraftExit()}},{key:"generateDraftExit",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(new Nt["IdGeneratorUuidV4"]).generate();case 2:return t=e.sent,e.next=5,this.block_createBlockExitWith({props:{uuid:t}});case 5:this.draftExit=e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addDraftExitToBlock",value:function(){var e=this;null!=this.draftExit?(this.block_addExit({blockId:this.block.uuid,exit:this.draftExit}),this.$nextTick((function(){var t,o=!Object(y["isEmpty"])(null===(t=e.draftExit)||void 0===t?void 0:t.name),a=Object(y["last"])(e.$refs.exitEditors);e.focusInputEl(o?e.getNameInputFrom(a):e.getTestInputFrom(a))})),this.generateDraftExit()):console.warn("interaction-designer/block-editors/AdvancedExitsBuilder","Unable to add absent draft exit to block.",{block:this.block})}},{key:"handleExitChanged",value:function(e,t){var o=t===this.block.exits.length-2;o&&this.hasEmptyValues(e)&&(this.block_removeExit({blockId:this.block.uuid,exit:e}),this.focusInputEl(this.getTestInputFrom(this.$refs.draftExitEditor)))}},{key:"hasEmptyValues",value:function(e){return Object(y["isEmpty"])(e.name)&&Object(y["isEmpty"])(e.test)}},{key:"focusInputEl",value:function(e){null===e||void 0===e||e.focus()}},{key:"getNameInputFrom",value:function(e){return null===e||void 0===e?void 0:e.$refs.name}},{key:"getTestInputFrom",value:function(e){return null===e||void 0===e?void 0:e.$refs.testExpressionInput.$refs.input}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],Dt.prototype,"block",void 0),Object(Ue["__decorate"])([Pt.Mutation],Dt.prototype,"block_addExit",void 0),Object(Ue["__decorate"])([Pt.Mutation],Dt.prototype,"block_removeExit",void 0),Object(Ue["__decorate"])([Pt.Action],Dt.prototype,"block_createBlockExitWith",void 0),Dt=Object(Ue["__decorate"])([Object(He["a"])({})],Dt);var Ut=Dt,Ht=Ut,$t=Object(T["a"])(Ht,Vt,Ft,!1,null,null,null),zt=($t.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-editor-wrapper"},[e.activeBlock?o("div",{staticClass:"block-editor"},[o("div",{staticClass:"tree-sidebar-edit-block",attrs:{"data-block-type":e.activeBlock&&e.activeBlock.type,"data-for-block-id":e.activeBlock&&e.activeBlock.uuid}},[e.activeBlock?o("Flow"+e.activeBlock.type.replace(".",""),{tag:"component",attrs:{block:e.activeBlock,flow:e.activeFlow}}):e._e()],1)]):e._e()])}),Wt=[],Gt={computed:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(v["c"])("builder",["activeBlock"])),Object(v["e"])({blockClasses:function(e){var t=e.trees.ui;return t.blockClasses}})),Object(v["c"])("flow",["activeFlow"])),methods:{sidebarType:function(){var e=Object(y["get"])(this.selectedBlock,"type");return this.isEditable?e||"TreeEditor":e||"TreeViewer"}}},Zt=Gt,qt=Zt,Kt=(o("7ec0"),Object(T["a"])(qt,zt,Wt,!1,null,null,null)),Xt=(Kt.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-id text-right"},[o("small",{staticClass:"text-muted"},[e._v(e._s(e._f("trans")("flow-builder.block-id"))+": "),o("em",[e._v(e._s(e.blockId))])])])}),Jt=[],Yt=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),e}return Object(Ve["a"])(o,[{key:"blockId",get:function(){return this.block.uuid||""}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],Yt.prototype,"block",void 0),Yt=Object(Ue["__decorate"])([Object(He["a"])({})],Yt);var Qt=Yt,eo=Qt,to=Object(T["a"])(eo,Xt,Jt,!1,null,null,null),oo=(to.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-categorization"},[o("hr"),o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.categorization")))]),o("tag-selector",{attrs:{block:e.block}})],1)}),ao=[],no=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),e}return o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],no.prototype,"block",void 0),no=Object(Ue["__decorate"])([Object(He["a"])({})],no);var io=no,ro=io,co=Object(T["a"])(ro,oo,ao,!1,null,null,null),so=(co.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"choices-builder form-group"},[o("h4",[e._v(e._s(e._f("trans")("flow-builder.choices")))]),e._l(e.choiceResourcesOrderedByResourcesList,(function(t,a){return[o("resource-variant-text-editor",{key:t.uuid,ref:"choices",refInFor:!0,staticClass:"choices-builder-item",attrs:{label:(a+1).toString(),rows:1,placeholder:"Enter choice...","resource-id":t.uuid,"resource-variant":t.values[0],mode:e.SupportedMode.TEXT},on:{afterResourceVariantChanged:function(o){return e.handleExistingResourceVariantChangedFor(t.uuid,a,t)}}})]})),e.draftResource?o("resource-variant-text-editor",{ref:"draftChoice",staticClass:"choices-builder-item",attrs:{label:(e.choiceResourcesOrderedByResourcesList.length+1).toString(),rows:1,placeholder:"Enter choice...","resource-id":e.draftResource.uuid,"resource-variant":e.findOrGenerateStubbedVariantOn(e.draftResource,{language_id:e.activeFlow.languages[0].id,content_type:e.SupportedContentType.TEXT,modes:[e.SupportedMode.TEXT]}),mode:e.SupportedMode.TEXT},on:{beforeResourceVariantChanged:e.addDraftResourceToChoices,afterResourceVariantChanged:function(t){return e.rewriteChoiceKeyFor({resourceId:e.draftResource.uuid,blockId:e.block.uuid})}}}):e._e()],2)}),lo=[],uo=(o("07ac"),o("393e")),bo=o("ecef"),fo=Object(We["e"])("flow"),po=Object(We["e"])("flow/".concat(bo["a"])),vo=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"draftResource",null),Object(De["a"])(Object(Fe["a"])(e),"SupportedContentType",z["SupportedContentType"]),Object(De["a"])(Object(Fe["a"])(e),"SupportedMode",z["SupportedMode"]),Object(De["a"])(Object(Fe["a"])(e),"findOrGenerateStubbedVariantOn",uo["c"]),Object(De["a"])(Object(Fe["a"])(e),"resources",void 0),Object(De["a"])(Object(Fe["a"])(e),"activeFlow",void 0),Object(De["a"])(Object(Fe["a"])(e),"resource_add",void 0),Object(De["a"])(Object(Fe["a"])(e),"resource_createWith",void 0),Object(De["a"])(Object(Fe["a"])(e),"deleteChoiceByResourceIdFrom",void 0),Object(De["a"])(Object(Fe["a"])(e),"rewriteChoiceKeyFor",void 0),Object(De["a"])(Object(Fe["a"])(e),"addChoiceByResourceIdTo",void 0),e}return Object(Ve["a"])(o,[{key:"choiceResourcesOrderedByResourcesList",get:function(){var e=Object.values(this.block.config.choices);return Object(y["intersectionWith"])(this.resources,e,(function(e,t){return e.uuid===t}))}},{key:"created",value:function(){this.generateDraftResource()}},{key:"generateDraftResource",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,(new Nt["IdGeneratorUuidV4"]).generate();case 3:return e.t1=e.sent,e.t2={uuid:e.t1},e.t3={props:e.t2},e.next=8,e.t0.resource_createWith.call(e.t0,e.t3);case 8:this.draftResource=e.sent;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addDraftResourceToChoices",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.draftResource){e.next=3;break}return console.warn("interaction-designer/block-editors/ChoicesBuilder","Unable to add absent draft resource to block choices.",{block:this.block}),e.abrupt("return");case 3:return this.resource_add({resource:this.draftResource}),this.addChoiceByResourceIdTo({blockId:this.block.uuid,resourceId:this.draftResource.uuid}),this.$nextTick((function(){return t.focusInputElFor(Object(y["last"])(t.$refs.choices))})),e.next=8,this.generateDraftResource();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"focusInputElFor",value:function(e){null===e||void 0===e||e.$refs.input.focus()}},{key:"handleExistingResourceVariantChangedFor",value:function(e,t,o){var a=t===this.choiceResourcesOrderedByResourcesList.length-1,n=Object(y["isEmpty"])(Object(y["get"])(o.values[0],"value"));if(a&&n)return this.deleteChoiceByResourceIdFrom({blockId:this.block.uuid,resourceId:e}),void this.focusInputElFor(this.$refs.draftChoice);this.rewriteChoiceKeyFor({resourceId:e,blockId:this.block.uuid}),this.$emit("choiceChanged",{resourceId:e,choiceIndex:t,resource:o})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],vo.prototype,"block",void 0),Object(Ue["__decorate"])([fo.State],vo.prototype,"resources",void 0),Object(Ue["__decorate"])([fo.Getter],vo.prototype,"activeFlow",void 0),Object(Ue["__decorate"])([fo.Action],vo.prototype,"resource_add",void 0),Object(Ue["__decorate"])([fo.Action],vo.prototype,"resource_createWith",void 0),Object(Ue["__decorate"])([po.Action],vo.prototype,"deleteChoiceByResourceIdFrom",void 0),Object(Ue["__decorate"])([po.Action],vo.prototype,"rewriteChoiceKeyFor",void 0),Object(Ue["__decorate"])([po.Action],vo.prototype,"addChoiceByResourceIdTo",void 0),vo=Object(Ue["__decorate"])([Object(He["a"])({})],vo);var ho=vo,mo=ho,go=Object(T["a"])(mo,so,lo,!1,null,null,null),ko=(go.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contact-property-editor"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.action-label")))]),o("p",[e._v(e._s(e._f("trans")("flow-builder.contact-property-action-hint")))]),o("div",{staticClass:"form-group"},[o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.propertyAction,expression:"propertyAction"}],staticClass:"custom-control-input",attrs:{id:"setProp",type:"radio",name:"contactPropAction"},domProps:{value:e.PROPERTY_ACTION.SET,checked:e._q(e.propertyAction,e.PROPERTY_ACTION.SET)},on:{change:function(t){e.propertyAction=e.PROPERTY_ACTION.SET}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setProp"}},[e._v(" "+e._s(e._f("trans")("flow-builder.set-contact-property"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.propertyAction,expression:"propertyAction"}],staticClass:"custom-control-input",attrs:{id:"clearProp",type:"radio",name:"contactPropAction"},domProps:{value:e.PROPERTY_ACTION.CLEAR,checked:e._q(e.propertyAction,e.PROPERTY_ACTION.CLEAR)},on:{change:function(t){e.propertyAction=e.PROPERTY_ACTION.CLEAR}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"clearProp"}},[e._v(" "+e._s(e._f("trans")("flow-builder.clear-contact-property"))+" ")])])]),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/set_contact_property/property_key"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-contact-property-key"},[o("text-editor",{attrs:{label:e._f("trans")("flow-builder.contact-property-label"),"label-class":"font-weight-bold",placeholder:e._f("trans")("flow-builder.enter-contact-property-label"),"valid-state":a},model:{value:e.propertyKey,callback:function(t){e.propertyKey=t},expression:"propertyKey"}})],1)]}}])}),e.propertyAction===e.PROPERTY_ACTION.SET?o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/set_contact_property/property_value"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("expression-input",{attrs:{label:e._f("trans")("flow-builder.value-expression"),placeholder:e._f("trans")("flow-builder.enter-expression"),"label-class":"font-weight-bold","current-expression":e.propertyValue,"valid-state":a},on:{commitExpressionChange:e.updatePropertyValue}})]}}],null,!1,3462627979)}):e._e()],1)])}),jo=[],_o=Object(We["e"])("flow"),Oo="@(null)",yo="",wo=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"PROPERTY_ACTION",{SET:"set",CLEAR:"clear"}),Object(De["a"])(Object(Fe["a"])(e),"block_updateConfigByPath",void 0),e}return Object(Ve["a"])(o,[{key:"propertyAction",get:function(){return this.propertyValue===Oo?this.PROPERTY_ACTION.CLEAR:this.PROPERTY_ACTION.SET},set:function(e){e===this.PROPERTY_ACTION.CLEAR?this.updatePropertyValue(Oo):this.updatePropertyValue(yo)}},{key:"propertyKey",get:function(){return Object(y["get"])(this.block.config,"set_contact_property.property_key")},set:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_key",value:e})}},{key:"propertyValue",get:function(){return Object(y["get"])(this.block.config,"set_contact_property.property_value",yo)}},{key:"updatePropertyValue",value:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_value",value:e})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],wo.prototype,"block",void 0),Object(Ue["__decorate"])([_o.Mutation],wo.prototype,"block_updateConfigByPath",void 0),wo=Object(Ue["__decorate"])([Object(He["a"])({})],wo);var Co=wo,xo=Co,Eo=Object(T["a"])(xo,ko,jo,!1,null,null,null),Bo=(Eo.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("text-editor",{attrs:{"is-editable":e.isEditable,label:e._f("trans")("flow-builder.block-exit-semantic-label"),placeholder:e._f("trans")("flow-builder.enter-block-exit-semantic-label")},model:{value:e.semanticLabel,callback:function(t){e.semanticLabel=t},expression:"semanticLabel"}})],1)}),Io=[],So={mixins:[E["b"]],props:{isEditable:{default:!0,type:Boolean},exit:{type:Object,required:!0}},computed:{semanticLabel:{get:function(){return this.exit.semantic_label},set:function(e){this.exit.semantic_label=e,this.$emit("commitSemanticLabel",e)}}},methods:Object(m["a"])({},Object(v["d"])("flow",["block_setExitSemanticLabel"]))},To=So,Mo=To,Ro=Object(T["a"])(Mo,Bo,Io,!1,null,null,null),Ao=(Ro.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/format_string"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-format-string"},[o("text-editor",{attrs:{label:e._f("trans")("flow-builder.format-string"),placeholder:e._f("trans")("flow-builder.enter-format-string"),"valid-state":a},model:{value:e.formatString,callback:function(t){e.formatString=t},expression:"formatString"}}),o("small",{staticClass:"text-muted"},[e._v(" "+e._s(e._f("trans")("flow-builder.format-string-hint"))+" ")])],1)]}}])})}),Lo=[],Vo={mixins:[E["b"]],props:{block:{type:Object,required:!0}},computed:{formatString:{get:function(){return this.block.config.format_string},set:function(e){this.$emit("commitFormatStringChange",e)}}}},Fo=Vo,No=Fo,Po=Object(T["a"])(No,Ao,Lo,!1,null,null,null),Do=(Po.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"generic-contact-property-editor"},[o("hr"),o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.contact-properties")))]),o("div",{staticClass:"custom-control custom-checkbox"},[o("input",{staticClass:"custom-control-input",attrs:{id:"setContactProperty",type:"checkbox",name:"setContactProperty"},domProps:{value:e.shouldSetContactProperty,checked:e.shouldSetContactProperty},on:{change:e.toggleSetContactProperty}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setContactProperty"}},[e._v(" "+e._s(e._f("trans")("flow-builder.set-contact-property-with-response"))+" ")])]),e.shouldSetContactProperty?o("div",{staticClass:"form-group"},[o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/set_contact_property/property_key"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-contact-property-key"},[o("text-editor",{attrs:{value:e.propertyKey,label:e._f("trans")("flow-builder.property"),"label-class":"",placeholder:e._f("trans")("flow-builder.enter-contact-property-label"),"valid-state":a},on:{input:e.updatePropertyKey}})],1)]}}],null,!1,477660232)}),o("label",[e._v(e._s(e._f("trans")("flow-builder.value")))]),e.isBlockInteractive(e.block)?o("div",{staticClass:"form-group"},[o("div",{staticClass:"custom-control custom-radio"},[o("input",{staticClass:"custom-control-input",attrs:{id:"setProp",type:"radio",name:"contactPropAction"},domProps:{checked:e.propertyValueAction===e.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE,value:e.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE},on:{change:e.updatePropertyValueAction}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setProp"}},[e._v(" "+e._s(e._f("trans")("flow-builder.entry-from-this-block"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{staticClass:"custom-control-input",attrs:{id:"clearProp",type:"radio",name:"contactPropAction"},domProps:{checked:e.propertyValueAction===e.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION,value:e.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION},on:{change:e.updatePropertyValueAction}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"clearProp"}},[e._v(" "+e._s(e._f("trans")("flow-builder.expression"))+" ")])])]):e._e(),e.shouldUseOpenExpression?o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/set_contact_property/property_value"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("expression-input",{attrs:{label:"",placeholder:e._f("trans")("flow-builder.enter-expression"),"current-expression":e.propertyValue,"valid-state":a},on:{commitExpressionChange:e.updatePropertyValue}})]}}],null,!1,3441631689)}):e._e()],1):e._e()])}),Uo=[],Ho=o("6df9"),$o=Object(We["e"])("flow"),zo="",Wo="@block.value",Go=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"shouldSetContactProperty",!1),Object(De["a"])(Object(Fe["a"])(e),"PROPERTY_VALUE_ACTION",{OPEN_EXPRESSION:"openExpression",FROM_CURRENT_BLOCK_RESPONSE:"fromCurrentBlockResponse"}),Object(De["a"])(Object(Fe["a"])(e),"propertyValueAction",""),Object(De["a"])(Object(Fe["a"])(e),"propertyKey",""),Object(De["a"])(Object(Fe["a"])(e),"propertyValue",""),Object(De["a"])(Object(Fe["a"])(e),"block_updateConfigByPath",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_updateVendorMetadataByPath",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_removeConfigByKey",void 0),e}return Object(Ve["a"])(o,[{key:"created",value:function(){this.shouldSetContactProperty=Object(y["has"])(this.block.config,"set_contact_property"),this.propertyKey=Object(y["get"])(this.block.config.set_contact_property,"property_key",""),this.propertyValue=Object(y["get"])(this.block.config.set_contact_property,"property_value",null),null===this.propertyValue&&(this.isBlockInteractive(this.block)?this.propertyValue=Wo:this.propertyValue=zo),this.initPropertyValueAction()}},{key:"isBlockInteractive",value:function(e){return Object(Ho["c"])(e)}},{key:"toggleSetContactProperty",value:function(){this.shouldSetContactProperty=!this.shouldSetContactProperty,this.shouldSetContactProperty?this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property",value:{property_key:this.propertyKey,property_value:this.shouldUseOpenExpression?zo:this.propertyValue}}):this.block_removeConfigByKey({blockId:this.block.uuid,key:"set_contact_property"})}},{key:"initPropertyValueAction",value:function(){this.propertyValue===Wo?this.propertyValueAction=this.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE:this.propertyValueAction=this.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION}},{key:"updatePropertyValueAction",value:function(e){var t=e.target.value;this.propertyValueAction=t,t===this.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE?this.updatePropertyValue(Wo):this.updatePropertyValue(zo)}},{key:"shouldUseOpenExpression",get:function(){return this.propertyValueAction===this.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION}},{key:"updatePropertyKey",value:function(e){this.propertyKey=e,this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_key",value:e})}},{key:"updatePropertyValue",value:function(e){this.propertyValue=e,this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_value",value:e})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],Go.prototype,"block",void 0),Object(Ue["__decorate"])([$o.Mutation],Go.prototype,"block_updateConfigByPath",void 0),Object(Ue["__decorate"])([$o.Mutation],Go.prototype,"block_updateVendorMetadataByPath",void 0),Object(Ue["__decorate"])([$o.Mutation],Go.prototype,"block_removeConfigByKey",void 0),Go=Object(Ue["__decorate"])([Object(He["a"])({})],Go);var Zo=Go,qo=Zo,Ko=Object(T["a"])(qo,Do,Uo,!1,null,null,null),Xo=(Ko.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"group-membership-editor"},[o("hr"),o("div",{staticClass:"form-group"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.action-label")))]),o("p",[e._v(e._s(e._f("trans")("flow-builder.group-membership-action-hint")))]),o("div",{staticClass:"form-group"},[o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"addGroup",type:"radio",name:"groupMembershipAction"},domProps:{value:e.MEMBERSHIP_ACTION.ADD,checked:e._q(e.membershipAction,e.MEMBERSHIP_ACTION.ADD)},on:{change:function(t){e.membershipAction=e.MEMBERSHIP_ACTION.ADD}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"addGroup"}},[e._v(" "+e._s(e._f("trans")("flow-builder.set-group-membership"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"clearGroup",type:"radio",name:"groupMembershipAction"},domProps:{value:e.MEMBERSHIP_ACTION.REMOVE,checked:e._q(e.membershipAction,e.MEMBERSHIP_ACTION.REMOVE)},on:{change:function(t){e.membershipAction=e.MEMBERSHIP_ACTION.REMOVE}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"clearGroup"}},[e._v(" "+e._s(e._f("trans")("flow-builder.clear-group-membership"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"setFromExpression",type:"radio",name:"groupMembershipAction"},domProps:{value:e.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION,checked:e._q(e.membershipAction,e.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION)},on:{change:function(t){e.membershipAction=e.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setFromExpression"}},[e._v(" "+e._s(e._f("trans")("flow-builder.set-group-membership-from-expression"))+" ")])])]),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/group_key"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-group-key"},[o("text-editor",{attrs:{label:e._f("trans")("flow-builder.group-label"),"label-class":"font-weight-bold",placeholder:e._f("trans")("flow-builder.enter-group-label"),"valid-state":a},model:{value:e.groupKey,callback:function(t){e.groupKey=t},expression:"groupKey"}})],1)]}}])}),e.membershipAction===e.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION?o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/is_member"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("expression-input",{attrs:{label:e._f("trans")("flow-builder.value-expression"),placeholder:e._f("trans")("flow-builder.enter-expression"),"label-class":"font-weight-bold","current-expression":e.isMember,"valid-state":a},on:{commitExpressionChange:e.updateIsMemberExpression}})]}}],null,!1,628814233)}):e._e()],1)])}),Jo=[],Yo=Object(We["e"])("flow"),Qo="@(null)",ea="@(true)",ta="",oa=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"MEMBERSHIP_ACTION",{ADD:"add",SET_FROM_EXPRESSION:"set_from_expression",REMOVE:"remove"}),Object(De["a"])(Object(Fe["a"])(e),"block_updateConfigByPath",void 0),e}return Object(Ve["a"])(o,[{key:"membershipAction",get:function(){return this.isMember===Qo?this.MEMBERSHIP_ACTION.REMOVE:this.isMember===ea?this.MEMBERSHIP_ACTION.ADD:this.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION},set:function(e){e===this.MEMBERSHIP_ACTION.REMOVE?this.updateIsMemberExpression(Qo):e===this.MEMBERSHIP_ACTION.ADD?this.updateIsMemberExpression(ea):this.updateIsMemberExpression(ta)}},{key:"groupKey",get:function(){return Object(y["get"])(this.block.config,"group_key")},set:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_key",value:e})}},{key:"isMember",get:function(){return Object(y["get"])(this.block.config,"is_member",ta)}},{key:"updateIsMemberExpression",value:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"is_member",value:e})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],oa.prototype,"block",void 0),Object(Ue["__decorate"])([Yo.Mutation],oa.prototype,"block_updateConfigByPath",void 0),oa=Object(Ue["__decorate"])([Object(He["a"])({})],oa);var aa=oa,na=aa,ia=Object(T["a"])(na,Xo,Jo,!1,null,null,null),ra=(ia.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/group_key"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-group"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.group-label")))]),o("vue-multiselect",{class:{invalid:!1===a},attrs:{"track-by":"id",label:"name",placeholder:e._f("trans")("flow-builder.group-selector-placeholder"),options:e.groups,"allow-empty":!1,"show-labels":!1,searchable:!0},model:{value:e.selectedGroup,callback:function(t){e.selectedGroup=t},expression:"selectedGroup"}})],1)]}}])})}),ca=[],sa=o("8e5f"),la=o.n(sa),ua=Object(We["e"])("flow"),da=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_updateConfigByPath",void 0),Object(De["a"])(Object(Fe["a"])(e),"groups",void 0),e}return Object(Ve["a"])(o,[{key:"selectedGroup",get:function(){var e=this.block.config.group_key;if(!e)return{};var t=Object(y["find"])(this.groups,{id:e});return t||{}},set:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_key",value:e.id}),this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_name",value:e.name})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],da.prototype,"block",void 0),Object(Ue["__decorate"])([ua.Mutation],da.prototype,"block_updateConfigByPath",void 0),Object(Ue["__decorate"])([We["b"]],da.prototype,"groups",void 0),da=Object(Ue["__decorate"])([Object(He["a"])({components:{VueMultiselect:la.a}})],da);var ba=da,fa=ba,pa=(o("65ca"),Object(T["a"])(fa,ra,ca,!1,null,"2b97232c",null)),va=(pa.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"mb-3"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.title")))]),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/label"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"d-flex"},[o("text-editor",{staticClass:"w-100",attrs:{label:"",placeholder:e._f("trans")("flow-builder.enter-title"),"valid-state":a},model:{value:e.blockLabel,callback:function(t){e.blockLabel=t},expression:"blockLabel"}}),o("span",{staticClass:"btn btn-outline-primary btn-xs align-self-center ml-2",on:{click:e.emitGearClickedEvent}},[o("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fac","settings"]}})],1)],1)]}}])})],1)}),ha=[],ma=Object(We["e"])("flow"),ga=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_setLabel",void 0),e}return Object(Ve["a"])(o,[{key:"blockLabel",get:function(){return this.block.label},set:function(e){this.block_setLabel({blockId:this.block.uuid,value:e})}},{key:"emitGearClickedEvent",value:function(){this.$emit("gearClicked")}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],ga.prototype,"block",void 0),Object(Ue["__decorate"])([ma.Action],ga.prototype,"block_setLabel",void 0),ga=Object(Ue["__decorate"])([He["a"]],ga);var ka=ga,ja=ka,_a=Object(T["a"])(ja,va,ha,!1,null,null,null),Oa=(_a.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.hasIvr?o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/ivr/max_digits"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-max-digits"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.maximum-digits"),placeholder:e._f("trans")("flow-builder.enter-value"),"sub-title":e._f("trans")("flow-builder.max-digits-help-text"),"valid-state":a},model:{value:e.maxDigits,callback:function(t){e.maxDigits=e._n(t)},expression:"maxDigits"}})],1)]}}],null,!1,2439896574)}):e._e()}),ya=[],wa={mixins:[E["b"]],props:{block:{type:Object,required:!0},hasIvr:{default:!0,type:Boolean}},computed:{maxDigits:{get:function(){return Object(y["get"])(this.block,"config.ivr.max_digits","")},set:function(e){this.$emit("commitMaxDigitsChange",e)}}}},Ca=wa,xa=Ca,Ea=Object(T["a"])(xa,Oa,ya,!1,null,null,null),Ba=(Ea.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/ivr/max_duration_seconds"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[e.hasIvr?o("div",{staticClass:"max-duration-seconds-editor"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.max-duration-in-seconds"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":a},model:{value:e.duration,callback:function(t){e.duration=e._n(t)},expression:"duration"}})],1):e._e()]}}])})}),Ia=[],Sa={mixins:[E["b"]],props:{hasIvr:{default:!0,type:Boolean},block:{type:Object,required:!0}},data:function(){return{defaultMaxDuration:0}},computed:{duration:{get:function(){return Object(y["get"])(this.block,"config.ivr.max_duration_seconds","")},set:function(e){this.$emit("commitMaxDurationChange",e)}}}},Ta=Sa,Ma=Ta,Ra=Object(T["a"])(Ma,Ba,Ia,!1,null,null,null),Aa=(Ra.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("span",{staticClass:"d-flex mb-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.shouldShowMaxResponseCharField,expression:"shouldShowMaxResponseCharField"}],staticClass:"align-self-center",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.shouldShowMaxResponseCharField)?e._i(e.shouldShowMaxResponseCharField,null)>-1:e.shouldShowMaxResponseCharField},on:{change:function(t){var o=e.shouldShowMaxResponseCharField,a=t.target,n=!!a.checked;if(Array.isArray(o)){var i=null,r=e._i(o,i);a.checked?r<0&&(e.shouldShowMaxResponseCharField=o.concat([i])):r>-1&&(e.shouldShowMaxResponseCharField=o.slice(0,r).concat(o.slice(r+1)))}else e.shouldShowMaxResponseCharField=n}}}),o("p",{staticClass:"m-0 ml-2"},[e._v(e._s(e._f("trans")("flow-builder.max-response-prompt")))])]),e.shouldShowMaxResponseCharField?o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/text/max_response_characters"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[e.hasText?o("div",{staticClass:"block-max-response-characters"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.max-response-characters"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":a},model:{value:e.maxResponse,callback:function(t){e.maxResponse=e._n(t)},expression:"maxResponse"}}),o("small",{staticClass:"text-muted"},[e._v(" "+e._s(e._f("trans")("flow-builder.unlimited-if-not-defined-or-set-as-zero"))+" ")])],1):e._e()]}}],null,!1,3564627455)}):e._e()],1)}),La=[],Va={mixins:[E["b"]],props:{hasText:{default:!0,type:Boolean},block:{type:Object,required:!0}},data:function(){return{defaultMaxLength:0,shouldShowMaxResponseCharField:!1}},computed:{maxResponse:{get:function(){return Object(y["get"])(this.block,"config.text.max_response_characters","")},set:function(e){this.$emit("commitMaxResponseCharactersChange",e)}}}},Fa=Va,Na=Fa,Pa=Object(T["a"])(Na,Aa,La,!1,null,null,null),Da=(Pa.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/maximum_choices"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-validation-max-choices"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.maximum-choices"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":a},model:{value:e.maxChoices,callback:function(t){e.maxChoices=e._n(t)},expression:"maxChoices"}})],1)]}}])})}),Ua=[],Ha=o("5801"),$a=Object(We["e"])("flow/".concat(Ha["a"])),za=(Object(We["e"])("builder"),function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"setMaxChoices",void 0),e}return Object(Ve["a"])(o,[{key:"mounted",value:function(){}},{key:"maxChoices",get:function(){var e=this.block.config.maximum_choices;return Object(y["isNumber"])(e)?e:""},set:function(e){var t=this.block.uuid;this.setMaxChoices({blockId:t,value:Object(y["isNumber"])(e)?e:void 0})}}]),o}(Object($e["c"])(E["a"])));Object(Ue["__decorate"])([Object(He["b"])()],za.prototype,"block",void 0),Object(Ue["__decorate"])([$a.Action],za.prototype,"setMaxChoices",void 0),za=Object(Ue["__decorate"])([Object(He["a"])({})],za);var Wa=za,Ga=Wa,Za=Object(T["a"])(Ga,Da,Ua,!1,null,null,null),qa=(Za.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/validation_maximum"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-validation-max"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.maximum-value-(inclusive)"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":a},model:{value:e.maxValue,callback:function(t){e.maxValue=e._n(t)},expression:"maxValue"}})],1)]}}])})}),Ka=[],Xa=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),e}return Object(Ve["a"])(o,[{key:"maxValue",get:function(){return this.block.config.validation_maximum},set:function(e){this.$emit("commitValidationMaximumChange",e)}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],Xa.prototype,"block",void 0),Xa=Object(Ue["__decorate"])([Object($e["b"])({})],Xa);var Ja=Xa,Ya=Ja,Qa=Object(T["a"])(Ya,qa,Ka,!1,null,null,null),en=(Qa.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/minimum_choices"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-validation-min-choices"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.minimum-choices"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":a},model:{value:e.minChoices,callback:function(t){e.minChoices=e._n(t)},expression:"minChoices"}})],1)]}}])})}),tn=[],on=Object(We["e"])("flow/".concat(Ha["a"])),an=(Object(We["e"])("builder"),function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"setMinChoices",void 0),e}return Object(Ve["a"])(o,[{key:"mounted",value:function(){}},{key:"minChoices",get:function(){var e=this.block.config.minimum_choices;return Object(y["isNumber"])(e)?e:""},set:function(e){var t=this.block.uuid;this.setMinChoices({blockId:t,value:Object(y["isNumber"])(e)?e:void 0})}}]),o}(Object($e["c"])(E["a"])));Object(Ue["__decorate"])([Object(He["b"])()],an.prototype,"block",void 0),Object(Ue["__decorate"])([on.Action],an.prototype,"setMinChoices",void 0),an=Object(Ue["__decorate"])([Object(He["a"])({})],an);var nn=an,rn=nn,cn=Object(T["a"])(rn,en,tn,!1,null,null,null),sn=(cn.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/validation_minimum"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-validation-min"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.minimum-value-(inclusive)"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":a},model:{value:e.minValue,callback:function(t){e.minValue=e._n(t)},expression:"minValue"}})],1)]}}])})}),ln=[],un=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),e}return Object(Ve["a"])(o,[{key:"minValue",get:function(){return this.block.config.validation_minimum},set:function(e){this.$emit("commitValidationMinimumChange",e)}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],un.prototype,"block",void 0),un=Object(Ue["__decorate"])([Object($e["b"])({})],un);var dn=un,bn=dn,fn=Object(T["a"])(bn,sn,ln,!1,null,null,null),pn=(fn.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mt-3"},[o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/name"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[e.editBlockName||!1===a?o("div",[o("h6",[e._v(e._s(e._f("trans")("flow-builder.edit-block-code")))]),o("div",{staticClass:"d-flex"},[o("text-editor",{staticClass:"w-100",attrs:{label:"",placeholder:e._f("trans")("flow-builder.enter-block-code"),"valid-state":a},on:{keydown:e.filterName},model:{value:e.blockName,callback:function(t){e.blockName=t},expression:"blockName"}}),o("span",{staticClass:"btn btn-primary btn-xs align-self-center ml-2",on:{click:function(t){e.editBlockName=!1}}},[o("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fas","check"]}})],1)],1)]):o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"block-code align-self-center"},[o("h6",{staticClass:"d-inline"},[e._v(e._s(e._f("trans")("flow-builder.code"))+":")]),o("span",[e._v(" "+e._s(e.blockName)+" ")])]),o("span",{staticClass:"btn btn-primary btn-xs align-self-baseline ml-2",on:{click:function(t){e.editBlockName=!0}}},[o("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["far","edit"]}})],1)])]}}])})],1)}),vn=[],hn=Object(We["e"])("flow"),mn=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"editBlockName",!1),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_setName",void 0),e}return Object(Ve["a"])(o,[{key:"blockName",get:function(){return this.block.name},set:function(e){this.block_setName({blockId:this.block.uuid,value:e})}},{key:"filterName",value:function(e){e.key.match(/\W+|Enter/g)&&e.preventDefault()}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],mn.prototype,"block",void 0),Object(Ue["__decorate"])([hn.Mutation],mn.prototype,"block_setName",void 0),mn=Object(Ue["__decorate"])([Object(He["a"])({})],mn);var gn=mn,kn=gn,jn=(o("341e"),Object(T["a"])(kn,pn,vn,!1,null,"60760b1e",null)),_n=(jn.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.isFeatureCallToRecordEnabled?o("div",{staticClass:"phone-recorder"},[o("phone-recording-recorder-selector",{attrs:{"is-modal-visible":e.isRecorderSelectorVisible},on:{input:e.handleRecorderSelectionChanged},model:{value:e.callConfig,callback:function(t){e.callConfig=t},expression:"callConfig"}})],1):e._e()}),On=[],yn={props:["recordingKey"],data:function(){return{callConfig:null}},computed:Object(m["a"])(Object(m["a"])({},Object(v["e"])({isRecorderSelectorVisible:function(e){var t=e.audio.recording.isRecorderSelectorVisible;return t}})),Object(v["c"])(["isFeatureCallToRecordEnabled"])),methods:{handleRecorderSelectionChanged:function(){if(this.$store.commit("setAudioRecordingConfigVisibilityForSelectedBlock",{isVisible:!1}),this.callConfig.recorder){var e=Object(m["a"])({key:this.recordingKey,description:this.callConfig.description},this.callConfig.recorder);this.$store.dispatch("startAudioRecordingFor",e)}}}},wn=yn,Cn=wn,xn=Object(T["a"])(Cn,_n,On,!1,null,null,null),En=(xn.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-modal",{staticClass:"phone-recording-recorder-selector",attrs:{size:"lg","no-close-on-backdrop":"","no-close-on-esc":"",title:e._f("trans")("flow-builder.select-a-caller-from-the-list-below"),visible:e.isModalVisible,"ok-title":e._f("trans")("flow-builder.call-this-phone-number"),"cancel-title":e._f("trans")("flow-builder.close")},on:{ok:e.handleModalClosed,cancel:e.handleModalCancelled,close:e.handleModalCancelled}},[o("div",{staticClass:"call-to-record-modal-table-container"},[o("table",{staticClass:"table table-striped"},[o("thead",[o("tr",[o("th",{staticClass:"recorder-selector-field"}),o("th",[e._v(e._s(e._f("trans")("flow-builder.name")))]),o("th",[e._v(e._s(e._f("trans")("flow-builder.phone-number")))])])]),o("tbody",{attrs:{id:"call-to-record-modal-list"}},e._l(e.recorders,(function(t){return o("tr",{staticClass:"call-to-record-item"},[o("td",{staticClass:"recorder-selector-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRecorder,expression:"selectedRecorder"}],attrs:{id:"call-to-record-caller-"+t.id,type:"radio","x-name":"calltorecord_caller_select"},domProps:{value:t,checked:e._q(e.selectedRecorder,t)},on:{change:function(o){e.selectedRecorder=t}}})]),o("td",[o("label",{attrs:{for:"call-to-record-caller-"+t.id},on:{click:function(o){return e.setSelectedRecorder(t)}}},[e._v(e._s(t.name))])]),o("td",[o("label",{attrs:{for:"call-to-record-caller-"+t.id},on:{click:function(o){return e.setSelectedRecorder(t)}}},[e._v(e._s(t.phone))])])])})),0)]),o("h4",[e._v(e._s(e._f("trans")("flow-builder.add-a-description-to-this-recording")))]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",rows:"2",placeholder:e._f("trans")("flow-builder.optional-description")},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),o("h4",[e._v(e._s(e._f("trans")("flow-builder.add-a-new-recorder")))]),o("table",{staticClass:"table"},[o("tbody",[o("tr",[o("td",{staticClass:"recorder-selector-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRecorder,expression:"selectedRecorder"}],attrs:{id:"new_recorder_radio",type:"radio",name:"calltorecord_caller_select"},domProps:{value:e.draft,checked:e._q(e.selectedRecorder,e.draft)},on:{change:function(t){e.selectedRecorder=e.draft}}})]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.draft.name,expression:"draft.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:e._f("trans")("flow-builder.name")},domProps:{value:e.draft.name},on:{click:e.selectNewRecorder,input:function(t){t.target.composing||e.$set(e.draft,"name",t.target.value)}}})]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.draft.phone,expression:"draft.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:e._f("trans")("flow-builder.phone-number")},domProps:{value:e.draft.phone},on:{click:e.selectNewRecorder,input:function(t){t.target.composing||e.$set(e.draft,"phone",t.target.value)}}})])])])])])])}),Bn=[],In=o("6aac"),Sn={components:{BModal:In["a"]},mixins:[E["b"]],props:{isModalVisible:Boolean},data:function(){return{selectedRecorder:null,description:null,draft:null}},created:function(){this.reset()},computed:Object(m["a"])({},Object(v["e"])({recorders:function(e){var t=e.audio.recording.recorders;return t}})),methods:{selectNewRecorder:function(){this.draft.isNew=!0,this.selectedRecorder=this.draft},setSelectedRecorder:function(e){this.selectedRecorder=e},reset:function(){this.draft={name:null,phone:null,isNew:!0},this.description=null,this.selectedRecorder=null},handleModalClosed:function(){var e=this.description,t=Object(y["clone"])(this.selectedRecorder);this.reset(),this.$emit("input",{value:t,recorder:t,description:e})},handleModalCancelled:function(){this.reset();var e=this.description,t=Object(y["clone"])(this.selectedRecorder);this.$emit("input",{value:t,recorder:t,description:e})}}},Tn=Sn,Mn=Tn,Rn=(o("109e"),Object(T["a"])(Mn,En,Bn,!1,null,"eb9decf4",null)),An=(Rn.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/semantic_label"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-semantic-label"},[o("text-editor",{attrs:{label:e._f("trans")("flow-builder.block-exit-semantic-label"),placeholder:e._f("trans")("flow-builder.enter-block-semantic-label"),"valid-state":a},model:{value:e.semanticLabel,callback:function(t){e.semanticLabel=t},expression:"semanticLabel"}})],1)]}}])})}),Ln=[],Vn={mixins:[E["b"]],props:{block:{type:Object,required:!0}},computed:{semanticLabel:{get:function(){return this.block.semantic_label||""},set:function(e){this.block_setSemanticLabel({blockId:this.block.uuid,value:e})}}},methods:Object(m["a"])({},Object(v["d"])("flow",["block_setSemanticLabel"]))},Fn=Vn,Nn=Fn,Pn=Object(T["a"])(Nn,An,Ln,!1,null,null,null),Dn=(Pn.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/tags"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-group"},[o("label",[e._v(e._s(e._f("trans")("flow-builder.tags-label")))]),o("vue-multiselect",{class:{invalid:!1===a},attrs:{"track-by":"name",label:"name",multiple:!0,placeholder:e._f("trans")("flow-builder.tags-selector-placeholder"),options:e.availableTagOptions,searchable:!0,"show-labels":!1,"close-on-select":!1,taggable:e.taggable,"tag-placeholder":e.taggable?e.trans("flow-builder.create-a-tag-prompt"):""},on:{tag:e.addTag},model:{value:e.selectedTags,callback:function(t){e.selectedTags=t},expression:"selectedTags"}})],1)]}}])})}),Un=[],Hn=Object(We["e"])("flow"),$n=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"taggable",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_setTags",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_addTag",void 0),Object(De["a"])(Object(Fe["a"])(e),"blockTags",void 0),e}return Object(Ve["a"])(o,[{key:"selectedTags",get:function(){return this.stringListToOptions(this.block.tags||[])},set:function(e){this.block_setTags({blockId:this.block.uuid,value:Object(y["map"])(e,"name")})}},{key:"availableTagOptions",get:function(){return this.stringListToOptions(this.blockTags)}},{key:"stringListToOptions",value:function(e){return Object(y["map"])(e,(function(e){return{id:e,name:e}}))}},{key:"addTag",value:function(e){this.blockTags.push(e),this.block_addTag({blockId:this.block.uuid,value:e})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],$n.prototype,"block",void 0),Object(Ue["__decorate"])([Object(He["b"])({default:!0})],$n.prototype,"taggable",void 0),Object(Ue["__decorate"])([Hn.Mutation],$n.prototype,"block_setTags",void 0),Object(Ue["__decorate"])([Hn.Mutation],$n.prototype,"block_addTag",void 0),Object(Ue["__decorate"])([Object(We["d"])((function(e){var t=e.trees.ui.blockTags;return t}))],$n.prototype,"blockTags",void 0),$n=Object(Ue["__decorate"])([Object(He["a"])({components:{VueMultiselect:la.a}})],$n);var zn,Wn=$n,Gn=Wn,Zn=(o("4364"),Object(T["a"])(Gn,Dn,Un,!1,null,"45df2783",null)),qn=(Zn.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/accuracy_threshold_meters"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"threshold-editor"},[o("float-editor",{attrs:{min:0,"regex-float-filtering":"[0-9.,]",label:e._f("trans")("flow-builder.accuracy-threshold-in-meters"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":a},model:{value:e.threshold,callback:function(t){e.threshold=e._n(t)},expression:"threshold"}})],1)]}}])})}),Kn=[],Xn={mixins:[E["b"]],props:{block:{type:Object,required:!0}},data:function(){return{defaultValue:5}},computed:{threshold:{get:function(){return Object(y["get"])(this.block,"config.accuracy_threshold_meters",this.defaultValue)},set:function(e){this.$emit("commitAccuracyThresholdMetersChange",e)}}}},Jn=Xn,Yn=Jn,Qn=Object(T["a"])(Yn,qn,Kn,!1,null,null,null),ei=(Qn.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/accuracy_timeout_seconds"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"timeout-editor"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.accuracy-timeout-in-seconds"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":a},model:{value:e.timeout,callback:function(t){e.timeout=e._n(t)},expression:"timeout"}})],1)]}}])})}),ti=[],oi={mixins:[E["b"]],props:{block:{type:Object,required:!0},validState:{type:Boolean,default:null,required:!1}},data:function(){return{defaultValue:120}},computed:{timeout:{get:function(){return Object(y["get"])(this.block,"config.accuracy_timeout_seconds",this.defaultValue)},set:function(e){this.$emit("commitAccuracyTimeoutSecondsChange",e)}}}},ai=oi,ni=ai,ii=Object(T["a"])(ni,ei,ti,!1,null,null,null),ri=(ii.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload-monitor"},[e.hasProgress?o("div",{staticClass:"upload-monitor-progress"},[o("h6",[e._v(e._s(e._f("trans")("trees.uploading"))+" "+e._s(e.upload.file.name))]),o("div",{staticClass:"progress"},[o("b-progress",{staticClass:"mb-3",attrs:{value:1*e.progress,"show-value":"",animated:""}})],1)]):e._e(),e.isFailure?o("p",{staticClass:"text-danger small"},[e._v(" "+e._s(e._f("trans")("trees.error-uploading-file-try-again"))+" "),e.upload.message?o("span",{staticClass:"details"},[e._v("("+e._s(e.upload.message)+")")]):e._e()]):e._e(),e.hasProgress?e._e():e._t("default")],2)}),ci=[],si=o("49f5"),li=o("bc3a"),ui=o.n(li),di={UPLOADING:-1,UNINITIALIZED:0,SUCCESS:1,FAILURE:2},bi=(zn={},Object(De["a"])(zn,di.UPLOADING,"uploading"),Object(De["a"])(zn,di.UNINITIALIZED,"uninitialized"),Object(De["a"])(zn,di.SUCCESS,"success"),Object(De["a"])(zn,di.FAILURE,"failure"),{namespaced:!0,state:{uploadProgressByKey:{},errorMessageByKey:{},uploadsById:{},uploadIdsByKey:{}},mutations:{setErrorMessage:function(e,t){var o=e.errorMessageByKey,a=t.key,n=t.errorMessage;p["default"].set(o,a,n)},setUploadProgress:function(e,t){var o=e.uploadProgressByKey,a=t.key,n=t.uploadProgress;p["default"].set(o,a,n)},setUploadStatusFor:function(e,t){var o=e.uploadsById,a=e.uploadIdsByKey,n=t.file,i=t.key,r=t.status,c=t.progress,s=t.message,l=t.cancel,u=w.a.pick(n,["averageSpeed","currentSpeed","error","name","paused","relativePath","size","uniqueIdentifier"]);p["default"].set(o,u.uniqueIdentifier,{key:i,status:r,progress:c,message:s,cancel:l,file:u}),p["default"].set(a,i,u.uniqueIdentifier)}},actions:{uploadFile:function(e,t){var o=e.commit,a=t.key,n=t.uploadUrl,i=t.formDataFields,r=t.onSuccess,c=t.onError;if(!n)return o("setUploadProgress",{key:a,uploadProgress:null}),void c(new Error("url was ".concat(n)));var s=new FormData;w.a.forEach(i,(function(e,t){s.set(t,e)}));var l={onUploadProgress:function(e){o("setUploadProgress",{key:a,uploadProgress:Math.floor(100*e.loaded/e.total)})}};ui.a.post(n,s,l).then((function(e){o("setUploadProgress",{key:a,uploadProgress:null}),r(e)})).catch((function(e){o("setUploadProgress",{key:a,uploadProgress:null}),c(e)}))},uploadFiles:function(e,t){var o=e.commit,a=(e.dispatch,e.state,t.key),n=t.files,i=t.uploader,r=function(e){return i.cancel()};n.forEach((function(e){return o("setUploadStatusFor",{file:e,key:a,progress:0,status:di.UNINITIALIZED,message:null,cancel:r})})),i.on("fileProgress",(function(e,t){console.debug("Upload in progress... ".concat(_.parseInt(100*e.progress()),"%")),o("setUploadStatusFor",{file:e,key:a,progress:e.progress(),status:di.UPLOADING,message:null,cancel:r})})),i.on("fileSuccess",(function(e,t){console.debug("Upload successful!"),o("setUploadStatusFor",{file:e,key:a,progress:1,status:di.SUCCESS,message:null,cancel:r})})),i.on("error",(function(e,t){var n=JSON.parse(e)||{},i=n.status_description;console.debug("Upload has error ".concat(i)),o("setUploadStatusFor",{file:t,key:a,status:di.FAILURE,message:i,cancel:r})})),i.upload(),console.debug("Upload in progress...")}}}),fi={components:{BProgress:si["a"]},mixins:[E["b"]],props:["uploadKey"],computed:Object(m["a"])(Object(m["a"])({},Object(v["e"])("multimediaUpload",["uploadsById","uploadIdsByKey"])),{},{upload:function(){return this.uploadsById[this.uploadIdsByKey[this.uploadKey]]},hasProgress:function(){return this.upload&&this.upload.status!==di.SUCCESS&&this.upload.status!==di.FAILURE},isFailure:function(){return this.upload&&this.upload.status===di.FAILURE},progress:function(){return 100*Object(y["get"])(this.upload,"progress",0)}}),created:function(){var e=this.$store,t={multimediaUpload:bi};Object(y["forEach"])(t,(function(t,o){return!e.hasModule(o)&&e.registerModule(o,t)}))}},pi=fi,vi=pi,hi=(o("9ea4"),Object(T["a"])(vi,ri,ci,!1,null,null,null)),mi=(hi.exports,o("2b44")),gi=o("59c3"),ki=o("5c47"),ji=o("03d5"),_i=o("64bb"),Oi=o("2d61"),yi=o("c600"),wi=o("cf2c"),Ci=o("02b5"),xi=o("d81e"),Ei=o("cab8"),Bi=o("41bd"),Ii=o("5dcb"),Si=o("b6b9"),Ti=o("84d1"),Mi=o("3ef7"),Ri=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flow-editor exit-block-editor-toggle"},[e.isEditable&&e.hasClipboard?[o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-secondary btn-sm",class:{active:e.isExitBlock},attrs:{type:"button"},on:{click:e.toggleExitBlock}},[e.isExitBlock?[e._v(" "+e._s(e._f("trans")("flow-builder.unset-as-exit-block"))+" ")]:[e._v(" "+e._s(e._f("trans")("flow-builder.set-as-exit-block"))+" ")]],2)])]:e._e()],2)},Ai=[],Li={mixins:[E["b"]],props:{flow:Object,blockId:String,isEditable:{type:Boolean,default:!0}},computed:{isExitBlock:function(){return this.blockId===this.flow.exit_block_id}},methods:Object(m["a"])(Object(m["a"])({},Object(v["d"])("flow",["flow_setExitBlockId"])),{},{toggleExitBlock:function(){this.flow_setExitBlockId({flowId:this.flow.uuid,blockId:this.isExitBlock?null:this.blockId})}})},Vi=Li,Fi=Vi,Ni=Object(T["a"])(Fi,Ri,Ai,!1,null,null,null),Pi=(Ni.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"starting-block-button"},[e.isEditable?[o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-sm w-100",class:{"btn-outline-primary":!e.isStartBlock,"btn-primary":e.isStartBlock},attrs:{type:"button",disabled:e.isStartBlock},on:{click:function(t){return e.setStartBlock(t)}}},[o("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fac","enter"]}}),e.isStartBlock?[e._v(" "+e._s(e._f("trans")("flow-builder.currently-set-as-starting-block"))+" ")]:[e._v(" "+e._s(e._f("trans")("flow-builder.set-as-starting-block"))+" ")]],2)])]:e._e()],2)}),Di=[],Ui=Object(We["e"])("flow"),Hi=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"isEditable",void 0),Object(De["a"])(Object(Fe["a"])(e),"blockId",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_setFirstBlockId",void 0),e}return Object(Ve["a"])(o,[{key:"isStartBlock",get:function(){return this.blockId===this.flow.first_block_id}},{key:"setStartBlock",value:function(e){var t=this.flow.uuid,o=this.blockId;this.flow_setFirstBlockId({flowId:t,blockId:o})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])({default:!0})],Hi.prototype,"isEditable",void 0),Object(Ue["__decorate"])([Object(He["b"])()],Hi.prototype,"blockId",void 0),Object(Ue["__decorate"])([Object(He["b"])()],Hi.prototype,"flow",void 0),Object(Ue["__decorate"])([Ui.Mutation],Hi.prototype,"flow_setFirstBlockId",void 0),Hi=Object(Ue["__decorate"])([Object(He["a"])({})],Hi);var $i=Hi,zi=$i,Wi=Object(T["a"])(zi,Pi,Di,!1,null,null,null),Gi=(Wi.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flow-editor"},[e.flowHeader?o("h3",{staticClass:"no-room-above"},[e._v(" "+e._s(e._f("trans")(e.flowHeader))+" ")]):e._e(),o("fieldset",{attrs:{disabled:!e.isEditable&&e.isOnSmallContainer}},[o("div",{staticClass:"row"},[o("validation-message",{class:e.firstRowClass,attrs:{"message-key":"flow/"+e.flow.uuid+"/name","should-hide-validation":!e.didUserSubmit},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("flow-label-editor",{attrs:{flow:e.flow,"valid-state":a}})]}}])}),e.hasDefaultInteractionTimeout?e._e():o("validation-message",{class:e.firstRowClass,attrs:{"message-key":"flow/"+e.flow.uuid+"/interaction_timeout","should-hide-validation":!e.didUserSubmit},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("interaction-timeout-editor",{attrs:{flow:e.flow,"valid-state":a}})]}}],null,!1,2325893480)})],1),o("div",{staticClass:"row"},[o("validation-message",{class:e.otherRowsClass,attrs:{"message-key":"flow/"+e.flow.uuid+"/languages","should-hide-validation":!e.didUserSubmit},scopedSlots:e._u([{key:"input-control",fn:function(t){t.isValid;return[o("languages-editor",{attrs:{flow:e.flow},on:{commitFlowLanguagesChange:e.updateFlowLanguages}})]}}])}),o("validation-message",{class:e.otherRowsClass,attrs:{"message-key":"flow/"+e.flow.uuid+"/supported_modes","should-hide-validation":!e.didUserSubmit},scopedSlots:e._u([{key:"input-control",fn:function(t){t.isValid;return[o("modes-editor",{attrs:{flow:e.flow},on:{commitFlowModesChange:e.updateFlowModes}})]}}])})],1)])])}),Zi=[],qi=Object(We["e"])("flow"),Ki=Object(We["e"])("builder"),Xi=Object(We["e"])("validation"),Ji=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"flow",void 0),Object(De["a"])(Object(Fe["a"])(e),"flowHeader",void 0),Object(De["a"])(Object(Fe["a"])(e),"isOnSmallContainer",void 0),Object(De["a"])(Object(Fe["a"])(e),"didUserSubmit",void 0),Object(De["a"])(Object(Fe["a"])(e),"ui",void 0),Object(De["a"])(Object(Fe["a"])(e),"activeFlow",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_setLanguages",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_setSupportedMode",void 0),Object(De["a"])(Object(Fe["a"])(e),"isEditable",void 0),Object(De["a"])(Object(Fe["a"])(e),"validate_resourcesOnSupportedValues",void 0),e}return Object(Ve["a"])(o,[{key:"hasDefaultInteractionTimeout",get:function(){return Boolean(this.ui.appWideInteractionTimeout)}},{key:"firstRowClass",get:function(){return this.isOnSmallContainer||this.hasDefaultInteractionTimeout?"col-12":"col-xl-6 col-lg-6 col-md-12 col-sm-12"}},{key:"otherRowsClass",get:function(){return this.isOnSmallContainer?"col-12":"col-xl-6 col-lg-6 col-md-12 col-sm-12"}},{key:"updateFlowLanguages",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.flow_setLanguages({flowId:this.flow.uuid,value:t}),e.next=3,this.validate_resourcesOnSupportedValues({resources:this.activeFlow.resources,supportedModes:this.activeFlow.supported_modes});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateFlowModes",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.flow_setSupportedMode({flowId:this.flow.uuid,value:t}),e.next=3,this.validate_resourcesOnSupportedValues({resources:this.activeFlow.resources,supportedModes:this.activeFlow.supported_modes});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],Ji.prototype,"flow",void 0),Object(Ue["__decorate"])([Object(He["b"])({default:""})],Ji.prototype,"flowHeader",void 0),Object(Ue["__decorate"])([Object(He["b"])({default:!0})],Ji.prototype,"isOnSmallContainer",void 0),Object(Ue["__decorate"])([Object(He["b"])({default:!1})],Ji.prototype,"didUserSubmit",void 0),Object(Ue["__decorate"])([Object(We["d"])((function(e){var t=e.trees.ui;return t}))],Ji.prototype,"ui",void 0),Object(Ue["__decorate"])([qi.Getter],Ji.prototype,"activeFlow",void 0),Object(Ue["__decorate"])([qi.Mutation],Ji.prototype,"flow_setLanguages",void 0),Object(Ue["__decorate"])([qi.Mutation],Ji.prototype,"flow_setSupportedMode",void 0),Object(Ue["__decorate"])([Ki.Getter],Ji.prototype,"isEditable",void 0),Object(Ue["__decorate"])([Xi.Action],Ji.prototype,"validate_resourcesOnSupportedValues",void 0),Ji=Object(Ue["__decorate"])([Object(He["a"])({})],Ji);var Yi=Ji,Qi=Yi,er=Object(T["a"])(Qi,Gi,Zi,!1,null,null,null),tr=(er.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-group flow-interaction-timeout"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.Interaction-timeout"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":e.validState},model:{value:e.interactionTimeout,callback:function(t){e.interactionTimeout=e._n(t)},expression:"interactionTimeout"}})],1)}),or=[],ar=Object(We["e"])("flow"),nr=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"flow",void 0),Object(De["a"])(Object(Fe["a"])(e),"validState",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_setInteractionTimeout",void 0),e}return Object(Ve["a"])(o,[{key:"interactionTimeout",get:function(){return this.flow.interaction_timeout},set:function(e){this.flow_setInteractionTimeout({flowId:this.flow.uuid,value:e})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],nr.prototype,"flow",void 0),Object(Ue["__decorate"])([Object(He["b"])()],nr.prototype,"validState",void 0),Object(Ue["__decorate"])([ar.Mutation],nr.prototype,"flow_setInteractionTimeout",void 0),nr=Object(Ue["__decorate"])([Object(He["a"])({})],nr);var ir=nr,rr=ir,cr=Object(T["a"])(rr,tr,or,!1,null,null,null),sr=(cr.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-group flow-label"},[o("text-editor",{class:{"is-invalid":e.isInvalid},attrs:{label:e._f("trans")("flow-builder.flow-label"),placeholder:e._f("trans")("flow-builder.enter-flow-label")},model:{value:e.label,callback:function(t){e.label=t},expression:"label"}})],1)}),lr=[],ur=Object(We["e"])("flow"),dr=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"flow",void 0),Object(De["a"])(Object(Fe["a"])(e),"validState",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_setLabel",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_setNameFromLabel",void 0),e}return Object(Ve["a"])(o,[{key:"isInvalid",get:function(){return!1===this.validState}},{key:"label",get:function(){var e;return null!==(e=this.flow.label)&&void 0!==e?e:""},set:function(e){this.flow_setLabel({flowId:this.flow.uuid,label:e}),this.flow_setNameFromLabel({flowId:this.flow.uuid,label:e})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],dr.prototype,"flow",void 0),Object(Ue["__decorate"])([Object(He["b"])()],dr.prototype,"validState",void 0),Object(Ue["__decorate"])([ur.Mutation],dr.prototype,"flow_setLabel",void 0),Object(Ue["__decorate"])([ur.Mutation],dr.prototype,"flow_setNameFromLabel",void 0),dr=Object(Ue["__decorate"])([He["a"]],dr);var br=dr,fr=br,pr=Object(T["a"])(fr,sr,lr,!1,null,null,null),vr=(pr.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-group flow-languages"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.languages")))]),o("vue-multiselect",{attrs:{"track-by":"id",label:"label",placeholder:e._f("trans")("flow-builder.select-languages"),options:e.languages,multiple:!0,"show-labels":!1,searchable:!0},model:{value:e.flowSelectedLanguages,callback:function(t){e.flowSelectedLanguages=t},expression:"flowSelectedLanguages"}})],1)}),hr=[],mr=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"flow",void 0),Object(De["a"])(Object(Fe["a"])(e),"ui",void 0),e}return Object(Ve["a"])(o,[{key:"languages",get:function(){return Object(y["sortBy"])(this.ui.languages,["label"])}},{key:"flowSelectedLanguages",get:function(){var e;return null!==(e=this.flow.languages)&&void 0!==e?e:[]},set:function(e){this.$emit("commitFlowLanguagesChange",e)}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],mr.prototype,"flow",void 0),Object(Ue["__decorate"])([Object(We["d"])((function(e){var t=e.trees.ui;return t}))],mr.prototype,"ui",void 0),mr=Object(Ue["__decorate"])([Object(He["a"])({components:{VueMultiselect:la.a}})],mr);var gr=mr,kr=gr,jr=Object(T["a"])(kr,vr,hr,!1,null,null,null),_r=(jr.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-group flow-modes"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.modes")))]),o("vue-multiselect",{attrs:{placeholder:e._f("trans")("flow-builder.select-modes"),options:e.supportedModes,multiple:!0,"show-labels":!1,searchable:!0},model:{value:e.flowSelectedModes,callback:function(t){e.flowSelectedModes=t},expression:"flowSelectedModes"}})],1)}),Or=[],yr=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"flow",void 0),Object(De["a"])(Object(Fe["a"])(e),"supportedModes",void 0),e}return Object(Ve["a"])(o,[{key:"flowSelectedModes",get:function(){return this.flow.supported_modes},set:function(e){this.$emit("commitFlowModesChange",e)}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],yr.prototype,"flow",void 0),Object(Ue["__decorate"])([We["b"]],yr.prototype,"supportedModes",void 0),yr=Object(Ue["__decorate"])([Object(He["a"])({components:{VueMultiselect:la.a}})],yr);var wr=yr,Cr=wr,xr=Object(T["a"])(Cr,_r,Or,!1,null,null,null),Er=(xr.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.updating?o("div",[o("br"),o("div",{staticClass:"spinner-border",attrs:{role:"status"}},[o("span",{staticClass:"sr-only"},[e._v(e._s(e._f("trans")("flow-builder.loading")))])])]):e._e(),!e.flowError&&e.flowJsonText?o("div",{staticClass:"alert alert-success mt-3",attrs:{role:"alert"}},[o("font-awesome-icon",{attrs:{icon:["far","check-circle"]}}),e._v(" "+e._s(e._f("trans")("flow-builder.import-success"))+" ")],1):e._e(),e.flowError?o("div",{staticClass:"alert alert-danger mt-3",attrs:{role:"alert"}},[o("i",{staticClass:"glyphicon glyphicon-exclamation-sign"}),e._v(" "+e._s(e._f("trans")(e.flowError,e.flowErrorInterpolations))+" ")]):e._e(),e.hasUnsupportedBlockClasses?o("div",{staticClass:"alert alert-danger mt-3",attrs:{role:"alert"}},[o("i",{staticClass:"glyphicon glyphicon-exclamation-sign"}),e._v(" "+e._s(e.trans("flow-builder.unsupported-blocks-detected")+": "+e.unsupportedBlockClassesList)+" ")]):e._e(),e.languagesMissing?o("import-matcher",{staticClass:"mt-2",attrs:{"missing-matches":e.missingLanguages,"type-id":"id","type-label":"label",type:"language","existing-options-without-match":e.existingLanguagesWithoutMatch,"match-not-found-text":"flow-builder.match-for-languages-not-found"},on:{reactToMatch:e.handleMatchLanguage}}):e._e(),e.propertiesMissing?o("import-matcher",{staticClass:"mt-2",attrs:{"missing-matches":e.missingProperties,"type-id":"name","type-label":"name",type:"property","existing-options-without-match":e.existingPropertiesWithoutMatch,"match-not-found-text":"flow-builder.match-for-properties-not-found"},on:{reactToMatch:e.handleMatchProperty}}):e._e(),e.groupsMissing?o("import-matcher",{staticClass:"mt-2",attrs:{"missing-matches":e.missingGroups,"type-id":"id","type-label":"group_name",type:"group","existing-options-without-match":e.existingGroupsWithoutMatch,"match-not-found-text":"flow-builder.match-for-groups-not-found"},on:{reactToMatch:e.handleMatchGroup}}):e._e()],1)}),Br=[],Ir=Object(We["e"])("flow/import"),Sr=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"blockClasses",void 0),Object(De["a"])(Object(Fe["a"])(e),"matchLanguage",void 0),Object(De["a"])(Object(Fe["a"])(e),"matchProperty",void 0),Object(De["a"])(Object(Fe["a"])(e),"matchGroup",void 0),Object(De["a"])(Object(Fe["a"])(e),"hasUnsupportedBlockClasses",void 0),Object(De["a"])(Object(Fe["a"])(e),"unsupportedBlockClassesList",void 0),Object(De["a"])(Object(Fe["a"])(e),"languagesMissing",void 0),Object(De["a"])(Object(Fe["a"])(e),"groupsMissing",void 0),Object(De["a"])(Object(Fe["a"])(e),"propertiesMissing",void 0),Object(De["a"])(Object(Fe["a"])(e),"flowError",void 0),Object(De["a"])(Object(Fe["a"])(e),"flowErrorInterpolations",void 0),Object(De["a"])(Object(Fe["a"])(e),"flowContainer",void 0),Object(De["a"])(Object(Fe["a"])(e),"missingLanguages",void 0),Object(De["a"])(Object(Fe["a"])(e),"existingLanguagesWithoutMatch",void 0),Object(De["a"])(Object(Fe["a"])(e),"missingProperties",void 0),Object(De["a"])(Object(Fe["a"])(e),"existingPropertiesWithoutMatch",void 0),Object(De["a"])(Object(Fe["a"])(e),"missingGroups",void 0),Object(De["a"])(Object(Fe["a"])(e),"existingGroupsWithoutMatch",void 0),Object(De["a"])(Object(Fe["a"])(e),"updating",void 0),Object(De["a"])(Object(Fe["a"])(e),"flowJsonText",void 0),e}return Object(Ve["a"])(o,[{key:"handleMatchLanguage",value:function(e,t){this.matchLanguage({oldLanguage:e,matchingNewLanguage:t})}},{key:"handleMatchProperty",value:function(e,t){this.matchProperty({oldProperty:e,matchingNewProperty:t})}},{key:"handleMatchGroup",value:function(e,t){this.matchGroup({oldGroup:e,matchingNewGroup:t})}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([We["b"]],Sr.prototype,"blockClasses",void 0),Object(Ue["__decorate"])([Ir.Action],Sr.prototype,"matchLanguage",void 0),Object(Ue["__decorate"])([Ir.Action],Sr.prototype,"matchProperty",void 0),Object(Ue["__decorate"])([Ir.Action],Sr.prototype,"matchGroup",void 0),Object(Ue["__decorate"])([Ir.Getter],Sr.prototype,"hasUnsupportedBlockClasses",void 0),Object(Ue["__decorate"])([Ir.Getter],Sr.prototype,"unsupportedBlockClassesList",void 0),Object(Ue["__decorate"])([Ir.Getter],Sr.prototype,"languagesMissing",void 0),Object(Ue["__decorate"])([Ir.Getter],Sr.prototype,"groupsMissing",void 0),Object(Ue["__decorate"])([Ir.Getter],Sr.prototype,"propertiesMissing",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"flowError",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"flowErrorInterpolations",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"flowContainer",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"missingLanguages",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"existingLanguagesWithoutMatch",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"missingProperties",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"existingPropertiesWithoutMatch",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"missingGroups",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"existingGroupsWithoutMatch",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"updating",void 0),Object(Ue["__decorate"])([Ir.State],Sr.prototype,"flowJsonText",void 0),Sr=Object(Ue["__decorate"])([Object(He["a"])({})],Sr);var Tr=Sr,Mr=Tr,Rr=Object(T["a"])(Mr,Er,Br,!1,null,null,null),Ar=(Rr.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("label",[e._v(e._s(e._f("trans")(e.matchNotFoundText)))]),e._l(e.missingMatches,(function(t){return o("div",{key:e.getIdentifier(t)+"-missing"},[o("div",{staticClass:"row full-width ml-1 mt-2"},[o("div",{staticClass:"form-check form-check-inline full-width"},[o("div",{staticClass:"col-xl-2 col-md-3"},[o("label",{staticClass:"form-check-label full-width mt-2 mb-2"},[e._v(e._s(e.getLabel(t)))])]),o("div",{staticClass:"col-xl-8 col-md-6"},[o("select",{staticClass:"form-control full-width",on:{change:function(o){return e.updateMappings(t,o)}}},[o("option",{key:"default",attrs:{value:""},domProps:{selected:e.mappingsEmpty}},[e._v(" "+e._s(e._f("trans")("flow-builder.none-selected"))+" ")]),e._l(e.existingOptionsWithoutMatch,(function(t){return o("option",{key:e.getIdentifier(t)+"-option",domProps:{value:JSON.stringify(t)}},[e._v(" "+e._s(t)+" ")])}))],2)]),o("div",{staticClass:"col-xl-2 col-md-3"},[o("button",{staticClass:"btn btn-primary full-width",on:{click:function(o){return e.handleMatch(t)}}},[e._v(" "+e._s(e._f("trans")("flow-builder.update"))+" ")])])])]),"language"===e.type&&e.isFeatureAddLanguageOnImportEnabled?o("div",{staticClass:"row full-width mt-2"},[o("div",{staticClass:"col-12"},[o("language-adder",{on:{onLanguageAddition:e.onLanguageAddition}})],1)]):e._e()])}))],2)}),Lr=[],Vr=Object(We["e"])("flow/import"),Fr=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"matchNotFoundText",void 0),Object(De["a"])(Object(Fe["a"])(e),"type",void 0),Object(De["a"])(Object(Fe["a"])(e),"typeId",void 0),Object(De["a"])(Object(Fe["a"])(e),"typeLabel",void 0),Object(De["a"])(Object(Fe["a"])(e),"missingMatches",void 0),Object(De["a"])(Object(Fe["a"])(e),"existingOptionsWithoutMatch",void 0),Object(De["a"])(Object(Fe["a"])(e),"mappings",{}),Object(De["a"])(Object(Fe["a"])(e),"isFeatureAddLanguageOnImportEnabled",void 0),Object(De["a"])(Object(Fe["a"])(e),"validateLanguages",void 0),Object(De["a"])(Object(Fe["a"])(e),"flowContainer",void 0),e}return Object(Ve["a"])(o,[{key:"getLabel",value:function(e){return Object(y["get"])(e,this.typeLabel,"")}},{key:"getIdentifier",value:function(e){return Object(y["get"])(e,this.typeId,"")}},{key:"updateMappings",value:function(e,t){this.mappings[this.getIdentifier(e)]=t.target.value}},{key:"mappingsEmpty",get:function(){return Object(y["isEmpty"])(this.mappings)}},{key:"handleMatch",value:function(e){var t=Object(y["get"])(this.mappings,this.getIdentifier(e));if(t){var o=JSON.parse(t);this.$emit("reactToMatch",e,o),this.mappings=Object(y["omit"])(this.mappings,this.getIdentifier(e))}}},{key:"onLanguageAddition",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validateLanguages(this.flowContainer);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])({default:""})],Fr.prototype,"matchNotFoundText",void 0),Object(Ue["__decorate"])([Object(He["b"])({required:!0})],Fr.prototype,"type",void 0),Object(Ue["__decorate"])([Object(He["b"])({required:!0})],Fr.prototype,"typeId",void 0),Object(Ue["__decorate"])([Object(He["b"])({required:!0})],Fr.prototype,"typeLabel",void 0),Object(Ue["__decorate"])([Object(He["b"])({required:!0})],Fr.prototype,"missingMatches",void 0),Object(Ue["__decorate"])([Object(He["b"])({required:!0})],Fr.prototype,"existingOptionsWithoutMatch",void 0),Object(Ue["__decorate"])([We["b"]],Fr.prototype,"isFeatureAddLanguageOnImportEnabled",void 0),Object(Ue["__decorate"])([Vr.Action],Fr.prototype,"validateLanguages",void 0),Object(Ue["__decorate"])([Vr.State],Fr.prototype,"flowContainer",void 0),Fr=Object(Ue["__decorate"])([Object(He["a"])({})],Fr);var Nr=Fr,Pr=Nr,Dr=(o("3dbb"),Object(T["a"])(Pr,Ar,Lr,!1,null,null,null)),Ur=(Dr.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._t("default",(function(){return[o("button",{staticClass:"btn btn-primary",on:{click:e.showAddLanguageModal}},[e._v(" "+e._s(e._f("trans")("flow-builder.add-language"))+" ")])]}),{showAddLanguageModal:e.showAddLanguageModal}),o("b-modal",{ref:"add-language-modal",attrs:{title:e._f("trans")("flow-builder.add-language"),"ok-title":e._f("trans")("flow-builder.create"),"cancel-title":e._f("trans")("flow-builder.cancel")},on:{ok:function(t){return t.preventDefault(),e.handleCreateLanguage.apply(null,arguments)}}},[o("div",{staticClass:"form-group"},[o("validation-message",{attrs:{"message-key":"language/new_language/label"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("text-editor",{attrs:{placeholder:e._f("trans")("flow-builder.enter-label"),label:e._f("trans")("flow-builder.label"),"valid-state":a},model:{value:e.newLanguage.label,callback:function(t){e.$set(e.newLanguage,"label",t)},expression:"newLanguage.label"}})]}}])})],1),o("div",{staticClass:"form-group"},[o("validation-message",{attrs:{"message-key":"language/new_language/iso_639_3"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.iso-639-3-label")))]),o("vue-multiselect",{class:{invalid:!1===a},attrs:{placeholder:e._f("trans")("flow-builder.language-tag-selector-placeholder"),options:e.iso_639_3Tags,"allow-empty":!1,"custom-label":e.customLanguageLabel,"track-by":"iso6393",searchable:!0},model:{value:e.iso_639_3,callback:function(t){e.iso_639_3=t},expression:"iso_639_3"}})]}}])})],1),o("div",{staticClass:"form-group"},[o("validation-message",{attrs:{"message-key":"language/new_language/variant"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("text-editor",{attrs:{placeholder:e._f("trans")("flow-builder.enter-variant"),label:e._f("trans")("flow-builder.language-variant"),"valid-state":a},on:{keydown:e.filterVariant},model:{value:e.variant,callback:function(t){e.variant=t},expression:"variant"}})]}}])})],1),o("div",{staticClass:"form-group"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.iso-3166-1-label")))]),o("vue-multiselect",{attrs:{placeholder:e._f("trans")("flow-builder.language-locale-selector-placeholder"),options:e.iso_3166_1Locales(),"allow-empty":!1,"track-by":"locale","custom-label":e.customLocaleLabel,searchable:!0},model:{value:e.iso_3166_1,callback:function(t){e.iso_3166_1=t},expression:"iso_3166_1"}})],1),o("div",{staticClass:"form-group"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.bcp-47-label")))]),o("validation-message",{attrs:{"message-key":"language/new_language/bcp_47"},scopedSlots:e._u([{key:"input-control",fn:function(t){t.isValid;return[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newLanguage.bcp_47,expression:"newLanguage.bcp_47"}],staticClass:"form-control",attrs:{name:"bcp_47",type:"text",disabled:""},domProps:{value:e.newLanguage.bcp_47},on:{input:function(t){t.target.composing||e.$set(e.newLanguage,"bcp_47",t.target.value)}}})]}}])})],1)])],2)}),Hr=[],$r=o("d39e"),zr=o("943c"),Wr=o("2e18");Wr.registerLocale(o("d13c")),Wr.registerLocale(o("20fc"));Object(We["e"])("flow/import");var Gr=Object(We["e"])("validation"),Zr=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"newLanguage",{id:"",label:"",iso_639_3:"",variant:"",bcp_47:""}),Object(De["a"])(Object(Fe["a"])(e),"selected_iso_639_3",{}),Object(De["a"])(Object(Fe["a"])(e),"selected_iso_3166_1",{}),Object(De["a"])(Object(Fe["a"])(e),"iso_639_3Tags",zr["a"]),Object(De["a"])(Object(Fe["a"])(e),"validateAndAddOrgLanguage",void 0),Object(De["a"])(Object(Fe["a"])(e),"locale",void 0),Object(De["a"])(Object(Fe["a"])(e),"validation_removeNewLanguageValidation",void 0),e}return Object(Ve["a"])(o,[{key:"resetLanguage",value:function(){this.newLanguage={id:"",label:"",iso_639_3:"",variant:"",bcp_47:""},this.selected_iso_639_3={},this.selected_iso_3166_1={},this.validation_removeNewLanguageValidation()}},{key:"showAddLanguageModal",value:function(){this.resetLanguage();var e=this.$refs["add-language-modal"];e.show()}},{key:"customLanguageLabel",value:function(e){return Object(y["isEmpty"])(e)?"":"".concat(e.name," - ").concat(e.iso6393)}},{key:"customLocaleLabel",value:function(e){return Object(y["isEmpty"])(e)?"":"".concat(e.country," - ").concat(e.locale)}},{key:"iso_3166_1Locales",value:function(){var e=Wr.getNames(this.locale,{select:"official"});return Object(y["map"])(Object(y["keys"])(e),(function(t){return{locale:t,country:e[t]}}))}},{key:"iso_639_3",get:function(){return this.selected_iso_639_3},set:function(e){this.selected_iso_639_3=e,Object(y["isEmpty"])(e)||(this.newLanguage.iso_639_3=e.iso6393,this.updateBCP47())}},{key:"iso_3166_1",get:function(){return this.selected_iso_3166_1},set:function(e){this.selected_iso_3166_1=e,Object(y["isEmpty"])(e)||this.updateBCP47()}},{key:"variant",get:function(){return void 0!==this.newLanguage.variant?this.newLanguage.variant:""},set:function(e){this.newLanguage.variant=e,Object(y["isEmpty"])(e)||this.updateBCP47()}},{key:"filterVariant",value:function(e){if(e.key.match(/[^a-z_]/g)&&8!==e.keyCode&&46!==e.keyCode&&e.preventDefault(),void 0!==this.newLanguage.variant&&!Object(y["isEmpty"])(this.newLanguage.variant)){var t=this.newLanguage.variant[this.newLanguage.variant.length-1];"_"===t&&e.key.match(/_/g)&&e.preventDefault()}}},{key:"updateBCP47",value:function(){if(!Object(y["isEmpty"])(this.selected_iso_639_3)){var e="".concat(this.newLanguage.iso_639_3);Object(y["isEmpty"])(this.selected_iso_3166_1)||(e+="-".concat(this.selected_iso_3166_1.locale)),void 0===this.newLanguage.variant||Object(y["isEmpty"])(this.newLanguage.variant)||(e+="-".concat(this.newLanguage.variant)),this.newLanguage.bcp_47=e}}},{key:"handleCreateLanguage",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(new Nt["IdGeneratorUuidV4"]).generate();case 2:return this.newLanguage.id=e.sent,t=this.route("languages.persistLanguage",{}),e.next=6,this.validateAndAddOrgLanguage({language:this.newLanguage,persistRoute:t});case 6:if(o=e.sent,o){e.next=9;break}return e.abrupt("return");case 9:this.$emit("onLanguageAddition"),a=this.$refs["add-language-modal"],a.hide();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),o}(Object($e["c"])(E["a"],$r["a"]));Object(Ue["__decorate"])([We["a"]],Zr.prototype,"validateAndAddOrgLanguage",void 0),Object(Ue["__decorate"])([We["d"]],Zr.prototype,"locale",void 0),Object(Ue["__decorate"])([Gr.Action],Zr.prototype,"validation_removeNewLanguageValidation",void 0),Zr=Object(Ue["__decorate"])([Object(He["a"])({components:{BModal:In["a"],VueMultiselect:la.a}})],Zr);var qr=Zr,Kr=qr,Xr=Object(T["a"])(Kr,Ur,Hr,!1,null,null,null),Jr=(Xr.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-errors-expandable card"},[o("div",{staticClass:"card-title m-0 px-2 pt-1 menu-bg-color"},[e._v(" "+e._s(e.trans("flow-builder."+e.block.type))+" "),o("div",{staticClass:"text-secondary"},[o("small",[e._v(e._s(e.blockLabel))])])]),e._l(e.errorsToShow,(function(t){return o("div",{key:t.dataPath,staticClass:"card-body d-flex justify-content-between px-2 py-0 highlight-on-hover menu-bg-color"},[o("span",{staticClass:"text-danger align-self-center"},[e._v(e._s(t.dataPath)+" - "+e._s(t.message))]),o("button",{staticClass:"btn btn-link btn-link-text",attrs:{type:"button"},on:{click:function(o){return e.$emit("fixBlockError","block/"+e.block.uuid,t.dataPath)}}},[e._v(" "+e._s(e._f("trans")("flow-builder.fix-issue"))+" ")])])})),e.isListLong?o("div",{staticClass:"btn btn-link text-left px-2 m-0 border-0 text-center menu-bg-color",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.toggleList.apply(null,arguments)}}},[e.isExpanded?o("font-awesome-icon",{attrs:{icon:["fas","chevron-up"],"aria-label":e._f("trans")("flow-builder.show-less")}}):o("font-awesome-icon",{attrs:{icon:["fas","chevron-down"],"aria-label":e._f("trans")("flow-builder.show-more")}})],1):e._e()],2)}),Yr=[],Qr=(o("fb6a"),Object(We["e"])("flow")),ec=Object(We["e"])("validation"),tc=3,oc=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"isExpanded",!1),Object(De["a"])(Object(Fe["a"])(e),"validationStatuses",void 0),Object(De["a"])(Object(Fe["a"])(e),"activeFlow",void 0),e}return Object(Ve["a"])(o,[{key:"errorsToShow",get:function(){var e,t,o;return this.isExpanded?null!==(e=this.allErrors)&&void 0!==e?e:[]:null!==(t=null===(o=this.allErrors)||void 0===o?void 0:o.slice(0,tc))&&void 0!==t?t:[]}},{key:"allErrors",get:function(){var e,t;return Object(y["union"])(null===(e=this.blockValidationStatusesForCurrentBlock)||void 0===e?void 0:e.ajvErrors,null===(t=this.resourceValidationStatusesForCurrentBlock)||void 0===t?void 0:t.ajvErrors)}},{key:"isListLong",get:function(){return this.allErrors&&this.allErrors.length>tc}},{key:"blockLabel",get:function(){var e=this.block.label;return Boolean(e)?e:this.trans("flow-builder.untitled-block")}},{key:"resourceValidationStatusesForCurrentBlock",get:function(){var e;return Object(y["get"])(this.validationStatuses,"resource/".concat(null===(e=this.block.config)||void 0===e?void 0:e.prompt))}},{key:"blockValidationStatusesForCurrentBlock",get:function(){return Object(y["get"])(this.validationStatuses,"block/".concat(this.block.uuid))}},{key:"toggleList",value:function(){this.isExpanded=!this.isExpanded}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])({required:!0})],oc.prototype,"block",void 0),Object(Ue["__decorate"])([ec.State],oc.prototype,"validationStatuses",void 0),Object(Ue["__decorate"])([Qr.Getter],oc.prototype,"activeFlow",void 0),oc=Object(Ue["__decorate"])([Object($e["b"])({})],oc);var ac=oc,nc=ac,ic=(o("1677"),Object(T["a"])(nc,Jr,Yr,!1,null,"378464bf",null)),rc=(ic.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("main",{staticClass:"error-notifications-wrapper"},[e.flowValidationErrors.length>0?o("section",{staticClass:"alert alert-danger d-flex mb-0 py-sm-1 px-2",attrs:{role:"alert"}},[o("span",{staticClass:"align-self-center ml-2"},[e._v(" "+e._s(e._f("trans")("flow-builder.flow-error-message"))+" ")]),o("div",{staticClass:"dropdown"},[o("button",{staticClass:"btn btn-link btn-link-text dropdown-toggle",attrs:{id:"flowErrorsDropdown",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v(" "+e._s(e._f("trans")("flow-builder.show-issues"))+" "),o("span",{staticClass:"caret"})]),o("ul",{staticClass:"notification dropdown-menu",attrs:{"aria-labelledby":"flowErrorsDropdown"}},e._l(e.flowValidationErrors,(function(t){return o("li",{key:t.dataPath},[o("div",{staticClass:"d-flex justify-content-between px-2 py-0 highlight-on-hover"},[o("span",{staticClass:"text-danger align-self-center"},[e._v(e._s(t.dataPath)+" - "+e._s(t.message))]),"/first_block_id"===t.dataPath?o("div",[e._v(" "+e._s(e._f("trans")("flow-builder.add-at-least-one-block"))+" ")]):o("button",{staticClass:"btn btn-link btn-link-text",attrs:{type:"button"},on:{click:function(t){return e.fixFlowError()}}},[e._v(" "+e._s(e._f("trans")("flow-builder.fix-issue"))+" ")])])])})),0)])]):e._e(),e.numberOfBlocksWithErrors>0?o("section",{staticClass:"alert alert-danger d-flex py-sm-1 px-2",attrs:{role:"alert"}},[o("span",{staticClass:"align-self-center ml-2"},[e._v(" "+e._s(e._f("trans")("flow-builder.block-error-message",{block_count:e.numberOfBlocksWithErrors}))+" ")]),o("div",{staticClass:"dropdown"},[o("button",{staticClass:"btn btn-link btn-link-text dropdown-toggle",attrs:{id:"blockErrorsDropdown",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v(" "+e._s(e._f("trans")("flow-builder.locate-block-issue"))+" "),o("span",{staticClass:"caret"})]),o("ul",{staticClass:"notification dropdown-menu",attrs:{"aria-labelledby":"blockErrorsDropdown"}},e._l(e.invalidBlocksInActiveFlow,(function(t,a){return o("li",{key:a},[o("block-errors-expandable",{attrs:{block:t},on:{fixBlockError:e.fixBlockError}})],1)})),0)])]):e._e()])}),cc=[],sc=(o("13d5"),o("caad"),o("2532"),Object(We["e"])("flow")),lc=Object(We["e"])("validation"),uc=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"validationStatuses",void 0),Object(De["a"])(Object(Fe["a"])(e),"activeFlow",void 0),Object(De["a"])(Object(Fe["a"])(e),"resourceUuidsOnActiveFlow",void 0),e}return Object(Ve["a"])(o,[{key:"updated",value:function(){this.$emit("updated")}},{key:"flowValidationErrors",get:function(){var e,t,o="flow/".concat(null===(e=this.activeFlow)||void 0===e?void 0:e.uuid);return(null===(t=this.validationStatuses[o])||void 0===t?void 0:t.ajvErrors)||[]}},{key:"blockValidationStatuses",get:function(){var e,t=null===(e=this.activeFlow)||void 0===e?void 0:e.blocks.reduce((function(e,t){return e["block/".concat(t.uuid)]=!0,e}),{});return t&&0!==Object(y["size"])(t)?Object(y["pickBy"])(this.validationStatuses,(function(e,o){return o.includes("block/")&&t[o]})):{}}},{key:"resourceValidationStatusesForActiveFlow",get:function(){var e=this;return Object(y["pickBy"])(this.validationStatuses,(function(t,o){var a,n=Object(y["replace"])(o,"resource/","");return e.resourceUuidsOnActiveFlow.includes(n)&&!(null!==(a=Object(y["get"])(e.validationStatuses,"resource/".concat(n)))&&void 0!==a&&a.isValid)}))}},{key:"invalidBlocksInActiveFlow",get:function(){var e,t=this;return Object(y["filter"])(null===(e=this.activeFlow)||void 0===e?void 0:e.blocks,(function(e){return Object(y["get"])(t.blockValidationStatuses,"block/".concat(e.uuid))||Object(y["get"])(t.resourceValidationStatusesForActiveFlow,"resource/".concat(e.config.prompt))}))}},{key:"numberOfBlocksWithErrors",get:function(){return Object(y["size"])(this.invalidBlocksInActiveFlow)}},{key:"fixFlowError",value:function(){this.$router.push({name:"flow-details"}).catch((function(e){"NavigationDuplicated"!==e.name&&console.error(e)}))}},{key:"fixBlockError",value:function(e,t){var o=e.replace("block/","");this.$router.push({name:"block-scroll-to-anchor",params:{blockId:o,field:t}}).catch((function(e){"NavigationDuplicated"!==e.name&&console.error(e)}))}}]),o}(Object($e["c"])($r["a"],E["a"]));Object(Ue["__decorate"])([lc.State],uc.prototype,"validationStatuses",void 0),Object(Ue["__decorate"])([sc.Getter],uc.prototype,"activeFlow",void 0),Object(Ue["__decorate"])([sc.Getter],uc.prototype,"resourceUuidsOnActiveFlow",void 0),uc=Object(Ue["__decorate"])([Object($e["b"])({})],uc);var dc=uc,bc=dc,fc=(o("425b"),Object(T["a"])(bc,rc,cc,!1,null,"16bf240e",null)),pc=(fc.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.countSelectedBlocks?o("div",{staticClass:"selection-banner"},[o("div",{staticClass:"alert alert-primary mb-0 d-flex py-sm-2 px-3",attrs:{role:"alert"}},[o("div",{staticClass:"mr-3"},[e._v(" "+e._s(e._f("trans")("flow-builder.selected-x-blocks",{x:e.countSelectedBlocks}))+". ")]),e.deleting?e._e():o("div",[o("button",{staticClass:"btn btn-danger btn-sm mr-2",on:{click:function(t){e.deleting=!0}}},[o("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}}),e._v(" "+e._s(e._f("trans")("flow-builder.delete"))+" ")],1),o("button",{staticClass:"btn btn-outline-dark btn-sm mr-2",on:{click:function(t){return t.preventDefault(),e.handleMultipleDuplicate.apply(null,arguments)}}},[o("font-awesome-icon",{attrs:{icon:["fac","copy"]}}),e._v(" "+e._s(e._f("trans")("flow-builder.duplicate"))+" ")],1),o("button",{staticClass:"btn btn-outline-dark btn-sm ml-4",on:{click:e.flow_clearMultiSelection}},[e._v(" "+e._s(e._f("trans")("flow-builder.clear-selection"))+" ")])]),e.deleting?o("div",[o("b",{staticClass:"mr-3"},[e._v(e._s(e._f("trans")("flow-builder.confirmation-for-delete-selection")))]),o("button",{staticClass:"btn btn-outline-dark btn-sm mr-2",on:{click:function(t){e.deleting=!1}}},[e._v(" "+e._s(e._f("trans")("flow-builder.no-cancel"))+" ")]),o("button",{staticClass:"btn btn-danger btn-sm mr-2",on:{click:e.confirmMultipleDeletion}},[e._v(" "+e._s(e._f("trans")("flow-builder.yes-delete"))+" ")])]):e._e()])]):e._e()}),vc=[],hc=Object(We["e"])("flow"),mc=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"deleting",!1),Object(De["a"])(Object(Fe["a"])(e),"selectedBlocks",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_clearMultiSelection",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_removeAllSelectedBlocks",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_duplicateAllSelectedBlocks",void 0),e}return Object(Ve["a"])(o,[{key:"updated",value:function(){this.$emit("updated")}},{key:"countSelectedBlocks",get:function(){return Object(y["size"])(this.selectedBlocks)}},{key:"confirmMultipleDeletion",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.flow_removeAllSelectedBlocks();case 2:this.deleting=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleMultipleDuplicate",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.flow_duplicateAllSelectedBlocks();case 2:return e.next=4,this.flow_clearMultiSelection();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([hc.State],mc.prototype,"selectedBlocks",void 0),Object(Ue["__decorate"])([hc.Action],mc.prototype,"flow_clearMultiSelection",void 0),Object(Ue["__decorate"])([hc.Action],mc.prototype,"flow_removeAllSelectedBlocks",void 0),Object(Ue["__decorate"])([hc.Action],mc.prototype,"flow_duplicateAllSelectedBlocks",void 0),mc=Object(Ue["__decorate"])([Object($e["b"])({})],mc);var gc=mc,kc=gc,jc=Object(T["a"])(kc,pc,vc,!1,null,null,null),_c=(jc.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"builder-toolbar",staticClass:"tree-builder-toolbar d-flex flex-column"},[o("div",{staticClass:"tree-builder-toolbar-main-menu d-flex flex-column"},[e.isImporterVisible?o("div",{staticClass:"flows-importer alert alert-info"},[o("h3",[e._v(e._s(e.trans("flow-builder.flow-importer")))]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.flow,expression:"flow"}],staticClass:"flow-importer",attrs:{rows:"15",disabled:""},domProps:{value:e.flow},on:{input:function(t){t.target.composing||(e.flow=t.target.value)}}})]):e._e(),o("div",{staticClass:"tree-workspace-panel-heading panel-heading w-100"},[o("div",{staticClass:"tree-workspace-panel-heading-contents"},[o("div",{staticClass:"btn-toolbar"},[e.hasToolbarFlowTitle?o("h4",{staticClass:"text-primary mr-4 mb-0 flow-label",attrs:{title:e.activeFlow.label}},[e._v(" "+e._s(e.activeFlow.label)+" ")]):e._e(),o("div",[e.hasToolbarHomeButton?o("router-link",{staticClass:"mr-2",attrs:{to:e.route("flows.home"),title:e.trans("flow-builder.home")}},[o("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fac","home"]}})],1):e._e(),e.hasToolbarNewFlowButton?o("router-link",{staticClass:"btn btn-primary btn-sm mr-2",attrs:{to:e.route("flows.newFlow")}},[e._v(" "+e._s(e.trans("flow-builder.new-flow"))+" ")]):e._e(),o("button",{staticClass:"btn btn-sm",class:{"btn-outline-primary":e.hasToolbarNewFlowButton,"btn-primary":!e.hasToolbarNewFlowButton},on:{click:e.showOrHideEditFlowModal}},[e._v(" "+e._s(e._f("trans")("flow-builder.flow-details"))+" ")]),o("b-modal",{ref:"edit-flow-modal",attrs:{"ok-only":"","ok-title":e._f("trans")("flow-builder.done")},on:{ok:e.showOrHideEditFlowModal}},[o("template",{slot:"modal-header"},[o("h2",{staticClass:"mb-0"},[e._v(" "+e._s(e._f("trans")("flow-builder.flow-details"))+" ")]),o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.showOrHideEditFlowModal}},[e._v("  ")])]),o("flow-editor",{attrs:{flow:e.activeFlow,"did-user-submit":!0,"flow-header":""}})],2),o("div",{staticClass:"vertical-divider"}),e.isResourceEditorEnabled?[o("router-link",{staticClass:"btn btn-outline-primary btn-sm",attrs:{to:e.resourceViewUrl},nativeOn:{click:function(t){return e.handleResourceViewerSelected.apply(null,arguments)}}},[e._v(" "+e._s(e.trans("flow-builder.resource-view"))+" ")]),o("div",{staticClass:"vertical-divider"})]:e._e(),e.ui.isEditableLocked?e._e():o("div",{staticClass:"btn-group"},[o("router-link",{staticClass:"btn btn-outline-primary btn-sm",class:{active:!e.isEditable},attrs:{to:e.viewTreeUrl,event:"",title:e.trans("flow-builder.click-to-toggle-editing")},nativeOn:{click:function(t){return t.preventDefault(),e.handlePersistFlow(e.viewTreeUrl)}}},[e._v(" "+e._s(e.trans("flow-builder.view-mode"))+" ")]),o("router-link",{staticClass:"btn btn-outline-primary btn-sm",class:{active:e.isEditable},attrs:{to:e.editTreeUrl,event:"",title:e.trans("flow-builder.click-to-toggle-editing")},nativeOn:{click:function(t){return t.preventDefault(),e.handlePersistFlow(e.editTreeUrl)}}},[e._v(" "+e._s(e.trans("flow-builder.edit-mode"))+" ")])],1),e._t("extra-buttons")],2),o("div",{staticClass:"ml-auto mr-2"},[e.hasSimulator?o("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(t){return e.setSimulatorActive(!0)}}},[e._v(" "+e._s(e.trans("flow-builder.show-clipboard-simulator"))+" ")]):e._e(),o("div",{staticClass:"btn-group mr-2"},[e._t("right-grouped-buttons")],2),e.hasToolbarExportButton?o("button",{staticClass:"btn btn-outline-primary btn-sm",class:{active:e.isImporterVisible},on:{click:e.toggleImportExport}},[e._v(" "+e._s(e.trans("flow-builder.import-export"))+" ")]):e._e(),e.isEditable&&e.isFeatureTreeSaveEnabled?o("button",{staticClass:"btn btn-outline-primary btn-sm ml-4 save-button",attrs:{type:"button",title:e.trans("flow-builder.save-changes-to-the-flow"),disabled:!!e.isTreeSaving},on:{click:function(t){return e.handlePersistFlow()}}},[e._v(" "+e._s(e.saveButtonText)+" "),e.isTreeSaving?o("font-awesome-icon",{staticClass:"fa-btn fa-spin",attrs:{icon:["fas","spinner"]}}):e._e()],1):e._e()])])])]),e.isEditable?o("div",{staticClass:"tree-workspace-panel-heading panel-heading w-100 bg-white d-flex justify-content-start pt-0 pb-0"},[o("div",{staticClass:"tree-workspace-panel-heading-contents"},[o("ul",{staticClass:"nav"},[e.isEmpty(e.blockClassesForContentCategory)?e._e():o("li",{staticClass:"nav-item dropdown nav"},[o("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"},on:{mouseover:function(t){return e.openDropdownMenu(t.target)}}},[o("span",{staticClass:"nav-link-text"},[e._v(e._s(e._f("trans")("flow-builder.content")))])]),o("div",{staticClass:"dropdown-menu mt-0"},[e._l(e.blockClassesForContentCategory,(function(t,a){return[e.shouldDisplayDividerBefore(e.blockClassesForContentCategory,a)?o("div",{key:a+"divider",staticClass:"dropdown-divider"}):e._e(),e.isBlockAvailableByBlockClass[a]?o("a",{key:a+"item",staticClass:"dropdown-item",attrs:{href:"#","data-block-type":a,"data-default-num-connections":t["defaultConnections"]},on:{click:function(o){return o.preventDefault(),e.handleAddBlockByTypeSelected(t)}}},[e._v(" "+e._s(e.translateTreeClassName(a))+" ")]):e._e()]})),e._t("extra-dropdown-items-for-category1")],2)]),e.isEmpty(e.blockClassesForContactCategory)?e._e():o("li",{staticClass:"nav-item dropdown"},[o("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"},on:{mouseover:function(t){return e.openDropdownMenu(t.target)}}},[o("span",{staticClass:"nav-link-text"},[e._v(e._s(e._f("trans")("flow-builder.contact")))])]),o("div",{staticClass:"dropdown-menu mt-0"},[e._l(e.blockClassesForContactCategory,(function(t,a){return[e.shouldDisplayDividerBefore(e.blockClassesForContactCategory,a)?o("div",{key:a+"divider",staticClass:"dropdown-divider"}):e._e(),e.isBlockAvailableByBlockClass[a]?o("a",{key:a+"item",staticClass:"dropdown-item",attrs:{href:"#","data-block-type":a,"data-default-num-connections":t["defaultConnections"]},on:{click:function(o){return o.preventDefault(),e.handleAddBlockByTypeSelected(t)}}},[e._v(" "+e._s(e.translateTreeClassName(a))+" ")]):e._e()]})),e._t("extra-dropdown-items-for-category2")],2)]),e.isEmpty(e.blockClassesForBranchingCategory)?e._e():o("li",{staticClass:"nav-item dropdown"},[o("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"},on:{mouseover:function(t){return e.openDropdownMenu(t.target)}}},[o("span",{staticClass:"nav-link-text"},[e._v(e._s(e._f("trans")("flow-builder.branching")))])]),o("div",{staticClass:"dropdown-menu mt-0"},[e._l(e.blockClassesForBranchingCategory,(function(t,a){return[e.shouldDisplayDividerBefore(e.blockClassesForBranchingCategory,a)?o("div",{key:a+"divider",staticClass:"dropdown-divider"}):e._e(),e.isBlockAvailableByBlockClass[a]?o("a",{key:a+"item",staticClass:"dropdown-item",attrs:{href:"#","data-block-type":a,"data-default-num-connections":t["defaultConnections"]},on:{click:function(o){return o.preventDefault(),e.handleAddBlockByTypeSelected(t)}}},[e._v(" "+e._s(e.translateTreeClassName(a))+" ")]):e._e()]})),e._t("extra-dropdown-items-for-category3")],2)]),e.isEmpty(e.blockClassesForDeveloperCategory)?e._e():o("li",{staticClass:"nav-item dropdown"},[o("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"},on:{mouseover:function(t){return e.openDropdownMenu(t.target)}}},[o("span",{staticClass:"nav-link-text"},[e._v(e._s(e._f("trans")("flow-builder.developer")))])]),o("div",{staticClass:"dropdown-menu mt-0"},[e._l(e.blockClassesForDeveloperCategory,(function(t,a){return[e.shouldDisplayDividerBefore(e.blockClassesForDeveloperCategory,a)?o("div",{key:a+"divider",staticClass:"dropdown-divider"}):e._e(),e.isBlockAvailableByBlockClass[a]?o("a",{key:a+"item",staticClass:"dropdown-item",attrs:{href:"#","data-block-type":a,"data-default-num-connections":t["defaultConnections"]},on:{click:function(o){return o.preventDefault(),e.handleAddBlockByTypeSelected(t)}}},[e._v(" "+e._s(e.translateTreeClassName(a))+" ")]):e._e()]})),e._t("extra-dropdown-items-for-category5")],2)])])])]):e._e()]),o("div",{staticClass:"tree-builder-toolbar-alerts w-100"},[e.isEditable?o("selection-banner",{on:{updated:e.handleHeightChangeFromDOM}}):e._e(),o("error-notifications",{on:{updated:e.handleHeightChangeFromDOM}})],1)])}),Oc=[],yc=o("e3d7"),wc=yc["b"],Cc=(o("3bae"),Object(T["a"])(wc,_c,Oc,!1,null,null,null)),xc=(Cc.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-toolbar d-flex justify-content-between"},[o("div",{staticClass:"header-actions-left"},[e.isBlockSelected?o("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.trans("flow-builder.deselect-block"),expression:"trans('flow-builder.deselect-block')",modifiers:{hover:!0}}],staticClass:"fa-btn text-info",attrs:{icon:["far","check-circle"]},on:{click:function(t){e.isEditable&&e.block_deselect({blockId:e.block.uuid})}}}):e._e(),e.isBlockSelected?e._e():o("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.trans("flow-builder.select-block"),expression:"trans('flow-builder.select-block')",modifiers:{hover:!0}}],staticClass:"fa-btn",attrs:{icon:["far","circle"]},on:{click:function(t){e.isEditable&&e.block_select({blockId:e.block.uuid})}}})],1),o("div",{staticClass:"header-actions-right d-flex"},[e.isEditable?o("div",{staticClass:"mr-1 ml-2"},[e.isDeleting?o("div",[o("button",{staticClass:"btn btn-light btn-xs",on:{click:function(t){t.preventDefault(),e.isDeleting=!1}}},[o("small",[e._v(e._s(e.trans("flow-builder.cancel")))])]),o("button",{staticClass:"btn btn-danger btn-xs ml-1",on:{click:function(t){return t.preventDefault(),e.handleDeleteBlock.apply(null,arguments)}}},[o("small",[e._v(e._s(e.trans("flow-builder.delete-block")))])])]):e._e(),e.isDeleting?e._e():o("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.trans("flow-builder.tooltip-delete-block"),expression:"trans('flow-builder.tooltip-delete-block')",modifiers:{hover:!0}}],staticClass:"fa-btn text-danger",attrs:{icon:["far","trash-alt"]},on:{click:function(t){t.preventDefault(),e.isDeleting=!0}}})],1):e._e(),o("div",{staticClass:"mr-1 ml-2"},[e.isEditable?o("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.trans("flow-builder.tooltip-duplicate-block"),expression:"trans('flow-builder.tooltip-duplicate-block')",modifiers:{hover:!0}}],staticClass:"fa-btn",attrs:{icon:["fac","copy"]},on:{click:function(t){return t.preventDefault(),e.handleDuplicateBlock.apply(null,arguments)}}}):e._e()],1),o("div",{staticClass:"mr-1 ml-2"},[e.isEditable?o("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.trans("flow-builder.toggle-block-editor-tooltip"),expression:"trans('flow-builder.toggle-block-editor-tooltip')",modifiers:{hover:!0}}],staticClass:"fa-btn",attrs:{icon:e.isEditorVisible?["fac","minimize"]:["fac","expand"]},on:{click:function(t){return t.preventDefault(),e.handleExpandMinimizeBlockEditor.apply(null,arguments)}}}):e._e()],1)])])}),Ec=[],Bc=Object(We["e"])("builder"),Ic=Object(We["e"])("flow"),Sc=Object(We["e"])("validation"),Tc=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"isBlockSelected",void 0),Object(De["a"])(Object(Fe["a"])(e),"isEditorVisible",void 0),Object(De["a"])(Object(Fe["a"])(e),"isDeleting",!1),Object(De["a"])(Object(Fe["a"])(e),"isEditable",void 0),Object(De["a"])(Object(Fe["a"])(e),"setIsBlockEditorOpen",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_select",void 0),Object(De["a"])(Object(Fe["a"])(e),"block_deselect",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_removeBlock",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow_duplicateBlock",void 0),Object(De["a"])(Object(Fe["a"])(e),"removeValidationStatusesFor",void 0),e}return Object(Ve["a"])(o,[{key:"handleDeleteBlock",value:function(){this.block_deselect({blockId:this.block.uuid}),this.flow_removeBlock({blockId:this.block.uuid}),this.removeValidationStatusesFor({key:"block/".concat(this.block.uuid)}),this.isDeleting=!1,this.$emit("after-delete")}},{key:"handleDuplicateBlock",value:function(){var e=this;this.flow_duplicateBlock({blockId:this.block.uuid}).then((function(t){e.$router.replace({name:"block-selected-details",params:{blockId:t.uuid}})})),this.$emit("after-duplicate")}},{key:"handleExpandMinimizeBlockEditor",value:function(){this.setIsBlockEditorOpen(!this.isEditorVisible);var e="";this.isEditorVisible?(e="block-selected-details",this.$emit("before-minimize")):(e="block-selected",this.$emit("before-expand")),this.$router.replace({name:e,params:{blockId:this.block.uuid}},void 0,(function(e){null==e?console.warn("Unknown navigation error has occurred when expanding/minimizing a block editor"):"NavigationDuplicated"!==e.name&&console.warn(e)}))}}]),o}(Object($e["c"])(E["a"]));Object(Ue["__decorate"])([Object(He["b"])()],Tc.prototype,"block",void 0),Object(Ue["__decorate"])([Object(He["b"])()],Tc.prototype,"isBlockSelected",void 0),Object(Ue["__decorate"])([Object(He["b"])()],Tc.prototype,"isEditorVisible",void 0),Object(Ue["__decorate"])([Bc.Getter],Tc.prototype,"isEditable",void 0),Object(Ue["__decorate"])([Bc.Mutation],Tc.prototype,"setIsBlockEditorOpen",void 0),Object(Ue["__decorate"])([Ic.Action],Tc.prototype,"block_select",void 0),Object(Ue["__decorate"])([Ic.Action],Tc.prototype,"block_deselect",void 0),Object(Ue["__decorate"])([Ic.Action],Tc.prototype,"flow_removeBlock",void 0),Object(Ue["__decorate"])([Ic.Action],Tc.prototype,"flow_duplicateBlock",void 0),Object(Ue["__decorate"])([Sc.Mutation],Tc.prototype,"removeValidationStatusesFor",void 0),Tc=Object(Ue["__decorate"])([Object($e["b"])({})],Tc);var Mc=Tc,Rc=Mc,Ac=(o("78cc"),Object(T["a"])(Rc,xc,Ec,!1,null,null,null)),Lc=(Ac.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.flow.languages.length>0?o("div",{staticClass:"resource-editor"},[o("hr"),e.label?o("h4",[e._v(" "+e._s(e.label)+" ")]):e._e(),o("div",[o("b-tabs",e._l(e.flow.languages,(function(t,a){var n=t.id,i=t.label;return o("b-tab",{key:n,attrs:{title:e._f("trans")(i||"flow-builder.unknown-language")}},e._l(e.flow.supported_modes,(function(t,i){return o("div",{key:i,staticClass:"tab-content-style"},[o("header",{staticClass:"d-flex"},[e.iconsMap.get(t)?o("font-awesome-icon",{class:{"custom-icons":"fac"===e.iconsMap.get(t)[0],"library-icons":"fac"!==e.iconsMap.get(t)[0]},attrs:{icon:e.iconsMap.get(t)}}):e._e(),o("h6",{staticClass:"ml-1"},[e._v(e._s(e._f("trans")("flow-builder."+t.toLowerCase()+"-content")))])],1),e._l(e.discoverContentTypesFor(t),(function(r){return[r===e.SupportedContentType.TEXT?o("resource-variant-text-editor",{attrs:{index:e.computeResourceIndex(a,i),"resource-id":e.resource.uuid,"resource-variant":e.findOrGenerateStubbedVariantOn(e.resource,{language_id:n,content_type:r,modes:[t]}),mode:t,"enable-autogen-button":!0}}):e._e(),r===e.SupportedContentType.AUDIO?o("div",[o("validation-message",{attrs:{"message-key":"resource/"+e.resource.uuid+"/values/"+e.computeResourceIndex(a,i)+"/value"},scopedSlots:e._u([{key:"input-control",fn:function(a){a.isValid;return[o("audio-library-selector",{attrs:{"audio-files":e.availableAudio,"lang-id":n,"resource-id":e.resource.uuid,"selected-audio-file":e.findOrGenerateStubbedVariantOn(e.resource,{language_id:n,content_type:r,modes:[t]}).value}})]}}],null,!0)}),e.can(["edit-content","send-call-to-records"],!0)&&!e.findOrGenerateStubbedVariantOn(e.resource,{language_id:n,content_type:r,modes:[t]}).value?o("phone-recorder",{attrs:{"recording-key":e.block.uuid+":"+n}}):e._e(),e.findAudioResourceVariantFor(e.resource,{language_id:n,content_type:r,modes:[t]})?e._e():[o("upload-monitor",{attrs:{"upload-key":e.block.uuid+":"+n}}),o("div",{staticClass:"d-flex mt-2"},[e.isEditable&&e.isFeatureAudioUploadEnabled?o("button",{directives:[{name:"flow-uploader",rawName:"v-flow-uploader",value:{target:e.route("trees.resumeableAudioUpload"),token:""+e.block.uuid+n,accept:"audio/*"},expression:"{\n                      target: route('trees.resumeableAudioUpload'),\n                      token: `${block.uuid}${languageId}`,\n                      accept: 'audio/*'}"}],staticClass:"btn btn-primary ivr-buttons",on:{filesSubmitted:function(t){return e.handleFilesSubmittedFor(e.block.uuid+":"+n,t)},fileSuccess:function(t){return e.handleFileSuccessFor(e.block.uuid+":"+n,n,t)}}},[o("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fac","upload"]}}),e._v(" "+e._s(e._f("trans")("flow-builder.upload-audio"))+" ")],1):e._e(),e.can(["edit-content","send-call-to-records"],!0)&&e.isFeatureAudioUploadEnabled?o("button",{staticClass:"btn btn-primary ivr-buttons ml-2",on:{click:function(t){return t.preventDefault(),e.triggerRecordViaPhoneFor(n)}}},[o("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fac","record-audio"]}}),e._v(" "+e._s(e._f("trans")("flow-builder.record-audio"))+" ")],1):e._e()])]],2):e._e()]}))],2)})),0)})),1)],1)]):e._e()}),Vc=[],Fc=(o("1276"),o("cab2")),Nc=(o("7db0"),o("ebc7")),Pc=o.n(Nc),Dc=function(e,t,o){e.dispatchEvent(w.a.extend(new Event(t,{bubbles:!0,cancelable:!0}),{data:o}))},Uc=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){return Object(Le["a"])(this,o),t.apply(this,arguments)}return o}(p["default"]);Uc=Object(Ue["__decorate"])([Object($e["b"])({directives:{"flow-uploader":{bind:function(e,t){var o=t.value,a=o.accept,n=o.target,i=o.token,r=new Pc.a({target:n,singleFile:!0,chunkSize:524288,query:{upload_token:i}});r.support&&(w.a.extend(e.style,{overflow:"hidden"}),r.assignBrowse(e),w.a.chain(e.children).find({tagName:"INPUT",type:"file"}).assign({accept:a}).value(),r.on("filesSubmitted",(function(t,o){return Dc(e,"filesSubmitted",{files:t,uploader:r})})),r.on("fileProgress",(function(t,o){return Dc(e,"fileProgress",{file:t,uploader:r})})),r.on("fileSuccess",(function(t,o){return Dc(e,"fileSuccess",{file:t,uploader:r,json:o})})),r.on("error",(function(t,o){return Dc(e,"fileSuccess",{file:o,uploader:r,message:t})})))},unbind:function(e,t){}}}})],Uc);var Hc=Uc,$c=o("44e8"),zc=o("700c");p["default"].use(zc["a"]);var Wc=Object(We["e"])("flow"),Gc=Object(We["e"])("builder"),Zc=function(e){Object(Ne["a"])(o,e);var t=Object(Pe["a"])(o);function o(){var e;Object(Le["a"])(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),Object(De["a"])(Object(Fe["a"])(e),"block",void 0),Object(De["a"])(Object(Fe["a"])(e),"flow",void 0),Object(De["a"])(Object(Fe["a"])(e),"resource",void 0),Object(De["a"])(Object(Fe["a"])(e),"label",void 0),Object(De["a"])(Object(Fe["a"])(e),"discoverContentTypesFor",uo["b"]),Object(De["a"])(Object(Fe["a"])(e),"findOrGenerateStubbedVariantOn",uo["c"]),Object(De["a"])(Object(Fe["a"])(e),"findResourceVariantOverModesOn",uo["d"]),Object(De["a"])(Object(Fe["a"])(e),"SupportedMode",z["SupportedMode"]),Object(De["a"])(Object(Fe["a"])(e),"SupportedContentType",z["SupportedContentType"]),Object(De["a"])(Object(Fe["a"])(e),"iconsMap",new Map([[z["SupportedMode"].SMS,["far","envelope"]],[z["SupportedMode"].TEXT,["fac","text"]],[z["SupportedMode"].USSD,["fac","ussd"]],[z["SupportedMode"].IVR,["fac","audio"]],[z["SupportedMode"].RICH_MESSAGING,["far","comment-dots"]],[z["SupportedMode"].OFFLINE,["fas","mobile-alt"]]])),Object(De["a"])(Object(Fe["a"])(e),"availableAudio",void 0),Object(De["a"])(Object(Fe["a"])(e),"isFeatureAudioUploadEnabled",void 0),Object(De["a"])(Object(Fe["a"])(e),"pushAudioIntoLibrary",void 0),Object(De["a"])(Object(Fe["a"])(e),"resource_setOrCreateValueModeSpecific",void 0),Object(De["a"])(Object(Fe["a"])(e),"isEditable",void 0),e}return Object(Ve["a"])(o,[{key:"triggerRecordViaPhoneFor",value:function(e){this.$store.commit("setAudioRecordingConfigVisibilityForSelectedBlock",{langId:e,isVisible:!0})}},{key:"handleFilesSubmittedFor",value:function(e,t){var o=t.data;console.debug("call handleFilesSubmittedFor"),this.$store.dispatch("multimediaUpload/uploadFiles",Object(m["a"])(Object(m["a"])({},o),{},{key:e}))}},{key:"handleFileSuccessFor",value:function(e,t,o){var a=o.data.json,n=JSON.parse(a),i=n.audio_file_id,r=n.audio_uuid,c=n.created_at.date,s=n.description,l=n.duration_seconds,u=s.split(".")[s.split(".").length-1],d={id:i,filename:r,description:s,language_id:t,duration_seconds:l,original_extension:u,created_at:c};this.resource_setOrCreateValueModeSpecific({resourceId:this.resource.uuid,filter:{language_id:t,content_type:z["SupportedContentType"].AUDIO,modes:[z["SupportedMode"].IVR]},value:s}),o.target.blur(),this.pushAudioIntoLibrary(d)}},{key:"findAudioResourceVariantFor",value:function(e,t){try{return Object(uo["d"])(e,t).value}catch(o){if(!(o instanceof $c["a"]))throw o;return null}}},{key:"computeResourceIndex",value:function(e,t){return e*this.flow.supported_modes.length+t}}]),o}(Object($e["c"])(Hc,Fc["a"],$r["a"],E["a"]));Object(Ue["__decorate"])([Object(He["b"])({required:!0})],Zc.prototype,"block",void 0),Object(Ue["__decorate"])([Object(He["b"])({required:!0})],Zc.prototype,"flow",void 0),Object(Ue["__decorate"])([Object(He["b"])()],Zc.prototype,"resource",void 0),Object(Ue["__decorate"])([Object(He["b"])()],Zc.prototype,"label",void 0),Object(Ue["__decorate"])([We["b"]],Zc.prototype,"availableAudio",void 0),Object(Ue["__decorate"])([We["b"]],Zc.prototype,"isFeatureAudioUploadEnabled",void 0),Object(Ue["__decorate"])([We["c"]],Zc.prototype,"pushAudioIntoLibrary",void 0),Object(Ue["__decorate"])([Wc.Action],Zc.prototype,"resource_setOrCreateValueModeSpecific",void 0),Object(Ue["__decorate"])([Gc.Getter],Zc.prototype,"isEditable",void 0),Zc=Object(Ue["__decorate"])([Object(He["a"])({})],Zc);var qc=Zc,Kc=qc,Xc=(o("b5ce"),Object(T["a"])(Kc,Lc,Vc,!1,null,"dba63356",null)),Jc=(Xc.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"resource/"+e.resourceId+"/values/"+e.index+"/value"},scopedSlots:e._u([{key:"input-control",fn:function(t){t.isValid;return[o("div",{staticClass:"resource-variant-text-editor"},[o("div",{staticClass:"content-editor",class:{"content-editor-selected":!!e.content}},[o("div",{staticClass:"input-group"},[e.label?o("div",{staticClass:"input-group-prepend"},[o("span",{staticClass:"input-group-text"},[e._v(e._s(e.label))])]):e._e(),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"},{name:"focus",rawName:"v-focus",value:e.isSelected,expression:"isSelected"}],ref:"input",staticClass:"form-control",attrs:{placeholder:e._f("trans")(e.placeholder||"flow-builder.enter-"+e.resourceVariant.content_type.toString().toLowerCase()+"-content"),rows:e.rows},domProps:{value:e.content},on:{focus:e.select,blur:e.deselect,input:function(t){t.target.composing||(e.content=t.target.value)}}})])]),o("div",{staticClass:"content-toolbar"},[e.isEditable?o("span",{staticClass:"text-muted transition-all",class:{invisible:!e.characterCounter.count}},[e._v(" "+e._s(e.characterCounter.count)+" characters "),"sms"===e.mode&&e.characterCounter.pages>1?[e._v(" ("+e._s(e.characterCounter.pages)+" "+e._s(e.characterCounter.hasUnicode?"unicode pages":"pages")+") ")]:e._e()],2):e._e(),e.doesContentContainExpression?o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top.html",value:"<p>"+e.trans("flow-builder.youre-using-floip-expressions")+"</p>\n                     <p>\n                       <strong>"+e.trans("flow-builder.pro-tip")+":</strong>\n                       "+e.trans("flow-builder.floip-expressions-escape-with-double-at-symbol")+"\n                     </p>",expression:"`<p>${trans('flow-builder.youre-using-floip-expressions')}</p>\n                     <p>\n                       <strong>${trans('flow-builder.pro-tip')}:</strong>\n                       ${trans('flow-builder.floip-expressions-escape-with-double-at-symbol')}\n                     </p>`",modifiers:{hover:!0,top:!0,html:!0}}],attrs:{href:"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html",target:"_blank"}},[o("kbd",{staticStyle:{"margin-left":"1em"}},[o("i",{staticClass:"glyphicon glyphicon-console"}),e.doesContentContainExpressionError?o("i",{staticClass:"glyphicon glyphicon glyphicon-remove-sign text-danger"}):o("i",{staticClass:"glyphicon glyphicon-ok-sign text-success"})])]):e._e(),e.doesContentContainExpressionError?o("div",{staticClass:"alert alert-danger",staticStyle:{"margin-top":"0.5em"}},[o("p",[o("i",{staticClass:"glyphicon glyphicon-remove-sign"}),o("strong",[o("a",{attrs:{href:"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html",target:"_blank"}},[e._v("FLOIP Expression")]),e._v(" "+e._s(e._f("trans")("flow-builder.error-found"))+" ")])]),o("p",[o("em",[e._v(" "+e._s(e.contentExpressionAST.message)+" ("),1!==e.contentExpressionAST.location.start.line?o("span",[e._v(e._s(e._f("trans")("flow-builder.on-line"))+" "+e._s(e.contentExpressionAST.location.start.line)+", ")]):e._e(),e._v(e._s(e._f("trans")("flow-builder.at-character"))+" "+e._s(e.contentExpressionAST.location.start.column)+") ")])])]):e._e()])])]}}])})}),Yc=[],Qc=o("14d3");p["default"].component("BTooltip",tt["a"]);var es={mixins:[E["b"],x.a.mixin],props:{index:{type:Number,default:null},isEditable:Boolean,label:{type:String,default:null},placeholder:{type:String,default:null},resourceId:{type:String,default:null},resourceVariant:{type:Object,default:null},mode:{type:String,default:null},enableAutogenButton:{type:Boolean,default:!0},rows:{type:Number,default:2}},data:function(){return{isSelected:!1}},computed:{content:{get:function(){return this.resourceVariant.value},set:function(e){var t=this.resourceId,o=this.mode,a=this.resourceVariant,n=a.language_id,i=a.content_type;this.$emit("beforeResourceVariantChanged",{variant:this.resourceVariant,resourceId:t}),this.resource_setOrCreateValueModeSpecific({resourceId:t,filter:{language_id:n,content_type:i,modes:[o]},value:e}),this.$emit("afterResourceVariantChanged",{variant:this.resourceVariant,resourceId:t})}},contentExpressionAST:function(){var e=[];try{e=Object(Qc["parse"])(this.content)}catch(o){if(o instanceof SyntaxError||"SyntaxError"===o.name)return o}var t=Object(y["some"])(e,y["isObject"]);return t?e:null},doesContentContainExpression:function(){return!!this.contentExpressionAST},doesContentContainExpressionError:function(){return!!(this.contentExpressionAST instanceof Error)},characterCounter:function(){var e=!/^[\x00-\x7F]*$/.test(this.content),t=this.content.length;return console.debug("BlockTextContentEditorForLangAndType","characterCounter",{hasUnicode:e,count:t}),{hasUnicode:e,count:t,pages:e?Math.ceil(t/70):Math.ceil(t/160)}}},methods:Object(m["a"])(Object(m["a"])({},Object(v["b"])("flow",["resource_setOrCreateValueModeSpecific"])),{},{select:function(){this.isSelected=!0},deselect:function(){this.isSelected=!1}})},ts=es,os=ts,as=(o("3ebb"),Object(T["a"])(os,Jc,Yc,!1,null,"da3bfc1a",null)),ns=(as.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{staticClass:"batch-match-audio-files-prompt alert alert-info form-horizontal"},[o("h4",[e._v(e._s(e._f("trans")("flow-builder.auto-link-audio-files")))]),e.data.isFailure?o("p",{staticClass:"alert alert-danger"},[o("strong",[o("i",{staticClass:"glyphicon glyphicon-exclamation-sign"}),e._v(" "+e._s(e._f("trans")("flow-builder.failed-finding-matches")))]),e._v(" "+e._s(e._f("trans")("flow-builder.heres-what-we-know"))+" "),o("em",[e._v(e._s(e.data.message||"flow-builder.unknown-error-occurred"))]),e._v(". ")]):e._e(),e.isAudioLibraryEmpty?o("p",{staticClass:"alert alert-warning"},[o("strong",[o("i",{staticClass:"glyphicon glyphicon-exclamation-sign"}),e._v(" "+e._s(e._f("trans")("flow-builder.empty-audio-library")))]),e._v(" "+e._s(e._f("trans")("flow-builder.we-need-audio-files-previously-uploaded-to-audio-lib-to-match-to-blocks"))+" "+e._s(e._f("trans")("flow-builder.upload-audio-files-to-X"))+" "),o("a",{attrs:{href:"/audiofiles/new/multi"}},[e._v(e._s(e._f("trans")("flow-builder.your-orgs-audio-library")))]),e._v(". ")]):e._e(),o("fieldset",{attrs:{disabled:e.disabled}},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"col-sm-3 control-label",attrs:{for:"resource-viewer-batch-match-audio-pattern"}},[e._v(" "+e._s(e._f("trans")("flow-builder.audio-file-naming-pattern"))+" ")]),o("div",{staticClass:"col-sm-6",class:{"has-warning":e.pattern.length&&!e.isValid,"has-error":e.data.isEmpty&&e.data.isComplete}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.pattern,expression:"pattern"},{name:"focus",rawName:"v-focus",value:e.focus,expression:"focus"}],staticClass:"form-control",attrs:{id:"resource-viewer-batch-match-audio-pattern",type:"text",placeholder:"[label]_example tree_[language]"},domProps:{value:e.pattern},on:{input:function(t){t.target.composing||(e.pattern=t.target.value)}}}),e.pattern.length&&!e.isValid?o("span",{staticClass:"help-block"},[o("strong",[o("i",{staticClass:"glyphicon glyphicon-warning-sign"}),e._v(" "+e._s(e._f("trans")("flow-builder.invalid-pattern")))]),e._v(" "+e._s(e._f("trans")("flow-builder.at-minimum-we-need-two-placeholders"))+" "),o("em",[e._v("[label]")]),e._v(", "),o("em",[e._v("[language]")]),e._v(". ")]):e._e(),e.data.isEmpty&&e.data.isComplete?o("span",{staticClass:"help-block"},[o("strong",[o("i",{staticClass:"glyphicon glyphicon-exclamation-sign"}),e._v(" "+e._s(e._f("trans")("flow-builder.no-matches-found")))]),e._v(" "+e._s(e._f("trans")("flow-builder.we-didnt-find-any-matches-revisit-pattern"))+" ")]):e._e(),o("div",{staticClass:"checkbox"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.replaceExisting,expression:"replaceExisting"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.replaceExisting)?e._i(e.replaceExisting,null)>-1:e.replaceExisting},on:{change:function(t){var o=e.replaceExisting,a=t.target,n=!!a.checked;if(Array.isArray(o)){var i=null,r=e._i(o,i);a.checked?r<0&&(e.replaceExisting=o.concat([i])):r>-1&&(e.replaceExisting=o.slice(0,r).concat(o.slice(r+1)))}else e.replaceExisting=n}}}),e._v(" "+e._s(e._f("trans")("flow-builder.replace-existing-audio-files-on-blocks"))+" ")])])])])]),o("h5",[e._v(e._s(e._f("trans")("flow-builder.examples")))]),o("ul",[o("li",[o("em",[e._v("[label]_example tree_[language]")]),e._v(" "+e._s(e._f("trans")("flow-builder.X-will-match-with-Y",{pattern:"",name:""}))+" "),o("em",[e._v("M1A_example tree_EN.mp3")]),e._v(", "+e._s(e._f("trans")("flow-builder.or"))+" "),o("em",[e._v("introduction_M1A_example tree_EN.mp3")])]),o("li",[o("em",[e._v("[label]_example tree_[language]")]),o("u",[e._v(e._s(e._f("trans")("flow-builder.X-wont-match-with-Y",{pattern:"",name:""})))]),o("em",[e._v("tree_M1A_EN.mp3")]),e._v(" "+e._s(e._f("trans")("flow-builder.or"))+" "),o("em",[e._v("M1A_introduction_example tree_EN.mp3")])])]),e.expanded?[o("h5",[e._v(" "+e._s(e._f("trans")("flow-builder.three-components-used-to-create-assignment-rules-and-name-audio-files"))+" ")]),o("table",{staticClass:"table table-striped table-bordered"},[o("thead",[o("tr",[o("th",[e._v(e._s(e._f("trans")("flow-builder.rule-components")))]),o("th",[e._v(e._s(e._f("trans")("flow-builder.corresponding-audio-file-components-examples")))])])]),o("tbody",[o("tr",[o("td",[e._v("[label] "+e._s(e._f("trans")("flow-builder.X-assigned-to-a-block",{label:""})))]),o("td",[e._v("M1A")])]),o("tr",[o("td",[e._v("[language] "+e._s(e._f("trans")("flow-builder.X-abbreviations-set-when-creating-tree",{lang:""})))]),o("td",[e._v("EN")])]),o("tr",[o("td",[e._v(e._s(e._f("trans")("flow-builder.additional-designation-created-in-the-rule")))]),o("td",[e._v(e._s(e._f("trans")("flow-builder.example-tree")))])])])]),o("p",[e._v(" [label] "+e._s(e._f("trans")("flow-builder.and"))+" [language] "+e._s(e._f("trans")("flow-builder.X-are-required-placeholder-components-for-rule-but-additional-designation-optional",{placeholders:""}))+" "+e._s(e._f("trans")("flow-builder.order-of-components-dont-matter-but-must-be-adjacent-one-another"))+" "+e._s(e._f("trans")("flow-builder.components-can-be-separated-by-symbols-but-not-required"))+" "+e._s(e._f("trans")("flow-builder.if-symbols-are-used-then-reflect-in-filename"))+" ")])]:e._e(),o("hr"),o("fieldset",{staticClass:"text-right btn-toolbar",attrs:{disabled:e.disabled}},[o("button",{staticClass:"btn btn-link",on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[e._v(" Cancel ")]),o("button",{staticClass:"btn btn-secondary",class:{active:e.expanded},on:{click:function(t){return t.preventDefault(),e.toggleExpanded.apply(null,arguments)}}},[o("span",[e._v(e._s(e._f("trans")("flow-builder.tell-me-more"))+"")]),o("i",{staticClass:"glyphicon",class:{"glyphicon-chevron-down":!e.expanded,"glyphicon-chevron-up":e.expanded}})]),o("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.isValid},on:{click:function(t){return t.preventDefault(),e.confirm.apply(null,arguments)}}},[o("i",{staticClass:"glyphicon glyphicon-ok"}),e._v(" "+e._s(e._f("trans")("flow-builder.find-matches"))+" ")])])],2)}),is=[],rs={mixins:[E["b"],x.a.mixin],props:["focus","data","isAudioLibraryEmpty"],data:function(){return{pattern:"",replaceExisting:!0,expanded:!1}},computed:{disabled:function(){return this.data.isPending},isValid:function(){return Object(y["includes"])(this.pattern,"[label]")&&Object(y["includes"])(this.pattern,"[language]")}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm",{value:this.pattern,replaceExisting:this.replaceExisting})},toggleExpanded:function(){this.expanded=!this.expanded}}},cs=rs,ss=(o("f01d"),Object(T["a"])(cs,ns,is,!1,null,"1f670b9f",null)),ls=(ss.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-content-editor block-content-editor-unsupported"},[o("ul",{staticClass:"list-inline pull-right h4"},[e._l(e.block.customData.tags,(function(t){return o("li",[o("span",{staticClass:"badge badge-default"},[e._v(e._s(t))])])})),o("li",[o("span",{staticClass:"badge badge-info"},[e._v(e._s(e._f("trans")("flow-builder.block-type-unsupported-in-resource-view")))])])],2),o("h4",{class:{"text-muted":!e.block.customData.title},attrs:{title:"Block ID - "+e.block.jsKey}},[e.block.customData.label?o("span",[e._v(e._s(e.block.customData.label)+" - ")]):e._e(),e._v(" "+e._s(e.block.customData.title||e.$options.filters.trans("flow-builder.untitled-block"))+" "),o("small",[e._v(e._s(e._f("trans")("flow-builder."+e.block.type)))])])])}),us=[],ds={mixins:[E["b"]],props:["block","blockTypes"]},bs=ds,fs=(o("4ebe"),Object(T["a"])(bs,ls,us,!1,null,"bbda5186",null)),ps=(fs.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-content-editor"},[o("div",{staticClass:"list-group"},e._l(e.enabledLanguages,(function(t){return o("div",{staticClass:"list-group-item",class:{"list-group-item-success":e.block.customData.reviewed[t],"has-success":e.block.customData.reviewed[t]}},[o("div",{staticClass:"row"},[o("div",{staticClass:"block-content-editor-lang col-md-1"},[o("h6",{staticClass:"badge badge-info"},[e._v(" "+e._s(e.languageNames[t]||"Unknown language")+" ")])]),e.tree.details.hasVoice?o("div",{staticClass:"block-content-editor-audio col-md-4"},[o("audio-library-selector",{attrs:{"audio-files":e.audioFiles,"selected-audio-file":e.block.audioFiles[t],"lang-id":t,"alternate-selections":e.alternateAudioFileSelections&&e.alternateAudioFileSelections[t]},on:{select:e.selectAudioFileFor,clear:e.selectAudioFileFor}})],1):e._e(),e.tree.details.hasSms?o("block-text-content-editor-for-lang-and-type",{staticClass:"col-md-2",attrs:{"is-editable":e.isEditable,block:e.block,"lang-id":t,type:"sms"}}):e._e(),e.tree.details.hasUssd?o("block-text-content-editor-for-lang-and-type",{staticClass:"col-md-2",attrs:{"is-editable":e.isEditable,block:e.block,"lang-id":t,type:"ussd"}}):e._e(),e.tree.details.hasClipboard?o("block-text-content-editor-for-lang-and-type",{staticClass:"col-md-2",attrs:{"is-editable":e.isEditable,block:e.block,"lang-id":t,type:"clipboard","enable-autogen-button":!1}}):e._e(),o("div",{staticClass:"block-content-editor-reviewed col-md-1"},[o("button",{staticClass:"btn btn-secondary btn-xl",class:{active:e.block.customData.reviewed[t],"btn-success":e.block.customData.reviewed[t]},on:{click:function(o){return e.toggleReviewedStateFor(t)}}},[o("i",{staticClass:"glyphicon glyphicon-thumbs-up",class:{"text-muted":!e.block.customData.reviewed[t]}})])])],1)])})),0)])}),vs=[],hs={mixins:[E["b"]],props:["alternateAudioFileSelections","tree","block","enabledLanguages","blockTypes","languageNames"],computed:Object(m["a"])(Object(m["a"])({},Object(v["c"])(["isEditable"])),Object(v["e"])({audioFiles:function(e){var t=e.trees.ui.audioFiles;return t}})),methods:{debouncedSaveTree:Object(y["debounce"])((function(){this.$store.dispatch("attemptSaveTree")}),500),selectAudioFileFor:function(e){var t=e.langId,o=e.value,a=this.block.jsKey;this.$store.commit("updateAudioFileFor",{jsKey:a,langId:t,value:o}),this.$store.commit("updateReviewedStateFor",{jsKey:a,langId:t,value:!1}),this.debouncedSaveTree()},toggleReviewedStateFor:function(e){var t,o,a=null!==(t=!(null===(o=this.block.customData.reviewed)||void 0===o||!o.langId))&&void 0!==t&&t;this.$store.commit("updateReviewedStateFor",{jsKey:this.block.jsKey,langId:e,value:!a}),this.debouncedSaveTree()}}},ms=hs,gs=(o("5d73"),Object(T["a"])(ms,ps,vs,!1,null,"5a07cc99",null));gs.exports;function ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])(Object(m["a"])({},a),n),i),r),c),s),l),u),d),b),e)).forEach((function(e){var t=Object(h["a"])(e,2),o=t[0],a=t[1];p["default"].component(o,a)}))}o("0402");var js=o("8c4f"),_s=[{path:"/",component:function(){return o.e("chunk-builder").then(o.bind(null,"bb51"))}},{path:"/flows/new",component:function(){return o.e("chunk-builder").then(o.bind(null,"e0f6"))}},{path:"/flows/import",component:function(){return o.e("chunk-builder").then(o.bind(null,"7d8c"))}},{path:"/flows/:uuid",props:function(e){return{uuid:e.params.uuid}},component:function(){return o.e("chunk-builder").then(o.bind(null,"8cba"))}},{path:"/flows/:id/designer/:mode",name:"flow-canvas",props:function(e){return{id:e.params.id,mode:e.params.mode}},component:function(){return o.e("chunk-builder").then(o.bind(null,"e7f0"))},children:[{path:"details",name:"flow-details",meta:{isFlowEditorShown:!0}},{path:"block/:blockId",name:"block-selected",props:function(e){return{blockId:e.params.blockId}},children:[{path:"details",name:"block-selected-details",meta:{isBlockEditorShown:!0}},{path:":field",name:"block-scroll-to-anchor",meta:{isBlockEditorShown:!0}}]}]},{path:"*",redirect:"/"}],Os=o("bc78");p["default"].use(js["a"]);var ys=Object(Y["a"])(_s),ws=new js["a"]({mode:"history",base:"/",scrollBehavior:Os["a"],routes:ys}),Cs=ws,xs=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},Es=[],Bs={},Is=Object(T["a"])(Bs,xs,Es,!1,null,null,null),Ss=Is.exports;function Ts(){return Ms.apply(this,arguments)}function Ms(){return Ms=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:new p["default"]({router:Cs,store:new v["a"].Store({}),render:function(e){return e(p["default"].extend(Ss))}}).$mount("#app");case 1:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}ks(),p["default"].use(v["a"]),p["default"].config.productionTip=!1,Ts()},cf2c:function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return S}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"core-case-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1,"has-unified-exit":!1}}),e._t("extras"),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("18b0"),g=o("85b2"),k="Core.Case",j={},_={},O={createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.t0=a,o.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:k,name:"",label:"",semantic_label:"",exits:i,config:{},tags:[],vendor_metadata:{io_viamo:{branchingType:m["c"].ADVANCED}}}));case 14:case"end":return o.stop()}}),o)})))()},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(g["f"])({block:o,schemaVersion:a})}},y={namespaced:!0,getters:j,mutations:_,actions:O},w=o("4a51"),C=o("af98"),x=o("2fe1"),E=(Object(b["e"])("flow/".concat(k)),Object(b["e"])("builder")),B=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),e}return Object(r["a"])(o,[{key:"exits",get:function(){return this.block.exits}}]),o}(Object(x["c"])(w["a"]));Object(d["__decorate"])([Object(f["b"])()],B.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],B.prototype,"flow",void 0),Object(d["__decorate"])([E.Getter],B.prototype,"isEditable",void 0),B=Object(d["__decorate"])([Object(f["a"])({})],B);var I=B,S=Object(C["d"])(k,y),T=I,M=o("2877"),R=Object(M["a"])(T,a,n,!1,null,null,null);t["default"]=R.exports},d139:function(e,t,o){"use strict";var a=o("d90c"),n=o.n(a);n.a},d220:function(e,t,o){"use strict";var a=o("289e"),n=o.n(a);n.a},d39e:function(e,t,o){"use strict";o.d(t,"b",(function(){return m}));var a=o("276c"),n=o("e954"),i=o("2c4c"),r=o("920b"),c=o("92a6"),s=o("fc11"),l=(o("ac1f"),o("5319"),o("498a"),o("99af"),o("9ab4")),u=o("a026"),d=o("2ef0"),b=o("2fe1"),f=o("4bb5"),p=/(\/){(.*?)(\?)?}/g,v=function(e){throw new Error("InvalidContextError - Missing param: ".concat(e))};function h(e,t){if(!t)return null;e=e||{};var o=t.path,a=t.params,n=Object(d["isEmpty"])(a);return n?o:o.replace(p,(function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=a.trim(),r=!(i in e);return r&&!n&&v(i),r&&n?"":"".concat(o).concat(e[i])}))}function m(e,t,o){return h(t,Object(d["get"])(o,e))}var g=function(e){Object(r["a"])(o,e);var t=Object(c["a"])(o);function o(){var e;Object(a["a"])(this,o);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(s["a"])(Object(i["a"])(e),"routes",void 0),e}return Object(n["a"])(o,[{key:"route",value:function(e,t){return m(e,t,this.routes)}}]),o}(u["default"]);Object(l["__decorate"])([Object(f["d"])((function(e){return e.trees.ui.routes}))],g.prototype,"routes",void 0),g=Object(l["__decorate"])([b["b"]],g),t["a"]=g},d81e:function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return S}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"console-io-print-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("name-editor",{attrs:{block:e.block}}),e._t("extras"),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/message"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("expression-input",{attrs:{label:e._f("trans")("flow-builder.print-message"),placeholder:e._f("trans")("flow-builder.enter-message"),"current-expression":e.value,"valid-state":a},on:{commitExpressionChange:e.commitMessageChange}})]}}])}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},n=[],i=o("276c"),r=o("e954"),c=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("4bb5"),f=o("1b40"),p=o("c964"),v=(o("96cf"),o("31aa")),h=o("2ef0"),m=o("85b2"),g="ConsoleIO.Print",k={},j={},_={editMessage:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,n=t.blockId,i=t.message,a("flow/block_updateConfigByKey",{blockId:n,key:"message",value:i},{root:!0}),o.abrupt("return",i);case 4:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function o(){var a,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.t0=a,o.next=5,(new v["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,i=[o.t5],o.abrupt("return",Object(h["defaultsDeep"])(n,{type:g,name:"",label:"",semantic_label:"",exits:i,config:{message:""},tags:[],vendor_metadata:{}}));case 14:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value = true"},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(m["f"])({block:o,schemaVersion:a})}},O={namespaced:!0,getters:k,mutations:j,actions:_},y=o("af98"),w=o("2fe1"),C=o("4a51"),x=Object(b["e"])("flow/".concat(g)),E=Object(b["e"])("builder"),B=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(u["a"])(Object(c["a"])(e),"block",void 0),Object(u["a"])(Object(c["a"])(e),"flow",void 0),Object(u["a"])(Object(c["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(c["a"])(e),"editMessage",void 0),Object(u["a"])(Object(c["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(u["a"])(Object(c["a"])(e),"isEditable",void 0),e}return Object(r["a"])(o,[{key:"value",get:function(){return this.block.config.message||""}},{key:"commitMessageChange",value:function(e){return this.editMessage({blockId:this.block.uuid,message:e})}}]),o}(Object(w["c"])(C["a"]));Object(d["__decorate"])([Object(f["b"])()],B.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],B.prototype,"flow",void 0),Object(d["__decorate"])([x.Action],B.prototype,"editMessage",void 0),Object(d["__decorate"])([x.Action],B.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([E.Getter],B.prototype,"isEditable",void 0),B=Object(d["__decorate"])([Object(f["a"])({})],B);var I=B,S=Object(y["d"])(g,O),T=I,M=o("2877"),R=Object(M["a"])(T,a,n,!1,null,null,null);t["default"]=R.exports},d90c:function(e,t,o){},dc3c:function(e,t,o){},e3d7:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return S}));var a=o("c964"),n=o("276c"),i=o("e954"),r=o("2c4c"),c=o("920b"),s=o("92a6"),l=o("fc11"),u=(o("96cf"),o("99af"),o("ac1f"),o("5319"),o("4de4"),o("e260"),o("d3b7"),o("e6cf"),o("3ca3"),o("ddb0"),o("9ab4")),d=o("b458"),b=o("6aac"),f=o("a026"),p=o("4a51"),v=o("cab2"),h=o("d39e"),m=o("2ef0"),g=o("b429"),k=o.n(g),j=o("512d"),_=o.n(j),O=o("af98"),y=o("2fe1"),w=o("4bb5"),C=o("1b40");f["default"].use(d["a"]);var x=Object(w["e"])("flow"),E=Object(w["e"])("builder"),B=Object(w["e"])("clipboard"),I=Object(w["e"])("validation"),S=function(t){Object(c["a"])(u,t);var o=Object(s["a"])(u);function u(){var e;Object(n["a"])(this,u);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=o.call.apply(o,[this].concat(a)),Object(l["a"])(Object(r["a"])(e),"isImporterVisible",!1),Object(l["a"])(Object(r["a"])(e),"height",102),Object(l["a"])(Object(r["a"])(e),"SAVING_ANIMATION_DURATION",1e3),Object(l["a"])(Object(r["a"])(e),"tree",void 0),Object(l["a"])(Object(r["a"])(e),"ui",void 0),Object(l["a"])(Object(r["a"])(e),"hasToolbarFlowTitle",void 0),Object(l["a"])(Object(r["a"])(e),"hasToolbarHomeButton",void 0),Object(l["a"])(Object(r["a"])(e),"hasToolbarNewFlowButton",void 0),Object(l["a"])(Object(r["a"])(e),"hasToolbarExportButton",void 0),Object(l["a"])(Object(r["a"])(e),"isTreeSaving",void 0),Object(l["a"])(Object(r["a"])(e),"isBlockAvailableByBlockClass",void 0),Object(l["a"])(Object(r["a"])(e),"hasChanges",void 0),Object(l["a"])(Object(r["a"])(e),"isTreeValid",void 0),Object(l["a"])(Object(r["a"])(e),"selectedBlock",void 0),Object(l["a"])(Object(r["a"])(e),"isFeatureTreeSaveEnabled",void 0),Object(l["a"])(Object(r["a"])(e),"isFeatureTreeSendEnabled",void 0),Object(l["a"])(Object(r["a"])(e),"isFeatureTreeDuplicateEnabled",void 0),Object(l["a"])(Object(r["a"])(e),"isFeatureViewResultsEnabled",void 0),Object(l["a"])(Object(r["a"])(e),"isFeatureSimulatorEnabled",void 0),Object(l["a"])(Object(r["a"])(e),"isFeatureUpdateInteractionTotalsEnabled",void 0),Object(l["a"])(Object(r["a"])(e),"isResourceEditorEnabled",void 0),Object(l["a"])(Object(r["a"])(e),"setTreeSaving",void 0),Object(l["a"])(Object(r["a"])(e),"attemptSaveTree",void 0),Object(l["a"])(Object(r["a"])(e),"getToolbarConfig",void 0),Object(l["a"])(Object(r["a"])(e),"activeFlow",void 0),Object(l["a"])(Object(r["a"])(e),"activeFlowContainer",void 0),Object(l["a"])(Object(r["a"])(e),"hasOfflineMode",void 0),Object(l["a"])(Object(r["a"])(e),"isActiveFlowValid",void 0),Object(l["a"])(Object(r["a"])(e),"flows",void 0),Object(l["a"])(Object(r["a"])(e),"resources",void 0),Object(l["a"])(Object(r["a"])(e),"flow_removeBlock",void 0),Object(l["a"])(Object(r["a"])(e),"flow_addBlankBlockByType",void 0),Object(l["a"])(Object(r["a"])(e),"flow_duplicateBlock",void 0),Object(l["a"])(Object(r["a"])(e),"flow_persist",void 0),Object(l["a"])(Object(r["a"])(e),"isEditable",void 0),Object(l["a"])(Object(r["a"])(e),"activeBlockId",void 0),Object(l["a"])(Object(r["a"])(e),"activeBlock",void 0),Object(l["a"])(Object(r["a"])(e),"importFlowsAndResources",void 0),Object(l["a"])(Object(r["a"])(e),"activateBlock",void 0),Object(l["a"])(Object(r["a"])(e),"setSimulatorActive",void 0),Object(l["a"])(Object(r["a"])(e),"remove_block_validation",void 0),e}return Object(i["a"])(u,[{key:"mounted",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,o,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$route.meta?this.$route.meta:{},this.onMetaChanged(t),o=this.$refs["edit-flow-modal"],o?(o.$on("shown",(function(){var e=a.$route.meta;e&&e.isFlowEditorShown||a.$router.replace({name:"flow-details"})})),o.$on("hidden",(function(){var e=a.$route.meta;e&&e.isFlowEditorShown&&a.$router.replace({name:"flow-canvas"})}))):console.debug("Builder Toolbar","Unable to find the edit flow modal on mount - deep linking may not work");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onMetaChanged",value:function(e){var t=this.$refs["edit-flow-modal"];t&&(e.isFlowEditorShown?t.show():t.hide())}},{key:"isEmpty",value:function(e){return Object(m["isEmpty"])(e)}},{key:"flow",get:function(){return JSON.stringify(Object(m["omit"])(this.activeFlowContainer,"isCreated"),null,2)},set:function(e){this.importFlowsAndResources(JSON.parse(e))}},{key:"resourceViewUrl",get:function(){return this.editTreeRoute({component:"resource-viewer"})}},{key:"downloadAudioUrl",get:function(){return this.editTreeRoute({component:"downloadaudio"})}},{key:"editTreeUrl",get:function(){return this.editTreeRoute({component:"designer",mode:"edit"})}},{key:"viewTreeUrl",get:function(){return this.editTreeRoute({component:"designer",mode:"view"})}},{key:"saveButtonText",get:function(){return this.isTreeSaving?this.trans("flow-builder.saving"):this.trans("flow-builder.save")}},{key:"blockClassesForContentCategory",get:function(){var e=this;return k()(_()((function(t){return!e.hasClassDetail(t,"hidden_in_menu")})),_()((function(t){return e.hasMenuCategory(t,1)})))(this.ui.blockClasses)}},{key:"blockClassesForContactCategory",get:function(){var e=this;return k()(_()((function(t){return!e.hasClassDetail(t,"hidden_in_menu")})),_()((function(t){return e.hasMenuCategory(t,2)})))(this.ui.blockClasses)}},{key:"blockClassesForBranchingCategory",get:function(){var e=this;return k()(_()((function(t){return!e.hasClassDetail(t,"hidden_in_menu")})),_()((function(t){return e.hasMenuCategory(t,3)||e.hasClassDetail(t,"branchingMenu")})))(this.ui.blockClasses)}},{key:"blockClassesForDeveloperCategory",get:function(){var e=this;return k()(_()((function(t){return!e.hasClassDetail(t,"hidden_in_menu")})),_()((function(t){return e.hasMenuCategory(t,5)})))(this.ui.blockClasses)}},{key:"canViewResultsTotals",get:function(){return this.can("view-result-totals")&&this.isFeatureViewResultsEnabled}},{key:"hasSimulator",get:function(){return this.hasOfflineMode&&this.isFeatureSimulatorEnabled}},{key:"handleAddBlockByTypeSelected",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var o,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.type,e.next=3,this.flow_addBlankBlockByType({type:o,ui_metadata:{canvas_coordinates:Object(O["b"])(this.activeBlock)},vendor_metadata:{io_viamo:{uiData:Object(O["c"])(this.activeBlock)}}});case 3:a=e.sent,n=a.uuid,this.activateBlock({blockId:n}),this.$router.push({name:"block-selected-details",params:{blockId:n}});case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePersistFlow",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(o){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isEditable){t.next=7;break}return this.setTreeSaving(!0),t.next=4,Promise.all([this.flow_persist({persistRoute:this.route("flows.persistFlow",{}),flowContainer:this.activeFlowContainer}),new Promise((function(t){e.setTimeout((function(){t(!1)}),a.SAVING_ANIMATION_DURATION)}))]);case 4:t.sent.filter(Boolean).pop(),this.setTreeSaving(!1);case 7:o&&this.$router.push(o);case 8:case"end":return t.stop()}}),t,this)})));function o(e){return t.apply(this,arguments)}return o}()},{key:"showOrHideEditFlowModal",value:function(){var e=this.$refs["edit-flow-modal"];e&&e.toggle()}},{key:"openDropdownMenu",value:function(e){e.hasAttribute("aria-expanded")&&"true"!==e.getAttribute("aria-expanded")&&e.click()}},{key:"toggleImportExport",value:function(){this.isImporterVisible=!this.isImporterVisible}},{key:"editTreeRoute",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.component,a=void 0===o?null:o,n=t.mode,i=void 0===n?null:n,r=this.removeNilValues({flowId:null===(e=this.activeFlow)||void 0===e?void 0:e.uuid,component:a,mode:i});return this.route("flows.editFlow",r)}},{key:"hasClassDetail",value:function(e,t){return!Object(m["isNil"])(e[t])&&e[t]}},{key:"hasMenuCategory",value:function(e,t){return this.hasClassDetail(e,"menu_category")&&e.menu_category===t}},{key:"translateTreeClassName",value:function(e){return this.trans("flow-builder.".concat(e))}},{key:"shouldDisplayDividerBefore",value:function(e,t){var o=this,a=Object(m["pickBy"])(e,(function(e){return o.hasClassDetail(e,"divider_before")}))[t];return a&&this.isBlockAvailableByBlockClass[t]}},{key:"handleResourceViewerSelected",value:function(){this.$el.scrollIntoView(!0)}},{key:"removeNilValues",value:function(e){return Object(m["pickBy"])(e,m["identity"])}},{key:"handleHeightChangeFromDOM",value:function(){var e=this.$refs["builder-toolbar"];e||console.debug("Interaction Designer","Unable to find DOM element corresponding to builder-toolbar");var t=Object(m["reduce"])(e.childNodes,(function(e,t){return e+t.offsetHeight}),0);t>0&&(this.height=t,this.$emit("height-updated",this.height))}}]),u}(Object(y["c"])(h["a"],v["a"],p["a"]));Object(u["__decorate"])([Object(C["d"])("$route.meta",{immediate:!0,deep:!0})],S.prototype,"onMetaChanged",null),Object(u["__decorate"])([Object(w["d"])((function(e){var t=e.trees.tree;return t}))],S.prototype,"tree",void 0),Object(u["__decorate"])([Object(w["d"])((function(e){var t=e.trees.ui;return t}))],S.prototype,"ui",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"hasToolbarFlowTitle",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"hasToolbarHomeButton",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"hasToolbarNewFlowButton",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"hasToolbarExportButton",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isTreeSaving",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isBlockAvailableByBlockClass",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"hasChanges",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isTreeValid",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"selectedBlock",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isFeatureTreeSaveEnabled",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isFeatureTreeSendEnabled",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isFeatureTreeDuplicateEnabled",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isFeatureViewResultsEnabled",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isFeatureSimulatorEnabled",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isFeatureUpdateInteractionTotalsEnabled",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"isResourceEditorEnabled",void 0),Object(u["__decorate"])([w["c"]],S.prototype,"setTreeSaving",void 0),Object(u["__decorate"])([w["a"]],S.prototype,"attemptSaveTree",void 0),Object(u["__decorate"])([w["b"]],S.prototype,"getToolbarConfig",void 0),Object(u["__decorate"])([x.Getter],S.prototype,"activeFlow",void 0),Object(u["__decorate"])([x.Getter],S.prototype,"activeFlowContainer",void 0),Object(u["__decorate"])([x.Getter],S.prototype,"hasOfflineMode",void 0),Object(u["__decorate"])([x.Getter],S.prototype,"isActiveFlowValid",void 0),Object(u["__decorate"])([x.State],S.prototype,"flows",void 0),Object(u["__decorate"])([x.State],S.prototype,"resources",void 0),Object(u["__decorate"])([x.Action],S.prototype,"flow_removeBlock",void 0),Object(u["__decorate"])([x.Action],S.prototype,"flow_addBlankBlockByType",void 0),Object(u["__decorate"])([x.Action],S.prototype,"flow_duplicateBlock",void 0),Object(u["__decorate"])([x.Action],S.prototype,"flow_persist",void 0),Object(u["__decorate"])([E.Getter],S.prototype,"isEditable",void 0),Object(u["__decorate"])([E.State],S.prototype,"activeBlockId",void 0),Object(u["__decorate"])([E.Getter],S.prototype,"activeBlock",void 0),Object(u["__decorate"])([E.Action],S.prototype,"importFlowsAndResources",void 0),Object(u["__decorate"])([E.Mutation],S.prototype,"activateBlock",void 0),Object(u["__decorate"])([B.Action],S.prototype,"setSimulatorActive",void 0),Object(u["__decorate"])([I.Action],S.prototype,"remove_block_validation",void 0),S=Object(u["__decorate"])([Object(y["b"])({components:{BModal:b["a"]}})],S),t["b"]=S}).call(this,o("c8ba"))},ecef:function(e,t,o){"use strict";o.d(t,"a",(function(){return u})),o.d(t,"f",(function(){return d})),o.d(t,"d",(function(){return b})),o.d(t,"e",(function(){return f})),o.d(t,"b",(function(){return p}));var a=o("d0ff"),n=o("c964"),i=(o("96cf"),o("e260"),o("d3b7"),o("ddb0"),o("99af"),o("b64b"),o("fb6a"),o("e6cf"),o("3ca3"),o("d81d"),o("cca6"),o("a434"),o("a15b"),o("9300")),r=o("31aa"),c=o("a026"),s=o("2ef0"),l=o("85b2"),u="MobilePrimitives.SelectOneResponse",d=function(){return{}},b={},f={},p={rewriteChoiceKeyFor:function(e,t){var o=e.rootGetters,a=e.dispatch,n=t.resourceId,r=t.blockId,c=Object(i["findBlockWith"])(r,o["flow/activeFlow"]),l=o["flow/resourcesByUuidOnActiveFlow"][n];if(null==l)throw new i["ValidationException"]("Unable to find resource for choice: ".concat(n));var u=String(Object(s["findKey"])(c.config.choices,(function(e){return e===n})));c.config.choices=Object(s["omit"])(c.config.choices,u),a("addChoiceByResourceIdTo",{blockId:r,resourceId:n})},addChoiceByResourceIdTo:function(e,t){var o=e.rootGetters,a=t.blockId,n=t.resourceId,r=Object(i["findBlockWith"])(a,o["flow/activeFlow"]),l=o["flow/resourcesByUuidOnActiveFlow"][n];if(null==l)throw new i["ValidationException"]("Unable to find resource for choice: ".concat(n));var u=Object(s["snakeCase"])(Object(s["get"])(l.values[0],"value"))||l.uuid,d=u in r.config.choices,b=d?"-".concat(l.uuid):"";c["default"].set(r.config.choices,"".concat(u).concat(b),l.uuid)},deleteChoiceByResourceIdFrom:function(e,t){var o=e.rootGetters,a=t.blockId,n=t.resourceId,r=Object(i["findBlockWith"])(a,o["flow/activeFlow"]),l=String(Object(s["findKey"])(r.config.choices,(function(e){return e===n})));c["default"].delete(r.config.choices,l)},reflowExitsFromChoices:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function o(){var c,s,l,u,d,b,f,p;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return c=e.dispatch,s=e.rootGetters,l=t.blockId,u=Object(i["findBlockWith"])(l,s["flow/activeFlow"]),d=u.config.choices,b=u.exits,f=Object.keys(d),p=b.slice(0,-1),o.next=8,Promise.all(f.map(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,o){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=p[o]){e.next=8;break}return e.next=3,(new r["IdGeneratorUuidV4"]).generate();case 3:return a=e.sent,e.next=6,c("flow/block_createBlockExitWith",{props:{uuid:a}},{root:!0});case 6:n=e.sent,p.push(n);case 8:Object.assign(p[o],{name:t,test:'block.value = "'.concat(t,'"')});case 9:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()));case 8:b.splice.apply(b,[0,b.length-1].concat(Object(a["a"])(p)));case 9:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function o(){var a,n,i,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,n=t.props,o.next=4,a("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return i=o.sent,o.t0=a,o.next=8,(new r["IdGeneratorUuidV4"]).generate();case 8:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=14,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 14:return o.t5=o.sent,c=[o.t5],o.abrupt("return",Object(s["defaultsDeep"])(n,{type:u,name:"",label:"",semantic_label:"",config:{prompt:i.uuid,choices:{}},exits:c,tags:[],vendor_metadata:{}}));case 17:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:v(a)},{root:!0})},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(l["f"])({block:o,schemaVersion:a})}};function v(e){var t=Object.keys(e.config.choices);return 0===t.length?(console.warn("Choices are empty for SelectOneBlock, providing `true` by default"),"true"):"OR(".concat(Object(s["map"])(t,(function(e){return'block.value = "'.concat(e,'"')})).join(","),")")}t["c"]={namespaced:!0,state:d,getters:b,mutations:f,actions:p}},eef5:function(e,t,o){},f01d:function(e,t,o){"use strict";var a=o("4456a"),n=o.n(a);n.a}});
//# sourceMappingURL=app.f2fd8053.js.map
{"version":3,"sources":["webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?fb7d","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?b47e","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?72b4","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?d0ef","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?5fad","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?7352","webpack:///src/components/interaction-designer/block-editors/SemanticLabelEditor.vue","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?2154","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?4b9f","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?dfd9","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?497b","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue","webpack:///./src/components/common/AudioLibrarySearchField.vue?a8ea","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditor.vue?1b5a","webpack:///./src/lib/mixins/FlowUploader.ts","webpack:///./src/components/common/AudioLibrarySelector.vue?b0a7","webpack:///./src/components/common/AudioLibrarySearchField.vue?5ceb","webpack:///src/components/common/AudioLibrarySearchField.vue","webpack:///./src/components/common/AudioLibrarySearchField.vue?b8ca","webpack:///./src/components/common/AudioLibrarySearchField.vue","webpack:///./src/components/common/AudioLibrarySelection.vue?aaaf","webpack:///./src/lib/filters/moment.js","webpack:///src/components/common/AudioLibrarySelection.vue","webpack:///./src/components/common/AudioLibrarySelection.vue?c7e4","webpack:///./src/components/common/AudioLibrarySelection.vue","webpack:///src/components/common/AudioLibrarySelector.vue","webpack:///./src/components/common/AudioLibrarySelector.vue?53e4","webpack:///./src/components/common/AudioLibrarySelector.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue?c901","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?4b27","webpack:///./node_modules/bootstrap-vue/esm/constants/key-codes.js","webpack:///./node_modules/bootstrap-vue/esm/utils/html.js","webpack:///./node_modules/bootstrap-vue/esm/utils/observe-dom.js","webpack:///./node_modules/bootstrap-vue/esm/utils/cache.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/attrs.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/id.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/listen-on-document.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/listen-on-window.js","webpack:///./node_modules/bootstrap-vue/esm/utils/router.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/listeners.js","webpack:///./node_modules/bootstrap-vue/esm/components/link/link.js","webpack:///./node_modules/bootstrap-vue/esm/components/button/button.js","webpack:///./node_modules/bootstrap-vue/esm/components/transporter/transporter.js","webpack:///./node_modules/bootstrap-vue/esm/components/modal/helpers/bv-modal-event.class.js","webpack:///./node_modules/bootstrap-vue/esm/components/modal/helpers/modal-manager.js","webpack:///./node_modules/bootstrap-vue/esm/components/modal/modal.js","webpack:///src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?7697","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue","webpack:///src/components/interaction-designer/block-editors/PhoneRecorder.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue?baeb","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?cb46","webpack:///./node_modules/bootstrap-vue/esm/components/progress/progress-bar.js","webpack:///./node_modules/bootstrap-vue/esm/components/progress/progress.js","webpack:///./src/store/trees/multimediaUpload.js","webpack:///src/components/interaction-designer/block-editors/UploadMonitor.vue","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?48ac","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditor.vue?e48e","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditor.vue?d175","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditor.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?c4d1","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?2e34","webpack:///./src/components/common/AudioLibrarySelection.vue?e1be","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?a86f","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?f848","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?aafa","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?9522","webpack:///./src/components/common/AudioLibrarySelection.vue?3262","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?3e5d","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?4e06","webpack:///./src/components/common/AudioLibrarySearchField.vue?1b1c","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?01cb","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?533d","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?7ddf","webpack:///src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?8dfc","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue","webpack:///./src/components/common/AudioLibrarySelection.vue?a41f","webpack:///./node_modules/@flowjs/flow.js/src/flow.js","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue?b7d7","webpack:///src/components/interaction-designer/block-editors/NameEditor.vue","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue?32e2","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue","webpack:///./src/components/common/AudioLibrarySearchField.vue?85d7","webpack:///./node_modules/vue-focus/dist/vue-focus.common.js","webpack:///./node_modules/fuse.js/dist/fuse.js"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","locals","add","default","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","_f","attrs","isStartBlock","on","$event","setStartBlock","_e","staticRenderFns","flowVuexNamespace","event","flowId","flow","uuid","blockId","flow_setFirstBlockId","first_block_id","Mutation","component","model","value","callback","$$v","semanticLabel","expression","components","TextEditor","props","block","type","Object","required","mixins","lang","computed","get","semantic_label","set","block_setSemanticLabel","methods","label","block_setLabel","_l","ref","languageId","id","language","mode","toLowerCase","discoverContentTypesFor","contentType","SupportedContentType","TEXT","resource","findOrGenerateStubbedVariantOn","language_id","content_type","modes","AUDIO","findAudioResourceVariantFor","preventDefault","can","isFeatureAudioUploadEnabled","triggerRecordViaPhoneFor","directives","name","rawName","target","route","token","accept","handleFilesSubmittedFor","handleFileSuccessFor","availableAudio","el","data","dispatchEvent","extend","Event","bubbles","cancelable","bind","binding","upload_token","uploader","singleFile","chunkSize","query","support","style","overflow","assignBrowse","chain","children","find","tagName","assign","files","e","file","json","message","unbind","selectedAudioFile","langId","clearSelection","audioFiles","selectAudioFile","class","active","isEntireLibraryModeEnabled","toggleAudioLibrary","domProps","activate","deactivate","composing","rawQuery","resetPagination","isAudioLibraryEmpty","search","slice","offset","limit","audio","select","description","length","hasPrevious","hasNext","disabled","decrementPage","incrementPage","isActive","cache","console","debug","$emit","selectable","clear","_m","audioFileUrl","filters","formatDate","date","format","moment","utc","fromNow","withoutSuffix","formatDuration","duration","unit","withSuffix","currentLocale","locale","result","humanize","formatDurationLocalized","audioFile","AudioLibrarySearchField","AudioLibrarySelection","resource_setOrCreateValueModeSpecific","resourceId","filter","isRecorderSelectorVisible","handleRecorderSelectionChanged","callConfig","isModalVisible","handleModalClosed","handleModalCancelled","recorder","_q","selectedRecorder","setSelectedRecorder","phone","draft","selectNewRecorder","$set","CODE_ENTER","CODE_ESC","CODE_SPACE","htmlOrText","innerHTML","textContent","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","options","$el","warn","obs","mutations","changed","mutation","nodeType","Node","TEXT_NODE","addedNodes","removedNodes","observe","childList","subtree","propName","handler","newValue","oldValue","$delete","$data","_key","proxyPropName","watch","attrsMixin","idMixin","localId_","safeId","fn","suffix","String","replace","mounted","_this","$nextTick","concat","PROP","listenOnDocumentMixin","created","$once","items","eventName","handlers","document","listenDocument","listenOnDocument","listenOffDocument","array","h","listenOnWindowMixin","beforeCreate","beforeDestroy","window","listenWindow","listenOnWindow","listenOffWindow","ANCHOR_TAG","encodeReserveReplacer","c","charCodeAt","toString","str","encodeURIComponent","decodeURIComponent","map","reduce","results","value2","join","x","href","to","tag","computeTag","_ref","thisOrParent","routerComponentName","hasRouter","$router","$nuxt","_ref2","undefined","rel","_ref3","fallback","toFallback","path","hash","charAt","listenersMixin","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","call","constructor","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","ROOT_EVENT_NAME_CLICKED","routerLinkProps","activeClass","append","exact","exactActiveClass","routerTag","nuxtLinkProps","noPrefetch","prefetch","BLink","inheritAttrs","computedTag","isRouterLink","computedRel","computedHref","computedProps","computedAttrs","bvAttrs","tabindex","computedListeners","bvListeners","click","onClick","_arguments","eventIsEvent","suppliedHandler","immediatePropagation","currentTarget","__vue__","emitOnRoot","propagation","focus","blur","normalizeSlot","linkProps","pill","pressed","size","squared","variant","isNonStandardTag","computeClass","computeAttrs","button","link","toggle","nonStandardTag","hashLink","role","autocomplete","BButton","functional","listeners","keydown","keyCode","focusin","focusout","componentData","BVTransporterTarget","abstract","nodes","vm","updatedNodes","destroyed","$nodes","identity","text","container","BVTransporter","immediate","unmountTarget","mountTarget","$_defaultFn","$_target","beforeMount","updated","updateTarget","getContainer","$container","createElement","appendChild","parent","propsData","defaultFn","$scopedSlots","$slots","$destroy","_typeof","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","base","_superPropBase","desc","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","getPrototypeOf","_BvEvent","BvModalEvent","_super","eventInit","trigger","DEFAULT_ZINDEX","SELECTOR_FIXED_CONTENT","SELECTOR_STICKY_CONTENT","SELECTOR_NAVBAR_TOGGLER","ModalManager","modals","baseZIndex","scrollbarWidth","isBodyOverflowing","modalCount","modalsAreOpen","newCount","oldCount","getScrollbarWidth","checkScrollbar","setScrollbar","body","resetScrollbar","updateModals","registerModal","modal","_this2","indexOf","unregisterModal","index","splice","_isBeingDestroyed","_isDestroyed","resetModal","getBaseZIndex","div","zIndex","removeChild","width","clientWidth","_this3","isTop","_getBCR","left","right","innerWidth","_paddingChangedForModal","_marginChangedForModal","actualPadding","paddingRight","actualMargin","marginRight","modalManager","_makeModelMixin","defaultValue","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","TRIGGER_BACKDROP","TRIGGER_ESC","TRIGGER_FORCE","TRIGGER_TOGGLE","BUTTON_CANCEL","BUTTON_CLOSE","BUTTON_OK","BUTTONS","OBSERVER_CONFIG","characterData","attributes","attributeFilter","ariaLabel","autoFocusButton","bodyBgVariant","bodyClass","bodyTextVariant","busy","buttonSize","cancelDisabled","cancelTitle","cancelTitleHtml","cancelVariant","centered","contentClass","dialogClass","footerBgVariant","footerBorderVariant","footerClass","footerTextVariant","headerBgVariant","headerBorderVariant","headerClass","headerCloseContent","headerCloseLabel","headerCloseVariant","headerTextVariant","hideBackdrop","hideFooter","hideHeader","hideHeaderClose","ignoreEnforceFocusSelector","lazy","modalClass","noCloseOnBackdrop","noCloseOnEsc","noEnforceFocus","noFade","noStacking","okDisabled","okOnly","okTitle","okTitleHtml","okVariant","returnFocus","scrollable","static","title","titleClass","titleHtml","titleSrOnly","titleTag","BModal","isHidden","isVisible","isTransitioning","isShow","isBlock","isOpening","isClosing","ignoreBackdropClick","isModalOverflowing","modalId","modalOuterId","modalHeaderId","modalBodyId","modalTitleId","modalContentId","modalFooterId","modalBackdropId","modalClasses","fade","show","modalStyles","sbWidth","paddingLeft","display","dialogClasses","headerClasses","titleClasses","bodyClasses","footerClasses","_ref4","modalOuterStyle","position","slotScope","cancel","onCancel","close","onClose","hide","ok","onOk","visible","computeIgnoreEnforceFocusSelector","trim","scopedStyleAttrs","computedModalAttrs","hasNormalizedSlot","$_observer","$_returnFocus","listenOnRoot","showHandler","hideHandler","toggleHandler","modalListener","setObserver","disconnect","$refs","checkModalOverflow","updateModel","buildEvent","relatedTarget","vueTarget","componentId","getActiveElement","showEvt","emitEvent","defaultPrevented","doShow","hideEvt","triggerEl","activeElement","listenOnRootOnce","onBeforeEnter","setResizeEvent","onEnter","onAfterEnter","setEnforceFocus","focusFirst","onBeforeLeave","onLeave","onAfterLeave","_this4","returnFocusTo","bvEvent","onDialogMousedown","_this5","onceModalMouseup","onClickOut","onEsc","focusHandler","tabables","bottomTrap","topTrap","preventScroll","_this6","autoFocus","scrollTop","scrollHeight","documentElement","clientHeight","makeModal","$header","$modalHeader","$closeButton","textVariant","$body","$footer","$modalFooter","$cancelButton","$okButton","$modalContent","$tabTrapTop","$tabTrapBottom","$modalDialog","mousedown","$modal","enterClass","enterToClass","enterActiveClass","leaveClass","leaveActiveClass","leaveToClass","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave","$backdrop","Boolean","reset","isNew","PhoneRecordingRecorderSelector","$store","commit","recordingKey","dispatch","upload","progress","hasProgress","_t","animated","labelHtml","max","precision","showProgress","showValue","striped","BProgressBar","inject","bvProgress","progressBarClasses","computedAnimated","computedVariant","computedStriped","progressBarStyles","computedValue","computedMax","computedPrecision","math","computedProgress","computedShowProgress","computedShowValue","$children","progressBarProps","height","BProgress","provide","progressHeight","$childNodes","$props","Statuses","UPLOADING","UNINITIALIZED","SUCCESS","FAILURE","namespaced","state","uploadProgressByKey","errorMessageByKey","uploadsById","uploadIdsByKey","setErrorMessage","errorMessage","Vue","setUploadProgress","uploadProgress","setUploadStatusFor","fileWithRefs","status","lodash","pick","uniqueIdentifier","actions","uploadFile","uploadUrl","formDataFields","onSuccess","onError","Error","formData","FormData","config","onUploadProgress","progressEvent","Math","floor","loaded","total","axios","post","then","response","catch","error","uploadFiles","_","parseInt","JSON","parse","status_description","uploadKey","isFailure","multimediaUpload","builderVuexNamespace","findResourceVariantOverModesOn","SupportedMode","audio_file_id","filename","audio_uuid","created_at","duration_seconds","extension","split","uploadedAudio","original_extension","IVR","pushAudioIntoLibrary","ValidationException","Permissions","Routes","Action","Getter","AudioLibrarySelector","ResourceVariantTextEditor","UploadMonitor","PhoneRecorder","resourceVariant","deselect","invisible","characterCounter","count","pages","hasUnicode","trans","modifiers","staticStyle","contentExpressionAST","location","start","line","column","isEditable","enableAutogenButton","ast","SyntaxError","hasMembers","doesContentContainExpression","doesContentContainExpressionError","ceil","ie10plus","navigator","msPointerEnabled","Flow","events","off","arrayRemove","fire","args","each","unshift","webkitReadDataTransfer","$","queue","dataTransfer","readDirectory","reader","readEntries","entries","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","decrement","relativePath","substring","fileError","addFiles","item","webkitGetAsEntry","getAsFile","generateUniqueIdentifier","custom","opts","webkitRelativePath","fileName","uploadNextChunk","preventEvents","found","prioritizeFirstAndLastChunk","paused","chunks","send","chunk","outstanding","isComplete","async","domNodes","Element","domNode","input","setAttribute","visibility","addEventListener","assignDrop","preventEvent","onDrop","unAssignDrop","removeEventListener","isUploading","uploading","_shouldUploadNext","num","should","simultaneousUploads","ret","started","resume","pause","totalDone","totalSize","addFile","fileList","allowDuplicateUploads","getFromUniqueIdentifier","f","FlowFile","removeFile","abort","getSize","sizeUploaded","timeRemaining","sizeDelta","averageSpeed","Number","POSITIVE_INFINITY","measureSpeed","timeSpan","now","_lastProgressCallback","smoothingFactor","flowObj","speedSmoothingFactor","uploaded","currentSpeed","_prevUploadedSize","chunkEvent","progressCallbacksInterval","retry","bootstrap","initFileFn","_prevProgress","round","forceChunkSize","evalOpts","FlowChunk","bytesLoaded","endByte","startByte","percent","preprocessState","readState","delta","getType","getExtension","substr","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","fileObj","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","params","xhr","XMLHttpRequest","testHandler","testMethod","prepareXhrRequest","preprocessFinished","computeEndByte","readFinished","bytes","preprocess","read","readFileFn","testChunks","tested","pendingRetry","progressHandler","doneHandler","uploadMethod","method","changeRawDataBeforeSend","isTest","readyState","successStatuses","permanentErrors","retries","maxChunkRetries","responseText","s","paramsMethod","blob","v","k","fileParameterName","open","withCredentials","headers","setRequestHeader","version","File","Blob","FileList","webkitSlice","mozSlice","supportDirectory","userAgent","defaults","chunkRetryInterval","onDropStopPropagation","webAPIFileRead","stopPropagation","fileType","function_name","min","lengthComputable","retryInterval","setTimeout","context","dst","src","filterName","block_setName","match","compatible","util","inserted","componentUpdated","t","r","l","m","d","toStringTag","__esModule","a","deepValue","distance","threshold","maxPatternLength","u","caseSensitive","tokenSeparator","g","findAllMatches","y","minMatchCharLength","b","S","M","shouldSort","w","L","getFn","A","O","sortFn","C","score","j","tokenize","P","I","matchAllTokens","F","T","includeMatches","N","z","includeScore","E","W","verbose","K","isCaseSensitive","setCollection","_processKeys","list","_keyWeights","_keyNames","weight","_log","_prepareSearchers","tokenSearchers","fullSearcher","_search","_computeScore","_sort","_format","_analyze","record","resultMap","arrayIndex","pattern","isMatch","matchedIndices","output","EPSILON","pow","sort","stringify","matches","indices","log","patternAlphabet","RegExp","errors","currentLocation","expectedLocation","abs","isString","isNum"],"mappings":"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","file":"js/chunk-0ee7edf8.c8c6a805.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".block-text-content-editor-for-lang-and-type{margin-bottom:.5em}.block-text-content-editor-for-lang-and-type .content-editor{position:relative}.block-text-content-editor-for-lang-and-type .content-editor textarea{height:56px}.block-text-content-editor-for-lang-and-type .content-editor input[type=text]:not(:focus)+button,.block-text-content-editor-for-lang-and-type .content-editor textarea:not(:focus)+button{opacity:1}.block-text-content-editor-for-lang-and-type .content-editor input[type=text]+button,.block-text-content-editor-for-lang-and-type .content-editor textarea+button{position:absolute;bottom:7px;right:10px;transition:opacity .2s ease-in-out;opacity:0}.block-text-content-editor-for-lang-and-type .content-editor-selected input[type=text],.block-text-content-editor-for-lang-and-type .content-editor-selected textarea{background-color:#f8f8f8}.block-text-content-editor-for-lang-and-type .content-toolbar{margin-top:1px}.invisible{opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=6630b4be&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e5ad3886\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"starting-block-button\"},[(_vm.isEditable)?[_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.options')))]),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-secondary btn-sm\",attrs:{\"type\":\"button\",\"disabled\":_vm.isStartBlock},on:{\"click\":function($event){return _vm.setStartBlock($event)}}},[(_vm.isStartBlock)?[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.currently-set-as-starting-block'))+\" \")]:[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.set-as-starting-block'))+\" \")]],2)])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from 'vue-property-decorator'\nimport { IBlock, IFlow } from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport { namespace } from 'vuex-class'\nimport { mixins } from \"vue-class-component\";\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nclass FirstBlockEditorButton extends mixins(Lang) {\n    @Prop({ default: true }) readonly isEditable!: boolean\n\n    @Prop()readonly blockId!: string\n\n    @Prop()readonly flow!: IFlow\n\n    get isStartBlock() {\n      return this.blockId === this.flow.first_block_id\n    }\n\n    setStartBlock(event: any) {\n      const { flow: { uuid: flowId }, blockId } = this\n      this.flow_setFirstBlockId({ flowId, blockId })\n    }\n\n    @flowVuexNamespace.Mutation flow_setFirstBlockId!: ({ flowId, blockId }: {flowId: IFlow['uuid']; blockId: IBlock['uuid']}) => void\n  }\nexport default FirstBlockEditorButton\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FirstBlockEditorButton.vue?vue&type=template&id=4d00be79&\"\nimport script from \"./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-semantic-label\"},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.block-semantic-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-semantic-label')},model:{value:(_vm.semanticLabel),callback:function ($$v) {_vm.semanticLabel=$$v},expression:\"semanticLabel\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"block-semantic-label\">\n    <text-editor v-model=\"semanticLabel\"\n        :label=\"'flow-builder.block-semantic-label' | trans\"\n        :placeholder=\"'flow-builder.enter-block-semantic-label' | trans\"/>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport TextEditor from '@/components/common/TextEditor'\nimport { lang } from '@/lib/filters/lang'\n\nexport default {\n  components: {\n    TextEditor,\n  },\n  props: {\n    block: {\n      type: Object,\n      required: true,\n    },\n  },\n  mixins: [lang],\n  computed: {\n    semanticLabel: {\n      get() {\n        return this.block.semantic_label || ''\n      },\n      set(value) {\n        this.block_setSemanticLabel({ blockId: this.block.uuid, value })\n      },\n    },\n  },\n  methods: {\n    ...mapMutations('flow', ['block_setSemanticLabel']),\n  },\n}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemanticLabelEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemanticLabelEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SemanticLabelEditor.vue?vue&type=template&id=bf43c964&\"\nimport script from \"./SemanticLabelEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./SemanticLabelEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-label\"},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.block-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-label')},model:{value:(_vm.label),callback:function ($$v) {_vm.label=$$v},expression:\"label\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport TextEditor from '@/components/common/TextEditor.vue'\nimport Lang from '@/lib/filters/lang'\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { IBlock } from '@floip/flow-runner'\nimport { namespace } from 'vuex-class'\nimport { mixins } from \"vue-class-component\";\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({\n  components: {\n    TextEditor,\n  },\n})\nexport default class LabelEditor extends mixins(Lang) {\n  @Prop() block!: IBlock\n\n  get label(): IBlock['label'] {\n    return this.block.label\n  }\n\n  set label(value: IBlock['label']) {\n    this.block_setLabel({ blockId: this.block.uuid, value })\n  }\n\n  @flowVuexNamespace.Mutation block_setLabel!: ({ blockId, value }: { blockId: IBlock['uuid'], value: IBlock['label'] }) => void\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LabelEditor.vue?vue&type=template&id=7a9fd554&\"\nimport script from \"./LabelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./LabelEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=50208a5c&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f3f99278\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-editor\"},[(_vm.label)?_c('hr'):_vm._e(),(_vm.label)?_c('h4',[_vm._v(_vm._s(_vm.label))]):_vm._e(),_vm._l((_vm.flow.languages),function(ref){\nvar languageId = ref.id;\nvar language = ref.label;\nreturn [_c('div',{staticClass:\"block-content-editor-lang\"},[_c('h5',{staticClass:\"badge badge-info\"},[_vm._v(_vm._s(_vm._f(\"trans\")(language || 'flow-builder.unknown-language')))])]),_vm._l((_vm.flow.supported_modes),function(mode){return [_c('h6',[_vm._v(_vm._s(_vm._f(\"trans\")((\"flow-builder.\" + (mode.toLowerCase()) + \"-content\"))))]),_vm._l((_vm.discoverContentTypesFor(mode)),function(contentType){return [(contentType === _vm.SupportedContentType.TEXT)?_c('resource-variant-text-editor',{attrs:{\"resource-id\":_vm.resource.uuid,\"resource-variant\":_vm.findOrGenerateStubbedVariantOn(\n                                              _vm.resource,\n                                              {language_id: languageId, content_type: contentType, modes: [mode]}),\"mode\":mode,\"enable-autogen-button\":true || _vm.enableAutogenButton}}):_vm._e(),(contentType === _vm.SupportedContentType.AUDIO)?_c('div',[(!_vm.findAudioResourceVariantFor(_vm.resource, {language_id: languageId, content_type: contentType, modes: [mode]}))?[_c('upload-monitor',{attrs:{\"uploadKey\":((_vm.block.uuid) + \":\" + languageId)}}),_c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link px-2 py-1 active\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.library')))])]),(_vm.can(['edit-content', 'send-call-to-records'], true) && _vm.isFeatureAudioUploadEnabled)?_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link px-2 py-1\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.triggerRecordViaPhoneFor(languageId)}}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.phone-recording')))])]):_vm._e(),(_vm.isEditable)?_c('li',{staticClass:\"nav-item\"},[(_vm.isFeatureAudioUploadEnabled)?_c('a',{directives:[{name:\"flow-uploader\",rawName:\"v-flow-uploader\",value:({\n                    target: _vm.route('trees.resumeableAudioUpload'),\n                    token: (\"\" + (_vm.block.uuid) + languageId),\n                    accept: 'audio/*'}),expression:\"{\\n                    target: route('trees.resumeableAudioUpload'),\\n                    token: `${block.uuid}${languageId}`,\\n                    accept: 'audio/*'}\"}],staticClass:\"nav-link px-2 py-1\",attrs:{\"href\":\"#\"},on:{\"filesSubmitted\":function($event){return _vm.handleFilesSubmittedFor(((_vm.block.uuid) + \":\" + languageId), $event)},\"fileSuccess\":function($event){return _vm.handleFileSuccessFor(((_vm.block.uuid) + \":\" + languageId), languageId, $event)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.upload'))+\" \")]):_vm._e()]):_vm._e()])]:_vm._e(),_c('audio-library-selector',{attrs:{\"audioFiles\":_vm.availableAudio,\"langId\":languageId,\"resourceId\":_vm.resource.uuid,\"selectedAudioFile\":_vm.findOrGenerateStubbedVariantOn(\n                 _vm.resource,\n                 {language_id: languageId, content_type: contentType, modes: [mode]}).value}}),(_vm.can(['edit-content', 'send-call-to-records'], true) && !_vm.findOrGenerateStubbedVariantOn(_vm.resource,{language_id: languageId, content_type: contentType, modes: [mode]}).value)?_c('phone-recorder',{attrs:{\"recordingKey\":((_vm.block.uuid) + \":\" + languageId)}}):_vm._e()],2):_vm._e()]})]})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Flow from '@flowjs/flow.js'\nimport lodash from 'lodash'\nimport Component from 'vue-class-component'\n\nconst dispatch = (el: any, name: string, data: any) => {\n  el.dispatchEvent(lodash.extend(new Event(name, {\n    bubbles: true,\n    cancelable: true,\n  }), { data }))\n}\n\n@Component({\n  directives: {\n    'flow-uploader': {\n      /**\n       * This binding provides a bridge between Flow and vuejs such that we can continue using our resumable backend\n       */\n      bind(el, binding) {\n        const {\n          accept,\n          target,\n          token: upload_token,\n        } = binding.value\n        const uploader = new Flow({\n          target,\n          singleFile: true,\n          chunkSize: 1024 * 512, // kbytes, chunked?  ¯\\_(ツ)_/¯\n          query: { upload_token },\n        })\n\n        if (!uploader.support) {\n          // Your browser doesn't support HTML5 uploads; please try Firefox or Chrome.\n          return\n        }\n\n        lodash.extend(el.style, { overflow: 'hidden' })\n        uploader.assignBrowse(el)\n\n        lodash.chain(el.children)\n          .find({\n            tagName: 'INPUT',\n            type: 'file',\n          } as any)\n          .assign({ accept })\n          .value()\n\n        // todo: migrate to proxied catch-all handler (voto5 legacy todo)\n        // uploader.on('catchAll', (name, file/*or files*/, e) => console.debug(name))\n\n        // todo: when do we call upload on a multiselect-upload and file-added triggered multiple times? (voto5 legacy todo)\n        // uploader.on('fileAdded', (file, e) => dispatch(el, 'filesSubmitted', {file, uploader})) // uploader.upload()\n        uploader.on('filesSubmitted', (files: any, e: any) => dispatch(el, 'filesSubmitted', {\n          files,\n          uploader,\n        })) // uploader.upload()\n        uploader.on('fileProgress', (file: any, e: any) => dispatch(el, 'fileProgress', {\n          file,\n          uploader,\n        }))\n        uploader.on('fileSuccess', (file: any, json: any) => dispatch(el, 'fileSuccess', {\n          file,\n          uploader,\n          json,\n        })) // uploader.cancel()\n        uploader.on('error', (message: string, file: any) => dispatch(el, 'fileSuccess', {\n          file,\n          uploader,\n          message,\n        })) // uploader.cancel()\n      },\n\n      unbind(el, binding) {\n      },\n    },\n  },\n})\nexport default class FlowUploader extends Vue {\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audio-library-selector\"},[(_vm.selectedAudioFile)?_c('audio-library-selection',{attrs:{\"audioFile\":_vm.selectedAudioFile,\"langId\":_vm.langId},on:{\"clear\":_vm.clearSelection}}):[_c('audio-library-search-field',{attrs:{\"langId\":_vm.langId,\"audioFiles\":_vm.audioFiles},on:{\"select\":_vm.selectAudioFile}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audio-library-search-field dropdown\"},[_c('div',{staticClass:\"input-group\"},[_c('span',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary dropdown-toggle\",class:{active: _vm.isEntireLibraryModeEnabled},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleAudioLibrary($event)}}},[_c('i',{staticClass:\"glyphicon glyphicon-search\"})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rawQuery),expression:\"rawQuery\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.search-audio-library'),\"disabled\":_vm.isEntireLibraryModeEnabled},domProps:{\"value\":(_vm.rawQuery)},on:{\"focus\":_vm.activate,\"blur\":_vm.deactivate,\"input\":[function($event){if($event.target.composing){ return; }_vm.rawQuery=$event.target.value},_vm.resetPagination]}})]),(_vm.query || _vm.isAudioLibraryEmpty || _vm.isEntireLibraryModeEnabled)?_c('div',{staticClass:\"dropdown-menu\"},[(_vm.isEntireLibraryModeEnabled)?[_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('button',{staticClass:\"close active\",on:{\"click\":_vm.toggleAudioLibrary}},[_vm._v(\"x\")]),_c('i',{staticClass:\"glyphicon glyphicon-info-sign\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.showing-entire-audio-library'))+\"… \")]),_c('div',{staticClass:\"dropdown-divider\",attrs:{\"role\":\"separator\"}})]:_vm._e(),(!_vm.isAudioLibraryEmpty)?[_vm._l((_vm.search(_vm.query).slice(_vm.offset * _vm.limit, (_vm.offset + 1) * _vm.limit)),function(audio){return _c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.select(audio)}}},[_vm._v(\" \"+_vm._s(audio.description)+\" \")])}),(_vm.query.length >= 3 && !_vm.search(_vm.query).length)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.no-audio-files-found-for-X'))+\" \\\"\"),_c('em',[_vm._v(_vm._s(_vm.query))]),_vm._v(\"\\\". \")]):_vm._e(),(_vm.query && _vm.query.length < 3)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.enter-at-least-three-chars'))+\" \")]):_vm._e(),(_vm.hasPrevious || _vm.hasNext)?[_c('div',{staticClass:\"dropdown-divider\",attrs:{\"role\":\"separator\"}}),_c('div',{staticClass:\"pagers dropdown-item\"},[_c('a',{staticClass:\"col-md-6\",class:{disabled: !_vm.hasPrevious},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.decrementPage($event)}}},[_c('i',{staticClass:\"glyphicon glyphicon-chevron-left\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.previous'))+\" \")]),_c('a',{staticClass:\"col-md-6 text-right\",class:{disabled: !_vm.hasNext},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.incrementPage($event)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.next'))+\" \"),_c('i',{staticClass:\"glyphicon glyphicon-chevron-right\"})])])]:_vm._e()]:_vm._e(),(_vm.isAudioLibraryEmpty)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('i',{staticClass:\"glyphicon glyphicon-warning-sign\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.audio-lib-empty-for-this-org'))+\" \")]):_vm._e()],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"audio-library-search-field dropdown\">\n    <div class=\"input-group\">\n      <span class=\"input-group-prepend\">\n        <button :class=\"{active: isEntireLibraryModeEnabled}\"\n                class=\"btn btn-outline-secondary dropdown-toggle\"\n                @click.prevent=\"toggleAudioLibrary\">\n          <i class=\"glyphicon glyphicon-search\"></i>\n        </button>\n      </span>\n\n      <input v-model=\"rawQuery\"\n             @focus=\"activate\"\n             @blur=\"deactivate\"\n             @input=\"resetPagination\"\n             type=\"text\"\n             :placeholder=\"'flow-builder.search-audio-library' | trans\"\n             :disabled=\"isEntireLibraryModeEnabled\"\n             class=\"form-control\">\n    </div>\n\n    <div v-if=\"query || isAudioLibraryEmpty || isEntireLibraryModeEnabled\" class=\"dropdown-menu\">\n      <template v-if=\"isEntireLibraryModeEnabled\">\n        <a @click.prevent=\"\" href=\"#\" class=\"disabled dropdown-item\">\n          <button @click=\"toggleAudioLibrary\" class=\"close active\">x</button>\n\n          <i class=\"glyphicon glyphicon-info-sign\"></i>\n          {{'flow-builder.showing-entire-audio-library'|trans}}&hellip;\n        </a>\n        <div role=\"separator\" class=\"dropdown-divider\"></div>\n      </template>\n\n      <template v-if=\"!isAudioLibraryEmpty\">\n        <a class=\"dropdown-item\"\n           v-for=\"audio in search(query).slice(offset * limit, (offset + 1) * limit)\"\n           @click.prevent=\"select(audio)\" href=\"#\">\n          {{audio.description}}\n        </a>\n        <a v-if=\"query.length >= 3 && !search(query).length\" class=\"disabled dropdown-item\" @click.prevent=\"\" href=\"#\">\n          {{'flow-builder.no-audio-files-found-for-X' | trans}} \"<em>{{query}}</em>\".\n        </a>\n        <a v-if=\"query && query.length < 3\" class=\"disabled dropdown-item\" @click.prevent=\"\" href=\"#\">\n          {{'flow-builder.enter-at-least-three-chars' | trans}}\n        </a>\n\n        <template v-if=\"hasPrevious || hasNext\">\n          <div role=\"separator\" class=\"dropdown-divider\"></div>\n\n          <div class=\"pagers dropdown-item\">\n            <a @click.prevent=\"decrementPage\" href=\"#\" :class=\"{disabled: !hasPrevious}\" class=\"col-md-6\">\n              <i class=\"glyphicon glyphicon-chevron-left\"></i>\n              {{'flow-builder.previous' | trans}}\n            </a>\n\n            <a @click.prevent=\"incrementPage\" href=\"#\" :class=\"{disabled: !hasNext}\" class=\"col-md-6 text-right\">\n              {{'flow-builder.next' | trans}}\n              <i class=\"glyphicon glyphicon-chevron-right\"></i>\n            </a>\n          </div>\n        </template>\n      </template>\n\n      <a v-if=\"isAudioLibraryEmpty\" class=\"disabled dropdown-item\" @click.prevent=\"\" href=\"#\">\n        <i class=\"glyphicon glyphicon-warning-sign\"></i>\n        {{'flow-builder.audio-lib-empty-for-this-org' | trans}}\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport fuse from 'fuse.js'\nimport lodash from 'lodash'\nimport VueFocus from 'vue-focus'\nimport { lang } from '@/lib/filters/lang'\n\nexport default {\n  props: ['langId', 'audioFiles'],\n  mixins: [VueFocus.mixin, lang],\n\n  data() {\n    return {\n      isActive: false,\n\n      // querying\n      rawQuery: '',\n      cache: {},\n      isEntireLibraryModeEnabled: false,\n\n      // pagination\n      offset: 0,\n      limit: 10,\n    }\n  },\n\n  computed: {\n    query() {\n      return lodash.trim(this.rawQuery)\n    },\n\n    isAudioLibraryEmpty() {\n      return this.isActive && !this.audioFiles.length\n    },\n\n    hasNext() {\n      return (this.search(this.query).length / (this.offset + 1)) > this.limit\n    },\n\n    hasPrevious() {\n      return this.offset > 0\n    },\n  },\n\n  methods: {\n    search(query) {\n\t\t\t  if (this.isEntireLibraryModeEnabled) {\n\t\t\t    return this.audioFiles\n      }\n\n      if (query.length < 3) {\n        return []\n      }\n\n      console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'searching', query)\n\n      if (query in this.cache) {\n        console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'cache hit', query)\n        return this.cache[query]\n      }\n\n      console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'cache miss', query)\n\n      const keys = ['filename', 'description']\n      return this.cache[query] = new fuse(this.audioFiles, { keys }).search(query)\n    },\n\n    // todo: push pagination into isolated component\n    incrementPage() {\n      this.hasNext && (this.offset += 1)\n    },\n\n    decrementPage() {\n      this.hasPrevious && (this.offset -= 1)\n    },\n\n    resetPagination() {\n\t\t\t  this.offset = 0\n    },\n\n    toggleAudioLibrary() {\n      this.isEntireLibraryModeEnabled = !this.isEntireLibraryModeEnabled\n      this.resetPagination()\n    },\n\n    select(audio) {\n      this.$emit('select', { value: audio, langId: this.langId })\n    },\n\n    activate() {\n      this.isActive = true\n    },\n\n    deactivate() {\n      this.isActive = false\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .audio-library-search-field {\n    &.dropdown {\n      .dropdown-menu {\n        display: block;\n        min-width: 100%;\n\n        > li.pagers > a {\n          clear: none;\n          margin-top: 0;\n          margin-bottom: 0;\n          padding-top: 0.5em;\n          padding-bottom: 0.5em;\n\n          &.disabled {\n            text-decoration: none;\n            background-color: transparent;\n            background-image: none;\n            filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n            cursor: not-allowed;\n            color: #777777;\n          }\n        }\n      }\n    }\n  }\n\n  .close {\n    pointer-events: auto;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySearchField.vue?vue&type=template&id=50208a5c&scoped=true&\"\nimport script from \"./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AudioLibrarySearchField.vue?vue&type=style&index=0&id=50208a5c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50208a5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"well well-sm audio-library-selection\",class:{\n           'tree-audio-control-text-container-selectable': _vm.selectable,\n           'tree-audio-control-text-container-selected': !_vm.selectable},attrs:{\"data-audio-file-container-language\":_vm.langId}},[_c('button',{staticClass:\"audio-library-selection-clear-selection btn-ghost pull-right\",on:{\"click\":function($event){$event.preventDefault();return _vm.clear($event)}}},[_c('i',{staticClass:\"glyphicon glyphicon-remove\"})]),_c('div',{staticClass:\"btn-group audio-library-selection-download-dropdown\"},[_vm._m(0),_c('ul',{staticClass:\"dropdown-menu dropdown-menu-right\"},[_c('li',[_c('a',{staticClass:\"tree-block-audio-files-download-original\",attrs:{\"href\":_vm.audioFileUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.original-file')))])])])]),_c('p',{staticClass:\"audio-file-description\",attrs:{\"title\":_vm.audioFileUrl}},[_vm._v(\" \"+_vm._s(_vm.audioFileUrl)+\" \")]),_c('div',{staticClass:\"btn-toolbar\"},[(_vm.selectable)?_c('button',{staticClass:\"btn btn-secondary btn-xs\",on:{\"click\":function($event){$event.preventDefault();return _vm.select($event)}}},[_c('i',{staticClass:\"glyphicon glyphicon-ok\"})]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-ghost dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"glyphicon glyphicon-download-alt\",attrs:{\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"caret\"})])}]\n\nexport { render, staticRenderFns }","import moment from 'moment'\n\nexport default {\n  filters: {\n    formatDate(date, format = 'llll') {\n      if (!date) {\n        return ''\n      }\n      return moment.utc(date).format(format)\n    },\n\n    fromNow(date, withoutSuffix) {\n      return moment.utc(date).fromNow(withoutSuffix)\n    },\n\n    formatDuration(duration, unit = 'seconds', withSuffix) {\n      const currentLocale = moment.locale()\n      moment.locale('en') // this function only gets used in english.\n      const result = moment.duration(duration, unit).humanize(withSuffix)\n      moment.locale(currentLocale)\n      return result\n    },\n\n    formatDurationLocalized(duration, locale, unit = 'seconds', withSuffix) {\n      const currentLocale = moment.locale()\n      moment.locale(locale)\n      const result = moment.duration(duration, unit).humanize(withSuffix)\n      moment.locale(currentLocale)\n      return result\n    },\n  },\n}\n","<template>\n  <div  class=\"well well-sm audio-library-selection\"\n       :data-audio-file-container-language=\"langId\"\n       :class=\"{\n           'tree-audio-control-text-container-selectable': selectable,\n           'tree-audio-control-text-container-selected': !selectable}\">\n\n    <button @click.prevent=\"clear\" class=\"audio-library-selection-clear-selection btn-ghost pull-right\">\n      <i class=\"glyphicon glyphicon-remove\"></i>\n    </button>\n\n    <div class=\"btn-group audio-library-selection-download-dropdown\">\n      <button type=\"button\" class=\"btn btn-ghost dropdown-toggle\" data-toggle=\"dropdown\">\n        <span class=\"glyphicon glyphicon-download-alt\" aria-hidden=\"true\"></span>\n        <span class=\"caret\"></span>\n      </button>\n\n      <ul class=\"dropdown-menu dropdown-menu-right\">\n        <li><a :href=\"audioFileUrl\" target=\"_blank\" class=\"tree-block-audio-files-download-original\">{{'flow-builder.original-file'|trans}}</a></li>\n\n        <!-- <li><a :href=\"`/audiofiles/download/${audioFile.filename}/ogg`\" target=\"_blank\" class=\"tree-block-audio-files-download-ogg\">{{'flow-builder.download-X-format'|trans({kind: '.ogg'})}}</a></li>\n        <li><a :href=\"`/audiofiles/download/${audioFile.filename}/ul`\" target=\"_blank\" class=\"tree-block-audio-files-download-ul\">{{'flow-builder.download-X-format'|trans({kind: '.ul'})}}</a></li> -->\n      </ul>\n    </div>\n\n    <p class=\"audio-file-description\" :title=\"audioFileUrl\">\n      {{audioFileUrl}}\n    </p>\n\n    <div class=\"btn-toolbar\">\n<!--      <vue-audio :file=\"audioFileUrl\"></vue-audio>-->\n\n      <button v-if=\"selectable\"\n              @click.prevent=\"select\"\n              class=\"btn btn-secondary btn-xs\">\n        <i class=\"glyphicon glyphicon-ok\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { lang } from '@/lib/filters/lang'\nimport momentFilters from '@/lib/filters/moment'\n\nexport default {\n  props: ['audioFile', 'selected', 'selectable', 'langId'],\n\n  mixins: [lang, momentFilters],\n\n  computed: {\n    audioFileUrl() {\n      return this.audioFile\n    },\n  },\n\n  methods: {\n    select() {\n      this.$emit('select')\n    },\n\n    clear() {\n      this.$emit('clear')\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .btn-ghost {\n    background: transparent;\n    border: none;\n  }\n\n  .audio-library-selection {\n    position: relative;\n    background-color: transparent !important;\n    background-image: none !important;\n    border-color: #cccccc !important;\n\n    .audio-library-selection-download-dropdown {\n      position: absolute;\n      right: 1.6em;\n      top: 50%;\n      margin-top: -8px;\n      color: #888888;\n\n      svg {\n        vertical-align: middle;\n      }\n    }\n\n    .audio-library-selection-clear-selection {\n      margin-right: -7px;\n    }\n\n    .audio-file-description {\n      text-overflow: ellipsis;\n      overflow: hidden;\n      margin-bottom: 3px;\n    }\n\n    .vue-sound-wrapper {\n      margin-bottom: 8px;\n      margin-left: 1em;\n\n      .vue-sound__player {\n        .icon-play3, .icon-pause2 {\n          font-size:130%;\n          color: #888888;\n        }\n\n        .icon-play3:hover, .icon-pause2:hover {\n          color: black;\n          text-decoration: none;\n        }\n\n        .icon-stop2, .icon-download, .icon-volume-high, .volume-toggle {\n          display: none !important;\n        }\n\n        .vue-sound__playback-time-current, .vue-sound__playback-time-total, .vue-sound__playback-time-separator {\n          font-size: 80%;\n          color: #888888;\n        }\n\n        .vue-sound__playback-time-wrapper {\n          text-align: center;\n          width: 71% !important;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySelection.vue?vue&type=template&id=9e9421ca&\"\nimport script from \"./AudioLibrarySelection.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySelection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"audio-library-selector\">\n    <audio-library-selection v-if=\"selectedAudioFile\"\n                             :audioFile=\"selectedAudioFile\"\n                             :langId=\"langId\"\n                             @clear=\"clearSelection\" />\n\n    <template v-else>\n      <!-- todo: refactor audio-library-selection to use v-model's @input + :value -->\n      <!-- <audio-library-selection\n          v-for=\"audioFile in alternateSelections\"\n          :key=\"audioFile && audioFile.id\"\n          :audioFile=\"audioFile\"\n          :selectable=\"selectable\"\n          @select=\"selectAudioFile({value: audioFile, langId})\" /> -->\n\n      <!-- todo: refactor audio-library-search-field to use v-model's @input + :value -->\n      <audio-library-search-field\n          :langId=\"langId\"\n          :audioFiles=\"audioFiles\"\n          @select=\"selectAudioFile\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport lodash from 'lodash'\nimport { mapActions } from 'vuex'\nimport {\n  SupportedContentType,\n  SupportedMode,\n} from '@floip/flow-runner'\nimport AudioLibrarySearchField from './AudioLibrarySearchField'\nimport AudioLibrarySelection from './AudioLibrarySelection'\n\nexport default {\n  props: [\n    'alternateSelections',\n    'selectedAudioFile',\n    'langId',\n    'audioFiles',\n    'isPlaying',\n    'audioPlayerUrl',\n    'resourceId',\n  ],\n\n  components: {\n    AudioLibrarySearchField,\n    AudioLibrarySelection,\n  },\n\n  computed: {\n    selectable() {\n      return !lodash.isEmpty(this.alternateSelections)\n    },\n  },\n\n  methods: {\n    ...mapActions('flow', ['resource_setOrCreateValueModeSpecific']),\n    clearSelection() {\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resourceId,\n        filter: { language_id: this.langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR] },\n        value: '',\n      })\n    },\n    selectAudioFile({ value, langId }) {\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resourceId,\n        filter: { language_id: langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR] },\n        value: value.description,\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySelector.vue?vue&type=template&id=aed8bb4c&\"\nimport script from \"./AudioLibrarySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isFeatureCallToRecordEnabled)?_c('div',{staticClass:\"phone-recorder\"},[_c('phone-recording-recorder-selector',{attrs:{\"isModalVisible\":_vm.isRecorderSelectorVisible},on:{\"input\":_vm.handleRecorderSelectionChanged},model:{value:(_vm.callConfig),callback:function ($$v) {_vm.callConfig=$$v},expression:\"callConfig\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{staticClass:\"phone-recording-recorder-selector\",attrs:{\"size\":\"lg\",\"no-close-on-backdrop\":\"\",\"no-close-on-esc\":\"\",\"title\":_vm._f(\"trans\")('flow-builder.select-a-caller-from-the-list-below'),\"visible\":_vm.isModalVisible,\"ok-title\":_vm._f(\"trans\")('flow-builder.call-this-phone-number'),\"cancel-title\":_vm._f(\"trans\")('flow-builder.close')},on:{\"ok\":_vm.handleModalClosed,\"cancel\":_vm.handleModalCancelled,\"close\":_vm.handleModalCancelled}},[_c('div',{staticClass:\"call-to-record-modal-table-container\"},[_c('table',{staticClass:\"table table-striped\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"recorder-selector-field\"}),_c('th',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.name')))]),_c('th',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.phone-number')))])])]),_c('tbody',{attrs:{\"id\":\"call-to-record-modal-list\"}},_vm._l((_vm.recorders),function(recorder){return _c('tr',{staticClass:\"call-to-record-item\"},[_c('td',{staticClass:\"recorder-selector-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRecorder),expression:\"selectedRecorder\"}],attrs:{\"type\":\"radio\",\"x-name\":\"calltorecord_caller_select\",\"id\":(\"call-to-record-caller-\" + (recorder.id))},domProps:{\"value\":recorder,\"checked\":_vm._q(_vm.selectedRecorder,recorder)},on:{\"change\":function($event){_vm.selectedRecorder=recorder}}})]),_c('td',[_c('label',{attrs:{\"for\":(\"call-to-record-caller-\" + (recorder.id))},on:{\"click\":function($event){return _vm.setSelectedRecorder(recorder)}}},[_vm._v(_vm._s(recorder.name))])]),_c('td',[_c('label',{attrs:{\"for\":(\"call-to-record-caller-\" + (recorder.id))},on:{\"click\":function($event){return _vm.setSelectedRecorder(recorder)}}},[_vm._v(_vm._s(recorder.phone))])])])}),0)]),_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.add-a-description-to-this-recording')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"rows\":\"2\",\"placeholder\":_vm._f(\"trans\")('flow-builder.optional-description')},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}}),_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.add-a-new-recorder')))]),_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',{staticClass:\"recorder-selector-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRecorder),expression:\"selectedRecorder\"}],attrs:{\"type\":\"radio\",\"name\":\"calltorecord_caller_select\",\"id\":\"new_recorder_radio\"},domProps:{\"value\":_vm.draft,\"checked\":_vm._q(_vm.selectedRecorder,_vm.draft)},on:{\"change\":function($event){_vm.selectedRecorder=_vm.draft}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.draft.name),expression:\"draft.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.name')},domProps:{\"value\":(_vm.draft.name)},on:{\"click\":_vm.selectNewRecorder,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.draft, \"name\", $event.target.value)}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.draft.phone),expression:\"draft.phone\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.phone-number')},domProps:{\"value\":(_vm.draft.phone)},on:{\"click\":_vm.selectNewRecorder,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.draft, \"phone\", $event.target.value)}}})])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export var CODE_BACKSPACE = 8;\nexport var CODE_BREAK = 19;\nexport var CODE_DELETE = 46;\nexport var CODE_DOWN = 40;\nexport var CODE_END = 35;\nexport var CODE_ENTER = 13;\nexport var CODE_ESC = 27;\nexport var CODE_HOME = 36;\nexport var CODE_LEFT = 37;\nexport var CODE_PAGEDOWN = 34;\nexport var CODE_PAGEUP = 33;\nexport var CODE_RIGHT = 39;\nexport var CODE_SPACE = 32;\nexport var CODE_UP = 38;","import { RX_HTML_TAGS } from '../constants/regex'; // Removes anything that looks like an HTML tag from the supplied string\n\nexport var stripTags = function stripTags() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return String(text).replace(RX_HTML_TAGS, '');\n}; // Generate a `domProps` object for either `innerHTML`, `textContent` or an empty object\n\nexport var htmlOrText = function htmlOrText(innerHTML, textContent) {\n  return innerHTML ? {\n    innerHTML: innerHTML\n  } : textContent ? {\n    textContent: textContent\n  } : {};\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { MutationObs, isElement } from './dom';\nimport { warnNoMutationObserverSupport } from './warn';\n/**\n * Observe a DOM element changes, falls back to eventListener mode\n * @param {Element} el The DOM element to observe\n * @param {Function} callback callback to be called on change\n * @param {object} [options={childList: true, subtree: true}] observe options\n * @see https://stackoverflow.com/questions/3219758\n */\n\nexport var observeDom = function observeDom(el, callback, options)\n/* istanbul ignore next: difficult to test in JSDOM */\n{\n  // Handle cases where we might be passed a Vue instance\n  el = el ? el.$el || el : null; // Early exit when we have no element\n\n  /* istanbul ignore next: difficult to test in JSDOM */\n\n  if (!isElement(el)) {\n    return null;\n  } // Exit and throw a warning when `MutationObserver` isn't available\n\n\n  if (warnNoMutationObserverSupport('observeDom')) {\n    return null;\n  } // Define a new observer\n\n\n  var obs = new MutationObs(function (mutations) {\n    var changed = false; // A mutation can contain several change records, so we loop\n    // through them to see what has changed\n    // We break out of the loop early if any \"significant\" change\n    // has been detected\n\n    for (var i = 0; i < mutations.length && !changed; i++) {\n      // The mutation record\n      var mutation = mutations[i]; // Mutation type\n\n      var type = mutation.type; // DOM node (could be any DOM node type - HTMLElement, Text, comment, etc.)\n\n      var target = mutation.target; // Detect whether a change happened based on type and target\n\n      if (type === 'characterData' && target.nodeType === Node.TEXT_NODE) {\n        // We ignore nodes that are not TEXT (i.e. comments, etc.)\n        // as they don't change layout\n        changed = true;\n      } else if (type === 'attributes') {\n        changed = true;\n      } else if (type === 'childList' && (mutation.addedNodes.length > 0 || mutation.removedNodes.length > 0)) {\n        // This includes HTMLElement and text nodes being\n        // added/removed/re-arranged\n        changed = true;\n      }\n    } // We only call the callback if a change that could affect\n    // layout/size truly happened\n\n\n    if (changed) {\n      callback();\n    }\n  }); // Have the observer observe foo for changes in children, etc\n\n  obs.observe(el, _objectSpread({\n    childList: true,\n    subtree: true\n  }, options)); // We return a reference to the observer so that `obs.disconnect()`\n  // can be called if necessary\n  // To reduce overhead when the root element is hidden\n\n  return obs;\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { cloneDeep } from './clone-deep';\nimport { looseEqual } from './loose-equal';\nimport { hasOwnProperty, keys } from './object';\n\nvar isEmpty = function isEmpty(value) {\n  return !value || keys(value).length === 0;\n};\n\nexport var makePropWatcher = function makePropWatcher(propName) {\n  return {\n    handler: function handler(newValue, oldValue) {\n      if (looseEqual(newValue, oldValue)) {\n        return;\n      }\n\n      if (isEmpty(newValue) || isEmpty(oldValue)) {\n        this[propName] = cloneDeep(newValue);\n        return;\n      }\n\n      for (var key in oldValue) {\n        if (!hasOwnProperty(newValue, key)) {\n          this.$delete(this.$data[propName], key);\n        }\n      }\n\n      for (var _key in newValue) {\n        this.$set(this.$data[propName], _key, newValue[_key]);\n      }\n    }\n  };\n};\nexport var makePropCacheMixin = function makePropCacheMixin(propName, proxyPropName) {\n  return Vue.extend({\n    data: function data() {\n      return _defineProperty({}, proxyPropName, cloneDeep(this[propName]));\n    },\n    watch: _defineProperty({}, propName, makePropWatcher(proxyPropName))\n  });\n};","import { makePropCacheMixin } from '../utils/cache';\nexport var attrsMixin = makePropCacheMixin('$attrs', 'bvAttrs');","// SSR safe client-side ID attribute generation\n// ID's can only be generated client-side, after mount\n// `this._uid` is not synched between server and client\nimport { COMPONENT_UID_KEY, Vue } from '../vue';\nimport { PROP_TYPE_STRING } from '../constants/props';\nimport { makeProp } from '../utils/props'; // --- Props ---\n\nexport var props = {\n  id: makeProp(PROP_TYPE_STRING)\n}; // --- Mixin ---\n// @vue/component\n\nexport var idMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      localId_: null\n    };\n  },\n  computed: {\n    safeId: function safeId() {\n      // Computed property that returns a dynamic function for creating the ID\n      // Reacts to changes in both `.id` and `.localId_` and regenerates a new function\n      var id = this.id || this.localId_; // We return a function that accepts an optional suffix string\n      // So this computed prop looks and works like a method\n      // but benefits from Vue's computed prop caching\n\n      var fn = function fn(suffix) {\n        if (!id) {\n          return null;\n        }\n\n        suffix = String(suffix || '').replace(/\\s+/g, '_');\n        return suffix ? id + '_' + suffix : id;\n      };\n\n      return fn;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // `mounted()` only occurs client-side\n    this.$nextTick(function () {\n      // Update DOM with auto-generated ID after mount\n      // to prevent SSR hydration errors\n      _this.localId_ = \"__BVID__\".concat(_this[COMPONENT_UID_KEY]);\n    });\n  }\n});","import { Vue } from '../vue';\nimport { IS_BROWSER } from '../constants/env';\nimport { EVENT_OPTIONS_NO_CAPTURE, HOOK_EVENT_NAME_BEFORE_DESTROY } from '../constants/events';\nimport { arrayIncludes } from '../utils/array';\nimport { eventOn, eventOff } from '../utils/events';\nimport { isString, isFunction } from '../utils/inspect';\nimport { keys } from '../utils/object'; // --- Constants ---\n\nvar PROP = '$_bv_documentHandlers_'; // --- Mixin ---\n// @vue/component\n\nexport var listenOnDocumentMixin = Vue.extend({\n  created: function created() {\n    var _this = this;\n\n    /* istanbul ignore next */\n    if (!IS_BROWSER) {\n      return;\n    } // Declare non-reactive property\n    // Object of arrays, keyed by event name,\n    // where value is an array of handlers\n    // Prop will be defined on client only\n\n\n    this[PROP] = {}; // Set up our beforeDestroy handler (client only)\n\n    this.$once(HOOK_EVENT_NAME_BEFORE_DESTROY, function () {\n      var items = _this[PROP] || {}; // Immediately delete this[PROP] to prevent the\n      // listenOn/Off methods from running (which may occur\n      // due to requestAnimationFrame/transition delays)\n\n      delete _this[PROP]; // Remove all registered event handlers\n\n      keys(items).forEach(function (eventName) {\n        var handlers = items[eventName] || [];\n        handlers.forEach(function (handler) {\n          return eventOff(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        });\n      });\n    });\n  },\n  methods: {\n    listenDocument: function listenDocument(on, eventName, handler) {\n      on ? this.listenOnDocument(eventName, handler) : this.listenOffDocument(eventName, handler);\n    },\n    listenOnDocument: function listenOnDocument(eventName, handler) {\n      if (this[PROP] && isString(eventName) && isFunction(handler)) {\n        this[PROP][eventName] = this[PROP][eventName] || [];\n\n        if (!arrayIncludes(this[PROP][eventName], handler)) {\n          this[PROP][eventName].push(handler);\n          eventOn(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        }\n      }\n    },\n    listenOffDocument: function listenOffDocument(eventName, handler) {\n      if (this[PROP] && isString(eventName) && isFunction(handler)) {\n        eventOff(document, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        this[PROP][eventName] = (this[PROP][eventName] || []).filter(function (h) {\n          return h !== handler;\n        });\n      }\n    }\n  }\n});","import { Vue } from '../vue';\nimport { IS_BROWSER } from '../constants/env';\nimport { EVENT_OPTIONS_NO_CAPTURE } from '../constants/events';\nimport { arrayIncludes } from '../utils/array';\nimport { eventOn, eventOff } from '../utils/events';\nimport { isString, isFunction } from '../utils/inspect';\nimport { keys } from '../utils/object'; // --- Constants ---\n\nvar PROP = '$_bv_windowHandlers_'; // --- Mixin ---\n// @vue/component\n\nexport var listenOnWindowMixin = Vue.extend({\n  beforeCreate: function beforeCreate() {\n    // Declare non-reactive property\n    // Object of arrays, keyed by event name,\n    // where value is an array of handlers\n    this[PROP] = {};\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (IS_BROWSER) {\n      var items = this[PROP]; // Immediately delete this[PROP] to prevent the\n      // listenOn/Off methods from running (which may occur\n      // due to requestAnimationFrame delays)\n\n      delete this[PROP]; // Remove all registered event handlers\n\n      keys(items).forEach(function (eventName) {\n        var handlers = items[eventName] || [];\n        handlers.forEach(function (handler) {\n          return eventOff(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        });\n      });\n    }\n  },\n  methods: {\n    listenWindow: function listenWindow(on, eventName, handler) {\n      on ? this.listenOnWindow(eventName, handler) : this.listenOffWindow(eventName, handler);\n    },\n    listenOnWindow: function listenOnWindow(eventName, handler) {\n      if (IS_BROWSER && this[PROP] && isString(eventName) && isFunction(handler)) {\n        this[PROP][eventName] = this[PROP][eventName] || [];\n\n        if (!arrayIncludes(this[PROP][eventName], handler)) {\n          this[PROP][eventName].push(handler);\n          eventOn(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        }\n      }\n    },\n    listenOffWindow: function listenOffWindow(eventName, handler) {\n      if (IS_BROWSER && this[PROP] && isString(eventName) && isFunction(handler)) {\n        eventOff(window, eventName, handler, EVENT_OPTIONS_NO_CAPTURE);\n        this[PROP][eventName] = (this[PROP][eventName] || []).filter(function (h) {\n          return h !== handler;\n        });\n      }\n    }\n  }\n});","import { RX_ENCODED_COMMA, RX_ENCODE_REVERSE, RX_PLUS, RX_QUERY_START } from '../constants/regex';\nimport { isTag } from './dom';\nimport { isArray, isNull, isPlainObject, isString, isUndefined } from './inspect';\nimport { keys } from './object';\nimport { toString } from './string';\nvar ANCHOR_TAG = 'a'; // Method to replace reserved chars\n\nvar encodeReserveReplacer = function encodeReserveReplacer(c) {\n  return '%' + c.charCodeAt(0).toString(16);\n}; // Fixed encodeURIComponent which is more conformant to RFC3986:\n// - escapes [!'()*]\n// - preserve commas\n\n\nvar encode = function encode(str) {\n  return encodeURIComponent(toString(str)).replace(RX_ENCODE_REVERSE, encodeReserveReplacer).replace(RX_ENCODED_COMMA, ',');\n};\n\nvar decode = decodeURIComponent; // Stringifies an object of query parameters\n// See: https://github.com/vuejs/vue-router/blob/dev/src/util/query.js\n\nexport var stringifyQueryObj = function stringifyQueryObj(obj) {\n  if (!isPlainObject(obj)) {\n    return '';\n  }\n\n  var query = keys(obj).map(function (key) {\n    var value = obj[key];\n\n    if (isUndefined(value)) {\n      return '';\n    } else if (isNull(value)) {\n      return encode(key);\n    } else if (isArray(value)) {\n      return value.reduce(function (results, value2) {\n        if (isNull(value2)) {\n          results.push(encode(key));\n        } else if (!isUndefined(value2)) {\n          // Faster than string interpolation\n          results.push(encode(key) + '=' + encode(value2));\n        }\n\n        return results;\n      }, []).join('&');\n    } // Faster than string interpolation\n\n\n    return encode(key) + '=' + encode(value);\n  })\n  /* must check for length, as we only want to filter empty strings, not things that look falsey! */\n  .filter(function (x) {\n    return x.length > 0;\n  }).join('&');\n  return query ? \"?\".concat(query) : '';\n};\nexport var parseQuery = function parseQuery(query) {\n  var parsed = {};\n  query = toString(query).trim().replace(RX_QUERY_START, '');\n\n  if (!query) {\n    return parsed;\n  }\n\n  query.split('&').forEach(function (param) {\n    var parts = param.replace(RX_PLUS, ' ').split('=');\n    var key = decode(parts.shift());\n    var value = parts.length > 0 ? decode(parts.join('=')) : null;\n\n    if (isUndefined(parsed[key])) {\n      parsed[key] = value;\n    } else if (isArray(parsed[key])) {\n      parsed[key].push(value);\n    } else {\n      parsed[key] = [parsed[key], value];\n    }\n  });\n  return parsed;\n};\nexport var isLink = function isLink(props) {\n  return !!(props.href || props.to);\n};\nexport var isRouterLink = function isRouterLink(tag) {\n  return !!(tag && !isTag(tag, 'a'));\n};\nexport var computeTag = function computeTag(_ref, thisOrParent) {\n  var to = _ref.to,\n      disabled = _ref.disabled,\n      routerComponentName = _ref.routerComponentName;\n  var hasRouter = !!thisOrParent.$router;\n\n  if (!hasRouter || hasRouter && (disabled || !to)) {\n    return ANCHOR_TAG;\n  } // TODO:\n  //   Check registered components for existence of user supplied router link component name\n  //   We would need to check PascalCase, kebab-case, and camelCase versions of name:\n  //   const name = routerComponentName\n  //   const names = [name, PascalCase(name), KebabCase(name), CamelCase(name)]\n  //   exists = names.some(name => !!thisOrParent.$options.components[name])\n  //   And may want to cache the result for performance or we just let the render fail\n  //   if the component is not registered\n\n\n  return routerComponentName || (thisOrParent.$nuxt ? 'nuxt-link' : 'router-link');\n};\nexport var computeRel = function computeRel() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      target = _ref2.target,\n      rel = _ref2.rel;\n\n  return target === '_blank' && isNull(rel) ? 'noopener' : rel || null;\n};\nexport var computeHref = function computeHref() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      href = _ref3.href,\n      to = _ref3.to;\n\n  var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ANCHOR_TAG;\n  var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '#';\n  var toFallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '/';\n\n  // Return `href` when explicitly provided\n  if (href) {\n    return href;\n  } // We've checked for `$router` in `computeTag()`, so `isRouterLink()` indicates a live router\n  // When deferring to Vue Router's `<router-link>`, don't use the `href` attribute at all\n  // We return `null`, and then remove `href` from the attributes passed to `<router-link>`\n\n\n  if (isRouterLink(tag)) {\n    return null;\n  } // Fallback to `to` prop (if `to` is a string)\n\n\n  if (isString(to)) {\n    return to || toFallback;\n  } // Fallback to `to.path' + `to.query` + `to.hash` prop (if `to` is an object)\n\n\n  if (isPlainObject(to) && (to.path || to.query || to.hash)) {\n    var path = toString(to.path);\n    var query = stringifyQueryObj(to.query);\n    var hash = toString(to.hash);\n    hash = !hash || hash.charAt(0) === '#' ? hash : \"#\".concat(hash);\n    return \"\".concat(path).concat(query).concat(hash) || toFallback;\n  } // If nothing is provided return the fallback\n\n\n  return fallback;\n};","import { makePropCacheMixin } from '../utils/cache';\nexport var listenersMixin = makePropCacheMixin('$listeners', 'bvListeners');","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_LINK } from '../../constants/components';\nimport { EVENT_NAME_CLICK } from '../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { concat } from '../../utils/array';\nimport { attemptBlur, attemptFocus, isTag } from '../../utils/dom';\nimport { getRootEventName, stopEvent } from '../../utils/events';\nimport { isBoolean, isEvent, isFunction, isUndefined } from '../../utils/inspect';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { computeHref, computeRel, computeTag, isRouterLink as _isRouterLink } from '../../utils/router';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Constants ---\n\nvar ROOT_EVENT_NAME_CLICKED = getRootEventName(NAME_LINK, 'clicked'); // --- Props ---\n// `<router-link>` specific props\n\nexport var routerLinkProps = {\n  activeClass: makeProp(PROP_TYPE_STRING),\n  append: makeProp(PROP_TYPE_BOOLEAN, false),\n  event: makeProp(PROP_TYPE_ARRAY_STRING, EVENT_NAME_CLICK),\n  exact: makeProp(PROP_TYPE_BOOLEAN, false),\n  exactActiveClass: makeProp(PROP_TYPE_STRING),\n  replace: makeProp(PROP_TYPE_BOOLEAN, false),\n  routerTag: makeProp(PROP_TYPE_STRING, 'a'),\n  to: makeProp(PROP_TYPE_OBJECT_STRING)\n}; // `<nuxt-link>` specific props\n\nexport var nuxtLinkProps = {\n  noPrefetch: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Must be `null` to fall back to the value defined in the\n  // `nuxt.config.js` configuration file for `router.prefetchLinks`\n  // We convert `null` to `undefined`, so that Nuxt.js will use the\n  // compiled default\n  // Vue treats `undefined` as default of `false` for Boolean props,\n  // so we must set it as `null` here to be a true tri-state prop\n  prefetch: makeProp(PROP_TYPE_BOOLEAN, null)\n}; // All `<b-link>` props\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, nuxtLinkProps), routerLinkProps), {}, {\n  active: makeProp(PROP_TYPE_BOOLEAN, false),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  href: makeProp(PROP_TYPE_STRING),\n  // Must be `null` if no value provided\n  rel: makeProp(PROP_TYPE_STRING, null),\n  // To support 3rd party router links based on `<router-link>` (i.e. `g-link` for Gridsome)\n  // Default is to auto choose between `<router-link>` and `<nuxt-link>`\n  // Gridsome doesn't provide a mechanism to auto detect and has caveats\n  // such as not supporting FQDN URLs or hash only URLs\n  routerComponentName: makeProp(PROP_TYPE_STRING),\n  target: makeProp(PROP_TYPE_STRING, '_self')\n})), NAME_LINK); // --- Main component ---\n// @vue/component\n\nexport var BLink = /*#__PURE__*/Vue.extend({\n  name: NAME_LINK,\n  // Mixin order is important!\n  mixins: [attrsMixin, listenersMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    computedTag: function computedTag() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var to = this.to,\n          disabled = this.disabled,\n          routerComponentName = this.routerComponentName;\n      return computeTag({\n        to: to,\n        disabled: disabled,\n        routerComponentName: routerComponentName\n      }, this);\n    },\n    isRouterLink: function isRouterLink() {\n      return _isRouterLink(this.computedTag);\n    },\n    computedRel: function computedRel() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var target = this.target,\n          rel = this.rel;\n      return computeRel({\n        target: target,\n        rel: rel\n      });\n    },\n    computedHref: function computedHref() {\n      // We don't pass `this` as the first arg as we need reactivity of the props\n      var to = this.to,\n          href = this.href;\n      return computeHref({\n        to: to,\n        href: href\n      }, this.computedTag);\n    },\n    computedProps: function computedProps() {\n      var prefetch = this.prefetch;\n      return this.isRouterLink ? _objectSpread(_objectSpread({}, pluckProps(_objectSpread(_objectSpread({}, routerLinkProps), nuxtLinkProps), this)), {}, {\n        // Coerce `prefetch` value `null` to be `undefined`\n        prefetch: isBoolean(prefetch) ? prefetch : undefined,\n        // Pass `router-tag` as `tag` prop\n        tag: this.routerTag\n      }) : {};\n    },\n    computedAttrs: function computedAttrs() {\n      var bvAttrs = this.bvAttrs,\n          href = this.computedHref,\n          rel = this.computedRel,\n          disabled = this.disabled,\n          target = this.target,\n          routerTag = this.routerTag,\n          isRouterLink = this.isRouterLink;\n      return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, bvAttrs), href ? {\n        href: href\n      } : {}), isRouterLink && !isTag(routerTag, 'a') ? {} : {\n        rel: rel,\n        target: target\n      }), {}, {\n        tabindex: disabled ? '-1' : isUndefined(bvAttrs.tabindex) ? null : bvAttrs.tabindex,\n        'aria-disabled': disabled ? 'true' : null\n      });\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        // We want to overwrite any click handler since our callback\n        // will invoke the user supplied handler(s) if `!this.disabled`\n        click: this.onClick\n      });\n    }\n  },\n  methods: {\n    onClick: function onClick(event) {\n      var _arguments = arguments;\n      var eventIsEvent = isEvent(event);\n      var isRouterLink = this.isRouterLink;\n      var suppliedHandler = this.bvListeners.click;\n\n      if (eventIsEvent && this.disabled) {\n        // Stop event from bubbling up\n        // Kill the event loop attached to this specific `EventTarget`\n        // Needed to prevent `vue-router` for doing its thing\n        stopEvent(event, {\n          immediatePropagation: true\n        });\n      } else {\n        /* istanbul ignore next: difficult to test, but we know it works */\n        if (isRouterLink && event.currentTarget.__vue__) {\n          // Router links do not emit instance `click` events, so we\n          // add in an `$emit('click', event)` on its Vue instance\n          event.currentTarget.__vue__.$emit(EVENT_NAME_CLICK, event);\n        } // Call the suppliedHandler(s), if any provided\n\n\n        concat(suppliedHandler).filter(function (h) {\n          return isFunction(h);\n        }).forEach(function (handler) {\n          handler.apply(void 0, _toConsumableArray(_arguments));\n        }); // Emit the global `$root` click event\n\n        this.emitOnRoot(ROOT_EVENT_NAME_CLICKED, event); // TODO: Remove deprecated 'clicked::link' event with next major release\n\n        this.emitOnRoot('clicked::link', event);\n      } // Stop scroll-to-top behavior or navigation on\n      // regular links when href is just '#'\n\n\n      if (eventIsEvent && !isRouterLink && this.computedHref === '#') {\n        stopEvent(event, {\n          propagation: false\n        });\n      }\n    },\n    focus: function focus() {\n      attemptFocus(this.$el);\n    },\n    blur: function blur() {\n      attemptBlur(this.$el);\n    }\n  },\n  render: function render(h) {\n    var active = this.active,\n        disabled = this.disabled;\n    return h(this.computedTag, _defineProperty({\n      class: {\n        active: active,\n        disabled: disabled\n      },\n      attrs: this.computedAttrs,\n      props: this.computedProps\n    }, this.isRouterLink ? 'nativeOn' : 'on', this.computedListeners), this.normalizeSlot());\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_BUTTON } from '../../constants/components';\nimport { CODE_ENTER, CODE_SPACE } from '../../constants/key-codes';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { concat } from '../../utils/array';\nimport { addClass, isTag, removeClass } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { isBoolean, isEvent, isFunction } from '../../utils/inspect';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { isLink as isLinkStrict } from '../../utils/router';\nimport { BLink, props as BLinkProps } from '../link/link'; // --- Props ---\n\nvar linkProps = omit(BLinkProps, ['event', 'routerTag']);\ndelete linkProps.href.default;\ndelete linkProps.to.default;\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, linkProps), {}, {\n  block: makeProp(PROP_TYPE_BOOLEAN, false),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  pill: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Tri-state: `true`, `false` or `null`\n  // => On, off, not a toggle\n  pressed: makeProp(PROP_TYPE_BOOLEAN, null),\n  size: makeProp(PROP_TYPE_STRING),\n  squared: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'button'),\n  type: makeProp(PROP_TYPE_STRING, 'button'),\n  variant: makeProp(PROP_TYPE_STRING, 'secondary')\n})), NAME_BUTTON); // --- Helper methods ---\n// Focus handler for toggle buttons\n// Needs class of 'focus' when focused\n\nvar handleFocus = function handleFocus(event) {\n  if (event.type === 'focusin') {\n    addClass(event.target, 'focus');\n  } else if (event.type === 'focusout') {\n    removeClass(event.target, 'focus');\n  }\n}; // Is the requested button a link?\n// If tag prop is set to `a`, we use a <b-link> to get proper disabled handling\n\n\nvar isLink = function isLink(props) {\n  return isLinkStrict(props) || isTag(props.tag, 'a');\n}; // Is the button to be a toggle button?\n\n\nvar isToggle = function isToggle(props) {\n  return isBoolean(props.pressed);\n}; // Is the button \"really\" a button?\n\n\nvar isButton = function isButton(props) {\n  return !(isLink(props) || props.tag && !isTag(props.tag, 'button'));\n}; // Is the requested tag not a button or link?\n\n\nvar isNonStandardTag = function isNonStandardTag(props) {\n  return !isLink(props) && !isButton(props);\n}; // Compute required classes (non static classes)\n\n\nvar computeClass = function computeClass(props) {\n  var _ref;\n\n  return [\"btn-\".concat(props.variant || 'secondary'), (_ref = {}, _defineProperty(_ref, \"btn-\".concat(props.size), props.size), _defineProperty(_ref, 'btn-block', props.block), _defineProperty(_ref, 'rounded-pill', props.pill), _defineProperty(_ref, 'rounded-0', props.squared && !props.pill), _defineProperty(_ref, \"disabled\", props.disabled), _defineProperty(_ref, \"active\", props.pressed), _ref)];\n}; // Compute the link props to pass to b-link (if required)\n\n\nvar computeLinkProps = function computeLinkProps(props) {\n  return isLink(props) ? pluckProps(linkProps, props) : {};\n}; // Compute the attributes for a button\n\n\nvar computeAttrs = function computeAttrs(props, data) {\n  var button = isButton(props);\n  var link = isLink(props);\n  var toggle = isToggle(props);\n  var nonStandardTag = isNonStandardTag(props);\n  var hashLink = link && props.href === '#';\n  var role = data.attrs && data.attrs.role ? data.attrs.role : null;\n  var tabindex = data.attrs ? data.attrs.tabindex : null;\n\n  if (nonStandardTag || hashLink) {\n    tabindex = '0';\n  }\n\n  return {\n    // Type only used for \"real\" buttons\n    type: button && !link ? props.type : null,\n    // Disabled only set on \"real\" buttons\n    disabled: button ? props.disabled : null,\n    // We add a role of button when the tag is not a link or button for ARIA\n    // Don't bork any role provided in `data.attrs` when `isLink` or `isButton`\n    // Except when link has `href` of `#`\n    role: nonStandardTag || hashLink ? 'button' : role,\n    // We set the `aria-disabled` state for non-standard tags\n    'aria-disabled': nonStandardTag ? String(props.disabled) : null,\n    // For toggles, we need to set the pressed state for ARIA\n    'aria-pressed': toggle ? String(props.pressed) : null,\n    // `autocomplete=\"off\"` is needed in toggle mode to prevent some browsers\n    // from remembering the previous setting when using the back button\n    autocomplete: toggle ? 'off' : null,\n    // `tabindex` is used when the component is not a button\n    // Links are tabbable, but don't allow disabled, while non buttons or links\n    // are not tabbable, so we mimic that functionality by disabling tabbing\n    // when disabled, and adding a `tabindex=\"0\"` to non buttons or non links\n    tabindex: props.disabled && !button ? '-1' : tabindex\n  };\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BButton = /*#__PURE__*/Vue.extend({\n  name: NAME_BUTTON,\n  functional: true,\n  props: props,\n  render: function render(h, _ref2) {\n    var props = _ref2.props,\n        data = _ref2.data,\n        listeners = _ref2.listeners,\n        children = _ref2.children;\n    var toggle = isToggle(props);\n    var link = isLink(props);\n    var nonStandardTag = isNonStandardTag(props);\n    var hashLink = link && props.href === '#';\n    var on = {\n      keydown: function keydown(event) {\n        // When the link is a `href=\"#\"` or a non-standard tag (has `role=\"button\"`),\n        // we add a keydown handlers for CODE_SPACE/CODE_ENTER\n\n        /* istanbul ignore next */\n        if (props.disabled || !(nonStandardTag || hashLink)) {\n          return;\n        }\n\n        var keyCode = event.keyCode; // Add CODE_SPACE handler for `href=\"#\"` and CODE_ENTER handler for non-standard tags\n\n        if (keyCode === CODE_SPACE || keyCode === CODE_ENTER && nonStandardTag) {\n          var target = event.currentTarget || event.target;\n          stopEvent(event, {\n            propagation: false\n          });\n          target.click();\n        }\n      },\n      click: function click(event) {\n        /* istanbul ignore if: blink/button disabled should handle this */\n        if (props.disabled && isEvent(event)) {\n          stopEvent(event);\n        } else if (toggle && listeners && listeners['update:pressed']) {\n          // Send `.sync` updates to any \"pressed\" prop (if `.sync` listeners)\n          // `concat()` will normalize the value to an array without\n          // double wrapping an array value in an array\n          concat(listeners['update:pressed']).forEach(function (fn) {\n            if (isFunction(fn)) {\n              fn(!props.pressed);\n            }\n          });\n        }\n      }\n    };\n\n    if (toggle) {\n      on.focusin = handleFocus;\n      on.focusout = handleFocus;\n    }\n\n    var componentData = {\n      staticClass: 'btn',\n      class: computeClass(props),\n      props: computeLinkProps(props),\n      attrs: computeAttrs(props, data),\n      on: on\n    };\n    return h(link ? BLink : props.tag, mergeData(data, componentData), children);\n  }\n});","import { Vue } from '../../vue';\nimport { NAME_TRANSPORTER, NAME_TRANSPORTER_TARGET } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { PROP_TYPE_ARRAY_FUNCTION, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { concat } from '../../utils/array';\nimport { removeNode, select } from '../../utils/dom';\nimport { identity } from '../../utils/identity';\nimport { isFunction, isString } from '../../utils/inspect';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { makeProp } from '../../utils/props'; // --- Helper components ---\n// BVTransporter/BVTransporterTarget:\n//\n// Single root node portaling of content, which retains parent/child hierarchy\n// Unlike Portal-Vue where portaled content is no longer a descendent of its\n// intended parent components\n//\n// Private components for use by Tooltips, Popovers and Modals\n//\n// Based on vue-simple-portal\n// https://github.com/LinusBorg/vue-simple-portal\n// Transporter target used by BVTransporter\n// Supports only a single root element\n// @vue/component\n\nvar BVTransporterTarget = /*#__PURE__*/Vue.extend({\n  // As an abstract component, it doesn't appear in the $parent chain of\n  // components, which means the next parent of any component rendered inside\n  // of this one will be the parent from which is was portal'd\n  abstract: true,\n  name: NAME_TRANSPORTER_TARGET,\n  props: {\n    // Even though we only support a single root element,\n    // VNodes are always passed as an array\n    nodes: makeProp(PROP_TYPE_ARRAY_FUNCTION)\n  },\n  data: function data(vm) {\n    return {\n      updatedNodes: vm.nodes\n    };\n  },\n  destroyed: function destroyed() {\n    removeNode(this.$el);\n  },\n  render: function render(h) {\n    var updatedNodes = this.updatedNodes;\n    var $nodes = isFunction(updatedNodes) ? updatedNodes({}) : updatedNodes;\n    $nodes = concat($nodes).filter(identity);\n\n    if ($nodes && $nodes.length > 0 && !$nodes[0].text) {\n      return $nodes[0];\n    }\n    /* istanbul ignore next */\n\n\n    return h();\n  }\n}); // --- Props ---\n\nexport var props = {\n  // String: CSS selector,\n  // HTMLElement: Element reference\n  // Mainly needed for tooltips/popovers inside modals\n  container: makeProp([HTMLElement, PROP_TYPE_STRING], 'body'),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  // This should be set to match the root element type\n  tag: makeProp(PROP_TYPE_STRING, 'div')\n}; // --- Main component ---\n// @vue/component\n\nexport var BVTransporter = /*#__PURE__*/Vue.extend({\n  name: NAME_TRANSPORTER,\n  mixins: [normalizeSlotMixin],\n  props: props,\n  watch: {\n    disabled: {\n      immediate: true,\n      handler: function handler(disabled) {\n        disabled ? this.unmountTarget() : this.$nextTick(this.mountTarget);\n      }\n    }\n  },\n  created: function created() {\n    // Create private non-reactive props\n    this.$_defaultFn = null;\n    this.$_target = null;\n  },\n  beforeMount: function beforeMount() {\n    this.mountTarget();\n  },\n  updated: function updated() {\n    // We need to make sure that all children have completed updating\n    // before rendering in the target\n    // `vue-simple-portal` has the this in a `$nextTick()`,\n    // while `portal-vue` doesn't\n    // Just trying to see if the `$nextTick()` delay is required or not\n    // Since all slots in Vue 2.6.x are always functions\n    this.updateTarget();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unmountTarget();\n    this.$_defaultFn = null;\n  },\n  methods: {\n    // Get the element which the target should be appended to\n    getContainer: function getContainer() {\n      /* istanbul ignore else */\n      if (IS_BROWSER) {\n        var container = this.container;\n        return isString(container) ? select(container) : container;\n      } else {\n        return null;\n      }\n    },\n    // Mount the target\n    mountTarget: function mountTarget() {\n      if (!this.$_target) {\n        var $container = this.getContainer();\n\n        if ($container) {\n          var $el = document.createElement('div');\n          $container.appendChild($el);\n          this.$_target = new BVTransporterTarget({\n            el: $el,\n            parent: this,\n            propsData: {\n              // Initial nodes to be rendered\n              nodes: concat(this.normalizeSlot())\n            }\n          });\n        }\n      }\n    },\n    // Update the content of the target\n    updateTarget: function updateTarget() {\n      if (IS_BROWSER && this.$_target) {\n        var defaultFn = this.$scopedSlots.default;\n\n        if (!this.disabled) {\n          /* istanbul ignore else: only applicable in Vue 2.5.x */\n          if (defaultFn && this.$_defaultFn !== defaultFn) {\n            // We only update the target component if the scoped slot\n            // function is a fresh one. The new slot syntax (since Vue 2.6)\n            // can cache unchanged slot functions and we want to respect that here\n            this.$_target.updatedNodes = defaultFn;\n          } else if (!defaultFn) {\n            // We also need to be back compatible with non-scoped default slot (i.e. 2.5.x)\n            this.$_target.updatedNodes = this.$slots.default;\n          }\n        } // Update the scoped slot function cache\n\n\n        this.$_defaultFn = defaultFn;\n      }\n    },\n    // Unmount the target\n    unmountTarget: function unmountTarget() {\n      this.$_target && this.$_target.$destroy();\n      this.$_target = null;\n    }\n  },\n  render: function render(h) {\n    // This component has no root element, so only a single VNode is allowed\n    if (this.disabled) {\n      var $nodes = concat(this.normalizeSlot()).filter(identity);\n\n      if ($nodes.length > 0 && !$nodes[0].text) {\n        return $nodes[0];\n      }\n    }\n\n    return h();\n  }\n});","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { BvEvent } from '../../../utils/bv-event.class';\nimport { defineProperties, readonlyDescriptor } from '../../../utils/object';\n\nvar BvModalEvent = /*#__PURE__*/function (_BvEvent) {\n  _inherits(BvModalEvent, _BvEvent);\n\n  var _super = _createSuper(BvModalEvent);\n\n  function BvModalEvent(type) {\n    var _this;\n\n    var eventInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, BvModalEvent);\n\n    _this = _super.call(this, type, eventInit); // Freeze our new props as readonly, but leave them enumerable\n\n    defineProperties(_assertThisInitialized(_this), {\n      trigger: readonlyDescriptor()\n    });\n    return _this;\n  }\n\n  _createClass(BvModalEvent, null, [{\n    key: \"Defaults\",\n    get: function get() {\n      return _objectSpread(_objectSpread({}, _get(_getPrototypeOf(BvModalEvent), \"Defaults\", this)), {}, {\n        trigger: null\n      });\n    }\n  }]);\n\n  return BvModalEvent;\n}(BvEvent); // Named exports\n\n\nexport { BvModalEvent };","/**\n * Private ModalManager helper\n * Handles controlling modal stacking zIndexes and body adjustments/classes\n */\nimport { Vue } from '../../../vue';\nimport { IS_BROWSER } from '../../../constants/env';\nimport { HOOK_EVENT_NAME_BEFORE_DESTROY } from '../../../constants/events';\nimport { addClass, getAttr, getBCR, getCS, getStyle, hasAttr, removeAttr, removeClass, requestAF, selectAll, setAttr, setStyle } from '../../../utils/dom';\nimport { isNull } from '../../../utils/inspect';\nimport { toFloat, toInteger } from '../../../utils/number'; // --- Constants ---\n// Default modal backdrop z-index\n\nvar DEFAULT_ZINDEX = 1040; // Selectors for padding/margin adjustments\n\nvar SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\nvar SELECTOR_STICKY_CONTENT = '.sticky-top';\nvar SELECTOR_NAVBAR_TOGGLER = '.navbar-toggler'; // --- Main component ---\n// @vue/component\n\nvar ModalManager = /*#__PURE__*/Vue.extend({\n  data: function data() {\n    return {\n      modals: [],\n      baseZIndex: null,\n      scrollbarWidth: null,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalCount: function modalCount() {\n      return this.modals.length;\n    },\n    modalsAreOpen: function modalsAreOpen() {\n      return this.modalCount > 0;\n    }\n  },\n  watch: {\n    modalCount: function modalCount(newCount, oldCount) {\n      if (IS_BROWSER) {\n        this.getScrollbarWidth();\n\n        if (newCount > 0 && oldCount === 0) {\n          // Transitioning to modal(s) open\n          this.checkScrollbar();\n          this.setScrollbar();\n          addClass(document.body, 'modal-open');\n        } else if (newCount === 0 && oldCount > 0) {\n          // Transitioning to modal(s) closed\n          this.resetScrollbar();\n          removeClass(document.body, 'modal-open');\n        }\n\n        setAttr(document.body, 'data-modal-open-count', String(newCount));\n      }\n    },\n    modals: function modals(newValue) {\n      var _this = this;\n\n      this.checkScrollbar();\n      requestAF(function () {\n        _this.updateModals(newValue || []);\n      });\n    }\n  },\n  methods: {\n    // Public methods\n    registerModal: function registerModal(modal) {\n      var _this2 = this;\n\n      // Register the modal if not already registered\n      if (modal && this.modals.indexOf(modal) === -1) {\n        // Add modal to modals array\n        this.modals.push(modal);\n        modal.$once(HOOK_EVENT_NAME_BEFORE_DESTROY, function () {\n          _this2.unregisterModal(modal);\n        });\n      }\n    },\n    unregisterModal: function unregisterModal(modal) {\n      var index = this.modals.indexOf(modal);\n\n      if (index > -1) {\n        // Remove modal from modals array\n        this.modals.splice(index, 1); // Reset the modal's data\n\n        if (!(modal._isBeingDestroyed || modal._isDestroyed)) {\n          this.resetModal(modal);\n        }\n      }\n    },\n    getBaseZIndex: function getBaseZIndex() {\n      if (isNull(this.baseZIndex) && IS_BROWSER) {\n        // Create a temporary `div.modal-backdrop` to get computed z-index\n        var div = document.createElement('div');\n        addClass(div, 'modal-backdrop');\n        addClass(div, 'd-none');\n        setStyle(div, 'display', 'none');\n        document.body.appendChild(div);\n        this.baseZIndex = toInteger(getCS(div).zIndex, DEFAULT_ZINDEX);\n        document.body.removeChild(div);\n      }\n\n      return this.baseZIndex || DEFAULT_ZINDEX;\n    },\n    getScrollbarWidth: function getScrollbarWidth() {\n      if (isNull(this.scrollbarWidth) && IS_BROWSER) {\n        // Create a temporary `div.measure-scrollbar` to get computed z-index\n        var div = document.createElement('div');\n        addClass(div, 'modal-scrollbar-measure');\n        document.body.appendChild(div);\n        this.scrollbarWidth = getBCR(div).width - div.clientWidth;\n        document.body.removeChild(div);\n      }\n\n      return this.scrollbarWidth || 0;\n    },\n    // Private methods\n    updateModals: function updateModals(modals) {\n      var _this3 = this;\n\n      var baseZIndex = this.getBaseZIndex();\n      var scrollbarWidth = this.getScrollbarWidth();\n      modals.forEach(function (modal, index) {\n        // We update data values on each modal\n        modal.zIndex = baseZIndex + index;\n        modal.scrollbarWidth = scrollbarWidth;\n        modal.isTop = index === _this3.modals.length - 1;\n        modal.isBodyOverflowing = _this3.isBodyOverflowing;\n      });\n    },\n    resetModal: function resetModal(modal) {\n      if (modal) {\n        modal.zIndex = this.getBaseZIndex();\n        modal.isTop = true;\n        modal.isBodyOverflowing = false;\n      }\n    },\n    checkScrollbar: function checkScrollbar() {\n      // Determine if the body element is overflowing\n      var _getBCR = getBCR(document.body),\n          left = _getBCR.left,\n          right = _getBCR.right;\n\n      this.isBodyOverflowing = left + right < window.innerWidth;\n    },\n    setScrollbar: function setScrollbar() {\n      var body = document.body; // Storage place to cache changes to margins and padding\n      // Note: This assumes the following element types are not added to the\n      // document after the modal has opened.\n\n      body._paddingChangedForModal = body._paddingChangedForModal || [];\n      body._marginChangedForModal = body._marginChangedForModal || [];\n\n      if (this.isBodyOverflowing) {\n        var scrollbarWidth = this.scrollbarWidth; // Adjust fixed content padding\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_FIXED_CONTENT).forEach(function (el) {\n          var actualPadding = getStyle(el, 'paddingRight') || '';\n          setAttr(el, 'data-padding-right', actualPadding);\n          setStyle(el, 'paddingRight', \"\".concat(toFloat(getCS(el).paddingRight, 0) + scrollbarWidth, \"px\"));\n\n          body._paddingChangedForModal.push(el);\n        }); // Adjust sticky content margin\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_STICKY_CONTENT).forEach(function (el)\n        /* istanbul ignore next */\n        {\n          var actualMargin = getStyle(el, 'marginRight') || '';\n          setAttr(el, 'data-margin-right', actualMargin);\n          setStyle(el, 'marginRight', \"\".concat(toFloat(getCS(el).marginRight, 0) - scrollbarWidth, \"px\"));\n\n          body._marginChangedForModal.push(el);\n        }); // Adjust <b-navbar-toggler> margin\n\n        /* istanbul ignore next: difficult to test in JSDOM */\n\n        selectAll(SELECTOR_NAVBAR_TOGGLER).forEach(function (el)\n        /* istanbul ignore next */\n        {\n          var actualMargin = getStyle(el, 'marginRight') || '';\n          setAttr(el, 'data-margin-right', actualMargin);\n          setStyle(el, 'marginRight', \"\".concat(toFloat(getCS(el).marginRight, 0) + scrollbarWidth, \"px\"));\n\n          body._marginChangedForModal.push(el);\n        }); // Adjust body padding\n\n        var actualPadding = getStyle(body, 'paddingRight') || '';\n        setAttr(body, 'data-padding-right', actualPadding);\n        setStyle(body, 'paddingRight', \"\".concat(toFloat(getCS(body).paddingRight, 0) + scrollbarWidth, \"px\"));\n      }\n    },\n    resetScrollbar: function resetScrollbar() {\n      var body = document.body;\n\n      if (body._paddingChangedForModal) {\n        // Restore fixed content padding\n        body._paddingChangedForModal.forEach(function (el) {\n          /* istanbul ignore next: difficult to test in JSDOM */\n          if (hasAttr(el, 'data-padding-right')) {\n            setStyle(el, 'paddingRight', getAttr(el, 'data-padding-right') || '');\n            removeAttr(el, 'data-padding-right');\n          }\n        });\n      }\n\n      if (body._marginChangedForModal) {\n        // Restore sticky content and navbar-toggler margin\n        body._marginChangedForModal.forEach(function (el) {\n          /* istanbul ignore next: difficult to test in JSDOM */\n          if (hasAttr(el, 'data-margin-right')) {\n            setStyle(el, 'marginRight', getAttr(el, 'data-margin-right') || '');\n            removeAttr(el, 'data-margin-right');\n          }\n        });\n      }\n\n      body._paddingChangedForModal = null;\n      body._marginChangedForModal = null; // Restore body padding\n\n      if (hasAttr(body, 'data-padding-right')) {\n        setStyle(body, 'paddingRight', getAttr(body, 'data-padding-right') || '');\n        removeAttr(body, 'data-padding-right');\n      }\n    }\n  }\n}); // Create and export our modal manager instance\n\nexport var modalManager = new ModalManager();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { COMPONENT_UID_KEY, Vue } from '../../vue';\nimport { NAME_MODAL } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CANCEL, EVENT_NAME_CHANGE, EVENT_NAME_CLOSE, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_OK, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE, EVENT_OPTIONS_NO_CAPTURE } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_MODAL_BACKDROP, SLOT_NAME_MODAL_CANCEL, SLOT_NAME_MODAL_FOOTER, SLOT_NAME_MODAL_HEADER, SLOT_NAME_MODAL_HEADER_CLOSE, SLOT_NAME_MODAL_OK, SLOT_NAME_MODAL_TITLE } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptFocus, closest, contains, getActiveElement as _getActiveElement, getTabables, requestAF, select } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName, eventOn, eventOff } from '../../utils/events';\nimport { htmlOrText } from '../../utils/html';\nimport { identity } from '../../utils/identity';\nimport { isString, isUndefinedOrNull } from '../../utils/inspect';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { observeDom } from '../../utils/observe-dom';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnDocumentMixin } from '../../mixins/listen-on-document';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenOnWindowMixin } from '../../mixins/listen-on-window';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { scopedStyleMixin } from '../../mixins/scoped-style';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition';\nimport { BVTransporter } from '../transporter/transporter';\nimport { BvModalEvent } from './helpers/bv-modal-event.class';\nimport { modalManager } from './helpers/modal-manager'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar TRIGGER_BACKDROP = 'backdrop';\nvar TRIGGER_ESC = 'esc';\nvar TRIGGER_FORCE = 'FORCE';\nvar TRIGGER_TOGGLE = 'toggle';\nvar BUTTON_CANCEL = 'cancel'; // TODO: This should be renamed to 'close'\n\nvar BUTTON_CLOSE = 'headerclose';\nvar BUTTON_OK = 'ok';\nvar BUTTONS = [BUTTON_CANCEL, BUTTON_CLOSE, BUTTON_OK]; // `ObserveDom` config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class']\n}; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  autoFocusButton: makeProp(PROP_TYPE_STRING, null,\n  /* istanbul ignore next */\n  function (value) {\n    return isUndefinedOrNull(value) || arrayIncludes(BUTTONS, value);\n  }),\n  bodyBgVariant: makeProp(PROP_TYPE_STRING),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  bodyTextVariant: makeProp(PROP_TYPE_STRING),\n  busy: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonSize: makeProp(PROP_TYPE_STRING),\n  cancelDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  cancelTitle: makeProp(PROP_TYPE_STRING, 'Cancel'),\n  cancelTitleHtml: makeProp(PROP_TYPE_STRING),\n  cancelVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  centered: makeProp(PROP_TYPE_BOOLEAN, false),\n  contentClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  dialogClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerBgVariant: makeProp(PROP_TYPE_STRING),\n  footerBorderVariant: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerTextVariant: makeProp(PROP_TYPE_STRING),\n  headerBgVariant: makeProp(PROP_TYPE_STRING),\n  headerBorderVariant: makeProp(PROP_TYPE_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerCloseContent: makeProp(PROP_TYPE_STRING, '&times;'),\n  headerCloseLabel: makeProp(PROP_TYPE_STRING, 'Close'),\n  headerCloseVariant: makeProp(PROP_TYPE_STRING),\n  headerTextVariant: makeProp(PROP_TYPE_STRING),\n  // TODO: Rename to `noBackdrop` and deprecate `hideBackdrop`\n  hideBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noFooter` and deprecate `hideFooter`\n  hideFooter: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeader` and deprecate `hideHeader`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeaderClose` and deprecate `hideHeaderClose`\n  hideHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  ignoreEnforceFocusSelector: makeProp(PROP_TYPE_ARRAY_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  modalClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  noStacking: makeProp(PROP_TYPE_BOOLEAN, false),\n  okDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  okOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  okTitle: makeProp(PROP_TYPE_STRING, 'OK'),\n  okTitleHtml: makeProp(PROP_TYPE_STRING),\n  okVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // HTML Element, CSS selector string or Vue component instance\n  returnFocus: makeProp([HTMLElement, PROP_TYPE_OBJECT, PROP_TYPE_STRING]),\n  scrollable: makeProp(PROP_TYPE_BOOLEAN, false),\n  size: makeProp(PROP_TYPE_STRING, 'md'),\n  static: makeProp(PROP_TYPE_BOOLEAN, false),\n  title: makeProp(PROP_TYPE_STRING),\n  titleClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  titleHtml: makeProp(PROP_TYPE_STRING),\n  titleSrOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  titleTag: makeProp(PROP_TYPE_STRING, 'h5')\n})), NAME_MODAL); // --- Main component ---\n// @vue/component\n\nexport var BModal = /*#__PURE__*/Vue.extend({\n  name: NAME_MODAL,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnDocumentMixin, listenOnRootMixin, listenOnWindowMixin, normalizeSlotMixin, scopedStyleMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalId: function modalId() {\n      return this.safeId();\n    },\n    modalOuterId: function modalOuterId() {\n      return this.safeId('__BV_modal_outer_');\n    },\n    modalHeaderId: function modalHeaderId() {\n      return this.safeId('__BV_modal_header_');\n    },\n    modalBodyId: function modalBodyId() {\n      return this.safeId('__BV_modal_body_');\n    },\n    modalTitleId: function modalTitleId() {\n      return this.safeId('__BV_modal_title_');\n    },\n    modalContentId: function modalContentId() {\n      return this.safeId('__BV_modal_content_');\n    },\n    modalFooterId: function modalFooterId() {\n      return this.safeId('__BV_modal_footer_');\n    },\n    modalBackdropId: function modalBackdropId() {\n      return this.safeId('__BV_modal_backdrop_');\n    },\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), this.size), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), this.headerBgVariant), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), this.headerTextVariant), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), this.headerBorderVariant), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), this.bodyBgVariant), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), this.bodyTextVariant), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), this.footerBgVariant), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), this.footerTextVariant), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), this.footerBorderVariant), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        ok: this.onOk,\n        visible: this.isVisible\n      };\n    },\n    computeIgnoreEnforceFocusSelector: function computeIgnoreEnforceFocusSelector() {\n      // Normalize to an single selector with selectors separated by `,`\n      return concat(this.ignoreEnforceFocusSelector).filter(identity).join(',').trim();\n    },\n    computedAttrs: function computedAttrs() {\n      // If the parent has a scoped style attribute, and the modal\n      // is portalled, add the scoped attribute to the modal wrapper\n      var scopedStyleAttrs = !this.static ? this.scopedStyleAttrs : {};\n      return _objectSpread(_objectSpread(_objectSpread({}, scopedStyleAttrs), this.bvAttrs), {}, {\n        id: this.modalOuterId\n      });\n    },\n    computedModalAttrs: function computedModalAttrs() {\n      var isVisible = this.isVisible,\n          ariaLabel = this.ariaLabel;\n      return {\n        id: this.modalId,\n        role: 'dialog',\n        'aria-hidden': isVisible ? null : 'true',\n        'aria-modal': isVisible ? 'true' : null,\n        'aria-label': ariaLabel,\n        'aria-labelledby': this.hideHeader || ariaLabel || // TODO: Rename slot to `title` and deprecate `modal-title`\n        !(this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) || this.titleHtml || this.title) ? null : this.modalTitleId,\n        'aria-describedby': this.modalBodyId\n      };\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this[newValue ? 'show' : 'hide']();\n    }\n  }),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_observer = null;\n    this.$_returnFocus = this.returnFocus || null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_SHOW), this.showHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_HIDE), this.hideHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_TOGGLE), this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot(getRootEventName(NAME_MODAL, EVENT_NAME_SHOW), this.modalListener); // Initially show modal?\n\n    if (this[MODEL_PROP_NAME] === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    this.setObserver(false);\n\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    setObserver: function setObserver() {\n      var on = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n\n      if (on) {\n        this.$_observer = observeDom(this.$refs.content, this.checkModalOverflow.bind(this), OBSERVER_CONFIG);\n      }\n    },\n    // Private method to update the v-model\n    updateModel: function updateModel(value) {\n      if (value !== this[MODEL_PROP_NAME]) {\n        this.$emit(MODEL_EVENT_NAME, value);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread(_objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, options), {}, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.modalId\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next */\n        this.$once(EVENT_NAME_HIDDEN, this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.$_returnFocus = this.$_returnFocus || this.getActiveElement();\n      var showEvt = this.buildEvent(EVENT_NAME_SHOW, {\n        cancelable: true\n      });\n      this.emitEvent(showEvt); // Don't show if canceled\n\n      if (showEvt.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      this.isClosing = true;\n      var hideEvt = this.buildEvent(EVENT_NAME_HIDE, {\n        cancelable: trigger !== TRIGGER_FORCE,\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === BUTTON_OK) {\n        this.$emit(EVENT_NAME_OK, hideEvt);\n      } else if (trigger === BUTTON_CANCEL) {\n        this.$emit(EVENT_NAME_CANCEL, hideEvt);\n      } else if (trigger === BUTTON_CLOSE) {\n        this.$emit(EVENT_NAME_CLOSE, hideEvt);\n      }\n\n      this.emitEvent(hideEvt); // Hide if not canceled\n\n      if (hideEvt.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n\n      this.setObserver(false); // Trigger the hide transition\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.$_returnFocus = triggerEl;\n      }\n\n      if (this.isVisible) {\n        this.hide(TRIGGER_TOGGLE);\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      var activeElement = _getActiveElement(IS_BROWSER ? [document.body] : []); // Preset the fallback return focus value if it is not set\n      // `document.activeElement` should be the trigger element that was clicked or\n      // in the case of using the v-model, which ever element has current focus\n      // Will be overridden by some commands such as toggle, etc.\n      // Note: On IE 11, `document.activeElement` may be `null`\n      // So we test it for truthiness first\n      // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n\n\n      return activeElement && activeElement.focus ? activeElement : null;\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce(getRootEventName(NAME_MODAL, EVENT_NAME_HIDDEN), this.doShow);\n        return;\n      }\n\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n\n        _this.$nextTick(function () {\n          // Observe changes in modal content and adjust if necessary\n          // In a `$nextTick()` in case modal content is lazy\n          _this.setObserver(true);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      var _this2 = this;\n\n      this.isBlock = true; // We add the `show` class 1 frame later\n      // `requestAF()` runs the callback before the next repaint, so we need\n      // two calls to guarantee the next frame has been rendered\n\n      requestAF(function () {\n        requestAF(function () {\n          _this2.isShow = true;\n        });\n      });\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this3 = this;\n\n      this.checkModalOverflow();\n      this.isTransitioning = false; // We use `requestAF()` to allow transition hooks to complete\n      // before passing control over to the other handlers\n      // This will allow users to not have to use `$nextTick()` or `requestAF()`\n      // when trying to pre-focus an element\n\n      requestAF(function () {\n        _this3.emitEvent(_this3.buildEvent(EVENT_NAME_SHOWN));\n\n        _this3.setEnforceFocus(true);\n\n        _this3.$nextTick(function () {\n          // Delayed in a `$nextTick()` to allow users time to pre-focus\n          // an element if the wish\n          _this3.focusFirst();\n        });\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this4 = this;\n\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this4.isClosing = false;\n        modalManager.unregisterModal(_this4);\n\n        _this4.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n\n        _this4.emitEvent(_this4.buildEvent(EVENT_NAME_HIDDEN));\n      });\n    },\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type; // We emit on `$root` first in case a global listener wants to cancel\n      // the event first before the instance emits its event\n\n      this.emitOnRoot(getRootEventName(NAME_MODAL, type), bvEvent, bvEvent.componentId);\n      this.$emit(type, bvEvent);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this5 = this;\n\n      // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n      var modal = this.$refs.modal;\n\n      var onceModalMouseup = function onceModalMouseup(event) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n\n        if (event.target === modal) {\n          _this5.ignoreBackdropClick = true;\n        }\n      };\n\n      eventOn(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n    },\n    onClickOut: function onClickOut(event) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, event.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n\n      if (!contains(this.$refs.content, event.target)) {\n        this.hide(TRIGGER_BACKDROP);\n      }\n    },\n    onOk: function onOk() {\n      this.hide(BUTTON_OK);\n    },\n    onCancel: function onCancel() {\n      this.hide(BUTTON_CANCEL);\n    },\n    onClose: function onClose() {\n      this.hide(BUTTON_CLOSE);\n    },\n    onEsc: function onEsc(event) {\n      // If ESC pressed, hide modal\n      if (event.keyCode === CODE_ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide(TRIGGER_ESC);\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(event) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = event.target;\n\n      if (this.noEnforceFocus || !this.isTop || !this.isVisible || !content || document === target || contains(content, target) || this.computeIgnoreEnforceFocusSelector && closest(this.computeIgnoreEnforceFocusSelector, target, true)) {\n        return;\n      }\n\n      var tabables = getTabables(this.$refs.content);\n      var bottomTrap = this.$refs['bottom-trap'];\n      var topTrap = this.$refs['top-trap'];\n\n      if (bottomTrap && target === bottomTrap) {\n        // If user pressed TAB out of modal into our bottom trab trap element\n        // Find the first tabable element in the modal content and focus it\n        if (attemptFocus(tabables[0])) {\n          // Focus was successful\n          return;\n        }\n      } else if (topTrap && target === topTrap) {\n        // If user pressed CTRL-TAB out of modal and into our top tab trap element\n        // Find the last tabable element in the modal content and focus it\n        if (attemptFocus(tabables[tabables.length - 1])) {\n          // Focus was successful\n          return;\n        }\n      } // Otherwise focus the modal content container\n\n\n      attemptFocus(content, {\n        preventScroll: true\n      });\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      this.listenDocument(on, 'focusin', this.focusHandler);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      this.listenWindow(on, 'resize', this.checkModalOverflow);\n      this.listenWindow(on, 'orientationchange', this.checkModalOverflow);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.$_returnFocus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.modalId) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvent) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvent.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      var _this6 = this;\n\n      // Don't try and focus if we are SSR\n      if (IS_BROWSER) {\n        requestAF(function () {\n          var modal = _this6.$refs.modal;\n          var content = _this6.$refs.content;\n\n          var activeElement = _this6.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n\n          if (modal && content && !(activeElement && contains(content, activeElement))) {\n            var ok = _this6.$refs['ok-button'];\n            var cancel = _this6.$refs['cancel-button'];\n            var close = _this6.$refs['close-button']; // Focus the appropriate button or modal content wrapper\n\n            var autoFocus = _this6.autoFocusButton;\n            /* istanbul ignore next */\n\n            var el = autoFocus === BUTTON_OK && ok ? ok.$el || ok : autoFocus === BUTTON_CANCEL && cancel ? cancel.$el || cancel : autoFocus === BUTTON_CLOSE && close ? close.$el || close : content; // Focus the element\n\n            attemptFocus(el);\n\n            if (el === content) {\n              // Make sure top of modal is showing (if longer than the viewport)\n              _this6.$nextTick(function () {\n                modal.scrollTop = 0;\n              });\n            }\n          }\n        });\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.$_returnFocus || null;\n      this.$_returnFocus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var $header = h();\n\n      if (!this.hideHeader) {\n        // TODO: Rename slot to `header` and deprecate `modal-header`\n        var $modalHeader = this.normalizeSlot(SLOT_NAME_MODAL_HEADER, this.slotScope);\n\n        if (!$modalHeader) {\n          var $closeButton = h();\n\n          if (!this.hideHeaderClose) {\n            $closeButton = h(BButtonClose, {\n              props: {\n                content: this.headerCloseContent,\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              },\n              ref: 'close-button'\n            }, // TODO: Rename slot to `header-close` and deprecate `modal-header-close`\n            [this.normalizeSlot(SLOT_NAME_MODAL_HEADER_CLOSE)]);\n          }\n\n          $modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.modalTitleId\n            },\n            // TODO: Rename slot to `title` and deprecate `modal-title`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) ? {} : htmlOrText(this.titleHtml, this.title)\n          }, // TODO: Rename slot to `title` and deprecate `modal-title`\n          this.normalizeSlot(SLOT_NAME_MODAL_TITLE, this.slotScope)), $closeButton];\n        }\n\n        $header = h('header', {\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.modalHeaderId\n          },\n          ref: 'header'\n        }, [$modalHeader]);\n      } // Modal body\n\n\n      var $body = h('div', {\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.modalBodyId\n        },\n        ref: 'body'\n      }, this.normalizeSlot(SLOT_NAME_DEFAULT, this.slotScope)); // Modal footer\n\n      var $footer = h();\n\n      if (!this.hideFooter) {\n        // TODO: Rename slot to `footer` and deprecate `modal-footer`\n        var $modalFooter = this.normalizeSlot(SLOT_NAME_MODAL_FOOTER, this.slotScope);\n\n        if (!$modalFooter) {\n          var $cancelButton = h();\n\n          if (!this.okOnly) {\n            $cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n              domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_CANCEL) ? {} : htmlOrText(this.cancelTitleHtml, this.cancelTitle),\n              on: {\n                click: this.onCancel\n              },\n              ref: 'cancel-button'\n            }, // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n            this.normalizeSlot(SLOT_NAME_MODAL_CANCEL));\n          }\n\n          var $okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_OK) ? {} : htmlOrText(this.okTitleHtml, this.okTitle),\n            on: {\n              click: this.onOk\n            },\n            ref: 'ok-button'\n          }, // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n          this.normalizeSlot(SLOT_NAME_MODAL_OK));\n          $modalFooter = [$cancelButton, $okButton];\n        }\n\n        $footer = h('footer', {\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.modalFooterId\n          },\n          ref: 'footer'\n        }, [$modalFooter]);\n      } // Assemble modal content\n\n\n      var $modalContent = h('div', {\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          id: this.modalContentId,\n          tabindex: '-1'\n        },\n        ref: 'content'\n      }, [$header, $body, $footer]); // Tab traps to prevent page from scrolling to next element in\n      // tab index during enforce-focus tab cycle\n\n      var $tabTrapTop = h();\n      var $tabTrapBottom = h();\n\n      if (this.isVisible && !this.noEnforceFocus) {\n        $tabTrapTop = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'top-trap'\n        });\n        $tabTrapBottom = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'bottom-trap'\n        });\n      } // Modal dialog wrapper\n\n\n      var $modalDialog = h('div', {\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        },\n        ref: 'dialog'\n      }, [$tabTrapTop, $modalContent, $tabTrapBottom]); // Modal\n\n      var $modal = h('div', {\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        attrs: this.computedModalAttrs,\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        },\n        directives: [{\n          name: 'show',\n          value: this.isVisible\n        }],\n        ref: 'modal'\n      }, [$modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use `BVTransition` here due to the differences in\n      // transition durations for `.modal` and `.modal-dialog`\n      // At least until https://github.com/vuejs/vue/issues/9986 is resolved\n\n      $modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [$modal]); // Modal backdrop\n\n      var $backdrop = h();\n\n      if (!this.hideBackdrop && this.isVisible) {\n        $backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.modalBackdropId\n          }\n        }, // TODO: Rename slot to `backdrop` and deprecate `modal-backdrop`\n        this.normalizeSlot(SLOT_NAME_MODAL_BACKDROP));\n      }\n\n      $backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [$backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        style: this.modalOuterStyle,\n        attrs: this.computedAttrs,\n        key: \"modal-outer-\".concat(this[COMPONENT_UID_KEY])\n      }, [$modal, $backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BVTransporter, [this.makeModal(h)]);\n    }\n  }\n});","<template>\n  <b-modal\n      size=\"lg\"\n      class=\"phone-recording-recorder-selector\"\n      no-close-on-backdrop\n      no-close-on-esc\n      :title=\"'flow-builder.select-a-caller-from-the-list-below'|trans\"\n      :visible=\"isModalVisible\"\n      :ok-title=\"'flow-builder.call-this-phone-number'|trans\"\n      :cancel-title=\"'flow-builder.close'|trans\"\n      @ok=\"handleModalClosed\"\n      @cancel=\"handleModalCancelled\"\n      @close=\"handleModalCancelled\"\n  >\n    <div class=\"call-to-record-modal-table-container\">\n      <table class=\"table table-striped\">\n        <thead>\n        <tr>\n          <th class=\"recorder-selector-field\"></th>\n          <th>{{ 'flow-builder.name'|trans }}</th>\n          <th>{{ 'flow-builder.phone-number'|trans }}</th>\n        </tr>\n        </thead>\n        <tbody id=\"call-to-record-modal-list\">\n        <tr v-for=\"recorder in recorders\" class=\"call-to-record-item\">\n          <td class=\"recorder-selector-field\">\n            <input v-model=\"selectedRecorder\"\n                   type=\"radio\"\n                   x-name=\"calltorecord_caller_select\"\n                   :id=\"`call-to-record-caller-${recorder.id}`\"\n                   :value=\"recorder\">\n          </td>\n          <td><label :for=\"`call-to-record-caller-${recorder.id}`\" @click=\"setSelectedRecorder(recorder)\">{{ recorder.name }}</label></td>\n          <td><label :for=\"`call-to-record-caller-${recorder.id}`\" @click=\"setSelectedRecorder(recorder)\">{{ recorder.phone }}</label></td>\n        </tr>\n        </tbody>\n      </table>\n\n      <h4>{{ 'flow-builder.add-a-description-to-this-recording'|trans }}</h4>\n      <input v-model=\"description\"\n             type=\"text\"\n             class=\"form-control\"\n             rows=\"2\"\n             :placeholder=\"'flow-builder.optional-description'|trans\">\n\n      <h4>{{ 'flow-builder.add-a-new-recorder'|trans }}</h4>\n      <table class=\"table\">\n        <tbody>\n        <tr>\n          <td class=\"recorder-selector-field\">\n            <input v-model=\"selectedRecorder\"\n                   type=\"radio\"\n                   name=\"calltorecord_caller_select\"\n                   id=\"new_recorder_radio\"\n                   :value=\"draft\">\n          </td>\n          <td>\n            <input v-model=\"draft.name\"\n                   type=\"text\"\n                   :placeholder=\"'flow-builder.name'|trans\"\n                   @click=\"selectNewRecorder\"\n                   class=\"form-control\">\n          </td>\n          <td>\n            <input v-model=\"draft.phone\"\n                   type=\"text\"\n                   :placeholder=\"'flow-builder.phone-number'|trans\"\n                   @click=\"selectNewRecorder\"\n                   class=\"form-control\">\n          </td>\n        </tr>\n\n        </tbody>\n      </table>\n    </div>\n  </b-modal>\n</template>\n\n<script>\nimport { lang } from '@/lib/filters/lang'\nimport lodash from 'lodash'\nimport { mapState } from 'vuex'\nimport { BModal } from 'bootstrap-vue'\n\nexport default {\n  components: {\n    BModal,\n  },\n\n  props: {\n    isModalVisible: Boolean,\n  },\n\n  mixins: [lang],\n\n  data() {\n    return {\n      selectedRecorder: null,\n      description: null,\n      draft: null,\n    }\n  },\n\n  created() {\n    this.reset()\n  },\n\n  computed: {\n    ...mapState({\n      recorders: ({ audio: { recording: { recorders } } }) => recorders,\n    }),\n  },\n\n  methods: {\n    selectNewRecorder() {\n      this.draft.isNew = true\n      this.selectedRecorder = this.draft\n    },\n    setSelectedRecorder(recorder) {\n      this.selectedRecorder = recorder\n    },\n    reset() {\n      this.draft = {\n        name: null,\n        phone: null,\n        isNew: true,\n      }\n      this.description = null\n      this.selectedRecorder = null\n    },\n\n    handleModalClosed() {\n      const\n        { description } = this\n      const value = lodash.clone(this.selectedRecorder)\n\n      this.reset()\n      this.$emit('input', {\n        value,\n        recorder: value,\n        description,\n      })\n    },\n\n    handleModalCancelled() {\n      this.reset()\n\n      const\n        { description } = this\n      const value = lodash.clone(this.selectedRecorder)\n\n      this.$emit('input', {\n        value,\n        recorder: value,\n        description,\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.phone-recording-recorder-selector {\n  padding-top: 3em;\n\n  .modal-body {\n    h4, .h4 {\n      margin-top: 2em;\n    }\n  }\n\n  .table {\n    .recorder-selector-field {\n      width: 3em;\n      text-align: center;\n      vertical-align: middle;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhoneRecordingRecorderSelector.vue?vue&type=template&id=6630b4be&scoped=true&\"\nimport script from \"./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=6630b4be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6630b4be\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"isFeatureCallToRecordEnabled\" class=\"phone-recorder\">\n    <phone-recording-recorder-selector\n        v-model=\"callConfig\"\n        @input=\"handleRecorderSelectionChanged\"\n        :isModalVisible=\"isRecorderSelectorVisible\"/>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport PhoneRecordingRecorderSelector from './PhoneRecordingRecorderSelector'\n\nexport default {\n  components: {\n    PhoneRecordingRecorderSelector,\n  },\n\n  props: ['recordingKey'],\n\n  data() {\n    return {\n      // this is set by hooking into the v-model property of <phone-recording-recorder-selector v-model=\"callConfig\">\n      // which $emits a new value that results in setting this variable by reference.\n      callConfig: null,\n    }\n  },\n\n  computed: {\n    ...mapState({\n      // todo: deprecate (this + setAudioRecordingConfigVisibilityForSelectedBlock) in favor of modal + local state\n      isRecorderSelectorVisible: ({ audio: { recording: { isRecorderSelectorVisible } } }) => isRecorderSelectorVisible,\n    }),\n\n    ...mapGetters(['isFeatureCallToRecordEnabled']),\n  },\n\n  methods: {\n    handleRecorderSelectionChanged() {\n      this.$store.commit('setAudioRecordingConfigVisibilityForSelectedBlock', { isVisible: false })\n\n      if (!this.callConfig.recorder) {\n        return\n      }\n\n      const callConfig = {\n        key: this.recordingKey,\n        description: this.callConfig.description,\n        ...this.callConfig.recorder,\n      }\n\n      this.$store.dispatch('startAudioRecordingFor', callConfig)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhoneRecorder.vue?vue&type=template&id=58e4d142&\"\nimport script from \"./PhoneRecorder.vue?vue&type=script&lang=js&\"\nexport * from \"./PhoneRecorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-monitor\"},[(_vm.hasProgress)?_c('div',{staticClass:\"upload-monitor-progress\"},[_c('h6',[_vm._v(_vm._s(_vm._f(\"trans\")('trees.uploading'))+\"… \"+_vm._s(_vm.upload.file.name))]),_c('div',{staticClass:\"progress\"},[_c('b-progress',{staticClass:\"mb-3\",attrs:{\"value\":_vm.progress * 1,\"show-value\":\"\",\"animated\":\"\"}})],1)]):_vm._e(),(_vm.isFailure)?_c('p',{staticClass:\"text-danger small\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('trees.error-uploading-file-try-again'))+\" \"),(_vm.upload.message)?_c('span',{staticClass:\"details\"},[_vm._v(\"(\"+_vm._s(_vm.upload.message)+\")\")]):_vm._e()]):_vm._e(),(!_vm.hasProgress)?_vm._t(\"default\"):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Vue } from '../../vue';\nimport { NAME_PROGRESS_BAR } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { htmlOrText } from '../../utils/html';\nimport { isBoolean } from '../../utils/inspect';\nimport { mathMax, mathPow } from '../../utils/math';\nimport { toFixed, toFloat, toInteger } from '../../utils/number';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  animated: makeProp(PROP_TYPE_BOOLEAN, null),\n  label: makeProp(PROP_TYPE_STRING),\n  labelHtml: makeProp(PROP_TYPE_STRING),\n  max: makeProp(PROP_TYPE_NUMBER_STRING, null),\n  precision: makeProp(PROP_TYPE_NUMBER_STRING, null),\n  showProgress: makeProp(PROP_TYPE_BOOLEAN, null),\n  showValue: makeProp(PROP_TYPE_BOOLEAN, null),\n  striped: makeProp(PROP_TYPE_BOOLEAN, null),\n  value: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  variant: makeProp(PROP_TYPE_STRING)\n}, NAME_PROGRESS_BAR); // --- Main component ---\n// @vue/component\n\nexport var BProgressBar = /*#__PURE__*/Vue.extend({\n  name: NAME_PROGRESS_BAR,\n  mixins: [normalizeSlotMixin],\n  inject: {\n    bvProgress: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  props: props,\n  computed: {\n    progressBarClasses: function progressBarClasses() {\n      var computedAnimated = this.computedAnimated,\n          computedVariant = this.computedVariant;\n      return [computedVariant ? \"bg-\".concat(computedVariant) : '', this.computedStriped || computedAnimated ? 'progress-bar-striped' : '', computedAnimated ? 'progress-bar-animated' : ''];\n    },\n    progressBarStyles: function progressBarStyles() {\n      return {\n        width: 100 * (this.computedValue / this.computedMax) + '%'\n      };\n    },\n    computedValue: function computedValue() {\n      return toFloat(this.value, 0);\n    },\n    computedMax: function computedMax() {\n      // Prefer our max over parent setting\n      // Default to `100` for invalid values (`-x`, `0`, `NaN`)\n      var max = toFloat(this.max) || toFloat(this.bvProgress.max, 0);\n      return max > 0 ? max : 100;\n    },\n    computedPrecision: function computedPrecision() {\n      // Prefer our precision over parent setting\n      // Default to `0` for invalid values (`-x`, `NaN`)\n      return mathMax(toInteger(this.precision, toInteger(this.bvProgress.precision, 0)), 0);\n    },\n    computedProgress: function computedProgress() {\n      var precision = this.computedPrecision;\n      var p = mathPow(10, precision);\n      return toFixed(100 * p * this.computedValue / this.computedMax / p, precision);\n    },\n    computedVariant: function computedVariant() {\n      // Prefer our variant over parent setting\n      return this.variant || this.bvProgress.variant;\n    },\n    computedStriped: function computedStriped() {\n      // Prefer our striped over parent setting\n      return isBoolean(this.striped) ? this.striped : this.bvProgress.striped || false;\n    },\n    computedAnimated: function computedAnimated() {\n      // Prefer our animated over parent setting\n      return isBoolean(this.animated) ? this.animated : this.bvProgress.animated || false;\n    },\n    computedShowProgress: function computedShowProgress() {\n      // Prefer our showProgress over parent setting\n      return isBoolean(this.showProgress) ? this.showProgress : this.bvProgress.showProgress || false;\n    },\n    computedShowValue: function computedShowValue() {\n      // Prefer our showValue over parent setting\n      return isBoolean(this.showValue) ? this.showValue : this.bvProgress.showValue || false;\n    }\n  },\n  render: function render(h) {\n    var label = this.label,\n        labelHtml = this.labelHtml,\n        computedValue = this.computedValue,\n        computedPrecision = this.computedPrecision;\n    var $children;\n    var domProps = {};\n\n    if (this.hasNormalizedSlot()) {\n      $children = this.normalizeSlot();\n    } else if (label || labelHtml) {\n      domProps = htmlOrText(labelHtml, label);\n    } else if (this.computedShowProgress) {\n      $children = this.computedProgress;\n    } else if (this.computedShowValue) {\n      $children = toFixed(computedValue, computedPrecision);\n    }\n\n    return h('div', {\n      staticClass: 'progress-bar',\n      class: this.progressBarClasses,\n      style: this.progressBarStyles,\n      attrs: {\n        role: 'progressbar',\n        'aria-valuemin': '0',\n        'aria-valuemax': toString(this.computedMax),\n        'aria-valuenow': toFixed(computedValue, computedPrecision)\n      },\n      domProps: domProps\n    }, $children);\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_PROGRESS } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BProgressBar, props as BProgressBarProps } from './progress-bar'; // --- Props ---\n\nvar progressBarProps = omit(BProgressBarProps, ['label', 'labelHtml']);\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, progressBarProps), {}, {\n  animated: makeProp(PROP_TYPE_BOOLEAN, false),\n  height: makeProp(PROP_TYPE_STRING),\n  max: makeProp(PROP_TYPE_NUMBER_STRING, 100),\n  precision: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  showProgress: makeProp(PROP_TYPE_BOOLEAN, false),\n  showValue: makeProp(PROP_TYPE_BOOLEAN, false),\n  striped: makeProp(PROP_TYPE_BOOLEAN, false)\n})), NAME_PROGRESS); // --- Main component ---\n// @vue/component\n\nexport var BProgress = /*#__PURE__*/Vue.extend({\n  name: NAME_PROGRESS,\n  mixins: [normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvProgress: this\n    };\n  },\n  props: props,\n  computed: {\n    progressHeight: function progressHeight() {\n      return {\n        height: this.height || null\n      };\n    }\n  },\n  render: function render(h) {\n    var $childNodes = this.normalizeSlot();\n\n    if (!$childNodes) {\n      $childNodes = h(BProgressBar, {\n        props: pluckProps(progressBarProps, this.$props)\n      });\n    }\n\n    return h('div', {\n      staticClass: 'progress',\n      style: this.progressHeight\n    }, [$childNodes]);\n  }\n});","import axios from 'axios'\nimport lodash from 'lodash'\nimport Vue from 'vue'\n\nexport const Statuses = {\n  UPLOADING: -1,\n  UNINITIALIZED: 0,\n  SUCCESS: 1,\n  FAILURE: 2,\n}\n\nexport const UploadStatusToStateMap = {\n  [Statuses.UPLOADING]: 'uploading',\n  [Statuses.UNINITIALIZED]: 'uninitialized',\n  [Statuses.SUCCESS]: 'success',\n  [Statuses.FAILURE]: 'failure',\n}\n\nexport default {\n  namespaced: true,\n\n  state: {\n    uploadProgressByKey: {},\n    errorMessageByKey: {},\n\n    uploadsById: {},\n    uploadIdsByKey: {},\n  },\n\n  mutations: {\n    setErrorMessage({ errorMessageByKey }, { key, errorMessage }) {\n      Vue.set(errorMessageByKey, key, errorMessage)\n    },\n\n    setUploadProgress({ uploadProgressByKey }, { key, uploadProgress }) {\n      Vue.set(uploadProgressByKey, key, uploadProgress)\n    },\n\n    setUploadStatusFor({ uploadsById, uploadIdsByKey }, {\n      file: fileWithRefs, key, status, progress, message, cancel,\n    }) {\n      const file = lodash.pick(fileWithRefs, ['averageSpeed', 'currentSpeed', 'error', 'name', 'paused', 'relativePath', 'size', 'uniqueIdentifier'])\n      Vue.set(uploadsById, file.uniqueIdentifier, {\n        key, status, progress, message, cancel, file,\n      })\n      Vue.set(uploadIdsByKey, key, file.uniqueIdentifier)\n    },\n  },\n\n  actions: {\n    uploadFile({ commit }, {\n      key,\n      uploadUrl,\n      formDataFields,\n      onSuccess,\n      onError,\n    }) {\n      if (!uploadUrl) {\n        commit('setUploadProgress', { key, uploadProgress: null })\n        onError(new Error(`url was ${uploadUrl}`))\n        return\n      }\n\n      const formData = new FormData()\n      lodash.forEach(formDataFields, (value, name) => {\n        formData.set(name, value)\n      })\n\n      const config = {\n        onUploadProgress: (progressEvent) => {\n          commit('setUploadProgress', {\n            key,\n            uploadProgress: Math.floor((progressEvent.loaded * 100) / progressEvent.total),\n          })\n        },\n      }\n\n      axios.post(uploadUrl, formData, config)\n        .then((response) => {\n          commit('setUploadProgress', { key, uploadProgress: null })\n          onSuccess(response)\n        })\n        .catch((error) => {\n          commit('setUploadProgress', { key, uploadProgress: null })\n          onError(error)\n        })\n    },\n\n    // todo: this is slightly different, because it implements chunked+resumable uploads; generify\n    // todo: upgrade backend to use more recent composer package that's compatible w/ npm flow.js\n    // https://github.com/flowjs/flow-php-server\n    uploadFiles({ commit, dispatch, state }, { key, files, uploader }) { // todo: handle multi-file-per-key\n      const cancel = (_) => uploader.cancel()\n\n      files.forEach((file) => commit('setUploadStatusFor', {\n        file, key, progress: 0, status: Statuses.UNINITIALIZED, message: null, cancel,\n      }))\n\n      uploader.on('fileProgress', (file, e) => {\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: `Upload in progress... ${_.parseInt(file.progress() * 100)}%`}, {root: true})\n        console.debug(`Upload in progress... ${_.parseInt(file.progress() * 100)}%`)\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          progress: file.progress(),\n          status: Statuses.UPLOADING,\n          message: null,\n          cancel,\n        })\n      })\n\n      uploader.on('fileSuccess', (file, json) => {\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: 'Upload successful!', isComplete: true}, {root: true})\n        console.debug('Upload successful!')\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          progress: 1,\n          status: Statuses.SUCCESS,\n          message: null,\n          cancel,\n        })\n        // uploader.cancel() // clear for next batch\n      })\n\n      uploader.on('error', (json, file) => {\n        const { status_description } = JSON.parse(json) || {}\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: status_description, isComplete: true}, {root: true})\n        console.debug(`Upload has error ${status_description}`)\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          status: Statuses.FAILURE,\n          message: status_description,\n          cancel,\n        })\n        // uploader.cancel() // clear for retry\n      })\n\n      uploader.upload()\n      // TODO: enable showAppMessageFor and use it as follow\n      // dispatch('showAppMessageFor', {message: 'Upload in progress...'}, {root: true})\n      console.debug('Upload in progress...')\n    },\n  },\n}\n","<template>\n  <div class=\"upload-monitor\">\n    <div v-if=\"hasProgress\" class=\"upload-monitor-progress\">\n      <h6>{{ 'trees.uploading' | trans }}&hellip; {{ upload.file.name }}</h6>\n\n      <div class=\"progress\">\n        <b-progress :value=\"progress * 1\" show-value animated class=\"mb-3\"/>\n      </div>\n    </div>\n\n    <p v-if=\"isFailure\" class=\"text-danger small\">\n      {{ 'trees.error-uploading-file-try-again'|trans }}\n      <span v-if=\"upload.message\" class=\"details\">({{ upload.message }})</span>\n    </p>\n\n    <slot v-if=\"!hasProgress\"/>\n  </div>\n</template>\n\n<script>\nimport { lang } from '@/lib/filters/lang'\nimport lodash, { forEach } from 'lodash'\n\nimport { mapState } from 'vuex'\nimport { BProgress } from 'bootstrap-vue'\nimport multimediaUpload, { Statuses as UploadStatuses } from '@/store/trees/multimediaUpload'\n\nexport default {\n  props: ['uploadKey'],\n\n  mixins: [lang],\n\n  components: { BProgress },\n\n  computed: {\n    ...mapState('multimediaUpload', ['uploadsById', 'uploadIdsByKey']),\n\n    upload() {\n      return this.uploadsById[this.uploadIdsByKey[this.uploadKey]]\n    },\n\n    hasProgress() {\n      return this.upload\n          && this.upload.status !== UploadStatuses.SUCCESS\n          && this.upload.status !== UploadStatuses.FAILURE\n    },\n\n    isFailure() {\n      return this.upload && this.upload.status === UploadStatuses.FAILURE\n    },\n\n    progress() {\n      return lodash.get(this.upload, 'progress', 0) * 100\n    },\n  },\n\n  created() {\n    const { $store } = this\n    const modules = {\n      multimediaUpload,\n    }\n\n    forEach(modules, (v, k) => !$store.hasModule(k) && $store.registerModule(k, v))\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.progress {\n  margin-bottom: 0.5em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadMonitor.vue?vue&type=template&id=3101c22e&\"\nimport script from \"./UploadMonitor.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadMonitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  Getter,\n  Mutation,\n  namespace,\n} from 'vuex-class'\nimport {\n  IBlock,\n  IFlow,\n  IResource,\n  SupportedContentType,\n  SupportedMode,\n  IResourceValue as IResourceDefinitionVariantOverModes,\n} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport FlowUploader from '@/lib/mixins/FlowUploader'\nimport { Component, Prop } from 'vue-property-decorator'\nimport {\n  discoverContentTypesFor,\n  findOrGenerateStubbedVariantOn,\n  findResourceVariantOverModesOn, IResourceDefinitionVariantOverModesFilter,\n} from '@/store/flow/resource'\nimport AudioLibrarySelector from '@/components/common/AudioLibrarySelector.vue'\nimport { ValidationException } from '@floip/flow-runner/src/domain/exceptions/ValidationException'\nimport PhoneRecorder from '@/components/interaction-designer/block-editors/PhoneRecorder.vue'\nimport UploadMonitor from '../block-editors/UploadMonitor.vue'\nimport ResourceVariantTextEditor from './ResourceVariantTextEditor.vue'\nimport { ILanguage } from \"@floip/flow-runner/dist/flow-spec/ILanguage\"\nimport { mixins } from \"vue-class-component\"\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\n\n  interface IAudioFile {\n    id: string;\n    filename: string;\n    description: string;\n    language_id: string;\n    duration_seconds: string;\n    original_extension: string;\n    created_at: string;\n  }\n\n  interface IResourceDefinitionVariantOverModesWithOptionalValue extends Partial<IResourceDefinitionVariantOverModes> {\n    value?: IResourceDefinitionVariantOverModes['value']\n  }\n\n  @Component({\n    components: {\n      AudioLibrarySelector,\n      ResourceVariantTextEditor,\n      UploadMonitor,\n      PhoneRecorder,\n    },\n  })\nexport class ResourceEditor extends mixins(FlowUploader, Permissions, Routes, Lang) {\n  @Prop({ required: true }) block!: IBlock\n\n  @Prop({ required: true }) flow!: IFlow\n\n  @Prop() resource!: IResource\n\n  @Prop() label?: string | number\n\n    discoverContentTypesFor = discoverContentTypesFor\n\n    findOrGenerateStubbedVariantOn = findOrGenerateStubbedVariantOn\n\n    findResourceVariantOverModesOn = findResourceVariantOverModesOn\n\n    SupportedMode = SupportedMode\n\n    SupportedContentType = SupportedContentType\n\n    triggerRecordViaPhoneFor(langId: ILanguage['id']) {\n      this.$store.commit('setAudioRecordingConfigVisibilityForSelectedBlock', { langId, isVisible: true })\n    }\n\n    handleFilesSubmittedFor(key: string, { data }: { data: any }) {\n      console.debug('call handleFilesSubmittedFor')\n      this.$store.dispatch('multimediaUpload/uploadFiles', { ...data, key })\n    }\n\n    handleFileSuccessFor(key: string, langId: ILanguage['id'], event: any) {\n      const { data: { file, json } } = event\n      const { uuid: jsKey } = this.block\n      const {\n        audio_file_id: id,\n        audio_uuid: filename,\n        created_at: { date: created_at },\n        description,\n        duration_seconds,\n      } = JSON.parse(json)\n      const extension = description.split('.')[description.split('.').length - 1]\n      const uploadedAudio: IAudioFile = {\n        id,\n        filename,\n        description,\n        language_id: langId,\n        duration_seconds,\n        original_extension: extension,\n        created_at,\n      }\n\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resource.uuid,\n        filter: { language_id: langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR] },\n        value: description,\n      })\n      event.target.blur() // remove the focus from the `upload` Tab\n      this.pushAudioIntoLibrary(uploadedAudio)\n    }\n\n    findAudioResourceVariantFor(resource: IResource, filter: IResourceDefinitionVariantOverModesFilter) {\n      try {\n        return findResourceVariantOverModesOn(resource, filter).value\n      } catch (e) {\n        if (!(e instanceof ValidationException)) {\n          throw e\n        }\n\n        return null\n      }\n    }\n\n    @Getter availableAudio!: IAudioFile[]\n\n    @Getter isFeatureAudioUploadEnabled!: boolean\n\n    @Mutation pushAudioIntoLibrary!: (audio: IAudioFile) => void\n\n    @flowVuexNamespace.Action resource_setOrCreateValueModeSpecific!: ({ resourceId, filter, value }: { resourceId: IResource['uuid']; filter: IResourceDefinitionVariantOverModesWithOptionalValue; value: string }) => void\n\n    @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default ResourceEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResourceEditor.vue?vue&type=template&id=e6c6ccc8&\"\nimport script from \"./ResourceEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResourceEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".phone-recording-recorder-selector[data-v-6630b4be]{padding-top:3em}.phone-recording-recorder-selector .modal-body .h4[data-v-6630b4be],.phone-recording-recorder-selector .modal-body h4[data-v-6630b4be]{margin-top:2em}.phone-recording-recorder-selector .table .recorder-selector-field[data-v-6630b4be]{width:3em;text-align:center;vertical-align:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=custom&index=0&blockType=x-style&lang=scss&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=custom&index=0&blockType=x-style&lang=scss&scoped=true\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".btn-ghost{background:transparent;border:none}.audio-library-selection{position:relative;background-color:transparent!important;background-image:none!important;border-color:#ccc!important}.audio-library-selection .audio-library-selection-download-dropdown{position:absolute;right:1.6em;top:50%;margin-top:-8px;color:#888}.audio-library-selection .audio-library-selection-download-dropdown svg{vertical-align:middle}.audio-library-selection .audio-library-selection-clear-selection{margin-right:-7px}.audio-library-selection .audio-file-description{text-overflow:ellipsis;overflow:hidden;margin-bottom:3px}.audio-library-selection .vue-sound-wrapper{margin-bottom:8px;margin-left:1em}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-pause2,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-play3{font-size:130%;color:#888}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-pause2:hover,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-play3:hover{color:#000;text-decoration:none}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-download,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-stop2,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-volume-high,.audio-library-selection .vue-sound-wrapper .vue-sound__player .volume-toggle{display:none!important}.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-current,.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-separator,.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-total{font-size:80%;color:#888}.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-wrapper{text-align:center;width:71%!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-id text-right\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.block-id'))+\": \"),_c('em',[_vm._v(_vm._s(_vm.blockId))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { IBlock } from '@floip/flow-runner'\nimport { Component, Prop } from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport { mixins } from \"vue-class-component\";\n\n@Component({})\nclass BlockId extends mixins(Lang) {\n    @Prop()readonly block!: IBlock\n\n    get blockId(): string {\n      return this.block.uuid || ''\n    }\n  }\n\nexport default BlockId\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockId.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockId.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockId.vue?vue&type=template&id=9ef7b11c&\"\nimport script from \"./BlockId.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockId.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=custom&index=0&blockType=x-style&lang=scss&scoped=true\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"98e06cea\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=6630b4be&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=6630b4be&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"001dc3d2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".audio-library-search-field.dropdown .dropdown-menu[data-v-50208a5c]{display:block;min-width:100%}.audio-library-search-field.dropdown .dropdown-menu>li.pagers>a[data-v-50208a5c]{clear:none;margin-top:0;margin-bottom:0;padding-top:.5em;padding-bottom:.5em}.audio-library-search-field.dropdown .dropdown-menu>li.pagers>a.disabled[data-v-50208a5c]{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:not-allowed;color:#777}.close[data-v-50208a5c]{pointer-events:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".progress{margin-bottom:.5em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-variant-text-editor\"},[_c('div',{staticClass:\"content-editor\",class:{'content-editor-selected': !!_vm.content}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"},{name:\"focus\",rawName:\"v-focus\",value:(_vm.isSelected),expression:\"isSelected\"}],staticClass:\"form-control\",attrs:{\"placeholder\":_vm._f(\"trans\")((\"flow-builder.enter-\" + (_vm.resourceVariant.content_type.toString().toLowerCase()) + \"-content\"))},domProps:{\"value\":(_vm.content)},on:{\"focus\":_vm.select,\"blur\":_vm.deselect,\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})]),_c('div',{staticClass:\"content-toolbar\"},[(_vm.isEditable)?_c('span',{staticClass:\"text-muted transition-all\",class:{invisible: !_vm.characterCounter.count}},[_vm._v(\" \"+_vm._s(_vm.characterCounter.count)+\" characters \"),(_vm.mode === 'sms' && _vm.characterCounter.pages > 1)?[_vm._v(\" (\"+_vm._s(_vm.characterCounter.pages)+\" \"+_vm._s(_vm.characterCounter.hasUnicode ? 'unicode pages' : 'pages')+\") \")]:_vm._e()],2):_vm._e(),(_vm.doesContentContainExpression)?_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top.html\",value:((\"<p>\" + (_vm.trans('flow-builder.youre-using-floip-expressions')) + \"</p>\\n                     <p>\\n                       <strong>\" + (_vm.trans('flow-builder.pro-tip')) + \":</strong>\\n                       \" + (_vm.trans('flow-builder.floip-expressions-escape-with-double-at-symbol')) + \"\\n                     </p>\")),expression:\"`<p>${trans('flow-builder.youre-using-floip-expressions')}</p>\\n                     <p>\\n                       <strong>${trans('flow-builder.pro-tip')}:</strong>\\n                       ${trans('flow-builder.floip-expressions-escape-with-double-at-symbol')}\\n                     </p>`\",modifiers:{\"hover\":true,\"top\":true,\"html\":true}}],attrs:{\"href\":\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\",\"target\":\"_blank\"}},[_c('kbd',{staticStyle:{\"margin-left\":\"1em\"}},[_c('i',{staticClass:\"glyphicon glyphicon-console\"}),(_vm.doesContentContainExpressionError)?_c('i',{staticClass:\"glyphicon glyphicon glyphicon-remove-sign text-danger\"}):_c('i',{staticClass:\"glyphicon glyphicon-ok-sign text-success\"})])]):_vm._e(),(_vm.doesContentContainExpressionError)?_c('div',{staticClass:\"alert alert-danger\",staticStyle:{\"margin-top\":\"0.5em\"}},[_c('p',[_c('i',{staticClass:\"glyphicon glyphicon-remove-sign\"}),_c('strong',[_c('a',{attrs:{\"href\":\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\",\"target\":\"_blank\"}},[_vm._v(\"FLOIP Expression\")]),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.error-found'))+\" \")])]),_c('p',[_c('em',[_vm._v(\" \"+_vm._s(_vm.contentExpressionAST.message)+\" (\"),(_vm.contentExpressionAST.location.start.line !== 1)?_c('span',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.on-line'))+\" \"+_vm._s(_vm.contentExpressionAST.location.start.line)+\", \")]):_vm._e(),_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.at-character'))+\" \"+_vm._s(_vm.contentExpressionAST.location.start.column)+\") \")])])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"resource-variant-text-editor\">\n    <div class=\"content-editor\" :class=\"{'content-editor-selected': !!content}\">\n      <textarea v-model=\"content\"\n              v-focus=\"isSelected\"\n              @focus=\"select\"\n              @blur=\"deselect\"\n              :placeholder=\"`flow-builder.enter-${resourceVariant.content_type.toString().toLowerCase()}-content` | trans\"\n              class=\"form-control\"></textarea>\n\n      <!-- <button @click=\"select\"\n              class=\"btn btn-xs btn-secondary\">\n        <i class=\"glyphicon glyphicon-pencil\"></i>\n      </button> -->\n    </div>\n\n    <div class=\"content-toolbar\">\n<!--      <block-content-autogen-button-->\n<!--          v-if=\"enableAutogenButton\"-->\n<!--          :isEditable=\"isEditable\"-->\n<!--          :langId=\"langId\"-->\n<!--          :type=\"type\"-->\n<!--          :block=\"block\"-->\n<!--          class=\"pull-right\" />-->\n\n      <span v-if=\"isEditable\" class=\"text-muted transition-all\" :class=\"{invisible: !characterCounter.count}\">\n        {{characterCounter.count}} characters\n\n        <template v-if=\"mode === 'sms' && characterCounter.pages > 1\">\n          ({{characterCounter.pages}} {{characterCounter.hasUnicode ? 'unicode pages' : 'pages'}})\n        </template>\n      </span>\n\n      <a v-if=\"doesContentContainExpression\"\n         v-b-tooltip.hover.top.html=\"`<p>${trans('flow-builder.youre-using-floip-expressions')}</p>\n                     <p>\n                       <strong>${trans('flow-builder.pro-tip')}:</strong>\n                       ${trans('flow-builder.floip-expressions-escape-with-double-at-symbol')}\n                     </p>`\"\n        href=\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\"\n        target=\"_blank\">\n\n        <kbd style=\"margin-left: 1em\">\n          <i class=\"glyphicon glyphicon-console\"></i>\n          <i v-if=\"doesContentContainExpressionError\" class=\"glyphicon glyphicon glyphicon-remove-sign text-danger\"></i>\n          <i v-else class=\"glyphicon glyphicon-ok-sign text-success\"></i>\n        </kbd>\n      </a>\n\n      <div v-if=\"doesContentContainExpressionError\"\n          class=\"alert alert-danger\"\n          style=\"\n  margin-top: 0.5em;\n\">\n        <p>\n          <i class=\"glyphicon glyphicon-remove-sign\"></i>\n          <strong>\n            <a href=\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\"\n               target=\"_blank\">FLOIP Expression</a>\n            {{'flow-builder.error-found' | trans}}\n          </strong>\n        </p>\n\n        <p><!-- NOTE: Funky source formatting to mitigate spaces between parens -->\n          <em>\n            {{contentExpressionAST.message}}\n            (<span v-if=\"contentExpressionAST.location.start.line !== 1\">{{'flow-builder.on-line' | trans}}\n              {{contentExpressionAST.location.start.line}},\n            </span>{{'flow-builder.at-character' | trans}} {{contentExpressionAST.location.start.column}})\n          </em>\n        </p>\n      </div>\n    </div>\n\n<!--    <template v-if=\"!isEditable\">-->\n<!--      <p v-if=\"content\">{{content}}</p>-->\n<!--      <p>-->\n<!--        <em class=\"text-muted\">{{'flow-builder.no-sms-content-yet' | trans}}</em>-->\n<!--      </p>-->\n<!--    </template>-->\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { lang } from '@/lib/filters/lang'\nimport { parse as floipExpressionParser } from '@floip/expression-parser'\nimport { isObject, some } from 'lodash'\nimport VueFocus from 'vue-focus'\nimport { mapActions } from 'vuex'\nimport { BTooltip } from 'bootstrap-vue'\n\n// import BlockContentAutogenButton from './BlockContentAutogenButton'\n\nVue.component('b-tooltip', BTooltip)\n\nexport default {\n  components: {\n    // BlockContentAutogenButton,\n  },\n  mixins: [lang, VueFocus.mixin],\n\n  props: {\n    isEditable: Boolean,\n    resourceId: {\n      type: String,\n      default: null,\n    },\n    resourceVariant: {\n      type: Object, // as () => IResourceValue\n      default: null,\n    },\n    mode: {\n      type: String,\n      default: null,\n    },\n\n    enableAutogenButton: {\n      type: Boolean,\n      default: true,\n    },\n\n    // block: Object, // maybe!?\n    // langId: [String, Number],\n    // type: String,\n    // pathToTextContent: String,\n  },\n\n  data: () => ({ isSelected: false }),\n\n  computed: {\n    content: {\n      get() {\n        return this.resourceVariant.value\n      },\n\n      set(value) {\n        const { resourceId, mode } = this\n        const { language_id: languageId, content_type: contentType } = this.resourceVariant\n\n        this.resource_setOrCreateValueModeSpecific({\n          resourceId,\n          filter: { language_id: languageId, content_type: contentType, modes: [mode] },\n          value,\n        })\n      },\n    },\n\n    contentExpressionAST() {\n      let ast = []\n\n      try {\n        ast = floipExpressionParser(this.content)\n      } catch (e) {\n        if (e instanceof SyntaxError || e.name === 'SyntaxError') {\n          return e\n        }\n      }\n\n      const hasMembers = some(ast, isObject)\n      return hasMembers\n        ? ast\n        : null\n    },\n\n    doesContentContainExpression() {\n      return !!this.contentExpressionAST\n    },\n\n    doesContentContainExpressionError() {\n      return !!(this.contentExpressionAST instanceof Error)\n    },\n\n    characterCounter() {\n      const\n        hasUnicode = !/^[\\x00-\\x7F]*$/.test(this.content)\n      const count = this.content.length\n\n      console.debug('BlockTextContentEditorForLangAndType', 'characterCounter', { hasUnicode, count })\n\n      return {\n        hasUnicode,\n        count,\n        pages: hasUnicode ? Math.ceil(count / 70) : Math.ceil(count / 160),\n      }\n    },\n  },\n\n  methods: {\n    ...mapActions('flow', ['resource_setOrCreateValueModeSpecific']),\n\n    select() { this.isSelected = true },\n    deselect() { this.isSelected = false },\n\n    // debouncedSaveTree: debounce(function () {\n    //   this.$store.dispatch('attemptSaveTree')\n    // }, 500),\n  },\n}\n</script>\n\n<x-style lang=\"scss\" scoped>\n  .block-text-content-editor-for-lang-and-type {\n    margin-bottom: 0.5em;\n\n    .content-editor {\n      position: relative;\n\n      textarea {\n        height: 56px;\n      }\n\n      textarea, input[type=\"text\"] {\n        &:not(:focus) {\n          + button {\n            opacity: 1;\n          }\n        }\n\n        + button {\n          position: absolute;\n          bottom: 7px;\n          right: 10px; //15px + 7px; // 15px padding => parent, 8px padding => textarea\n\n          transition: opacity 200ms ease-in-out;\n          opacity: 0;\n        }\n      }\n\n      &-selected {\n        textarea, input[type=\"text\"] {\n          background-color: #F8F8F8;\n          //border-color: #DDDDDD;\n        }\n      }\n    }\n\n    .content-toolbar {\n      margin-top: 1px;\n    }\n  }\n\n  .invisible {\n    opacity: 0;\n  }\n</x-style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceVariantTextEditor.vue?vue&type=template&id=40ae6254&\"\nimport script from \"./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./ResourceVariantTextEditor.vue?vue&type=custom&index=0&blockType=x-style&lang=scss&scoped=true\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f82b14ce\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","/**\n * @license MIT\n */\n(function(window, document, undefined) {'use strict';\n  if (!window || !document) {\n    console.warn('Flowjs needs window and document objects to work');\n    return;\n  }\n  // ie10+\n  var ie10plus = window.navigator.msPointerEnabled;\n  /**\n   * Flow.js is a library providing multiple simultaneous, stable and\n   * resumable uploads via the HTML5 File API.\n   * @param [opts]\n   * @param {number|Function} [opts.chunkSize]\n   * @param {bool} [opts.forceChunkSize]\n   * @param {number} [opts.simultaneousUploads]\n   * @param {bool} [opts.singleFile]\n   * @param {string} [opts.fileParameterName]\n   * @param {number} [opts.progressCallbacksInterval]\n   * @param {number} [opts.speedSmoothingFactor]\n   * @param {Object|Function} [opts.query]\n   * @param {Object|Function} [opts.headers]\n   * @param {bool} [opts.withCredentials]\n   * @param {Function} [opts.preprocess]\n   * @param {string} [opts.method]\n   * @param {string|Function} [opts.testMethod]\n   * @param {string|Function} [opts.uploadMethod]\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\n   * @param {bool} [opts.allowDuplicateUploads]\n   * @param {string|Function} [opts.target]\n   * @param {number} [opts.maxChunkRetries]\n   * @param {number} [opts.chunkRetryInterval]\n   * @param {Array.<number>} [opts.permanentErrors]\n   * @param {Array.<number>} [opts.successStatuses]\n   * @param {Function} [opts.initFileFn]\n   * @param {Function} [opts.readFileFn]\n   * @param {Function} [opts.generateUniqueIdentifier]\n   * @constructor\n   */\n  function Flow(opts) {\n    /**\n     * Supported by browser?\n     * @type {boolean}\n     */\n    this.support = (\n        typeof File !== 'undefined' &&\n        typeof Blob !== 'undefined' &&\n        typeof FileList !== 'undefined' &&\n        (\n          !!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice ||\n          false\n        ) // slicing files support\n    );\n\n    if (!this.support) {\n      return ;\n    }\n\n    /**\n     * Check if directory upload is supported\n     * @type {boolean}\n     */\n    this.supportDirectory = (\n        /Chrome/.test(window.navigator.userAgent) ||\n        /Firefox/.test(window.navigator.userAgent) ||\n        /Edge/.test(window.navigator.userAgent)\n    );\n\n    /**\n     * List of FlowFile objects\n     * @type {Array.<FlowFile>}\n     */\n    this.files = [];\n\n    /**\n     * Default options for flow.js\n     * @type {Object}\n     */\n    this.defaults = {\n      chunkSize: 1024 * 1024,\n      forceChunkSize: false,\n      simultaneousUploads: 3,\n      singleFile: false,\n      fileParameterName: 'file',\n      progressCallbacksInterval: 500,\n      speedSmoothingFactor: 0.1,\n      query: {},\n      headers: {},\n      withCredentials: false,\n      preprocess: null,\n      changeRawDataBeforeSend: null,\n      method: 'multipart',\n      testMethod: 'GET',\n      uploadMethod: 'POST',\n      prioritizeFirstAndLastChunk: false,\n      allowDuplicateUploads: false,\n      target: '/',\n      testChunks: true,\n      generateUniqueIdentifier: null,\n      maxChunkRetries: 0,\n      chunkRetryInterval: null,\n      permanentErrors: [404, 413, 415, 500, 501],\n      successStatuses: [200, 201, 202],\n      onDropStopPropagation: false,\n      initFileFn: null,\n      readFileFn: webAPIFileRead\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = {};\n\n    /**\n     * List of events:\n     *  key stands for event name\n     *  value array list of callbacks\n     * @type {}\n     */\n    this.events = {};\n\n    var $ = this;\n\n    /**\n     * On drop event\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.onDrop = function (event) {\n      if ($.opts.onDropStopPropagation) {\n        event.stopPropagation();\n      }\n      event.preventDefault();\n      var dataTransfer = event.dataTransfer;\n      if (dataTransfer.items && dataTransfer.items[0] &&\n        dataTransfer.items[0].webkitGetAsEntry) {\n        $.webkitReadDataTransfer(event);\n      } else {\n        $.addFiles(dataTransfer.files, event);\n      }\n    };\n\n    /**\n     * Prevent default\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.preventEvent = function (event) {\n      event.preventDefault();\n    };\n\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = Flow.extend({}, this.defaults, opts || {});\n\n  }\n\n  Flow.prototype = {\n    /**\n     * Set a callback for an event, possible events:\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\n     * fileRemoved(file), fileRetry(file), fileError(file, message),\n     * complete(), progress(), error(message, file), pause()\n     * @function\n     * @param {string} event\n     * @param {Function} callback\n     */\n    on: function (event, callback) {\n      event = event.toLowerCase();\n      if (!this.events.hasOwnProperty(event)) {\n        this.events[event] = [];\n      }\n      this.events[event].push(callback);\n    },\n\n    /**\n     * Remove event callback\n     * @function\n     * @param {string} [event] removes all events if not specified\n     * @param {Function} [fn] removes all callbacks of event if not specified\n     */\n    off: function (event, fn) {\n      if (event !== undefined) {\n        event = event.toLowerCase();\n        if (fn !== undefined) {\n          if (this.events.hasOwnProperty(event)) {\n            arrayRemove(this.events[event], fn);\n          }\n        } else {\n          delete this.events[event];\n        }\n      } else {\n        this.events = {};\n      }\n    },\n\n    /**\n     * Fire an event\n     * @function\n     * @param {string} event event name\n     * @param {...} args arguments of a callback\n     * @return {bool} value is false if at least one of the event handlers which handled this event\n     * returned false. Otherwise it returns true.\n     */\n    fire: function (event, args) {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      event = event.toLowerCase();\n      var preventDefault = false;\n      if (this.events.hasOwnProperty(event)) {\n        each(this.events[event], function (callback) {\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\n        }, this);\n      }\n      if (event != 'catchall') {\n        args.unshift('catchAll');\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\n      }\n      return !preventDefault;\n    },\n\n    /**\n     * Read webkit dataTransfer object\n     * @param event\n     */\n    webkitReadDataTransfer: function (event) {\n      var $ = this;\n      var queue = event.dataTransfer.items.length;\n      var files = [];\n      each(event.dataTransfer.items, function (item) {\n        var entry = item.webkitGetAsEntry();\n        if (!entry) {\n          decrement();\n          return ;\n        }\n        if (entry.isFile) {\n          // due to a bug in Chrome's File System API impl - #149735\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\n        } else {\n          readDirectory(entry.createReader());\n        }\n      });\n      function readDirectory(reader) {\n        reader.readEntries(function (entries) {\n          if (entries.length) {\n            queue += entries.length;\n            each(entries, function(entry) {\n              if (entry.isFile) {\n                var fullPath = entry.fullPath;\n                entry.file(function (file) {\n                  fileReadSuccess(file, fullPath);\n                }, readError);\n              } else if (entry.isDirectory) {\n                readDirectory(entry.createReader());\n              }\n            });\n            readDirectory(reader);\n          } else {\n            decrement();\n          }\n        }, readError);\n      }\n      function fileReadSuccess(file, fullPath) {\n        // relative path should not start with \"/\"\n        file.relativePath = fullPath.substring(1);\n        files.push(file);\n        decrement();\n      }\n      function readError(fileError) {\n        decrement();\n        throw fileError;\n      }\n      function decrement() {\n        if (--queue == 0) {\n          $.addFiles(files, event);\n        }\n      }\n    },\n\n    /**\n     * Generate unique identifier for a file\n     * @function\n     * @param {FlowFile} file\n     * @returns {string}\n     */\n    generateUniqueIdentifier: function (file) {\n      var custom = this.opts.generateUniqueIdentifier;\n      if (typeof custom === 'function') {\n        return custom(file);\n      }\n      // Some confusion in different versions of Firefox\n      var relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\n      return file.size + '-' + relativePath.replace(/[^0-9a-zA-Z_-]/img, '');\n    },\n\n    /**\n     * Upload next chunk from the queue\n     * @function\n     * @returns {boolean}\n     * @private\n     */\n    uploadNextChunk: function (preventEvents) {\n      // In some cases (such as videos) it's really handy to upload the first\n      // and last chunk of a file quickly; this let's the server check the file's\n      // metadata and determine if there's even a point in continuing.\n      var found = false;\n      if (this.opts.prioritizeFirstAndLastChunk) {\n        each(this.files, function (file) {\n          if (!file.paused && file.chunks.length &&\n            file.chunks[0].status() === 'pending') {\n            file.chunks[0].send();\n            found = true;\n            return false;\n          }\n          if (!file.paused && file.chunks.length > 1 &&\n            file.chunks[file.chunks.length - 1].status() === 'pending') {\n            file.chunks[file.chunks.length - 1].send();\n            found = true;\n            return false;\n          }\n        });\n        if (found) {\n          return found;\n        }\n      }\n\n      // Now, simply look for the next, best thing to upload\n      each(this.files, function (file) {\n        if (!file.paused) {\n          each(file.chunks, function (chunk) {\n            if (chunk.status() === 'pending') {\n              chunk.send();\n              found = true;\n              return false;\n            }\n          });\n        }\n        if (found) {\n          return false;\n        }\n      });\n      if (found) {\n        return true;\n      }\n\n      // The are no more outstanding chunks to upload, check is everything is done\n      var outstanding = false;\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          outstanding = true;\n          return false;\n        }\n      });\n      if (!outstanding && !preventEvents) {\n        // All chunks have been uploaded, complete\n        async(function () {\n          this.fire('complete');\n        }, this);\n      }\n      return false;\n    },\n\n\n    /**\n     * Assign a browse action to one or more DOM nodes.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     * @param {boolean} isDirectory Pass in true to allow directories to\n     * @param {boolean} singleFile prevent multi file upload\n     * @param {Object} attributes set custom attributes:\n     *  http://www.w3.org/TR/html-markup/input.file.html#input.file-attributes\n     *  eg: accept: 'image/*'\n     * be selected (Chrome only).\n     */\n    assignBrowse: function (domNodes, isDirectory, singleFile, attributes) {\n      if (domNodes instanceof Element) {\n        domNodes = [domNodes];\n      }\n\n      each(domNodes, function (domNode) {\n        var input;\n        if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\n          input = domNode;\n        } else {\n          input = document.createElement('input');\n          input.setAttribute('type', 'file');\n          // display:none - not working in opera 12\n          extend(input.style, {\n            visibility: 'hidden',\n            position: 'absolute',\n            width: '1px',\n            height: '1px'\n          });\n          // for opera 12 browser, input must be assigned to a document\n          domNode.appendChild(input);\n          // https://developer.mozilla.org/en/using_files_from_web_applications)\n          // event listener is executed two times\n          // first one - original mouse click event\n          // second - input.click(), input is inside domNode\n          domNode.addEventListener('click', function() {\n            input.click();\n          }, false);\n        }\n        if (!this.opts.singleFile && !singleFile) {\n          input.setAttribute('multiple', 'multiple');\n        }\n        if (isDirectory) {\n          input.setAttribute('webkitdirectory', 'webkitdirectory');\n        }\n        each(attributes, function (value, key) {\n          input.setAttribute(key, value);\n        });\n        // When new files are added, simply append them to the overall list\n        var $ = this;\n        input.addEventListener('change', function (e) {\n       \t  if (e.target.value) {\n            $.addFiles(e.target.files, e);\n            e.target.value = '';\n       \t  }\n        }, false);\n      }, this);\n    },\n\n    /**\n     * Assign one or more DOM nodes as a drop target.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     */\n    assignDrop: function (domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(domNodes, function (domNode) {\n        domNode.addEventListener('dragover', this.preventEvent, false);\n        domNode.addEventListener('dragenter', this.preventEvent, false);\n        domNode.addEventListener('drop', this.onDrop, false);\n      }, this);\n    },\n\n    /**\n     * Un-assign drop event from DOM nodes\n     * @function\n     * @param domNodes\n     */\n    unAssignDrop: function (domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(domNodes, function (domNode) {\n        domNode.removeEventListener('dragover', this.preventEvent);\n        domNode.removeEventListener('dragenter', this.preventEvent);\n        domNode.removeEventListener('drop', this.onDrop);\n      }, this);\n    },\n\n    /**\n     * Returns a boolean indicating whether or not the instance is currently\n     * uploading anything.\n     * @function\n     * @returns {boolean}\n     */\n    isUploading: function () {\n      var uploading = false;\n      each(this.files, function (file) {\n        if (file.isUploading()) {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * should upload next chunk\n     * @function\n     * @returns {boolean|number}\n     */\n    _shouldUploadNext: function () {\n      var num = 0;\n      var should = true;\n      var simultaneousUploads = this.opts.simultaneousUploads;\n      each(this.files, function (file) {\n        each(file.chunks, function(chunk) {\n          if (chunk.status() === 'uploading') {\n            num++;\n            if (num >= simultaneousUploads) {\n              should = false;\n              return false;\n            }\n          }\n        });\n      });\n      // if should is true then return uploading chunks's length\n      return should && num;\n    },\n\n    /**\n     * Start or resume uploading.\n     * @function\n     */\n    upload: function () {\n      // Make sure we don't start too many uploads at once\n      var ret = this._shouldUploadNext();\n      if (ret === false) {\n        return;\n      }\n      // Kick off the queue\n      this.fire('uploadStart');\n      var started = false;\n      for (var num = 1; num <= this.opts.simultaneousUploads - ret; num++) {\n        started = this.uploadNextChunk(true) || started;\n      }\n      if (!started) {\n        async(function () {\n          this.fire('complete');\n        }, this);\n      }\n    },\n\n    /**\n     * Resume uploading.\n     * @function\n     */\n    resume: function () {\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          file.resume();\n        }\n      });\n    },\n\n    /**\n     * Pause uploading.\n     * @function\n     */\n    pause: function () {\n      each(this.files, function (file) {\n        file.pause();\n      });\n    },\n\n    /**\n     * Cancel upload of all FlowFile objects and remove them from the list.\n     * @function\n     */\n    cancel: function () {\n      for (var i = this.files.length - 1; i >= 0; i--) {\n        this.files[i].cancel();\n      }\n    },\n\n    /**\n     * Returns a number between 0 and 1 indicating the current upload progress\n     * of all files.\n     * @function\n     * @returns {number}\n     */\n    progress: function () {\n      var totalDone = 0;\n      var totalSize = 0;\n      // Resume all chunks currently being uploaded\n      each(this.files, function (file) {\n        totalDone += file.progress() * file.size;\n        totalSize += file.size;\n      });\n      return totalSize > 0 ? totalDone / totalSize : 0;\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {File} file\n     * @param {Event} [event] event is optional\n     */\n    addFile: function (file, event) {\n      this.addFiles([file], event);\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {FileList|Array} fileList\n     * @param {Event} [event] event is optional\n     */\n    addFiles: function (fileList, event) {\n      var files = [];\n      each(fileList, function (file) {\n        // https://github.com/flowjs/flow.js/issues/55\n        if ((!ie10plus || ie10plus && file.size > 0) && !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.'))) {\n          var uniqueIdentifier = this.generateUniqueIdentifier(file);\n          if (this.opts.allowDuplicateUploads || !this.getFromUniqueIdentifier(uniqueIdentifier)) {\n            var f = new FlowFile(this, file, uniqueIdentifier);\n            if (this.fire('fileAdded', f, event)) {\n              files.push(f);\n            }\n          }\n        }\n      }, this);\n      if (this.fire('filesAdded', files, event)) {\n        each(files, function (file) {\n          if (this.opts.singleFile && this.files.length > 0) {\n            this.removeFile(this.files[0]);\n          }\n          this.files.push(file);\n        }, this);\n        this.fire('filesSubmitted', files, event);\n      }\n    },\n\n\n    /**\n     * Cancel upload of a specific FlowFile object from the list.\n     * @function\n     * @param {FlowFile} file\n     */\n    removeFile: function (file) {\n      for (var i = this.files.length - 1; i >= 0; i--) {\n        if (this.files[i] === file) {\n          this.files.splice(i, 1);\n          file.abort();\n          this.fire('fileRemoved', file);\n        }\n      }\n    },\n\n    /**\n     * Look up a FlowFile object by its unique identifier.\n     * @function\n     * @param {string} uniqueIdentifier\n     * @returns {boolean|FlowFile} false if file was not found\n     */\n    getFromUniqueIdentifier: function (uniqueIdentifier) {\n      var ret = false;\n      each(this.files, function (file) {\n        if (file.uniqueIdentifier === uniqueIdentifier) {\n          ret = file;\n        }\n      });\n      return ret;\n    },\n\n    /**\n     * Returns the total size of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    getSize: function () {\n      var totalSize = 0;\n      each(this.files, function (file) {\n        totalSize += file.size;\n      });\n      return totalSize;\n    },\n\n    /**\n     * Returns the total size uploaded of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = 0;\n      each(this.files, function (file) {\n        size += file.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining: function () {\n      var sizeDelta = 0;\n      var averageSpeed = 0;\n      each(this.files, function (file) {\n        if (!file.paused && !file.error) {\n          sizeDelta += file.size - file.sizeUploaded();\n          averageSpeed += file.averageSpeed;\n        }\n      });\n      if (sizeDelta && !averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!sizeDelta && !averageSpeed) {\n        return 0;\n      }\n      return Math.floor(sizeDelta / averageSpeed);\n    }\n  };\n\n\n\n\n\n\n  /**\n   * FlowFile class\n   * @name FlowFile\n   * @param {Flow} flowObj\n   * @param {File} file\n   * @param {string} uniqueIdentifier\n   * @constructor\n   */\n  function FlowFile(flowObj, file, uniqueIdentifier) {\n\n    /**\n     * Reference to parent Flow instance\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Used to store the bytes read\n     * @type {Blob|string}\n     */\n    this.bytes = null;\n\n    /**\n     * Reference to file\n     * @type {File}\n     */\n    this.file = file;\n\n    /**\n     * File name. Some confusion in different versions of Firefox\n     * @type {string}\n     */\n    this.name = file.fileName || file.name;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.size = file.size;\n\n    /**\n     * Relative file path\n     * @type {string}\n     */\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\n\n    /**\n     * File unique identifier\n     * @type {string}\n     */\n    this.uniqueIdentifier = (uniqueIdentifier === undefined ? flowObj.generateUniqueIdentifier(file) : uniqueIdentifier);\n\n    /**\n     * Size of Each Chunk\n     * @type {number}\n     */\n    this.chunkSize = 0;\n\n    /**\n     * List of chunks\n     * @type {Array.<FlowChunk>}\n     */\n    this.chunks = [];\n\n    /**\n     * Indicated if file is paused\n     * @type {boolean}\n     */\n    this.paused = false;\n\n    /**\n     * Indicated if file has encountered an error\n     * @type {boolean}\n     */\n    this.error = false;\n\n    /**\n     * Average upload speed\n     * @type {number}\n     */\n    this.averageSpeed = 0;\n\n    /**\n     * Current upload speed\n     * @type {number}\n     */\n    this.currentSpeed = 0;\n\n    /**\n     * Date then progress was called last time\n     * @type {number}\n     * @private\n     */\n    this._lastProgressCallback = Date.now();\n\n    /**\n     * Previously uploaded file size\n     * @type {number}\n     * @private\n     */\n    this._prevUploadedSize = 0;\n\n    /**\n     * Holds previous progress\n     * @type {number}\n     * @private\n     */\n    this._prevProgress = 0;\n\n    this.bootstrap();\n  }\n\n  FlowFile.prototype = {\n    /**\n     * Update speed parameters\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\n     * @function\n     */\n    measureSpeed: function () {\n      var timeSpan = Date.now() - this._lastProgressCallback;\n      if (!timeSpan) {\n        return ;\n      }\n      var smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\n      var uploaded = this.sizeUploaded();\n      // Prevent negative upload speed after file upload resume\n      this.currentSpeed = Math.max((uploaded - this._prevUploadedSize) / timeSpan * 1000, 0);\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\n      this._prevUploadedSize = uploaded;\n    },\n\n    /**\n     * For internal usage only.\n     * Callback when something happens within the chunk.\n     * @function\n     * @param {FlowChunk} chunk\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\n     * @param {string} [message]\n     */\n    chunkEvent: function (chunk, event, message) {\n      switch (event) {\n        case 'progress':\n          if (Date.now() - this._lastProgressCallback <\n            this.flowObj.opts.progressCallbacksInterval) {\n            break;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this, chunk);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          break;\n        case 'error':\n          this.error = true;\n          this.abort(true);\n          this.flowObj.fire('fileError', this, message, chunk);\n          this.flowObj.fire('error', message, this, chunk);\n          break;\n        case 'success':\n          if (this.error) {\n            return;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this, chunk);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          if (this.isComplete()) {\n            this.currentSpeed = 0;\n            this.averageSpeed = 0;\n            this.flowObj.fire('fileSuccess', this, message, chunk);\n          }\n          break;\n        case 'retry':\n          this.flowObj.fire('fileRetry', this, chunk);\n          break;\n      }\n    },\n\n    /**\n     * Pause file upload\n     * @function\n     */\n    pause: function() {\n      this.paused = true;\n      this.abort();\n    },\n\n    /**\n     * Resume file upload\n     * @function\n     */\n    resume: function() {\n      this.paused = false;\n      this.flowObj.upload();\n    },\n\n    /**\n     * Abort current upload\n     * @function\n     */\n    abort: function (reset) {\n      this.currentSpeed = 0;\n      this.averageSpeed = 0;\n      var chunks = this.chunks;\n      if (reset) {\n        this.chunks = [];\n      }\n      each(chunks, function (c) {\n        if (c.status() === 'uploading') {\n          c.abort();\n          this.flowObj.uploadNextChunk();\n        }\n      }, this);\n    },\n\n    /**\n     * Cancel current upload and remove from a list\n     * @function\n     */\n    cancel: function () {\n      this.flowObj.removeFile(this);\n    },\n\n    /**\n     * Retry aborted file upload\n     * @function\n     */\n    retry: function () {\n      this.bootstrap();\n      this.flowObj.upload();\n    },\n\n    /**\n     * Clear current chunks and slice file again\n     * @function\n     */\n    bootstrap: function () {\n      if (typeof this.flowObj.opts.initFileFn === \"function\") {\n        this.flowObj.opts.initFileFn(this);\n      }\n\n      this.abort(true);\n      this.error = false;\n      // Rebuild stack of chunks from file\n      this._prevProgress = 0;\n      var round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\n      this.chunkSize = evalOpts(this.flowObj.opts.chunkSize, this);\n      var chunks = Math.max(\n        round(this.size / this.chunkSize), 1\n      );\n      for (var offset = 0; offset < chunks; offset++) {\n        this.chunks.push(\n          new FlowChunk(this.flowObj, this, offset)\n        );\n      }\n    },\n\n    /**\n     * Get current upload progress status\n     * @function\n     * @returns {number} from 0 to 1\n     */\n    progress: function () {\n      if (this.error) {\n        return 1;\n      }\n      if (this.chunks.length === 1) {\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\n        return this._prevProgress;\n      }\n      // Sum up progress across everything\n      var bytesLoaded = 0;\n      each(this.chunks, function (c) {\n        // get chunk progress relative to entire file\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\n      });\n      var percent = bytesLoaded / this.size;\n      // We don't want to lose percentages when an upload is paused\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.9999 ? 1 : percent);\n      return this._prevProgress;\n    },\n\n    /**\n     * Indicates if file is being uploaded at the moment\n     * @function\n     * @returns {boolean}\n     */\n    isUploading: function () {\n      var uploading = false;\n      each(this.chunks, function (chunk) {\n        if (chunk.status() === 'uploading') {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Indicates if file is has finished uploading and received a response\n     * @function\n     * @returns {boolean}\n     */\n    isComplete: function () {\n      var outstanding = false;\n      each(this.chunks, function (chunk) {\n        var status = chunk.status();\n        if (status === 'pending' || status === 'uploading' || status === 'reading' || chunk.preprocessState === 1 || chunk.readState === 1) {\n          outstanding = true;\n          return false;\n        }\n      });\n      return !outstanding;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = 0;\n      each(this.chunks, function (chunk) {\n        size += chunk.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining: function () {\n      if (this.paused || this.error) {\n        return 0;\n      }\n      var delta = this.size - this.sizeUploaded();\n      if (delta && !this.averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!delta && !this.averageSpeed) {\n        return 0;\n      }\n      return Math.floor(delta / this.averageSpeed);\n    },\n\n    /**\n     * Get file type\n     * @function\n     * @returns {string}\n     */\n    getType: function () {\n      return this.file.type && this.file.type.split('/')[1];\n    },\n\n    /**\n     * Get file extension\n     * @function\n     * @returns {string}\n     */\n    getExtension: function () {\n      return this.name.substr((~-this.name.lastIndexOf(\".\") >>> 0) + 2).toLowerCase();\n    }\n  };\n\n  /**\n   * Default read function using the webAPI\n   *\n   * @function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk)\n   *\n   */\n  function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk) {\n    var function_name = 'slice';\n\n    if (fileObj.file.slice)\n      function_name =  'slice';\n    else if (fileObj.file.mozSlice)\n      function_name = 'mozSlice';\n    else if (fileObj.file.webkitSlice)\n      function_name = 'webkitSlice';\n\n    chunk.readFinished(fileObj.file[function_name](startByte, endByte, fileType));\n  }\n\n\n  /**\n   * Class for storing a single chunk\n   * @name FlowChunk\n   * @param {Flow} flowObj\n   * @param {FlowFile} fileObj\n   * @param {number} offset\n   * @constructor\n   */\n  function FlowChunk(flowObj, fileObj, offset) {\n\n    /**\n     * Reference to parent flow object\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to parent FlowFile object\n     * @type {FlowFile}\n     */\n    this.fileObj = fileObj;\n\n    /**\n     * File offset\n     * @type {number}\n     */\n    this.offset = offset;\n\n    /**\n     * Indicates if chunk existence was checked on the server\n     * @type {boolean}\n     */\n    this.tested = false;\n\n    /**\n     * Number of retries performed\n     * @type {number}\n     */\n    this.retries = 0;\n\n    /**\n     * Pending retry\n     * @type {boolean}\n     */\n    this.pendingRetry = false;\n\n    /**\n     * Preprocess state\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\n     */\n    this.preprocessState = 0;\n\n    /**\n     * Read state\n     * @type {number} 0 = not read, 1 = reading, 2 = finished\n     */\n    this.readState = 0;\n\n\n    /**\n     * Bytes transferred from total request size\n     * @type {number}\n     */\n    this.loaded = 0;\n\n    /**\n     * Total request size\n     * @type {number}\n     */\n    this.total = 0;\n\n    /**\n     * Size of a chunk\n     * @type {number}\n     */\n    this.chunkSize = this.fileObj.chunkSize;\n\n    /**\n     * Chunk start byte in a file\n     * @type {number}\n     */\n    this.startByte = this.offset * this.chunkSize;\n\n    /**\n     * A specific filename for this chunk which otherwise default to the main name\n     * @type {string}\n     */\n    this.filename = null;\n\n    /**\n      * Compute the endbyte in a file\n      *\n      */\n    this.computeEndByte = function() {\n      var endByte = Math.min(this.fileObj.size, (this.offset + 1) * this.chunkSize);\n      if (this.fileObj.size - endByte < this.chunkSize && !this.flowObj.opts.forceChunkSize) {\n        // The last chunk will be bigger than the chunk size,\n        // but less than 2 * this.chunkSize\n        endByte = this.fileObj.size;\n      }\n      return endByte;\n    }\n\n    /**\n     * Chunk end byte in a file\n     * @type {number}\n     */\n    this.endByte = this.computeEndByte();\n\n    /**\n     * XMLHttpRequest\n     * @type {XMLHttpRequest}\n     */\n    this.xhr = null;\n\n    var $ = this;\n\n    /**\n     * Send chunk event\n     * @param event\n     * @param {...} args arguments of a callback\n     */\n    this.event = function (event, args) {\n      args = Array.prototype.slice.call(arguments);\n      args.unshift($);\n      $.fileObj.chunkEvent.apply($.fileObj, args);\n    };\n    /**\n     * Catch progress event\n     * @param {ProgressEvent} event\n     */\n    this.progressHandler = function(event) {\n      if (event.lengthComputable) {\n        $.loaded = event.loaded ;\n        $.total = event.total;\n      }\n      $.event('progress', event);\n    };\n\n    /**\n     * Catch test event\n     * @param {Event} event\n     */\n    this.testHandler = function(event) {\n      var status = $.status(true);\n      if (status === 'error') {\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (status === 'success') {\n        $.tested = true;\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        // Error might be caused by file pause method\n        // Chunks does not exist on the server side\n        $.tested = true;\n        $.send();\n      }\n    };\n\n    /**\n     * Upload has stopped\n     * @param {Event} event\n     */\n    this.doneHandler = function(event) {\n      var status = $.status();\n      if (status === 'success' || status === 'error') {\n        delete this.data;\n        $.event(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        $.event('retry', $.message());\n        $.pendingRetry = true;\n        $.abort();\n        $.retries++;\n        var retryInterval = $.flowObj.opts.chunkRetryInterval;\n        if (retryInterval !== null) {\n          setTimeout(function () {\n            $.send();\n          }, retryInterval);\n        } else {\n          $.send();\n        }\n      }\n    };\n  }\n\n  FlowChunk.prototype = {\n    /**\n     * Get params for a request\n     * @function\n     */\n    getParams: function () {\n      return {\n        flowChunkNumber: this.offset + 1,\n        flowChunkSize: this.chunkSize,\n        flowCurrentChunkSize: this.endByte - this.startByte,\n        flowTotalSize: this.fileObj.size,\n        flowIdentifier: this.fileObj.uniqueIdentifier,\n        flowFilename: this.fileObj.name,\n        flowRelativePath: this.fileObj.relativePath,\n        flowTotalChunks: this.fileObj.chunks.length\n      };\n    },\n\n    /**\n     * Get target option with query params\n     * @function\n     * @param params\n     * @returns {string}\n     */\n    getTarget: function(target, params){\n      if (params.length == 0) {\n\treturn target;\n      }\n\n      if(target.indexOf('?') < 0) {\n        target += '?';\n      } else {\n        target += '&';\n      }\n      return target + params.join('&');\n    },\n\n    /**\n     * Makes a GET request without any data to see if the chunk has already\n     * been uploaded in a previous session\n     * @function\n     */\n    test: function () {\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.addEventListener(\"load\", this.testHandler, false);\n      this.xhr.addEventListener(\"error\", this.testHandler, false);\n      var testMethod = evalOpts(this.flowObj.opts.testMethod, this.fileObj, this);\n      var data = this.prepareXhrRequest(testMethod, true);\n      this.xhr.send(data);\n    },\n\n    /**\n     * Finish preprocess state\n     * @function\n     */\n    preprocessFinished: function () {\n      // Re-compute the endByte after the preprocess function to allow an\n      // implementer of preprocess to set the fileObj size\n      this.endByte = this.computeEndByte();\n\n      this.preprocessState = 2;\n      this.send();\n    },\n\n    /**\n     * Finish read state\n     * @function\n     */\n    readFinished: function (bytes) {\n      this.readState = 2;\n      this.bytes = bytes;\n      this.send();\n    },\n\n\n    /**\n     * Uploads the actual data in a POST call\n     * @function\n     */\n    send: function () {\n      var preprocess = this.flowObj.opts.preprocess;\n      var read = this.flowObj.opts.readFileFn;\n      if (typeof preprocess === 'function') {\n        switch (this.preprocessState) {\n          case 0:\n            this.preprocessState = 1;\n            preprocess(this);\n            return;\n          case 1:\n            return;\n        }\n      }\n      switch (this.readState) {\n        case 0:\n          this.readState = 1;\n          read(this.fileObj, this.startByte, this.endByte, this.fileObj.file.type, this);\n          return;\n        case 1:\n          return;\n      }\n      if (this.flowObj.opts.testChunks && !this.tested) {\n        this.test();\n        return;\n      }\n\n      this.loaded = 0;\n      this.total = 0;\n      this.pendingRetry = false;\n\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\n      this.xhr.addEventListener(\"load\", this.doneHandler, false);\n      this.xhr.addEventListener(\"error\", this.doneHandler, false);\n\n      var uploadMethod = evalOpts(this.flowObj.opts.uploadMethod, this.fileObj, this);\n      var data = this.prepareXhrRequest(uploadMethod, false, this.flowObj.opts.method, this.bytes);\n      var changeRawDataBeforeSend = this.flowObj.opts.changeRawDataBeforeSend;\n      if (typeof changeRawDataBeforeSend === 'function') {\n        data = changeRawDataBeforeSend(this, data);\n      }\n      this.xhr.send(data);\n    },\n\n    /**\n     * Abort current xhr request\n     * @function\n     */\n    abort: function () {\n      // Abort and reset\n      var xhr = this.xhr;\n      this.xhr = null;\n      if (xhr) {\n        xhr.abort();\n      }\n    },\n\n    /**\n     * Retrieve current chunk upload status\n     * @function\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\n     */\n    status: function (isTest) {\n      if (this.readState === 1) {\n        return 'reading';\n      } else if (this.pendingRetry || this.preprocessState === 1) {\n        // if pending retry then that's effectively the same as actively uploading,\n        // there might just be a slight delay before the retry starts\n        return 'uploading';\n      } else if (!this.xhr) {\n        return 'pending';\n      } else if (this.xhr.readyState < 4) {\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\n        // or 'LOADING' - meaning that stuff is happening\n        return 'uploading';\n      } else {\n        if (this.flowObj.opts.successStatuses.indexOf(this.xhr.status) > -1) {\n          // HTTP 200, perfect\n\t\t      // HTTP 202 Accepted - The request has been accepted for processing, but the processing has not been completed.\n          return 'success';\n        } else if (this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\n            !isTest && this.retries >= this.flowObj.opts.maxChunkRetries) {\n          // HTTP 413/415/500/501, permanent error\n          return 'error';\n        } else {\n          // this should never happen, but we'll reset and queue a retry\n          // a likely case for this would be 503 service unavailable\n          this.abort();\n          return 'pending';\n        }\n      }\n    },\n\n    /**\n     * Get response from xhr request\n     * @function\n     * @returns {String}\n     */\n    message: function () {\n      return this.xhr ? this.xhr.responseText : '';\n    },\n\n    /**\n     * Get upload progress\n     * @function\n     * @returns {number}\n     */\n    progress: function () {\n      if (this.pendingRetry) {\n        return 0;\n      }\n      var s = this.status();\n      if (s === 'success' || s === 'error') {\n        return 1;\n      } else if (s === 'pending') {\n        return 0;\n      } else {\n        return this.total > 0 ? this.loaded / this.total : 0;\n      }\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded: function () {\n      var size = this.endByte - this.startByte;\n      // can't return only chunk.loaded value, because it is bigger than chunk size\n      if (this.status() !== 'success') {\n        size = this.progress() * size;\n      }\n      return size;\n    },\n\n    /**\n     * Prepare Xhr request. Set query, headers and data\n     * @param {string} method GET or POST\n     * @param {bool} isTest is this a test request\n     * @param {string} [paramsMethod] octet or form\n     * @param {Blob} [blob] to send\n     * @returns {FormData|Blob|Null} data to send\n     */\n    prepareXhrRequest: function(method, isTest, paramsMethod, blob) {\n      // Add data from the query options\n      var query = evalOpts(this.flowObj.opts.query, this.fileObj, this, isTest);\n      query = extend(query || {}, this.getParams());\n\n      var target = evalOpts(this.flowObj.opts.target, this.fileObj, this, isTest);\n      var data = null;\n      if (method === 'GET' || paramsMethod === 'octet') {\n        // Add data from the query options\n        var params = [];\n        each(query, function (v, k) {\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\n        });\n        target = this.getTarget(target, params);\n        data = blob || null;\n      } else {\n        // Add data from the query options\n        data = new FormData();\n        each(query, function (v, k) {\n          data.append(k, v);\n        });\n        if (typeof blob !== \"undefined\") {\n            data.append(this.flowObj.opts.fileParameterName, blob, this.filename || this.fileObj.file.name);\n        }\n      }\n\n      this.xhr.open(method, target, true);\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\n\n      // Add data from header options\n      each(evalOpts(this.flowObj.opts.headers, this.fileObj, this, isTest), function (v, k) {\n        this.xhr.setRequestHeader(k, v);\n      }, this);\n\n      return data;\n    }\n  };\n\n  /**\n   * Remove value from array\n   * @param array\n   * @param value\n   */\n  function arrayRemove(array, value) {\n    var index = array.indexOf(value);\n    if (index > -1) {\n      array.splice(index, 1);\n    }\n  }\n\n  /**\n   * If option is a function, evaluate it with given params\n   * @param {*} data\n   * @param {...} args arguments of a callback\n   * @returns {*}\n   */\n  function evalOpts(data, args) {\n    if (typeof data === \"function\") {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      data = data.apply(null, args.slice(1));\n    }\n    return data;\n  }\n  Flow.evalOpts = evalOpts;\n\n  /**\n   * Execute function asynchronously\n   * @param fn\n   * @param context\n   */\n  function async(fn, context) {\n    setTimeout(fn.bind(context), 0);\n  }\n\n  /**\n   * Extends the destination object `dst` by copying all of the properties from\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\n   * @function\n   * @param {Object} dst Destination object.\n   * @param {...Object} src Source object(s).\n   * @returns {Object} Reference to `dst`.\n   */\n  function extend(dst, src) {\n    each(arguments, function(obj) {\n      if (obj !== dst) {\n        each(obj, function(value, key){\n          dst[key] = value;\n        });\n      }\n    });\n    return dst;\n  }\n  Flow.extend = extend;\n\n  /**\n   * Iterate each element of an object\n   * @function\n   * @param {Array|Object} obj object or an array to iterate\n   * @param {Function} callback first argument is a value and second is a key.\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\n   */\n  function each(obj, callback, context) {\n    if (!obj) {\n      return ;\n    }\n    var key;\n    // Is Array?\n    // Array.isArray won't work, not only arrays can be iterated by index https://github.com/flowjs/ng-flow/issues/236#\n    if (typeof(obj.length) !== 'undefined') {\n      for (key = 0; key < obj.length; key++) {\n        if (callback.call(context, obj[key], key) === false) {\n          return ;\n        }\n      }\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\n          return ;\n        }\n      }\n    }\n  }\n  Flow.each = each;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowFile}\n   */\n  Flow.FlowFile = FlowFile;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowChunk}\n   */\n  Flow.FlowChunk = FlowChunk;\n\n  /**\n   * Library version\n   * @type {string}\n   */\n  Flow.version = '<%= version %>';\n\n  if ( typeof module === \"object\" && module && typeof module.exports === \"object\" ) {\n    // Expose Flow as module.exports in loaders that implement the Node\n    // module pattern (including browserify). Do not create the global, since\n    // the user will be storing it themselves locally, and globals are frowned\n    // upon in the Node module world.\n    module.exports = Flow;\n  } else {\n    // Otherwise expose Flow to the global object as usual\n    window.Flow = Flow;\n\n    // Register as a named AMD module, since Flow can be concatenated with other\n    // files that may use define, but not via a proper concatenation script that\n    // understands anonymous AMD modules. A named AMD is safest and most robust\n    // way to register. Lowercase flow is used because AMD module names are\n    // derived from file names, and Flow is normally delivered in a lowercase\n    // file name. Do this after creating the global so that if an AMD module wants\n    // to call noConflict to hide this version of Flow, it will work.\n    if ( typeof define === \"function\" && define.amd ) {\n      define( \"flow\", [], function () { return Flow; } );\n    }\n  }\n})(typeof window !== 'undefined' && window, typeof document !== 'undefined' && document);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-name\"},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.block-name'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-name')},on:{\"keydown\":_vm.filterName},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.only-accepts-word-characters'))+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"block-name\">\n    <text-editor v-model=\"name\"\n        :label=\"'flow-builder.block-name' | trans\"\n        :placeholder=\"'flow-builder.enter-block-name' | trans\"\n        @keydown=\"filterName\">\n      <small class=\"text-muted\">\n        {{'flow-builder.only-accepts-word-characters' | trans}}\n      </small>\n    </text-editor>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport TextEditor from '@/components/common/TextEditor'\nimport { lang } from '@/lib/filters/lang'\n\nexport default {\n  components: {\n    TextEditor,\n  },\n  mixins: [lang],\n  props: {\n    block: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    name: {\n      get() {\n        return this.block.name\n      },\n      set(value) {\n        this.block_setName({ blockId: this.block.uuid, value })\n      },\n    },\n\n  },\n  methods: {\n    ...mapMutations('flow', ['block_setName']),\n    filterName(e) {\n      if (e.key.match(/\\W+|Enter/g)) {\n        e.preventDefault()\n      }\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NameEditor.vue?vue&type=template&id=34a67941&\"\nimport script from \"./NameEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./NameEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=50208a5c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=50208a5c&lang=scss&scoped=true&\"","'use strict';\n\nvar Vue = require('vue');\nVue = 'default' in Vue ? Vue['default'] : Vue;\n\nvar version = '2.1.0';\n\nvar compatible = (/^2\\./).test(Vue.version);\nif (!compatible) {\n  Vue.util.warn('VueFocus ' + version + ' only supports Vue 2.x, and does not support Vue ' + Vue.version);\n}\n\nvar focus = {\n  inserted: function(el, binding) {\n    if (binding.value) el.focus();\n    else el.blur();\n  },\n\n  componentUpdated: function(el, binding) {\n    if (binding.modifiers.lazy) {\n      if (Boolean(binding.value) === Boolean(binding.oldValue)) {\n        return;\n      }\n    }\n\n    if (binding.value) el.focus();\n    else el.blur();\n  },\n};\n\nvar mixin = {\n  directives: {\n    focus: focus,\n  },\n};\n\nexports.version = version;\nexports.focus = focus;\nexports.mixin = mixin;","/*!\n * Fuse.js v3.6.1 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"Fuse\",[],t):\"object\"==typeof exports?exports.Fuse=t():e.Fuse=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1),a=r(7),s=a.get,c=(a.deepValue,a.isArray),h=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,a=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.caseSensitive,v=void 0!==f&&f,p=r.tokenSeparator,d=void 0===p?/ +/g:p,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,b=r.id,S=void 0===b?null:b,x=r.keys,M=void 0===x?[]:x,_=r.shouldSort,w=void 0===_||_,L=r.getFn,A=void 0===L?s:L,O=r.sortFn,C=void 0===O?function(e,t){return e.score-t.score}:O,j=r.tokenize,P=void 0!==j&&j,I=r.matchAllTokens,F=void 0!==I&&I,T=r.includeMatches,N=void 0!==T&&T,z=r.includeScore,E=void 0!==z&&z,W=r.verbose,K=void 0!==W&&W;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:a,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:d,findAllMatches:y,minMatchCharLength:k,id:S,keys:M,includeMatches:N,includeScore:E,shouldSort:w,getFn:A,sortFn:C,verbose:K,tokenize:P,matchAllTokens:F},this.setCollection(t),this._processKeys(M)}var t,r,a;return t=e,(r=[{key:\"setCollection\",value:function(e){return this.list=e,e}},{key:\"_processKeys\",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&\"string\"==typeof e[0])for(var t=0,r=e.length;t<r;t+=1){var n=e[t];this._keyWeights[n]=1,this._keyNames.push(n)}else{for(var o=null,i=null,a=0,s=0,c=e.length;s<c;s+=1){var h=e[s];if(!h.hasOwnProperty(\"name\"))throw new Error('Missing \"name\" property in key object');var l=h.name;if(this._keyNames.push(l),!h.hasOwnProperty(\"weight\"))throw new Error('Missing \"weight\" property in key object');var u=h.weight;if(u<0||u>1)throw new Error('\"weight\" property in key must bein the range of [0, 1)');i=null==i?u:Math.max(i,u),o=null==o?u:Math.min(o,u),this._keyWeights[l]=u,a+=u}if(a>1)throw new Error(\"Total of weights cannot exceed 1\")}}},{key:\"search\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\\nSearch pattern: \"'.concat(e,'\"'));var r=this._prepareSearchers(e),n=r.tokenSearchers,o=r.fullSearcher,i=this._search(n,o);return this._computeScore(i),this.options.shouldSort&&this._sort(i),t.limit&&\"number\"==typeof t.limit&&(i=i.slice(0,t.limit)),this._format(i)}},{key:\"_prepareSearchers\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,o=r.length;n<o;n+=1)t.push(new i(r[n],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:\"_search\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.list,n={},o=[];if(\"string\"==typeof r[0]){for(var i=0,a=r.length;i<a;i+=1)this._analyze({key:\"\",value:r[i],record:i,index:i},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return o}for(var s=0,c=r.length;s<c;s+=1)for(var h=r[s],l=0,u=this._keyNames.length;l<u;l+=1){var f=this._keyNames[l];this._analyze({key:f,value:this.options.getFn(h,f),record:h,index:s},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return o}},{key:\"_analyze\",value:function(e,t){var r=this,n=e.key,o=e.arrayIndex,i=void 0===o?-1:o,a=e.value,s=e.record,h=e.index,l=t.tokenSearchers,u=void 0===l?[]:l,f=t.fullSearcher,v=t.resultMap,p=void 0===v?{}:v,d=t.results,g=void 0===d?[]:d;!function e(t,o,i,a){if(null!=o)if(\"string\"==typeof o){var s=!1,h=-1,l=0;r._log(\"\\nKey: \".concat(\"\"===n?\"--\":n));var v=f.search(o);if(r._log('Full text: \"'.concat(o,'\", score: ').concat(v.score)),r.options.tokenize){for(var d=o.split(r.options.tokenSeparator),y=d.length,m=[],k=0,b=u.length;k<b;k+=1){var S=u[k];r._log('\\nPattern: \"'.concat(S.pattern,'\"'));for(var x=!1,M=0;M<y;M+=1){var _=d[M],w=S.search(_),L={};w.isMatch?(L[_]=w.score,s=!0,x=!0,m.push(w.score)):(L[_]=1,r.options.matchAllTokens||m.push(1)),r._log('Token: \"'.concat(_,'\", score: ').concat(L[_]))}x&&(l+=1)}h=m[0];for(var A=m.length,O=1;O<A;O+=1)h+=m[O];h/=A,r._log(\"Token score average:\",h)}var C=v.score;h>-1&&(C=(C+h)/2),r._log(\"Score average:\",C);var j=!r.options.tokenize||!r.options.matchAllTokens||l>=u.length;if(r._log(\"\\nCheck Matches: \".concat(j)),(s||v.isMatch)&&j){var P={key:n,arrayIndex:t,value:o,score:C};r.options.includeMatches&&(P.matchedIndices=v.matchedIndices);var I=p[a];I?I.output.push(P):(p[a]={item:i,output:[P]},g.push(p[a]))}}else if(c(o))for(var F=0,T=o.length;F<T;F+=1)e(F,o[F],i,a)}(i,a,s,h)}},{key:\"_computeScore\",value:function(e){this._log(\"\\n\\nComputing score:\\n\");for(var t=this._keyWeights,r=!!Object.keys(t).length,n=0,o=e.length;n<o;n+=1){for(var i=e[n],a=i.output,s=a.length,c=1,h=0;h<s;h+=1){var l=a[h],u=l.key,f=r?t[u]:1,v=0===l.score&&t&&t[u]>0?Number.EPSILON:l.score;c*=Math.pow(v,f)}i.score=c,this._log(i)}}},{key:\"_sort\",value:function(e){this._log(\"\\n\\nSorting....\"),e.sort(this.options.sortFn)}},{key:\"_format\",value:function(e){var t=[];if(this.options.verbose){var r=[];this._log(\"\\n\\nOutput:\\n\\n\",JSON.stringify(e,function(e,t){if(\"object\"===n(t)&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t},2)),r=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var i=r[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty(\"arrayIndex\")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var c={item:s.item},h=0,l=o.length;h<l;h+=1)o[h](s,c);t.push(c)}else t.push(s.item)}return t}},{key:\"_log\",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,r),a&&o(t,a),e}();e.exports=h},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(2),i=r(3),a=r(6),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,s=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.isCaseSensitive,v=void 0!==f&&f,p=r.tokenSeparator,d=void 0===p?/ +/g:p,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,b=r.includeMatches,S=void 0!==b&&b;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:d,findAllMatches:y,includeMatches:S,minMatchCharLength:k},this.pattern=v?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}var t,r,s;return t=e,(r=[{key:\"search\",value:function(e){var t=this.options,r=t.isCaseSensitive,n=t.includeMatches;if(r||(e=e.toLowerCase()),this.pattern===e){var a={isMatch:!0,score:0};return n&&(a.matchedIndices=[[0,e.length-1]]),a}var s=this.options,c=s.maxPatternLength,h=s.tokenSeparator;if(this.pattern.length>c)return o(e,this.pattern,h);var l=this.options,u=l.location,f=l.distance,v=l.threshold,p=l.findAllMatches,d=l.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:u,distance:f,threshold:v,findAllMatches:p,minMatchCharLength:d,includeMatches:n})}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=s},function(e,t){var r=/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(r,\"\\\\$&\").replace(n,\"|\")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){var n=r(4),o=r(5);e.exports=function(e,t,r,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,v=void 0!==f&&f,p=i.minMatchCharLength,d=void 0===p?1:p,g=i.includeMatches,y=void 0!==g&&g,m=s,k=e.length,b=u,S=e.indexOf(t,m),x=t.length,M=[],_=0;_<k;_+=1)M[_]=0;if(-1!==S){var w=n(t,{errors:0,currentLocation:S,expectedLocation:m,distance:h});if(b=Math.min(w,b),-1!==(S=e.lastIndexOf(t,m+x))){var L=n(t,{errors:0,currentLocation:S,expectedLocation:m,distance:h});b=Math.min(L,b)}}S=-1;for(var A=[],O=1,C=x+k,j=1<<(x<=31?x-1:30),P=0;P<x;P+=1){for(var I=0,F=C;I<F;){n(t,{errors:P,currentLocation:m+F,expectedLocation:m,distance:h})<=b?I=F:C=F,F=Math.floor((C-I)/2+I)}C=F;var T=Math.max(1,m-F+1),N=v?k:Math.min(m+F,k)+x,z=Array(N+2);z[N+1]=(1<<P)-1;for(var E=N;E>=T;E-=1){var W=E-1,K=r[e.charAt(W)];if(K&&(M[W]=1),z[E]=(z[E+1]<<1|1)&K,0!==P&&(z[E]|=(A[E+1]|A[E])<<1|1|A[E+1]),z[E]&j&&(O=n(t,{errors:P,currentLocation:W,expectedLocation:m,distance:h}))<=b){if(b=O,(S=W)<=m)break;T=Math.max(1,2*m-S)}}if(n(t,{errors:P+1,currentLocation:m,expectedLocation:m,distance:h})>b)break;A=z}var $={isMatch:S>=0,score:0===O?.001:O};return y&&($.matchedIndices=o(M,d)),$}},function(e,t){e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=n/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||((o=i-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}},function(e,t){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t){var r=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===Object.prototype.toString.call(e)},n=function(e){return null==e?\"\":function(e){if(\"string\"==typeof e)return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}(e)},o=function(e){return\"string\"==typeof e},i=function(e){return\"number\"==typeof e};e.exports={get:function(e,t){var a=[];return function e(t,s){if(s){var c=s.indexOf(\".\"),h=s,l=null;-1!==c&&(h=s.slice(0,c),l=s.slice(c+1));var u=t[h];if(null!=u)if(l||!o(u)&&!i(u))if(r(u))for(var f=0,v=u.length;f<v;f+=1)e(u[f],l);else l&&e(u,l);else a.push(n(u))}else a.push(t)}(e,t),a},isArray:r,isString:o,isNum:i,toString:n}}])});"],"sourceRoot":""}
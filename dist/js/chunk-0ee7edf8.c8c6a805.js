(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ee7edf8"],{"0be7":function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,".block-text-content-editor-for-lang-and-type{margin-bottom:.5em}.block-text-content-editor-for-lang-and-type .content-editor{position:relative}.block-text-content-editor-for-lang-and-type .content-editor textarea{height:56px}.block-text-content-editor-for-lang-and-type .content-editor input[type=text]:not(:focus)+button,.block-text-content-editor-for-lang-and-type .content-editor textarea:not(:focus)+button{opacity:1}.block-text-content-editor-for-lang-and-type .content-editor input[type=text]+button,.block-text-content-editor-for-lang-and-type .content-editor textarea+button{position:absolute;bottom:7px;right:10px;transition:opacity .2s ease-in-out;opacity:0}.block-text-content-editor-for-lang-and-type .content-editor-selected input[type=text],.block-text-content-editor-for-lang-and-type .content-editor-selected textarea{background-color:#f8f8f8}.block-text-content-editor-for-lang-and-type .content-toolbar{margin-top:1px}.invisible{opacity:0}",""]),e.exports=t},1162:function(e,t,i){var r=i("5e02");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("499e").default;n("e5ad3886",r,!0,{sourceMap:!1,shadowMode:!1})},"192b":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"starting-block-button"},[e.isEditable?[i("h4",[e._v(e._s(e._f("trans")("flow-builder.options")))]),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:e.isStartBlock},on:{click:function(t){return e.setStartBlock(t)}}},[e.isStartBlock?[e._v(" "+e._s(e._f("trans")("flow-builder.currently-set-as-starting-block"))+" ")]:[e._v(" "+e._s(e._f("trans")("flow-builder.set-as-starting-block"))+" ")]],2)])]:e._e()],2)},n=[],o=i("d4ec"),s=i("bee2"),a=i("262e"),l=i("2caf"),c=i("9ab4"),u=i("60a3"),d=i("4a51"),h=i("4bb5"),f=i("2fe1"),p=Object(h["e"])("flow"),b=function(e){Object(a["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(o["a"])(this,i),t.apply(this,arguments)}return Object(s["a"])(i,[{key:"setStartBlock",value:function(e){var t=this.flow.uuid,i=this.blockId;this.flow_setFirstBlockId({flowId:t,blockId:i})}},{key:"isStartBlock",get:function(){return this.blockId===this.flow.first_block_id}}]),i}(Object(f["c"])(d["a"]));Object(c["a"])([Object(u["b"])({default:!0})],b.prototype,"isEditable",void 0),Object(c["a"])([Object(u["b"])()],b.prototype,"blockId",void 0),Object(c["a"])([Object(u["b"])()],b.prototype,"flow",void 0),Object(c["a"])([p.Mutation],b.prototype,"flow_setFirstBlockId",void 0),b=Object(c["a"])([Object(u["a"])({})],b);var g=b,v=g,m=i("2877"),O=Object(m["a"])(v,r,n,!1,null,null,null);t["a"]=O.exports},"1b4e":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block-semantic-label"},[i("text-editor",{attrs:{label:e._f("trans")("flow-builder.block-semantic-label"),placeholder:e._f("trans")("flow-builder.enter-block-semantic-label")},model:{value:e.semanticLabel,callback:function(t){e.semanticLabel=t},expression:"semanticLabel"}})],1)},n=[],o=i("5530"),s=i("2f62"),a=i("d883"),l=i("4a51"),c={components:{TextEditor:a["a"]},props:{block:{type:Object,required:!0}},mixins:[l["b"]],computed:{semanticLabel:{get:function(){return this.block.semantic_label||""},set:function(e){this.block_setSemanticLabel({blockId:this.block.uuid,value:e})}}},methods:Object(o["a"])({},Object(s["d"])("flow",["block_setSemanticLabel"]))},u=c,d=i("2877"),h=Object(d["a"])(u,r,n,!1,null,null,null);t["a"]=h.exports},3411:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block-label"},[i("text-editor",{attrs:{label:e._f("trans")("flow-builder.block-label"),placeholder:e._f("trans")("flow-builder.enter-block-label")},model:{value:e.label,callback:function(t){e.label=t},expression:"label"}})],1)},n=[],o=i("d4ec"),s=i("bee2"),a=i("262e"),l=i("2caf"),c=i("9ab4"),u=i("d883"),d=i("4a51"),h=i("60a3"),f=i("4bb5"),p=i("2fe1"),b=Object(f["e"])("flow"),g=function(e){Object(a["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(o["a"])(this,i),t.apply(this,arguments)}return Object(s["a"])(i,[{key:"label",get:function(){return this.block.label},set:function(e){this.block_setLabel({blockId:this.block.uuid,value:e})}}]),i}(Object(p["c"])(d["a"]));Object(c["a"])([Object(h["b"])()],g.prototype,"block",void 0),Object(c["a"])([b.Mutation],g.prototype,"block_setLabel",void 0),g=Object(c["a"])([Object(h["a"])({components:{TextEditor:u["a"]}})],g);var v=g,m=v,O=i("2877"),y=Object(O["a"])(m,r,n,!1,null,null,null);t["a"]=y.exports},"3d3d":function(e,t,i){var r=i("9a31");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("499e").default;n("f3f99278",r,!0,{sourceMap:!1,shadowMode:!1})},"510a":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"resource-editor"},[e.label?i("hr"):e._e(),e.label?i("h4",[e._v(e._s(e.label))]):e._e(),e._l(e.flow.languages,(function(t){var r=t.id,n=t.label;return[i("div",{staticClass:"block-content-editor-lang"},[i("h5",{staticClass:"badge badge-info"},[e._v(e._s(e._f("trans")(n||"flow-builder.unknown-language")))])]),e._l(e.flow.supported_modes,(function(t){return[i("h6",[e._v(e._s(e._f("trans")("flow-builder."+t.toLowerCase()+"-content")))]),e._l(e.discoverContentTypesFor(t),(function(n){return[n===e.SupportedContentType.TEXT?i("resource-variant-text-editor",{attrs:{"resource-id":e.resource.uuid,"resource-variant":e.findOrGenerateStubbedVariantOn(e.resource,{language_id:r,content_type:n,modes:[t]}),mode:t,"enable-autogen-button":!0}}):e._e(),n===e.SupportedContentType.AUDIO?i("div",[e.findAudioResourceVariantFor(e.resource,{language_id:r,content_type:n,modes:[t]})?e._e():[i("upload-monitor",{attrs:{uploadKey:e.block.uuid+":"+r}}),i("ul",{staticClass:"nav nav-tabs"},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link px-2 py-1 active",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(e._f("trans")("flow-builder.library")))])]),e.can(["edit-content","send-call-to-records"],!0)&&e.isFeatureAudioUploadEnabled?i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link px-2 py-1",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.triggerRecordViaPhoneFor(r)}}},[e._v(e._s(e._f("trans")("flow-builder.phone-recording")))])]):e._e(),e.isEditable?i("li",{staticClass:"nav-item"},[e.isFeatureAudioUploadEnabled?i("a",{directives:[{name:"flow-uploader",rawName:"v-flow-uploader",value:{target:e.route("trees.resumeableAudioUpload"),token:""+e.block.uuid+r,accept:"audio/*"},expression:"{\n                    target: route('trees.resumeableAudioUpload'),\n                    token: `${block.uuid}${languageId}`,\n                    accept: 'audio/*'}"}],staticClass:"nav-link px-2 py-1",attrs:{href:"#"},on:{filesSubmitted:function(t){return e.handleFilesSubmittedFor(e.block.uuid+":"+r,t)},fileSuccess:function(t){return e.handleFileSuccessFor(e.block.uuid+":"+r,r,t)}}},[e._v(" "+e._s(e._f("trans")("flow-builder.upload"))+" ")]):e._e()]):e._e()])],i("audio-library-selector",{attrs:{audioFiles:e.availableAudio,langId:r,resourceId:e.resource.uuid,selectedAudioFile:e.findOrGenerateStubbedVariantOn(e.resource,{language_id:r,content_type:n,modes:[t]}).value}}),e.can(["edit-content","send-call-to-records"],!0)&&!e.findOrGenerateStubbedVariantOn(e.resource,{language_id:r,content_type:n,modes:[t]}).value?i("phone-recorder",{attrs:{recordingKey:e.block.uuid+":"+r}}):e._e()],2):e._e()]}))]}))]}))],2)},n=[],o=(i("a4d3"),i("e01a"),i("ac1f"),i("1276"),i("5530")),s=i("d4ec"),a=i("bee2"),l=i("262e"),c=i("2caf"),u=i("9ab4"),d=i("4bb5"),h=i("9300"),f=i("4a51"),p=i("cab2"),b=i("d39e"),g=(i("7db0"),i("a026")),v=i("ebc7"),m=i.n(v),O=i("2ef0"),y=i.n(O),j=i("2fe1"),w=function(e,t,i){e.dispatchEvent(y.a.extend(new Event(t,{bubbles:!0,cancelable:!0}),{data:i}))},k=function(e){Object(l["a"])(i,e);var t=Object(c["a"])(i);function i(){return Object(s["a"])(this,i),t.apply(this,arguments)}return i}(g["default"]);k=Object(u["a"])([Object(j["b"])({directives:{"flow-uploader":{bind:function(e,t){var i=t.value,r=i.accept,n=i.target,o=i.token,s=new m.a({target:n,singleFile:!0,chunkSize:524288,query:{upload_token:o}});s.support&&(y.a.extend(e.style,{overflow:"hidden"}),s.assignBrowse(e),y.a.chain(e.children).find({tagName:"INPUT",type:"file"}).assign({accept:r}).value(),s.on("filesSubmitted",(function(t,i){return w(e,"filesSubmitted",{files:t,uploader:s})})),s.on("fileProgress",(function(t,i){return w(e,"fileProgress",{file:t,uploader:s})})),s.on("fileSuccess",(function(t,i){return w(e,"fileSuccess",{file:t,uploader:s,json:i})})),s.on("error",(function(t,i){return w(e,"fileSuccess",{file:i,uploader:s,message:t})})))},unbind:function(e,t){}}}})],k);var x=k,C=i("60a3"),S=i("393e"),E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"audio-library-selector"},[e.selectedAudioFile?i("audio-library-selection",{attrs:{audioFile:e.selectedAudioFile,langId:e.langId},on:{clear:e.clearSelection}}):[i("audio-library-search-field",{attrs:{langId:e.langId,audioFiles:e.audioFiles},on:{select:e.selectAudioFile}})]],2)},P=[],I=i("2f62"),F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"audio-library-search-field dropdown"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-prepend"},[i("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",class:{active:e.isEntireLibraryModeEnabled},on:{click:function(t){return t.preventDefault(),e.toggleAudioLibrary(t)}}},[i("i",{staticClass:"glyphicon glyphicon-search"})])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.rawQuery,expression:"rawQuery"}],staticClass:"form-control",attrs:{type:"text",placeholder:e._f("trans")("flow-builder.search-audio-library"),disabled:e.isEntireLibraryModeEnabled},domProps:{value:e.rawQuery},on:{focus:e.activate,blur:e.deactivate,input:[function(t){t.target.composing||(e.rawQuery=t.target.value)},e.resetPagination]}})]),e.query||e.isAudioLibraryEmpty||e.isEntireLibraryModeEnabled?i("div",{staticClass:"dropdown-menu"},[e.isEntireLibraryModeEnabled?[i("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[i("button",{staticClass:"close active",on:{click:e.toggleAudioLibrary}},[e._v("x")]),i("i",{staticClass:"glyphicon glyphicon-info-sign"}),e._v(" "+e._s(e._f("trans")("flow-builder.showing-entire-audio-library"))+"… ")]),i("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}})]:e._e(),e.isAudioLibraryEmpty?e._e():[e._l(e.search(e.query).slice(e.offset*e.limit,(e.offset+1)*e.limit),(function(t){return i("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.select(t)}}},[e._v(" "+e._s(t.description)+" ")])})),e.query.length>=3&&!e.search(e.query).length?i("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v(" "+e._s(e._f("trans")("flow-builder.no-audio-files-found-for-X"))+' "'),i("em",[e._v(e._s(e.query))]),e._v('". ')]):e._e(),e.query&&e.query.length<3?i("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v(" "+e._s(e._f("trans")("flow-builder.enter-at-least-three-chars"))+" ")]):e._e(),e.hasPrevious||e.hasNext?[i("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}}),i("div",{staticClass:"pagers dropdown-item"},[i("a",{staticClass:"col-md-6",class:{disabled:!e.hasPrevious},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.decrementPage(t)}}},[i("i",{staticClass:"glyphicon glyphicon-chevron-left"}),e._v(" "+e._s(e._f("trans")("flow-builder.previous"))+" ")]),i("a",{staticClass:"col-md-6 text-right",class:{disabled:!e.hasNext},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.incrementPage(t)}}},[e._v(" "+e._s(e._f("trans")("flow-builder.next"))+" "),i("i",{staticClass:"glyphicon glyphicon-chevron-right"})])])]:e._e()],e.isAudioLibraryEmpty?i("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[i("i",{staticClass:"glyphicon glyphicon-warning-sign"}),e._v(" "+e._s(e._f("trans")("flow-builder.audio-lib-empty-for-this-org"))+" ")]):e._e()],2):e._e()])},M=[],A=(i("841c"),i("498a"),i("ffe7")),T=i.n(A),R=i("f837"),L=i.n(R),B={props:["langId","audioFiles"],mixins:[L.a.mixin,f["b"]],data:function(){return{isActive:!1,rawQuery:"",cache:{},isEntireLibraryModeEnabled:!1,offset:0,limit:10}},computed:{query:function(){return y.a.trim(this.rawQuery)},isAudioLibraryEmpty:function(){return this.isActive&&!this.audioFiles.length},hasNext:function(){return this.search(this.query).length/(this.offset+1)>this.limit},hasPrevious:function(){return this.offset>0}},methods:{search:function(e){if(this.isEntireLibraryModeEnabled)return this.audioFiles;if(e.length<3)return[];if(console.debug("flow-builder.ResourceViewer.AudioLibrarySearchField","searching",e),e in this.cache)return console.debug("flow-builder.ResourceViewer.AudioLibrarySearchField","cache hit",e),this.cache[e];console.debug("flow-builder.ResourceViewer.AudioLibrarySearchField","cache miss",e);var t=["filename","description"];return this.cache[e]=new T.a(this.audioFiles,{keys:t}).search(e)},incrementPage:function(){this.hasNext&&(this.offset+=1)},decrementPage:function(){this.hasPrevious&&(this.offset-=1)},resetPagination:function(){this.offset=0},toggleAudioLibrary:function(){this.isEntireLibraryModeEnabled=!this.isEntireLibraryModeEnabled,this.resetPagination()},select:function(e){this.$emit("select",{value:e,langId:this.langId})},activate:function(){this.isActive=!0},deactivate:function(){this.isActive=!1}}},V=B,z=(i("f4ae"),i("2877")),$=Object(z["a"])(V,F,M,!1,null,"50208a5c",null),D=$.exports,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"well well-sm audio-library-selection",class:{"tree-audio-control-text-container-selectable":e.selectable,"tree-audio-control-text-container-selected":!e.selectable},attrs:{"data-audio-file-container-language":e.langId}},[i("button",{staticClass:"audio-library-selection-clear-selection btn-ghost pull-right",on:{click:function(t){return t.preventDefault(),e.clear(t)}}},[i("i",{staticClass:"glyphicon glyphicon-remove"})]),i("div",{staticClass:"btn-group audio-library-selection-download-dropdown"},[e._m(0),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[i("li",[i("a",{staticClass:"tree-block-audio-files-download-original",attrs:{href:e.audioFileUrl,target:"_blank"}},[e._v(e._s(e._f("trans")("flow-builder.original-file")))])])])]),i("p",{staticClass:"audio-file-description",attrs:{title:e.audioFileUrl}},[e._v(" "+e._s(e.audioFileUrl)+" ")]),i("div",{staticClass:"btn-toolbar"},[e.selectable?i("button",{staticClass:"btn btn-secondary btn-xs",on:{click:function(t){return t.preventDefault(),e.select(t)}}},[i("i",{staticClass:"glyphicon glyphicon-ok"})]):e._e()])])},N=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"btn btn-ghost dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[i("span",{staticClass:"glyphicon glyphicon-download-alt",attrs:{"aria-hidden":"true"}}),i("span",{staticClass:"caret"})])}],H=i("c1df"),q=i.n(H),W={filters:{formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"llll";return e?q.a.utc(e).format(t):""},fromNow:function(e,t){return q.a.utc(e).fromNow(t)},formatDuration:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"seconds",i=arguments.length>2?arguments[2]:void 0,r=q.a.locale();q.a.locale("en");var n=q.a.duration(e,t).humanize(i);return q.a.locale(r),n},formatDurationLocalized:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"seconds",r=arguments.length>3?arguments[3]:void 0,n=q.a.locale();q.a.locale(t);var o=q.a.duration(e,i).humanize(r);return q.a.locale(n),o}}},K={props:["audioFile","selected","selectable","langId"],mixins:[f["b"],W],computed:{audioFileUrl:function(){return this.audioFile}},methods:{select:function(){this.$emit("select")},clear:function(){this.$emit("clear")}}},Z=K,G=(i("79f2"),Object(z["a"])(Z,U,N,!1,null,null,null)),X=G.exports,Q={props:["alternateSelections","selectedAudioFile","langId","audioFiles","isPlaying","audioPlayerUrl","resourceId"],components:{AudioLibrarySearchField:D,AudioLibrarySelection:X},computed:{selectable:function(){return!y.a.isEmpty(this.alternateSelections)}},methods:Object(o["a"])(Object(o["a"])({},Object(I["b"])("flow",["resource_setOrCreateValueModeSpecific"])),{},{clearSelection:function(){this.resource_setOrCreateValueModeSpecific({resourceId:this.resourceId,filter:{language_id:this.langId,content_type:h["SupportedContentType"].AUDIO,modes:[h["SupportedMode"].IVR]},value:""})},selectAudioFile:function(e){var t=e.value,i=e.langId;this.resource_setOrCreateValueModeSpecific({resourceId:this.resourceId,filter:{language_id:i,content_type:h["SupportedContentType"].AUDIO,modes:[h["SupportedMode"].IVR]},value:t.description})}})},J=Q,Y=Object(z["a"])(J,E,P,!1,null,null,null),ee=Y.exports,te=i("44e8"),ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isFeatureCallToRecordEnabled?i("div",{staticClass:"phone-recorder"},[i("phone-recording-recorder-selector",{attrs:{isModalVisible:e.isRecorderSelectorVisible},on:{input:e.handleRecorderSelectionChanged},model:{value:e.callConfig,callback:function(t){e.callConfig=t},expression:"callConfig"}})],1):e._e()},re=[],ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-modal",{staticClass:"phone-recording-recorder-selector",attrs:{size:"lg","no-close-on-backdrop":"","no-close-on-esc":"",title:e._f("trans")("flow-builder.select-a-caller-from-the-list-below"),visible:e.isModalVisible,"ok-title":e._f("trans")("flow-builder.call-this-phone-number"),"cancel-title":e._f("trans")("flow-builder.close")},on:{ok:e.handleModalClosed,cancel:e.handleModalCancelled,close:e.handleModalCancelled}},[i("div",{staticClass:"call-to-record-modal-table-container"},[i("table",{staticClass:"table table-striped"},[i("thead",[i("tr",[i("th",{staticClass:"recorder-selector-field"}),i("th",[e._v(e._s(e._f("trans")("flow-builder.name")))]),i("th",[e._v(e._s(e._f("trans")("flow-builder.phone-number")))])])]),i("tbody",{attrs:{id:"call-to-record-modal-list"}},e._l(e.recorders,(function(t){return i("tr",{staticClass:"call-to-record-item"},[i("td",{staticClass:"recorder-selector-field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRecorder,expression:"selectedRecorder"}],attrs:{type:"radio","x-name":"calltorecord_caller_select",id:"call-to-record-caller-"+t.id},domProps:{value:t,checked:e._q(e.selectedRecorder,t)},on:{change:function(i){e.selectedRecorder=t}}})]),i("td",[i("label",{attrs:{for:"call-to-record-caller-"+t.id},on:{click:function(i){return e.setSelectedRecorder(t)}}},[e._v(e._s(t.name))])]),i("td",[i("label",{attrs:{for:"call-to-record-caller-"+t.id},on:{click:function(i){return e.setSelectedRecorder(t)}}},[e._v(e._s(t.phone))])])])})),0)]),i("h4",[e._v(e._s(e._f("trans")("flow-builder.add-a-description-to-this-recording")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",rows:"2",placeholder:e._f("trans")("flow-builder.optional-description")},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),i("h4",[e._v(e._s(e._f("trans")("flow-builder.add-a-new-recorder")))]),i("table",{staticClass:"table"},[i("tbody",[i("tr",[i("td",{staticClass:"recorder-selector-field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRecorder,expression:"selectedRecorder"}],attrs:{type:"radio",name:"calltorecord_caller_select",id:"new_recorder_radio"},domProps:{value:e.draft,checked:e._q(e.selectedRecorder,e.draft)},on:{change:function(t){e.selectedRecorder=e.draft}}})]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.draft.name,expression:"draft.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:e._f("trans")("flow-builder.name")},domProps:{value:e.draft.name},on:{click:e.selectNewRecorder,input:function(t){t.target.composing||e.$set(e.draft,"name",t.target.value)}}})]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.draft.phone,expression:"draft.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:e._f("trans")("flow-builder.phone-number")},domProps:{value:e.draft.phone},on:{click:e.selectNewRecorder,input:function(t){t.target.composing||e.$set(e.draft,"phone",t.target.value)}}})])])])])])])},oe=[],se=i("2f79"),ae=i("c637"),le=i("e863"),ce=i("0056"),ue=13,de=27,he=32,fe=i("a723"),pe=i("ca88"),be=i("9b76"),ge=i("2326"),ve=i("906c"),me=i("6b77"),Oe=i("992e"),ye=function(e,t){return e?{innerHTML:e}:t?{textContent:t}:{}},je=i("6c06"),we=i("7b1e"),_e=i("58f2"),ke=i("d82f"),xe=i("686b");function Ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Se(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(i),!0).forEach((function(t){Ee(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ce(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Pe=function(e,t,i){if(e=e?e.$el||e:null,!Object(ve["q"])(e))return null;if(Object(xe["b"])("observeDom"))return null;var r=new ve["a"]((function(e){for(var i=!1,r=0;r<e.length&&!i;r++){var n=e[r],o=n.type,s=n.target;("characterData"===o&&s.nodeType===Node.TEXT_NODE||"attributes"===o||"childList"===o&&(n.addedNodes.length>0||n.removedNodes.length>0))&&(i=!0)}i&&t()}));return r.observe(e,Se({childList:!0,subtree:!0},i)),r},Ie=i("cf75"),Fe=i("c9a9"),Me=i("3c21");function Ae(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Te=function(e){return!e||0===Object(ke["h"])(e).length},Re=function(e){return{handler:function(t,i){if(!Object(Me["a"])(t,i))if(Te(t)||Te(i))this[e]=Object(Fe["a"])(t);else{for(var r in i)Object(ke["g"])(t,r)||this.$delete(this.$data[e],r);for(var n in t)this.$set(this.$data[e],n,t[n])}}}},Le=function(e,t){return g["default"].extend({data:function(){return Ae({},t,Object(Fe["a"])(this[e]))},watch:Ae({},e,Re(t))})},Be=Le("$attrs","bvAttrs"),Ve={id:Object(Ie["a"])(fe["l"])},ze=g["default"].extend({props:Ve,data:function(){return{localId_:null}},computed:{safeId:function(){var e=this.id||this.localId_,t=function(t){return e?(t=String(t||"").replace(/\s+/g,"_"),t?e+"_"+t:e):null};return t}},mounted:function(){var e=this;this.$nextTick((function(){e.localId_="__BVID__".concat(e[se["a"]])}))}}),$e="$_bv_documentHandlers_",De=g["default"].extend({created:function(){var e=this;le["f"]&&(this[$e]={},this.$once(ce["x"],(function(){var t=e[$e]||{};delete e[$e],Object(ke["h"])(t).forEach((function(e){var i=t[e]||[];i.forEach((function(t){return Object(me["a"])(document,e,t,ce["w"])}))}))})))},methods:{listenDocument:function(e,t,i){e?this.listenOnDocument(t,i):this.listenOffDocument(t,i)},listenOnDocument:function(e,t){this[$e]&&Object(we["k"])(e)&&Object(we["e"])(t)&&(this[$e][e]=this[$e][e]||[],Object(ge["a"])(this[$e][e],t)||(this[$e][e].push(t),Object(me["b"])(document,e,t,ce["w"])))},listenOffDocument:function(e,t){this[$e]&&Object(we["k"])(e)&&Object(we["e"])(t)&&(Object(me["a"])(document,e,t,ce["w"]),this[$e][e]=(this[$e][e]||[]).filter((function(e){return e!==t})))}}}),Ue=i("602d"),Ne="$_bv_windowHandlers_",He=g["default"].extend({beforeCreate:function(){this[Ne]={}},beforeDestroy:function(){if(le["f"]){var e=this[Ne];delete this[Ne],Object(ke["h"])(e).forEach((function(t){var i=e[t]||[];i.forEach((function(e){return Object(me["a"])(window,t,e,ce["w"])}))}))}},methods:{listenWindow:function(e,t,i){e?this.listenOnWindow(t,i):this.listenOffWindow(t,i)},listenOnWindow:function(e,t){le["f"]&&this[Ne]&&Object(we["k"])(e)&&Object(we["e"])(t)&&(this[Ne][e]=this[Ne][e]||[],Object(ge["a"])(this[Ne][e],t)||(this[Ne][e].push(t),Object(me["b"])(window,e,t,ce["w"])))},listenOffWindow:function(e,t){le["f"]&&this[Ne]&&Object(we["k"])(e)&&Object(we["e"])(t)&&(Object(me["a"])(window,e,t,ce["w"]),this[Ne][e]=(this[Ne][e]||[]).filter((function(e){return e!==t})))}}}),qe=i("8c18"),We=i("8d32"),Ke=i("b42e"),Ze=i("fa73"),Ge="a",Xe=function(e){return"%"+e.charCodeAt(0).toString(16)},Qe=function(e){return encodeURIComponent(Object(Ze["c"])(e)).replace(Oe["d"],Xe).replace(Oe["c"],",")},Je=(decodeURIComponent,function(e){if(!Object(we["j"])(e))return"";var t=Object(ke["h"])(e).map((function(t){var i=e[t];return Object(we["l"])(i)?"":Object(we["f"])(i)?Qe(t):Object(we["a"])(i)?i.reduce((function(e,i){return Object(we["f"])(i)?e.push(Qe(t)):Object(we["l"])(i)||e.push(Qe(t)+"="+Qe(i)),e}),[]).join("&"):Qe(t)+"="+Qe(i)})).filter((function(e){return e.length>0})).join("&");return t?"?".concat(t):""}),Ye=function(e){return!(!e.href&&!e.to)},et=function(e){return!(!e||Object(ve["r"])(e,"a"))},tt=function(e,t){var i=e.to,r=e.disabled,n=e.routerComponentName,o=!!t.$router;return!o||o&&(r||!i)?Ge:n||(t.$nuxt?"nuxt-link":"router-link")},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,i=e.rel;return"_blank"===t&&Object(we["f"])(i)?"noopener":i||null},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.href,i=e.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";if(t)return t;if(et(r))return null;if(Object(we["k"])(i))return i||o;if(Object(we["j"])(i)&&(i.path||i.query||i.hash)){var s=Object(Ze["c"])(i.path),a=Je(i.query),l=Object(Ze["c"])(i.hash);return l=l&&"#"!==l.charAt(0)?"#".concat(l):l,"".concat(s).concat(a).concat(l)||o}return n},nt=Le("$listeners","bvListeners");function ot(e){return ct(e)||lt(e)||at(e)||st()}function st(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function at(e,t){if(e){if("string"===typeof e)return ut(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ut(e,t):void 0}}function lt(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ct(e){if(Array.isArray(e))return ut(e)}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function dt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function ht(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(i),!0).forEach((function(t){ft(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):dt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ft(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var pt=Object(me["e"])(ae["d"],"clicked"),bt={activeClass:Object(Ie["a"])(fe["l"]),append:Object(Ie["a"])(fe["e"],!1),event:Object(Ie["a"])(fe["d"],ce["c"]),exact:Object(Ie["a"])(fe["e"],!1),exactActiveClass:Object(Ie["a"])(fe["l"]),replace:Object(Ie["a"])(fe["e"],!1),routerTag:Object(Ie["a"])(fe["l"],"a"),to:Object(Ie["a"])(fe["k"])},gt={noPrefetch:Object(Ie["a"])(fe["e"],!1),prefetch:Object(Ie["a"])(fe["e"],null)},vt=Object(Ie["b"])(Object(ke["l"])(ht(ht(ht({},gt),bt),{},{active:Object(Ie["a"])(fe["e"],!1),disabled:Object(Ie["a"])(fe["e"],!1),href:Object(Ie["a"])(fe["l"]),rel:Object(Ie["a"])(fe["l"],null),routerComponentName:Object(Ie["a"])(fe["l"]),target:Object(Ie["a"])(fe["l"],"_self")})),ae["d"]),mt=g["default"].extend({name:ae["d"],mixins:[Be,nt,Ue["a"],qe["a"]],inheritAttrs:!1,props:vt,computed:{computedTag:function(){var e=this.to,t=this.disabled,i=this.routerComponentName;return tt({to:e,disabled:t,routerComponentName:i},this)},isRouterLink:function(){return et(this.computedTag)},computedRel:function(){var e=this.target,t=this.rel;return it({target:e,rel:t})},computedHref:function(){var e=this.to,t=this.href;return rt({to:e,href:t},this.computedTag)},computedProps:function(){var e=this.prefetch;return this.isRouterLink?ht(ht({},Object(Ie["c"])(ht(ht({},bt),gt),this)),{},{prefetch:Object(we["b"])(e)?e:void 0,tag:this.routerTag}):{}},computedAttrs:function(){var e=this.bvAttrs,t=this.computedHref,i=this.computedRel,r=this.disabled,n=this.target,o=this.routerTag,s=this.isRouterLink;return ht(ht(ht(ht({},e),t?{href:t}:{}),s&&!Object(ve["r"])(o,"a")?{}:{rel:i,target:n}),{},{tabindex:r?"-1":Object(we["l"])(e.tabindex)?null:e.tabindex,"aria-disabled":r?"true":null})},computedListeners:function(){return ht(ht({},this.bvListeners),{},{click:this.onClick})}},methods:{onClick:function(e){var t=arguments,i=Object(we["d"])(e),r=this.isRouterLink,n=this.bvListeners.click;i&&this.disabled?Object(me["f"])(e,{immediatePropagation:!0}):(r&&e.currentTarget.__vue__&&e.currentTarget.__vue__.$emit(ce["c"],e),Object(ge["b"])(n).filter((function(e){return Object(we["e"])(e)})).forEach((function(e){e.apply(void 0,ot(t))})),this.emitOnRoot(pt,e),this.emitOnRoot("clicked::link",e)),i&&!r&&"#"===this.computedHref&&Object(me["f"])(e,{propagation:!1})},focus:function(){Object(ve["d"])(this.$el)},blur:function(){Object(ve["c"])(this.$el)}},render:function(e){var t=this.active,i=this.disabled;return e(this.computedTag,ft({class:{active:t,disabled:i},attrs:this.computedAttrs,props:this.computedProps},this.isRouterLink?"nativeOn":"on",this.computedListeners),this.normalizeSlot())}});function Ot(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function yt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(i),!0).forEach((function(t){jt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ot(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function jt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var wt=Object(ke["i"])(vt,["event","routerTag"]);delete wt.href.default,delete wt.to.default;var _t=Object(Ie["b"])(Object(ke["l"])(yt(yt({},wt),{},{block:Object(Ie["a"])(fe["e"],!1),disabled:Object(Ie["a"])(fe["e"],!1),pill:Object(Ie["a"])(fe["e"],!1),pressed:Object(Ie["a"])(fe["e"],null),size:Object(Ie["a"])(fe["l"]),squared:Object(Ie["a"])(fe["e"],!1),tag:Object(Ie["a"])(fe["l"],"button"),type:Object(Ie["a"])(fe["l"],"button"),variant:Object(Ie["a"])(fe["l"],"secondary")})),ae["b"]),kt=function(e){"focusin"===e.type?Object(ve["b"])(e.target,"focus"):"focusout"===e.type&&Object(ve["u"])(e.target,"focus")},xt=function(e){return Ye(e)||Object(ve["r"])(e.tag,"a")},Ct=function(e){return Object(we["b"])(e.pressed)},St=function(e){return!(xt(e)||e.tag&&!Object(ve["r"])(e.tag,"button"))},Et=function(e){return!xt(e)&&!St(e)},Pt=function(e){var t;return["btn-".concat(e.variant||"secondary"),(t={},jt(t,"btn-".concat(e.size),e.size),jt(t,"btn-block",e.block),jt(t,"rounded-pill",e.pill),jt(t,"rounded-0",e.squared&&!e.pill),jt(t,"disabled",e.disabled),jt(t,"active",e.pressed),t)]},It=function(e){return xt(e)?Object(Ie["c"])(wt,e):{}},Ft=function(e,t){var i=St(e),r=xt(e),n=Ct(e),o=Et(e),s=r&&"#"===e.href,a=t.attrs&&t.attrs.role?t.attrs.role:null,l=t.attrs?t.attrs.tabindex:null;return(o||s)&&(l="0"),{type:i&&!r?e.type:null,disabled:i?e.disabled:null,role:o||s?"button":a,"aria-disabled":o?String(e.disabled):null,"aria-pressed":n?String(e.pressed):null,autocomplete:n?"off":null,tabindex:e.disabled&&!i?"-1":l}},Mt=g["default"].extend({name:ae["b"],functional:!0,props:_t,render:function(e,t){var i=t.props,r=t.data,n=t.listeners,o=t.children,s=Ct(i),a=xt(i),l=Et(i),c=a&&"#"===i.href,u={keydown:function(e){if(!i.disabled&&(l||c)){var t=e.keyCode;if(t===he||t===ue&&l){var r=e.currentTarget||e.target;Object(me["f"])(e,{propagation:!1}),r.click()}}},click:function(e){i.disabled&&Object(we["d"])(e)?Object(me["f"])(e):s&&n&&n["update:pressed"]&&Object(ge["b"])(n["update:pressed"]).forEach((function(e){Object(we["e"])(e)&&e(!i.pressed)}))}};s&&(u.focusin=kt,u.focusout=kt);var d={staticClass:"btn",class:Pt(i),props:It(i),attrs:Ft(i,r),on:u};return e(a?mt:i.tag,Object(Ke["a"])(r,d),o)}}),At=i("f29e"),Tt=i("ce2a"),Rt=g["default"].extend({abstract:!0,name:ae["n"],props:{nodes:Object(Ie["a"])(fe["b"])},data:function(e){return{updatedNodes:e.nodes}},destroyed:function(){Object(ve["v"])(this.$el)},render:function(e){var t=this.updatedNodes,i=Object(we["e"])(t)?t({}):t;return i=Object(ge["b"])(i).filter(je["a"]),i&&i.length>0&&!i[0].text?i[0]:e()}}),Lt={container:Object(Ie["a"])([pe["c"],fe["l"]],"body"),disabled:Object(Ie["a"])(fe["e"],!1),tag:Object(Ie["a"])(fe["l"],"div")},Bt=g["default"].extend({name:ae["m"],mixins:[qe["a"]],props:Lt,watch:{disabled:{immediate:!0,handler:function(e){e?this.unmountTarget():this.$nextTick(this.mountTarget)}}},created:function(){this.$_defaultFn=null,this.$_target=null},beforeMount:function(){this.mountTarget()},updated:function(){this.updateTarget()},beforeDestroy:function(){this.unmountTarget(),this.$_defaultFn=null},methods:{getContainer:function(){if(le["f"]){var e=this.container;return Object(we["k"])(e)?Object(ve["x"])(e):e}return null},mountTarget:function(){if(!this.$_target){var e=this.getContainer();if(e){var t=document.createElement("div");e.appendChild(t),this.$_target=new Rt({el:t,parent:this,propsData:{nodes:Object(ge["b"])(this.normalizeSlot())}})}}},updateTarget:function(){if(le["f"]&&this.$_target){var e=this.$scopedSlots.default;this.disabled||(e&&this.$_defaultFn!==e?this.$_target.updatedNodes=e:e||(this.$_target.updatedNodes=this.$slots.default)),this.$_defaultFn=e}},unmountTarget:function(){this.$_target&&this.$_target.$destroy(),this.$_target=null}},render:function(e){if(this.disabled){var t=Object(ge["b"])(this.normalizeSlot()).filter(je["a"]);if(t.length>0&&!t[0].text)return t[0]}return e()}}),Vt=i("6d40");function zt(e){return zt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function $t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Dt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(i),!0).forEach((function(t){Ut(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ut(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,i){return t&&Ht(e.prototype,t),i&&Ht(e,i),e}function Wt(e,t,i){return Wt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=Kt(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}},Wt(e,t,i||e)}function Kt(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=ei(e),null===e)break;return e}function Zt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}function Gt(e,t){return Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gt(e,t)}function Xt(e){var t=Yt();return function(){var i,r=ei(e);if(t){var n=ei(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return Qt(this,i)}}function Qt(e,t){return!t||"object"!==zt(t)&&"function"!==typeof t?Jt(e):t}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ei(e)}var ti=function(e){Zt(i,e);var t=Xt(i);function i(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Nt(this,i),r=t.call(this,e,n),Object(ke["d"])(Jt(r),{trigger:Object(ke["k"])()}),r}return qt(i,null,[{key:"Defaults",get:function(){return Dt(Dt({},Wt(ei(i),"Defaults",this)),{},{trigger:null})}}]),i}(Vt["a"]),ii=i("3a58"),ri=1040,ni=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",oi=".sticky-top",si=".navbar-toggler",ai=g["default"].extend({data:function(){return{modals:[],baseZIndex:null,scrollbarWidth:null,isBodyOverflowing:!1}},computed:{modalCount:function(){return this.modals.length},modalsAreOpen:function(){return this.modalCount>0}},watch:{modalCount:function(e,t){le["f"]&&(this.getScrollbarWidth(),e>0&&0===t?(this.checkScrollbar(),this.setScrollbar(),Object(ve["b"])(document.body,"modal-open")):0===e&&t>0&&(this.resetScrollbar(),Object(ve["u"])(document.body,"modal-open")),Object(ve["z"])(document.body,"data-modal-open-count",String(e)))},modals:function(e){var t=this;this.checkScrollbar(),Object(ve["w"])((function(){t.updateModals(e||[])}))}},methods:{registerModal:function(e){var t=this;e&&-1===this.modals.indexOf(e)&&(this.modals.push(e),e.$once(ce["x"],(function(){t.unregisterModal(e)})))},unregisterModal:function(e){var t=this.modals.indexOf(e);t>-1&&(this.modals.splice(t,1),e._isBeingDestroyed||e._isDestroyed||this.resetModal(e))},getBaseZIndex:function(){if(Object(we["f"])(this.baseZIndex)&&le["f"]){var e=document.createElement("div");Object(ve["b"])(e,"modal-backdrop"),Object(ve["b"])(e,"d-none"),Object(ve["A"])(e,"display","none"),document.body.appendChild(e),this.baseZIndex=Object(ii["c"])(Object(ve["k"])(e).zIndex,ri),document.body.removeChild(e)}return this.baseZIndex||ri},getScrollbarWidth:function(){if(Object(we["f"])(this.scrollbarWidth)&&le["f"]){var e=document.createElement("div");Object(ve["b"])(e,"modal-scrollbar-measure"),document.body.appendChild(e),this.scrollbarWidth=Object(ve["i"])(e).width-e.clientWidth,document.body.removeChild(e)}return this.scrollbarWidth||0},updateModals:function(e){var t=this,i=this.getBaseZIndex(),r=this.getScrollbarWidth();e.forEach((function(e,n){e.zIndex=i+n,e.scrollbarWidth=r,e.isTop=n===t.modals.length-1,e.isBodyOverflowing=t.isBodyOverflowing}))},resetModal:function(e){e&&(e.zIndex=this.getBaseZIndex(),e.isTop=!0,e.isBodyOverflowing=!1)},checkScrollbar:function(){var e=Object(ve["i"])(document.body),t=e.left,i=e.right;this.isBodyOverflowing=t+i<window.innerWidth},setScrollbar:function(){var e=document.body;if(e._paddingChangedForModal=e._paddingChangedForModal||[],e._marginChangedForModal=e._marginChangedForModal||[],this.isBodyOverflowing){var t=this.scrollbarWidth;Object(ve["y"])(ni).forEach((function(i){var r=Object(ve["l"])(i,"paddingRight")||"";Object(ve["z"])(i,"data-padding-right",r),Object(ve["A"])(i,"paddingRight","".concat(Object(ii["b"])(Object(ve["k"])(i).paddingRight,0)+t,"px")),e._paddingChangedForModal.push(i)})),Object(ve["y"])(oi).forEach((function(i){var r=Object(ve["l"])(i,"marginRight")||"";Object(ve["z"])(i,"data-margin-right",r),Object(ve["A"])(i,"marginRight","".concat(Object(ii["b"])(Object(ve["k"])(i).marginRight,0)-t,"px")),e._marginChangedForModal.push(i)})),Object(ve["y"])(si).forEach((function(i){var r=Object(ve["l"])(i,"marginRight")||"";Object(ve["z"])(i,"data-margin-right",r),Object(ve["A"])(i,"marginRight","".concat(Object(ii["b"])(Object(ve["k"])(i).marginRight,0)+t,"px")),e._marginChangedForModal.push(i)}));var i=Object(ve["l"])(e,"paddingRight")||"";Object(ve["z"])(e,"data-padding-right",i),Object(ve["A"])(e,"paddingRight","".concat(Object(ii["b"])(Object(ve["k"])(e).paddingRight,0)+t,"px"))}},resetScrollbar:function(){var e=document.body;e._paddingChangedForModal&&e._paddingChangedForModal.forEach((function(e){Object(ve["n"])(e,"data-padding-right")&&(Object(ve["A"])(e,"paddingRight",Object(ve["h"])(e,"data-padding-right")||""),Object(ve["t"])(e,"data-padding-right"))})),e._marginChangedForModal&&e._marginChangedForModal.forEach((function(e){Object(ve["n"])(e,"data-margin-right")&&(Object(ve["A"])(e,"marginRight",Object(ve["h"])(e,"data-margin-right")||""),Object(ve["t"])(e,"data-margin-right"))})),e._paddingChangedForModal=null,e._marginChangedForModal=null,Object(ve["n"])(e,"data-padding-right")&&(Object(ve["A"])(e,"paddingRight",Object(ve["h"])(e,"data-padding-right")||""),Object(ve["t"])(e,"data-padding-right"))}}}),li=new ai;function ci(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function ui(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(i),!0).forEach((function(t){di(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ci(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function di(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var hi=Object(_e["a"])("visible",{type:fe["e"],defaultValue:!1,event:ce["b"]}),fi=hi.mixin,pi=hi.props,bi=hi.prop,gi=hi.event,vi="backdrop",mi="esc",Oi="FORCE",yi="toggle",ji="cancel",wi="headerclose",_i="ok",ki=[ji,wi,_i],xi={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["style","class"]},Ci=Object(Ie["b"])(Object(ke["l"])(ui(ui(ui({},Ve),pi),{},{ariaLabel:Object(Ie["a"])(fe["l"]),autoFocusButton:Object(Ie["a"])(fe["l"],null,(function(e){return Object(we["m"])(e)||Object(ge["a"])(ki,e)})),bodyBgVariant:Object(Ie["a"])(fe["l"]),bodyClass:Object(Ie["a"])(fe["c"]),bodyTextVariant:Object(Ie["a"])(fe["l"]),busy:Object(Ie["a"])(fe["e"],!1),buttonSize:Object(Ie["a"])(fe["l"]),cancelDisabled:Object(Ie["a"])(fe["e"],!1),cancelTitle:Object(Ie["a"])(fe["l"],"Cancel"),cancelTitleHtml:Object(Ie["a"])(fe["l"]),cancelVariant:Object(Ie["a"])(fe["l"],"secondary"),centered:Object(Ie["a"])(fe["e"],!1),contentClass:Object(Ie["a"])(fe["c"]),dialogClass:Object(Ie["a"])(fe["c"]),footerBgVariant:Object(Ie["a"])(fe["l"]),footerBorderVariant:Object(Ie["a"])(fe["l"]),footerClass:Object(Ie["a"])(fe["c"]),footerTextVariant:Object(Ie["a"])(fe["l"]),headerBgVariant:Object(Ie["a"])(fe["l"]),headerBorderVariant:Object(Ie["a"])(fe["l"]),headerClass:Object(Ie["a"])(fe["c"]),headerCloseContent:Object(Ie["a"])(fe["l"],"&times;"),headerCloseLabel:Object(Ie["a"])(fe["l"],"Close"),headerCloseVariant:Object(Ie["a"])(fe["l"]),headerTextVariant:Object(Ie["a"])(fe["l"]),hideBackdrop:Object(Ie["a"])(fe["e"],!1),hideFooter:Object(Ie["a"])(fe["e"],!1),hideHeader:Object(Ie["a"])(fe["e"],!1),hideHeaderClose:Object(Ie["a"])(fe["e"],!1),ignoreEnforceFocusSelector:Object(Ie["a"])(fe["d"]),lazy:Object(Ie["a"])(fe["e"],!1),modalClass:Object(Ie["a"])(fe["c"]),noCloseOnBackdrop:Object(Ie["a"])(fe["e"],!1),noCloseOnEsc:Object(Ie["a"])(fe["e"],!1),noEnforceFocus:Object(Ie["a"])(fe["e"],!1),noFade:Object(Ie["a"])(fe["e"],!1),noStacking:Object(Ie["a"])(fe["e"],!1),okDisabled:Object(Ie["a"])(fe["e"],!1),okOnly:Object(Ie["a"])(fe["e"],!1),okTitle:Object(Ie["a"])(fe["l"],"OK"),okTitleHtml:Object(Ie["a"])(fe["l"]),okVariant:Object(Ie["a"])(fe["l"],"primary"),returnFocus:Object(Ie["a"])([pe["c"],fe["j"],fe["l"]]),scrollable:Object(Ie["a"])(fe["e"],!1),size:Object(Ie["a"])(fe["l"],"md"),static:Object(Ie["a"])(fe["e"],!1),title:Object(Ie["a"])(fe["l"]),titleClass:Object(Ie["a"])(fe["c"]),titleHtml:Object(Ie["a"])(fe["l"]),titleSrOnly:Object(Ie["a"])(fe["e"],!1),titleTag:Object(Ie["a"])(fe["l"],"h5")})),ae["e"]),Si=g["default"].extend({name:ae["e"],mixins:[Be,ze,fi,De,Ue["a"],He,qe["a"],We["a"]],inheritAttrs:!1,props:Ci,data:function(){return{isHidden:!0,isVisible:!1,isTransitioning:!1,isShow:!1,isBlock:!1,isOpening:!1,isClosing:!1,ignoreBackdropClick:!1,isModalOverflowing:!1,scrollbarWidth:0,zIndex:li.getBaseZIndex(),isTop:!0,isBodyOverflowing:!1}},computed:{modalId:function(){return this.safeId()},modalOuterId:function(){return this.safeId("__BV_modal_outer_")},modalHeaderId:function(){return this.safeId("__BV_modal_header_")},modalBodyId:function(){return this.safeId("__BV_modal_body_")},modalTitleId:function(){return this.safeId("__BV_modal_title_")},modalContentId:function(){return this.safeId("__BV_modal_content_")},modalFooterId:function(){return this.safeId("__BV_modal_footer_")},modalBackdropId:function(){return this.safeId("__BV_modal_backdrop_")},modalClasses:function(){return[{fade:!this.noFade,show:this.isShow},this.modalClass]},modalStyles:function(){var e="".concat(this.scrollbarWidth,"px");return{paddingLeft:!this.isBodyOverflowing&&this.isModalOverflowing?e:"",paddingRight:this.isBodyOverflowing&&!this.isModalOverflowing?e:"",display:this.isBlock?"block":"none"}},dialogClasses:function(){var e;return[(e={},di(e,"modal-".concat(this.size),this.size),di(e,"modal-dialog-centered",this.centered),di(e,"modal-dialog-scrollable",this.scrollable),e),this.dialogClass]},headerClasses:function(){var e;return[(e={},di(e,"bg-".concat(this.headerBgVariant),this.headerBgVariant),di(e,"text-".concat(this.headerTextVariant),this.headerTextVariant),di(e,"border-".concat(this.headerBorderVariant),this.headerBorderVariant),e),this.headerClass]},titleClasses:function(){return[{"sr-only":this.titleSrOnly},this.titleClass]},bodyClasses:function(){var e;return[(e={},di(e,"bg-".concat(this.bodyBgVariant),this.bodyBgVariant),di(e,"text-".concat(this.bodyTextVariant),this.bodyTextVariant),e),this.bodyClass]},footerClasses:function(){var e;return[(e={},di(e,"bg-".concat(this.footerBgVariant),this.footerBgVariant),di(e,"text-".concat(this.footerTextVariant),this.footerTextVariant),di(e,"border-".concat(this.footerBorderVariant),this.footerBorderVariant),e),this.footerClass]},modalOuterStyle:function(){return{position:"absolute",zIndex:this.zIndex}},slotScope:function(){return{cancel:this.onCancel,close:this.onClose,hide:this.hide,ok:this.onOk,visible:this.isVisible}},computeIgnoreEnforceFocusSelector:function(){return Object(ge["b"])(this.ignoreEnforceFocusSelector).filter(je["a"]).join(",").trim()},computedAttrs:function(){var e=this.static?{}:this.scopedStyleAttrs;return ui(ui(ui({},e),this.bvAttrs),{},{id:this.modalOuterId})},computedModalAttrs:function(){var e=this.isVisible,t=this.ariaLabel;return{id:this.modalId,role:"dialog","aria-hidden":e?null:"true","aria-modal":e?"true":null,"aria-label":t,"aria-labelledby":this.hideHeader||t||!(this.hasNormalizedSlot(be["i"])||this.titleHtml||this.title)?null:this.modalTitleId,"aria-describedby":this.modalBodyId}}},watch:di({},bi,(function(e,t){e!==t&&this[e?"show":"hide"]()})),created:function(){this.$_observer=null,this.$_returnFocus=this.returnFocus||null},mounted:function(){this.zIndex=li.getBaseZIndex(),this.listenOnRoot(Object(me["d"])(ae["e"],ce["t"]),this.showHandler),this.listenOnRoot(Object(me["d"])(ae["e"],ce["n"]),this.hideHandler),this.listenOnRoot(Object(me["d"])(ae["e"],ce["v"]),this.toggleHandler),this.listenOnRoot(Object(me["e"])(ae["e"],ce["t"]),this.modalListener),!0===this[bi]&&this.$nextTick(this.show)},beforeDestroy:function(){this.setObserver(!1),this.isVisible&&(this.isVisible=!1,this.isShow=!1,this.isTransitioning=!1)},methods:{setObserver:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e&&(this.$_observer=Pe(this.$refs.content,this.checkModalOverflow.bind(this),xi))},updateModel:function(e){e!==this[bi]&&this.$emit(gi,e)},buildEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new ti(e,ui(ui({cancelable:!1,target:this.$refs.modal||this.$el||null,relatedTarget:null,trigger:null},t),{},{vueTarget:this,componentId:this.modalId}))},show:function(){if(!this.isVisible&&!this.isOpening)if(this.isClosing)this.$once(ce["m"],this.show);else{this.isOpening=!0,this.$_returnFocus=this.$_returnFocus||this.getActiveElement();var e=this.buildEvent(ce["t"],{cancelable:!0});if(this.emitEvent(e),e.defaultPrevented||this.isVisible)return this.isOpening=!1,void this.updateModel(!1);this.doShow()}},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isVisible&&!this.isClosing){this.isClosing=!0;var t=this.buildEvent(ce["n"],{cancelable:e!==Oi,trigger:e||null});if(e===_i?this.$emit(ce["r"],t):e===ji?this.$emit(ce["a"],t):e===wi&&this.$emit(ce["d"],t),this.emitEvent(t),t.defaultPrevented||!this.isVisible)return this.isClosing=!1,void this.updateModel(!0);this.setObserver(!1),this.isVisible=!1,this.updateModel(!1)}},toggle:function(e){e&&(this.$_returnFocus=e),this.isVisible?this.hide(yi):this.show()},getActiveElement:function(){var e=Object(ve["g"])(le["f"]?[document.body]:[]);return e&&e.focus?e:null},doShow:function(){var e=this;li.modalsAreOpen&&this.noStacking?this.listenOnRootOnce(Object(me["e"])(ae["e"],ce["m"]),this.doShow):(li.registerModal(this),this.isHidden=!1,this.$nextTick((function(){e.isVisible=!0,e.isOpening=!1,e.updateModel(!0),e.$nextTick((function(){e.setObserver(!0)}))})))},onBeforeEnter:function(){this.isTransitioning=!0,this.setResizeEvent(!0)},onEnter:function(){var e=this;this.isBlock=!0,Object(ve["w"])((function(){Object(ve["w"])((function(){e.isShow=!0}))}))},onAfterEnter:function(){var e=this;this.checkModalOverflow(),this.isTransitioning=!1,Object(ve["w"])((function(){e.emitEvent(e.buildEvent(ce["u"])),e.setEnforceFocus(!0),e.$nextTick((function(){e.focusFirst()}))}))},onBeforeLeave:function(){this.isTransitioning=!0,this.setResizeEvent(!1),this.setEnforceFocus(!1)},onLeave:function(){this.isShow=!1},onAfterLeave:function(){var e=this;this.isBlock=!1,this.isTransitioning=!1,this.isModalOverflowing=!1,this.isHidden=!0,this.$nextTick((function(){e.isClosing=!1,li.unregisterModal(e),e.returnFocusTo(),e.emitEvent(e.buildEvent(ce["m"]))}))},emitEvent:function(e){var t=e.type;this.emitOnRoot(Object(me["e"])(ae["e"],t),e,e.componentId),this.$emit(t,e)},onDialogMousedown:function(){var e=this,t=this.$refs.modal,i=function i(r){Object(me["a"])(t,"mouseup",i,ce["w"]),r.target===t&&(e.ignoreBackdropClick=!0)};Object(me["b"])(t,"mouseup",i,ce["w"])},onClickOut:function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:this.isVisible&&!this.noCloseOnBackdrop&&Object(ve["f"])(document.body,e.target)&&(Object(ve["f"])(this.$refs.content,e.target)||this.hide(vi))},onOk:function(){this.hide(_i)},onCancel:function(){this.hide(ji)},onClose:function(){this.hide(wi)},onEsc:function(e){e.keyCode===de&&this.isVisible&&!this.noCloseOnEsc&&this.hide(mi)},focusHandler:function(e){var t=this.$refs.content,i=e.target;if(!(this.noEnforceFocus||!this.isTop||!this.isVisible||!t||document===i||Object(ve["f"])(t,i)||this.computeIgnoreEnforceFocusSelector&&Object(ve["e"])(this.computeIgnoreEnforceFocusSelector,i,!0))){var r=Object(ve["m"])(this.$refs.content),n=this.$refs["bottom-trap"],o=this.$refs["top-trap"];if(n&&i===n){if(Object(ve["d"])(r[0]))return}else if(o&&i===o&&Object(ve["d"])(r[r.length-1]))return;Object(ve["d"])(t,{preventScroll:!0})}},setEnforceFocus:function(e){this.listenDocument(e,"focusin",this.focusHandler)},setResizeEvent:function(e){this.listenWindow(e,"resize",this.checkModalOverflow),this.listenWindow(e,"orientationchange",this.checkModalOverflow)},showHandler:function(e,t){e===this.modalId&&(this.$_returnFocus=t||this.getActiveElement(),this.show())},hideHandler:function(e){e===this.modalId&&this.hide("event")},toggleHandler:function(e,t){e===this.modalId&&this.toggle(t)},modalListener:function(e){this.noStacking&&e.vueTarget!==this&&this.hide()},focusFirst:function(){var e=this;le["f"]&&Object(ve["w"])((function(){var t=e.$refs.modal,i=e.$refs.content,r=e.getActiveElement();if(t&&i&&(!r||!Object(ve["f"])(i,r))){var n=e.$refs["ok-button"],o=e.$refs["cancel-button"],s=e.$refs["close-button"],a=e.autoFocusButton,l=a===_i&&n?n.$el||n:a===ji&&o?o.$el||o:a===wi&&s?s.$el||s:i;Object(ve["d"])(l),l===i&&e.$nextTick((function(){t.scrollTop=0}))}}))},returnFocusTo:function(){var e=this.returnFocus||this.$_returnFocus||null;this.$_returnFocus=null,this.$nextTick((function(){e=Object(we["k"])(e)?Object(ve["x"])(e):e,e&&(e=e.$el||e,Object(ve["d"])(e))}))},checkModalOverflow:function(){if(this.isVisible){var e=this.$refs.modal;this.isModalOverflowing=e.scrollHeight>document.documentElement.clientHeight}},makeModal:function(e){var t=e();if(!this.hideHeader){var i=this.normalizeSlot(be["f"],this.slotScope);if(!i){var r=e();this.hideHeaderClose||(r=e(At["a"],{props:{content:this.headerCloseContent,disabled:this.isTransitioning,ariaLabel:this.headerCloseLabel,textVariant:this.headerCloseVariant||this.headerTextVariant},on:{click:this.onClose},ref:"close-button"},[this.normalizeSlot(be["g"])])),i=[e(this.titleTag,{staticClass:"modal-title",class:this.titleClasses,attrs:{id:this.modalTitleId},domProps:this.hasNormalizedSlot(be["i"])?{}:ye(this.titleHtml,this.title)},this.normalizeSlot(be["i"],this.slotScope)),r]}t=e("header",{staticClass:"modal-header",class:this.headerClasses,attrs:{id:this.modalHeaderId},ref:"header"},[i])}var n=e("div",{staticClass:"modal-body",class:this.bodyClasses,attrs:{id:this.modalBodyId},ref:"body"},this.normalizeSlot(be["a"],this.slotScope)),o=e();if(!this.hideFooter){var s=this.normalizeSlot(be["e"],this.slotScope);if(!s){var a=e();this.okOnly||(a=e(Mt,{props:{variant:this.cancelVariant,size:this.buttonSize,disabled:this.cancelDisabled||this.busy||this.isTransitioning},domProps:this.hasNormalizedSlot(be["d"])?{}:ye(this.cancelTitleHtml,this.cancelTitle),on:{click:this.onCancel},ref:"cancel-button"},this.normalizeSlot(be["d"])));var l=e(Mt,{props:{variant:this.okVariant,size:this.buttonSize,disabled:this.okDisabled||this.busy||this.isTransitioning},domProps:this.hasNormalizedSlot(be["h"])?{}:ye(this.okTitleHtml,this.okTitle),on:{click:this.onOk},ref:"ok-button"},this.normalizeSlot(be["h"]));s=[a,l]}o=e("footer",{staticClass:"modal-footer",class:this.footerClasses,attrs:{id:this.modalFooterId},ref:"footer"},[s])}var c=e("div",{staticClass:"modal-content",class:this.contentClass,attrs:{id:this.modalContentId,tabindex:"-1"},ref:"content"},[t,n,o]),u=e(),d=e();this.isVisible&&!this.noEnforceFocus&&(u=e("span",{attrs:{tabindex:"0"},ref:"top-trap"}),d=e("span",{attrs:{tabindex:"0"},ref:"bottom-trap"}));var h=e("div",{staticClass:"modal-dialog",class:this.dialogClasses,on:{mousedown:this.onDialogMousedown},ref:"dialog"},[u,c,d]),f=e("div",{staticClass:"modal",class:this.modalClasses,style:this.modalStyles,attrs:this.computedModalAttrs,on:{keydown:this.onEsc,click:this.onClickOut},directives:[{name:"show",value:this.isVisible}],ref:"modal"},[h]);f=e("transition",{props:{enterClass:"",enterToClass:"",enterActiveClass:"",leaveClass:"",leaveActiveClass:"",leaveToClass:""},on:{beforeEnter:this.onBeforeEnter,enter:this.onEnter,afterEnter:this.onAfterEnter,beforeLeave:this.onBeforeLeave,leave:this.onLeave,afterLeave:this.onAfterLeave}},[f]);var p=e();return!this.hideBackdrop&&this.isVisible&&(p=e("div",{staticClass:"modal-backdrop",attrs:{id:this.modalBackdropId}},this.normalizeSlot(be["c"]))),p=e(Tt["a"],{props:{noFade:this.noFade}},[p]),e("div",{style:this.modalOuterStyle,attrs:this.computedAttrs,key:"modal-outer-".concat(this[se["a"]])},[f,p])}},render:function(e){return this.static?this.lazy&&this.isHidden?e():this.makeModal(e):this.isHidden?e():e(Bt,[this.makeModal(e)])}}),Ei={components:{BModal:Si},props:{isModalVisible:Boolean},mixins:[f["b"]],data:function(){return{selectedRecorder:null,description:null,draft:null}},created:function(){this.reset()},computed:Object(o["a"])({},Object(I["e"])({recorders:function(e){var t=e.audio.recording.recorders;return t}})),methods:{selectNewRecorder:function(){this.draft.isNew=!0,this.selectedRecorder=this.draft},setSelectedRecorder:function(e){this.selectedRecorder=e},reset:function(){this.draft={name:null,phone:null,isNew:!0},this.description=null,this.selectedRecorder=null},handleModalClosed:function(){var e=this.description,t=y.a.clone(this.selectedRecorder);this.reset(),this.$emit("input",{value:t,recorder:t,description:e})},handleModalCancelled:function(){this.reset();var e=this.description,t=y.a.clone(this.selectedRecorder);this.$emit("input",{value:t,recorder:t,description:e})}}},Pi=Ei,Ii=(i("7b28"),Object(z["a"])(Pi,ne,oe,!1,null,"6630b4be",null)),Fi=Ii.exports,Mi={components:{PhoneRecordingRecorderSelector:Fi},props:["recordingKey"],data:function(){return{callConfig:null}},computed:Object(o["a"])(Object(o["a"])({},Object(I["e"])({isRecorderSelectorVisible:function(e){var t=e.audio.recording.isRecorderSelectorVisible;return t}})),Object(I["c"])(["isFeatureCallToRecordEnabled"])),methods:{handleRecorderSelectionChanged:function(){if(this.$store.commit("setAudioRecordingConfigVisibilityForSelectedBlock",{isVisible:!1}),this.callConfig.recorder){var e=Object(o["a"])({key:this.recordingKey,description:this.callConfig.description},this.callConfig.recorder);this.$store.dispatch("startAudioRecordingFor",e)}}}},Ai=Mi,Ti=Object(z["a"])(Ai,ie,re,!1,null,null,null),Ri=Ti.exports,Li=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-monitor"},[e.hasProgress?i("div",{staticClass:"upload-monitor-progress"},[i("h6",[e._v(e._s(e._f("trans")("trees.uploading"))+"… "+e._s(e.upload.file.name))]),i("div",{staticClass:"progress"},[i("b-progress",{staticClass:"mb-3",attrs:{value:1*e.progress,"show-value":"",animated:""}})],1)]):e._e(),e.isFailure?i("p",{staticClass:"text-danger small"},[e._v(" "+e._s(e._f("trans")("trees.error-uploading-file-try-again"))+" "),e.upload.message?i("span",{staticClass:"details"},[e._v("("+e._s(e.upload.message)+")")]):e._e()]):e._e(),e.hasProgress?e._e():e._t("default")],2)},Bi=[],Vi=i("a8c8"),zi=Object(Ie["b"])({animated:Object(Ie["a"])(fe["e"],null),label:Object(Ie["a"])(fe["l"]),labelHtml:Object(Ie["a"])(fe["l"]),max:Object(Ie["a"])(fe["i"],null),precision:Object(Ie["a"])(fe["i"],null),showProgress:Object(Ie["a"])(fe["e"],null),showValue:Object(Ie["a"])(fe["e"],null),striped:Object(Ie["a"])(fe["e"],null),value:Object(Ie["a"])(fe["i"],0),variant:Object(Ie["a"])(fe["l"])},ae["h"]),$i=g["default"].extend({name:ae["h"],mixins:[qe["a"]],inject:{bvProgress:{default:function(){return{}}}},props:zi,computed:{progressBarClasses:function(){var e=this.computedAnimated,t=this.computedVariant;return[t?"bg-".concat(t):"",this.computedStriped||e?"progress-bar-striped":"",e?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.computedValue/this.computedMax*100+"%"}},computedValue:function(){return Object(ii["b"])(this.value,0)},computedMax:function(){var e=Object(ii["b"])(this.max)||Object(ii["b"])(this.bvProgress.max,0);return e>0?e:100},computedPrecision:function(){return Object(Vi["a"])(Object(ii["c"])(this.precision,Object(ii["c"])(this.bvProgress.precision,0)),0)},computedProgress:function(){var e=this.computedPrecision,t=Object(Vi["b"])(10,e);return Object(ii["a"])(100*t*this.computedValue/this.computedMax/t,e)},computedVariant:function(){return this.variant||this.bvProgress.variant},computedStriped:function(){return Object(we["b"])(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return Object(we["b"])(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return Object(we["b"])(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return Object(we["b"])(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(e){var t,i=this.label,r=this.labelHtml,n=this.computedValue,o=this.computedPrecision,s={};return this.hasNormalizedSlot()?t=this.normalizeSlot():i||r?s=ye(r,i):this.computedShowProgress?t=this.computedProgress:this.computedShowValue&&(t=Object(ii["a"])(n,o)),e("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":Object(Ze["c"])(this.computedMax),"aria-valuenow":Object(ii["a"])(n,o)},domProps:s},t)}});function Di(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Ui(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(i),!0).forEach((function(t){Ni(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Di(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ni(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Hi,qi=Object(ke["i"])(zi,["label","labelHtml"]),Wi=Object(Ie["b"])(Object(ke["l"])(Ui(Ui({},qi),{},{animated:Object(Ie["a"])(fe["e"],!1),height:Object(Ie["a"])(fe["l"]),max:Object(Ie["a"])(fe["i"],100),precision:Object(Ie["a"])(fe["i"],0),showProgress:Object(Ie["a"])(fe["e"],!1),showValue:Object(Ie["a"])(fe["e"],!1),striped:Object(Ie["a"])(fe["e"],!1)})),ae["g"]),Ki=g["default"].extend({name:ae["g"],mixins:[qe["a"]],provide:function(){return{bvProgress:this}},props:Wi,computed:{progressHeight:function(){return{height:this.height||null}}},render:function(e){var t=this.normalizeSlot();return t||(t=e($i,{props:Object(Ie["c"])(qi,this.$props)})),e("div",{staticClass:"progress",style:this.progressHeight},[t])}}),Zi=(i("4160"),i("159b"),i("ade3")),Gi=i("bc3a"),Xi=i.n(Gi),Qi={UPLOADING:-1,UNINITIALIZED:0,SUCCESS:1,FAILURE:2},Ji=(Hi={},Object(Zi["a"])(Hi,Qi.UPLOADING,"uploading"),Object(Zi["a"])(Hi,Qi.UNINITIALIZED,"uninitialized"),Object(Zi["a"])(Hi,Qi.SUCCESS,"success"),Object(Zi["a"])(Hi,Qi.FAILURE,"failure"),{namespaced:!0,state:{uploadProgressByKey:{},errorMessageByKey:{},uploadsById:{},uploadIdsByKey:{}},mutations:{setErrorMessage:function(e,t){var i=e.errorMessageByKey,r=t.key,n=t.errorMessage;g["default"].set(i,r,n)},setUploadProgress:function(e,t){var i=e.uploadProgressByKey,r=t.key,n=t.uploadProgress;g["default"].set(i,r,n)},setUploadStatusFor:function(e,t){var i=e.uploadsById,r=e.uploadIdsByKey,n=t.file,o=t.key,s=t.status,a=t.progress,l=t.message,c=t.cancel,u=y.a.pick(n,["averageSpeed","currentSpeed","error","name","paused","relativePath","size","uniqueIdentifier"]);g["default"].set(i,u.uniqueIdentifier,{key:o,status:s,progress:a,message:l,cancel:c,file:u}),g["default"].set(r,o,u.uniqueIdentifier)}},actions:{uploadFile:function(e,t){var i=e.commit,r=t.key,n=t.uploadUrl,o=t.formDataFields,s=t.onSuccess,a=t.onError;if(!n)return i("setUploadProgress",{key:r,uploadProgress:null}),void a(new Error("url was ".concat(n)));var l=new FormData;y.a.forEach(o,(function(e,t){l.set(t,e)}));var c={onUploadProgress:function(e){i("setUploadProgress",{key:r,uploadProgress:Math.floor(100*e.loaded/e.total)})}};Xi.a.post(n,l,c).then((function(e){i("setUploadProgress",{key:r,uploadProgress:null}),s(e)})).catch((function(e){i("setUploadProgress",{key:r,uploadProgress:null}),a(e)}))},uploadFiles:function(e,t){var i=e.commit,r=(e.dispatch,e.state,t.key),n=t.files,o=t.uploader,s=function(e){return o.cancel()};n.forEach((function(e){return i("setUploadStatusFor",{file:e,key:r,progress:0,status:Qi.UNINITIALIZED,message:null,cancel:s})})),o.on("fileProgress",(function(e,t){console.debug("Upload in progress... ".concat(_.parseInt(100*e.progress()),"%")),i("setUploadStatusFor",{file:e,key:r,progress:e.progress(),status:Qi.UPLOADING,message:null,cancel:s})})),o.on("fileSuccess",(function(e,t){console.debug("Upload successful!"),i("setUploadStatusFor",{file:e,key:r,progress:1,status:Qi.SUCCESS,message:null,cancel:s})})),o.on("error",(function(e,t){var n=JSON.parse(e)||{},o=n.status_description;console.debug("Upload has error ".concat(o)),i("setUploadStatusFor",{file:t,key:r,status:Qi.FAILURE,message:o,cancel:s})})),o.upload(),console.debug("Upload in progress...")}}}),Yi={props:["uploadKey"],mixins:[f["b"]],components:{BProgress:Ki},computed:Object(o["a"])(Object(o["a"])({},Object(I["e"])("multimediaUpload",["uploadsById","uploadIdsByKey"])),{},{upload:function(){return this.uploadsById[this.uploadIdsByKey[this.uploadKey]]},hasProgress:function(){return this.upload&&this.upload.status!==Qi.SUCCESS&&this.upload.status!==Qi.FAILURE},isFailure:function(){return this.upload&&this.upload.status===Qi.FAILURE},progress:function(){return 100*y.a.get(this.upload,"progress",0)}}),created:function(){var e=this.$store,t={multimediaUpload:Ji};Object(O["forEach"])(t,(function(t,i){return!e.hasModule(i)&&e.registerModule(i,t)}))}},er=Yi,tr=(i("9ea4"),Object(z["a"])(er,Li,Bi,!1,null,null,null)),ir=tr.exports,rr=i("bb40"),nr=Object(d["e"])("flow"),or=Object(d["e"])("builder"),sr=function(e){Object(l["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.discoverContentTypesFor=S["b"],e.findOrGenerateStubbedVariantOn=S["c"],e.findResourceVariantOverModesOn=S["d"],e.SupportedMode=h["SupportedMode"],e.SupportedContentType=h["SupportedContentType"],e}return Object(a["a"])(i,[{key:"triggerRecordViaPhoneFor",value:function(e){this.$store.commit("setAudioRecordingConfigVisibilityForSelectedBlock",{langId:e,isVisible:!0})}},{key:"handleFilesSubmittedFor",value:function(e,t){var i=t.data;console.debug("call handleFilesSubmittedFor"),this.$store.dispatch("multimediaUpload/uploadFiles",Object(o["a"])(Object(o["a"])({},i),{},{key:e}))}},{key:"handleFileSuccessFor",value:function(e,t,i){var r=i.data,n=(r.file,r.json),o=(this.block.uuid,JSON.parse(n)),s=o.audio_file_id,a=o.audio_uuid,l=o.created_at.date,c=o.description,u=o.duration_seconds,d=c.split(".")[c.split(".").length-1],f={id:s,filename:a,description:c,language_id:t,duration_seconds:u,original_extension:d,created_at:l};this.resource_setOrCreateValueModeSpecific({resourceId:this.resource.uuid,filter:{language_id:t,content_type:h["SupportedContentType"].AUDIO,modes:[h["SupportedMode"].IVR]},value:c}),i.target.blur(),this.pushAudioIntoLibrary(f)}},{key:"findAudioResourceVariantFor",value:function(e,t){try{return Object(S["d"])(e,t).value}catch(i){if(!(i instanceof te["a"]))throw i;return null}}}]),i}(Object(j["c"])(x,p["a"],b["a"],f["a"]));Object(u["a"])([Object(C["b"])({required:!0})],sr.prototype,"block",void 0),Object(u["a"])([Object(C["b"])({required:!0})],sr.prototype,"flow",void 0),Object(u["a"])([Object(C["b"])()],sr.prototype,"resource",void 0),Object(u["a"])([Object(C["b"])()],sr.prototype,"label",void 0),Object(u["a"])([d["b"]],sr.prototype,"availableAudio",void 0),Object(u["a"])([d["b"]],sr.prototype,"isFeatureAudioUploadEnabled",void 0),Object(u["a"])([d["c"]],sr.prototype,"pushAudioIntoLibrary",void 0),Object(u["a"])([nr.Action],sr.prototype,"resource_setOrCreateValueModeSpecific",void 0),Object(u["a"])([or.Getter],sr.prototype,"isEditable",void 0),sr=Object(u["a"])([Object(C["a"])({components:{AudioLibrarySelector:ee,ResourceVariantTextEditor:rr["a"],UploadMonitor:ir,PhoneRecorder:Ri}})],sr);var ar=sr,lr=ar,cr=Object(z["a"])(lr,r,n,!1,null,null,null);t["a"]=cr.exports},"5e02":function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,".phone-recording-recorder-selector[data-v-6630b4be]{padding-top:3em}.phone-recording-recorder-selector .modal-body .h4[data-v-6630b4be],.phone-recording-recorder-selector .modal-body h4[data-v-6630b4be]{margin-top:2em}.phone-recording-recorder-selector .table .recorder-selector-field[data-v-6630b4be]{width:3em;text-align:center;vertical-align:middle}",""]),e.exports=t},"704a":function(e,t,i){"use strict";var r=i("793b"),n=i.n(r);t["default"]=n.a},7928:function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,".btn-ghost{background:transparent;border:none}.audio-library-selection{position:relative;background-color:transparent!important;background-image:none!important;border-color:#ccc!important}.audio-library-selection .audio-library-selection-download-dropdown{position:absolute;right:1.6em;top:50%;margin-top:-8px;color:#888}.audio-library-selection .audio-library-selection-download-dropdown svg{vertical-align:middle}.audio-library-selection .audio-library-selection-clear-selection{margin-right:-7px}.audio-library-selection .audio-file-description{text-overflow:ellipsis;overflow:hidden;margin-bottom:3px}.audio-library-selection .vue-sound-wrapper{margin-bottom:8px;margin-left:1em}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-pause2,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-play3{font-size:130%;color:#888}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-pause2:hover,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-play3:hover{color:#000;text-decoration:none}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-download,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-stop2,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-volume-high,.audio-library-selection .vue-sound-wrapper .vue-sound__player .volume-toggle{display:none!important}.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-current,.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-separator,.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-total{font-size:80%;color:#888}.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-wrapper{text-align:center;width:71%!important}",""]),e.exports=t},"792f":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block-id text-right"},[i("small",{staticClass:"text-muted"},[e._v(e._s(e._f("trans")("flow-builder.block-id"))+": "),i("em",[e._v(e._s(e.blockId))])])])},n=[],o=i("d4ec"),s=i("bee2"),a=i("262e"),l=i("2caf"),c=i("9ab4"),u=i("60a3"),d=i("4a51"),h=i("2fe1"),f=function(e){Object(a["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(o["a"])(this,i),t.apply(this,arguments)}return Object(s["a"])(i,[{key:"blockId",get:function(){return this.block.uuid||""}}]),i}(Object(h["c"])(d["a"]));Object(c["a"])([Object(u["b"])()],f.prototype,"block",void 0),f=Object(c["a"])([Object(u["a"])({})],f);var p=f,b=p,g=i("2877"),v=Object(g["a"])(b,r,n,!1,null,null,null);t["a"]=v.exports},"793b":function(e,t,i){var r=i("0be7");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("499e").default;n("98e06cea",r,!0,{sourceMap:!1,shadowMode:!1})},"79f2":function(e,t,i){"use strict";var r=i("bc39"),n=i.n(r);n.a},"7b28":function(e,t,i){"use strict";var r=i("1162"),n=i.n(r);n.a},"820c":function(e,t,i){var r=i("b986");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("499e").default;n("001dc3d2",r,!0,{sourceMap:!1,shadowMode:!1})},"9a31":function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,".audio-library-search-field.dropdown .dropdown-menu[data-v-50208a5c]{display:block;min-width:100%}.audio-library-search-field.dropdown .dropdown-menu>li.pagers>a[data-v-50208a5c]{clear:none;margin-top:0;margin-bottom:0;padding-top:.5em;padding-bottom:.5em}.audio-library-search-field.dropdown .dropdown-menu>li.pagers>a.disabled[data-v-50208a5c]{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:not-allowed;color:#777}.close[data-v-50208a5c]{pointer-events:auto}",""]),e.exports=t},"9ea4":function(e,t,i){"use strict";var r=i("820c"),n=i.n(r);n.a},b986:function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,".progress{margin-bottom:.5em}",""]),e.exports=t},bb40:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"resource-variant-text-editor"},[i("div",{staticClass:"content-editor",class:{"content-editor-selected":!!e.content}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"},{name:"focus",rawName:"v-focus",value:e.isSelected,expression:"isSelected"}],staticClass:"form-control",attrs:{placeholder:e._f("trans")("flow-builder.enter-"+e.resourceVariant.content_type.toString().toLowerCase()+"-content")},domProps:{value:e.content},on:{focus:e.select,blur:e.deselect,input:function(t){t.target.composing||(e.content=t.target.value)}}})]),i("div",{staticClass:"content-toolbar"},[e.isEditable?i("span",{staticClass:"text-muted transition-all",class:{invisible:!e.characterCounter.count}},[e._v(" "+e._s(e.characterCounter.count)+" characters "),"sms"===e.mode&&e.characterCounter.pages>1?[e._v(" ("+e._s(e.characterCounter.pages)+" "+e._s(e.characterCounter.hasUnicode?"unicode pages":"pages")+") ")]:e._e()],2):e._e(),e.doesContentContainExpression?i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top.html",value:"<p>"+e.trans("flow-builder.youre-using-floip-expressions")+"</p>\n                     <p>\n                       <strong>"+e.trans("flow-builder.pro-tip")+":</strong>\n                       "+e.trans("flow-builder.floip-expressions-escape-with-double-at-symbol")+"\n                     </p>",expression:"`<p>${trans('flow-builder.youre-using-floip-expressions')}</p>\n                     <p>\n                       <strong>${trans('flow-builder.pro-tip')}:</strong>\n                       ${trans('flow-builder.floip-expressions-escape-with-double-at-symbol')}\n                     </p>`",modifiers:{hover:!0,top:!0,html:!0}}],attrs:{href:"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html",target:"_blank"}},[i("kbd",{staticStyle:{"margin-left":"1em"}},[i("i",{staticClass:"glyphicon glyphicon-console"}),e.doesContentContainExpressionError?i("i",{staticClass:"glyphicon glyphicon glyphicon-remove-sign text-danger"}):i("i",{staticClass:"glyphicon glyphicon-ok-sign text-success"})])]):e._e(),e.doesContentContainExpressionError?i("div",{staticClass:"alert alert-danger",staticStyle:{"margin-top":"0.5em"}},[i("p",[i("i",{staticClass:"glyphicon glyphicon-remove-sign"}),i("strong",[i("a",{attrs:{href:"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html",target:"_blank"}},[e._v("FLOIP Expression")]),e._v(" "+e._s(e._f("trans")("flow-builder.error-found"))+" ")])]),i("p",[i("em",[e._v(" "+e._s(e.contentExpressionAST.message)+" ("),1!==e.contentExpressionAST.location.start.line?i("span",[e._v(e._s(e._f("trans")("flow-builder.on-line"))+" "+e._s(e.contentExpressionAST.location.start.line)+", ")]):e._e(),e._v(e._s(e._f("trans")("flow-builder.at-character"))+" "+e._s(e.contentExpressionAST.location.start.column)+") ")])])]):e._e()])])},n=[],o=(i("b0c0"),i("5530")),s=i("a026"),a=i("4a51"),l=i("14d3"),c=i("2ef0"),u=i("f837"),d=i.n(u),h=i("2f62"),f=i("b4ae");s["default"].component("b-tooltip",f["a"]);var p={components:{},mixins:[a["b"],d.a.mixin],props:{isEditable:Boolean,resourceId:{type:String,default:null},resourceVariant:{type:Object,default:null},mode:{type:String,default:null},enableAutogenButton:{type:Boolean,default:!0}},data:function(){return{isSelected:!1}},computed:{content:{get:function(){return this.resourceVariant.value},set:function(e){var t=this.resourceId,i=this.mode,r=this.resourceVariant,n=r.language_id,o=r.content_type;this.resource_setOrCreateValueModeSpecific({resourceId:t,filter:{language_id:n,content_type:o,modes:[i]},value:e})}},contentExpressionAST:function(){var e=[];try{e=Object(l["parse"])(this.content)}catch(i){if(i instanceof SyntaxError||"SyntaxError"===i.name)return i}var t=Object(c["some"])(e,c["isObject"]);return t?e:null},doesContentContainExpression:function(){return!!this.contentExpressionAST},doesContentContainExpressionError:function(){return!!(this.contentExpressionAST instanceof Error)},characterCounter:function(){var e=!/^[\x00-\x7F]*$/.test(this.content),t=this.content.length;return console.debug("BlockTextContentEditorForLangAndType","characterCounter",{hasUnicode:e,count:t}),{hasUnicode:e,count:t,pages:e?Math.ceil(t/70):Math.ceil(t/160)}}},methods:Object(o["a"])(Object(o["a"])({},Object(h["b"])("flow",["resource_setOrCreateValueModeSpecific"])),{},{select:function(){this.isSelected=!0},deselect:function(){this.isSelected=!1}})},b=p,g=i("2877"),v=i("704a"),m=Object(g["a"])(b,r,n,!1,null,null,null);"function"===typeof v["default"]&&Object(v["default"])(m);t["a"]=m.exports},bc39:function(e,t,i){var r=i("7928");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("499e").default;n("f82b14ce",r,!0,{sourceMap:!1,shadowMode:!1})},ebc7:function(e,t,i){(function(e){var i,r;
/**
 * @license MIT
 */(function(n,o,s){"use strict";if(n&&o){var a=n.navigator.msPointerEnabled;l.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){e!==s?(e=e.toLowerCase(),t!==s?this.events.hasOwnProperty(e)&&h(this.events[e],t):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var i=!1;return this.events.hasOwnProperty(e)&&g(this.events[e],(function(e){i=!1===e.apply(this,t.slice(1))||i}),this),"catchall"!=e&&(t.unshift("catchAll"),i=!1===this.fire.apply(this,t)||i),!i},webkitReadDataTransfer:function(e){var t=this,i=e.dataTransfer.items.length,r=[];function n(e){e.readEntries((function(t){t.length?(i+=t.length,g(t,(function(e){if(e.isFile){var t=e.fullPath;e.file((function(e){o(e,t)}),s)}else e.isDirectory&&n(e.createReader())})),n(e)):a()}),s)}function o(e,t){e.relativePath=t.substring(1),r.push(e),a()}function s(e){throw a(),e}function a(){0==--i&&t.addFiles(r,e)}g(e.dataTransfer.items,(function(e){var t=e.webkitGetAsEntry();t?t.isFile?o(e.getAsFile(),t.fullPath):n(t.createReader()):a()}))},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"===typeof t)return t(e);var i=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(g(this.files,(function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0})),t))return t;if(g(this.files,(function(e){if(e.paused||g(e.chunks,(function(e){if("pending"===e.status())return e.send(),t=!0,!1})),t)return!1})),t)return!0;var i=!1;return g(this.files,(function(e){if(!e.isComplete())return i=!0,!1})),i||e||p((function(){this.fire("complete")}),this),!1},assignBrowse:function(e,t,i,r){e instanceof Element&&(e=[e]),g(e,(function(e){var n;"INPUT"===e.tagName&&"file"===e.type?n=e:(n=o.createElement("input"),n.setAttribute("type","file"),b(n.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(n),e.addEventListener("click",(function(){n.click()}),!1)),this.opts.singleFile||i||n.setAttribute("multiple","multiple"),t&&n.setAttribute("webkitdirectory","webkitdirectory"),g(r,(function(e,t){n.setAttribute(t,e)}));var s=this;n.addEventListener("change",(function(e){e.target.value&&(s.addFiles(e.target.files,e),e.target.value="")}),!1)}),this)},assignDrop:function(e){"undefined"===typeof e.length&&(e=[e]),g(e,(function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)}),this)},unAssignDrop:function(e){"undefined"===typeof e.length&&(e=[e]),g(e,(function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)}),this)},isUploading:function(){var e=!1;return g(this.files,(function(t){if(t.isUploading())return e=!0,!1})),e},_shouldUploadNext:function(){var e=0,t=!0,i=this.opts.simultaneousUploads;return g(this.files,(function(r){g(r.chunks,(function(r){if("uploading"===r.status()&&(e++,e>=i))return t=!1,!1}))})),t&&e},upload:function(){var e=this._shouldUploadNext();if(!1!==e){this.fire("uploadStart");for(var t=!1,i=1;i<=this.opts.simultaneousUploads-e;i++)t=this.uploadNextChunk(!0)||t;t||p((function(){this.fire("complete")}),this)}},resume:function(){g(this.files,(function(e){e.isComplete()||e.resume()}))},pause:function(){g(this.files,(function(e){e.pause()}))},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return g(this.files,(function(i){e+=i.progress()*i.size,t+=i.size})),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var i=[];g(e,(function(e){if((!a||a&&e.size>0)&&(e.size%4096!==0||"."!==e.name&&"."!==e.fileName)){var r=this.generateUniqueIdentifier(e);if(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(r)){var n=new c(this,e,r);this.fire("fileAdded",n,t)&&i.push(n)}}}),this),this.fire("filesAdded",i,t)&&(g(i,(function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)}),this),this.fire("filesSubmitted",i,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort(),this.fire("fileRemoved",e))},getFromUniqueIdentifier:function(e){var t=!1;return g(this.files,(function(i){i.uniqueIdentifier===e&&(t=i)})),t},getSize:function(){var e=0;return g(this.files,(function(t){e+=t.size})),e},sizeUploaded:function(){var e=0;return g(this.files,(function(t){e+=t.sizeUploaded()})),e},timeRemaining:function(){var e=0,t=0;return g(this.files,(function(i){i.paused||i.error||(e+=i.size-i.sizeUploaded(),t+=i.averageSpeed)})),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},c.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,i=this.sizeUploaded();this.currentSpeed=Math.max((i-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=i}},chunkEvent:function(e,t,i){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,i,e),this.flowObj.fire("error",i,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,i,e));break;case"retry":this.flowObj.fire("fileRetry",this,e);break}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),g(t,(function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())}),this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"===typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor;this.chunkSize=f(this.flowObj.opts.chunkSize,this);for(var t=Math.max(e(this.size/this.chunkSize),1),i=0;i<t;i++)this.chunks.push(new d(this.flowObj,this,i))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;g(this.chunks,(function(t){e+=t.progress()*(t.endByte-t.startByte)}));var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return g(this.chunks,(function(t){if("uploading"===t.status())return e=!0,!1})),e},isComplete:function(){var e=!1;return g(this.chunks,(function(t){var i=t.status();if("pending"===i||"uploading"===i||"reading"===i||1===t.preprocessState||1===t.readState)return e=!0,!1})),!e},sizeUploaded:function(){var e=0;return g(this.chunks,(function(t){e+=t.sizeUploaded()})),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr(2+(~-this.name.lastIndexOf(".")>>>0)).toLowerCase()}},d.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return 0==t.length?e:(e.indexOf("?")<0?e+="?":e+="&",e+t.join("&"))},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var e=f(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(e){this.readState=2,this.bytes=e,this.send()},send:function(){var e=this.flowObj.opts.preprocess,t=this.flowObj.opts.readFileFn;if("function"===typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void t(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(!this.flowObj.opts.testChunks||this.tested){this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var i=f(this.flowObj.opts.uploadMethod,this.fileObj,this),r=this.prepareXhrRequest(i,!1,this.flowObj.opts.method,this.bytes),n=this.flowObj.opts.changeRawDataBeforeSend;"function"===typeof n&&(r=n(this,r)),this.xhr.send(r)}else this.test()},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,i,r){var n=f(this.flowObj.opts.query,this.fileObj,this,t);n=b(n||{},this.getParams());var o=f(this.flowObj.opts.target,this.fileObj,this,t),s=null;if("GET"===e||"octet"===i){var a=[];g(n,(function(e,t){a.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))})),o=this.getTarget(o,a),s=r||null}else s=new FormData,g(n,(function(e,t){s.append(t,e)})),"undefined"!==typeof r&&s.append(this.flowObj.opts.fileParameterName,r,this.filename||this.fileObj.file.name);return this.xhr.open(e,o,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,g(f(this.flowObj.opts.headers,this.fileObj,this,t),(function(e,t){this.xhr.setRequestHeader(t,e)}),this),s}},l.evalOpts=f,l.extend=b,l.each=g,l.FlowFile=c,l.FlowChunk=d,l.version="<%= version %>",e&&"object"===typeof e.exports?e.exports=l:(n.Flow=l,i=[],r=function(){return l}.apply(t,i),r===s||(e.exports=r))}else console.warn("Flowjs needs window and document objects to work");function l(e){if(this.support="undefined"!==typeof File&&"undefined"!==typeof Blob&&"undefined"!==typeof FileList&&(!!Blob.prototype.slice||!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!1),this.support){this.supportDirectory=/Chrome/.test(n.navigator.userAgent)||/Firefox/.test(n.navigator.userAgent)||/Edge/.test(n.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,changeRawDataBeforeSend:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:u},this.opts={},this.events={};var t=this;this.onDrop=function(e){t.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var i=e.dataTransfer;i.items&&i.items[0]&&i.items[0].webkitGetAsEntry?t.webkitReadDataTransfer(e):t.addFiles(i.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=l.extend({},this.defaults,e||{})}}function c(e,t,i){this.flowObj=e,this.bytes=null,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=i===s?e.generateUniqueIdentifier(t):i,this.chunkSize=0,this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function u(e,t,i,r,n){var o="slice";e.file.slice?o="slice":e.file.mozSlice?o="mozSlice":e.file.webkitSlice&&(o="webkitSlice"),n.readFinished(e.file[o](t,i,r))}function d(e,t,i){this.flowObj=e,this.fileObj=t,this.offset=i,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.fileObj.chunkSize,this.startByte=this.offset*this.chunkSize,this.filename=null,this.computeEndByte=function(){var e=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-e<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(e=this.fileObj.size),e},this.endByte=this.computeEndByte(),this.xhr=null;var r=this;this.event=function(e,t){t=Array.prototype.slice.call(arguments),t.unshift(r),r.fileObj.chunkEvent.apply(r.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(r.loaded=e.loaded,r.total=e.total),r.event("progress",e)},this.testHandler=function(e){var t=r.status(!0);"error"===t?(r.event(t,r.message()),r.flowObj.uploadNextChunk()):"success"===t?(r.tested=!0,r.event(t,r.message()),r.flowObj.uploadNextChunk()):r.fileObj.paused||(r.tested=!0,r.send())},this.doneHandler=function(e){var t=r.status();if("success"===t||"error"===t)delete this.data,r.event(t,r.message()),r.flowObj.uploadNextChunk();else if(!r.fileObj.paused){r.event("retry",r.message()),r.pendingRetry=!0,r.abort(),r.retries++;var i=r.flowObj.opts.chunkRetryInterval;null!==i?setTimeout((function(){r.send()}),i):r.send()}}}function h(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}function f(e,t){return"function"===typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function p(e,t){setTimeout(e.bind(t),0)}function b(e,t){return g(arguments,(function(t){t!==e&&g(t,(function(t,i){e[i]=t}))})),e}function g(e,t,i){var r;if(e)if("undefined"!==typeof e.length){for(r=0;r<e.length;r++)if(!1===t.call(i,e[r],r))return}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(i,e[r],r))return}})("undefined"!==typeof window&&window,"undefined"!==typeof document&&document)}).call(this,i("62e4")(e))},f04e:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block-name"},[i("text-editor",{attrs:{label:e._f("trans")("flow-builder.block-name"),placeholder:e._f("trans")("flow-builder.enter-block-name")},on:{keydown:e.filterName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[i("small",{staticClass:"text-muted"},[e._v(" "+e._s(e._f("trans")("flow-builder.only-accepts-word-characters"))+" ")])])],1)},n=[],o=(i("b0c0"),i("ac1f"),i("466d"),i("5530")),s=i("2f62"),a=i("d883"),l=i("4a51"),c={components:{TextEditor:a["a"]},mixins:[l["b"]],props:{block:{type:Object,required:!0}},computed:{name:{get:function(){return this.block.name},set:function(e){this.block_setName({blockId:this.block.uuid,value:e})}}},methods:Object(o["a"])(Object(o["a"])({},Object(s["d"])("flow",["block_setName"])),{},{filterName:function(e){e.key.match(/\W+|Enter/g)&&e.preventDefault()}})},u=c,d=i("2877"),h=Object(d["a"])(u,r,n,!1,null,null,null);t["a"]=h.exports},f4ae:function(e,t,i){"use strict";var r=i("3d3d"),n=i.n(r);n.a},f837:function(e,t,i){"use strict";var r=i("a026");r="default"in r?r["default"]:r;var n="2.1.0",o=/^2\./.test(r.version);o||r.util.warn("VueFocus "+n+" only supports Vue 2.x, and does not support Vue "+r.version);var s={inserted:function(e,t){t.value?e.focus():e.blur()},componentUpdated:function(e,t){t.modifiers.lazy&&Boolean(t.value)===Boolean(t.oldValue)||(t.value?e.focus():e.blur())}},a={directives:{focus:s}};t.version=n,t.focus=s,t.mixin=a},ffe7:function(e,t,i){
/*!
 * Fuse.js v3.6.1 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
!function(t,i){e.exports=i()}(0,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=i(1),s=i(7),a=s.get,l=(s.deepValue,s.isArray),c=function(){function e(t,i){var r=i.location,n=void 0===r?0:r,o=i.distance,s=void 0===o?100:o,l=i.threshold,c=void 0===l?.6:l,u=i.maxPatternLength,d=void 0===u?32:u,h=i.caseSensitive,f=void 0!==h&&h,p=i.tokenSeparator,b=void 0===p?/ +/g:p,g=i.findAllMatches,v=void 0!==g&&g,m=i.minMatchCharLength,O=void 0===m?1:m,y=i.id,j=void 0===y?null:y,w=i.keys,_=void 0===w?[]:w,k=i.shouldSort,x=void 0===k||k,C=i.getFn,S=void 0===C?a:C,E=i.sortFn,P=void 0===E?function(e,t){return e.score-t.score}:E,I=i.tokenize,F=void 0!==I&&I,M=i.matchAllTokens,A=void 0!==M&&M,T=i.includeMatches,R=void 0!==T&&T,L=i.includeScore,B=void 0!==L&&L,V=i.verbose,z=void 0!==V&&V;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:n,distance:s,threshold:c,maxPatternLength:d,isCaseSensitive:f,tokenSeparator:b,findAllMatches:v,minMatchCharLength:O,id:j,keys:_,includeMatches:R,includeScore:B,shouldSort:x,getFn:S,sortFn:P,verbose:z,tokenize:F,matchAllTokens:A},this.setCollection(t),this._processKeys(_)}var t,i,s;return t=e,(i=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"_processKeys",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&"string"==typeof e[0])for(var t=0,i=e.length;t<i;t+=1){var r=e[t];this._keyWeights[r]=1,this._keyNames.push(r)}else{for(var n=null,o=null,s=0,a=0,l=e.length;a<l;a+=1){var c=e[a];if(!c.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var u=c.name;if(this._keyNames.push(u),!c.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var d=c.weight;if(d<0||d>1)throw new Error('"weight" property in key must bein the range of [0, 1)');o=null==o?d:Math.max(o,d),n=null==n?d:Math.min(n,d),this._keyWeights[u]=d,s+=d}if(s>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var i=this._prepareSearchers(e),r=i.tokenSearchers,n=i.fullSearcher,o=this._search(r,n);return this._computeScore(o),this.options.shouldSort&&this._sort(o),t.limit&&"number"==typeof t.limit&&(o=o.slice(0,t.limit)),this._format(o)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var i=e.split(this.options.tokenSeparator),r=0,n=i.length;r<n;r+=1)t.push(new o(i[r],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,i=this.list,r={},n=[];if("string"==typeof i[0]){for(var o=0,s=i.length;o<s;o+=1)this._analyze({key:"",value:i[o],record:o,index:o},{resultMap:r,results:n,tokenSearchers:e,fullSearcher:t});return n}for(var a=0,l=i.length;a<l;a+=1)for(var c=i[a],u=0,d=this._keyNames.length;u<d;u+=1){var h=this._keyNames[u];this._analyze({key:h,value:this.options.getFn(c,h),record:c,index:a},{resultMap:r,results:n,tokenSearchers:e,fullSearcher:t})}return n}},{key:"_analyze",value:function(e,t){var i=this,r=e.key,n=e.arrayIndex,o=void 0===n?-1:n,s=e.value,a=e.record,c=e.index,u=t.tokenSearchers,d=void 0===u?[]:u,h=t.fullSearcher,f=t.resultMap,p=void 0===f?{}:f,b=t.results,g=void 0===b?[]:b;!function e(t,n,o,s){if(null!=n)if("string"==typeof n){var a=!1,c=-1,u=0;i._log("\nKey: ".concat(""===r?"--":r));var f=h.search(n);if(i._log('Full text: "'.concat(n,'", score: ').concat(f.score)),i.options.tokenize){for(var b=n.split(i.options.tokenSeparator),v=b.length,m=[],O=0,y=d.length;O<y;O+=1){var j=d[O];i._log('\nPattern: "'.concat(j.pattern,'"'));for(var w=!1,_=0;_<v;_+=1){var k=b[_],x=j.search(k),C={};x.isMatch?(C[k]=x.score,a=!0,w=!0,m.push(x.score)):(C[k]=1,i.options.matchAllTokens||m.push(1)),i._log('Token: "'.concat(k,'", score: ').concat(C[k]))}w&&(u+=1)}c=m[0];for(var S=m.length,E=1;E<S;E+=1)c+=m[E];c/=S,i._log("Token score average:",c)}var P=f.score;c>-1&&(P=(P+c)/2),i._log("Score average:",P);var I=!i.options.tokenize||!i.options.matchAllTokens||u>=d.length;if(i._log("\nCheck Matches: ".concat(I)),(a||f.isMatch)&&I){var F={key:r,arrayIndex:t,value:n,score:P};i.options.includeMatches&&(F.matchedIndices=f.matchedIndices);var M=p[s];M?M.output.push(F):(p[s]={item:o,output:[F]},g.push(p[s]))}}else if(l(n))for(var A=0,T=n.length;A<T;A+=1)e(A,n[A],o,s)}(o,s,a,c)}},{key:"_computeScore",value:function(e){this._log("\n\nComputing score:\n");for(var t=this._keyWeights,i=!!Object.keys(t).length,r=0,n=e.length;r<n;r+=1){for(var o=e[r],s=o.output,a=s.length,l=1,c=0;c<a;c+=1){var u=s[c],d=u.key,h=i?t[d]:1,f=0===u.score&&t&&t[d]>0?Number.EPSILON:u.score;l*=Math.pow(f,h)}o.score=l,this._log(o)}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var i=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===r(t)&&null!==t){if(-1!==i.indexOf(t))return;i.push(t)}return t}),2)),i=null}var n=[];this.options.includeMatches&&n.push((function(e,t){var i=e.output;t.matches=[];for(var r=0,n=i.length;r<n;r+=1){var o=i[r];if(0!==o.matchedIndices.length){var s={indices:o.matchedIndices,value:o.value};o.key&&(s.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(s.arrayIndex=o.arrayIndex),t.matches.push(s)}}})),this.options.includeScore&&n.push((function(e,t){t.score=e.score}));for(var o=0,s=e.length;o<s;o+=1){var a=e[o];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),n.length){for(var l={item:a.item},c=0,u=n.length;c<u;c+=1)n[c](a,l);t.push(l)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&n(t.prototype,i),s&&n(t,s),e}();e.exports=c},function(e,t,i){function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=i(2),o=i(3),s=i(6),a=function(){function e(t,i){var r=i.location,n=void 0===r?0:r,o=i.distance,a=void 0===o?100:o,l=i.threshold,c=void 0===l?.6:l,u=i.maxPatternLength,d=void 0===u?32:u,h=i.isCaseSensitive,f=void 0!==h&&h,p=i.tokenSeparator,b=void 0===p?/ +/g:p,g=i.findAllMatches,v=void 0!==g&&g,m=i.minMatchCharLength,O=void 0===m?1:m,y=i.includeMatches,j=void 0!==y&&y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:n,distance:a,threshold:c,maxPatternLength:d,isCaseSensitive:f,tokenSeparator:b,findAllMatches:v,includeMatches:j,minMatchCharLength:O},this.pattern=f?t:t.toLowerCase(),this.pattern.length<=d&&(this.patternAlphabet=s(this.pattern))}var t,i,a;return t=e,(i=[{key:"search",value:function(e){var t=this.options,i=t.isCaseSensitive,r=t.includeMatches;if(i||(e=e.toLowerCase()),this.pattern===e){var s={isMatch:!0,score:0};return r&&(s.matchedIndices=[[0,e.length-1]]),s}var a=this.options,l=a.maxPatternLength,c=a.tokenSeparator;if(this.pattern.length>l)return n(e,this.pattern,c);var u=this.options,d=u.location,h=u.distance,f=u.threshold,p=u.findAllMatches,b=u.minMatchCharLength;return o(e,this.pattern,this.patternAlphabet,{location:d,distance:h,threshold:f,findAllMatches:p,minMatchCharLength:b,includeMatches:r})}}])&&r(t.prototype,i),a&&r(t,a),e}();e.exports=a},function(e,t){var i=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,n=new RegExp(t.replace(i,"\\$&").replace(r,"|")),o=e.match(n),s=!!o,a=[];if(s)for(var l=0,c=o.length;l<c;l+=1){var u=o[l];a.push([e.indexOf(u),u.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:a}}},function(e,t,i){var r=i(4),n=i(5);e.exports=function(e,t,i,o){for(var s=o.location,a=void 0===s?0:s,l=o.distance,c=void 0===l?100:l,u=o.threshold,d=void 0===u?.6:u,h=o.findAllMatches,f=void 0!==h&&h,p=o.minMatchCharLength,b=void 0===p?1:p,g=o.includeMatches,v=void 0!==g&&g,m=a,O=e.length,y=d,j=e.indexOf(t,m),w=t.length,_=[],k=0;k<O;k+=1)_[k]=0;if(-1!==j){var x=r(t,{errors:0,currentLocation:j,expectedLocation:m,distance:c});if(y=Math.min(x,y),-1!==(j=e.lastIndexOf(t,m+w))){var C=r(t,{errors:0,currentLocation:j,expectedLocation:m,distance:c});y=Math.min(C,y)}}j=-1;for(var S=[],E=1,P=w+O,I=1<<(w<=31?w-1:30),F=0;F<w;F+=1){for(var M=0,A=P;M<A;)r(t,{errors:F,currentLocation:m+A,expectedLocation:m,distance:c})<=y?M=A:P=A,A=Math.floor((P-M)/2+M);P=A;var T=Math.max(1,m-A+1),R=f?O:Math.min(m+A,O)+w,L=Array(R+2);L[R+1]=(1<<F)-1;for(var B=R;B>=T;B-=1){var V=B-1,z=i[e.charAt(V)];if(z&&(_[V]=1),L[B]=(L[B+1]<<1|1)&z,0!==F&&(L[B]|=(S[B+1]|S[B])<<1|1|S[B+1]),L[B]&I&&(E=r(t,{errors:F,currentLocation:V,expectedLocation:m,distance:c}))<=y){if(y=E,(j=V)<=m)break;T=Math.max(1,2*m-j)}}if(r(t,{errors:F+1,currentLocation:m,expectedLocation:m,distance:c})>y)break;S=L}var $={isMatch:j>=0,score:0===E?.001:E};return v&&($.matchedIndices=n(_,b)),$}},function(e,t){e.exports=function(e,t){var i=t.errors,r=void 0===i?0:i,n=t.currentLocation,o=void 0===n?0:n,s=t.expectedLocation,a=void 0===s?0:s,l=t.distance,c=void 0===l?100:l,u=r/e.length,d=Math.abs(a-o);return c?u+d/c:d?1:u}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[],r=-1,n=-1,o=0,s=e.length;o<s;o+=1){var a=e[o];a&&-1===r?r=o:a||-1===r||((n=o-1)-r+1>=t&&i.push([r,n]),r=-1)}return e[o-1]&&o-r>=t&&i.push([r,o-1]),i}},function(e,t){e.exports=function(e){for(var t={},i=e.length,r=0;r<i;r+=1)t[e.charAt(r)]=0;for(var n=0;n<i;n+=1)t[e.charAt(n)]|=1<<i-n-1;return t}},function(e,t){var i=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},r=function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)},n=function(e){return"string"==typeof e},o=function(e){return"number"==typeof e};e.exports={get:function(e,t){var s=[];return function e(t,a){if(a){var l=a.indexOf("."),c=a,u=null;-1!==l&&(c=a.slice(0,l),u=a.slice(l+1));var d=t[c];if(null!=d)if(u||!n(d)&&!o(d))if(i(d))for(var h=0,f=d.length;h<f;h+=1)e(d[h],u);else u&&e(d,u);else s.push(r(d))}else s.push(t)}(e,t),s},isArray:i,isString:n,isNum:o,toString:r}}])}))}}]);
//# sourceMappingURL=chunk-0ee7edf8.c8c6a805.js.map
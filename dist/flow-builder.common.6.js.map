{"version":3,"sources":["webpack://flow-builder/./src/components/interaction-designer/block-types/MobilePrimitives_SelectManyResponseBlock.vue?0b18","webpack://flow-builder/./src/store/flow/block-types/MobilePrimitives_SelectManyResponseBlockStore.ts","webpack://flow-builder/./src/components/interaction-designer/block-types/MobilePrimitives_SelectManyResponseBlock.vue?2b86","webpack://flow-builder/./src/components/interaction-designer/block-types/MobilePrimitives_SelectManyResponseBlock.vue?f5d1","webpack://flow-builder/./src/components/interaction-designer/block-types/MobilePrimitives_SelectManyResponseBlock.vue","webpack://flow-builder/./src/components/interaction-designer/block-types/MobilePrimitives_SelectOneResponseBlock.vue?2d92","webpack://flow-builder/./src/components/interaction-designer/block-editors/ChoicesBuilder.vue?ef63","webpack://flow-builder/./src/components/interaction-designer/block-editors/ChoicesBuilder.vue?bc5c","webpack://flow-builder/./src/components/interaction-designer/block-editors/ChoicesBuilder.vue?4ab4","webpack://flow-builder/./src/components/interaction-designer/block-editors/ChoicesBuilder.vue","webpack://flow-builder/./src/components/interaction-designer/block-types/MobilePrimitives_SelectOneResponseBlock.vue?1385","webpack://flow-builder/./src/components/interaction-designer/block-types/MobilePrimitives_SelectOneResponseBlock.vue?4674","webpack://flow-builder/./src/components/interaction-designer/block-types/MobilePrimitives_SelectOneResponseBlock.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/ExitSemanticLabelEditor.vue?1321","webpack://flow-builder/src/components/interaction-designer/block-editors/ExitSemanticLabelEditor.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/ExitSemanticLabelEditor.vue?b2d2","webpack://flow-builder/./src/components/interaction-designer/block-editors/ExitSemanticLabelEditor.vue","webpack://flow-builder/./src/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore.ts"],"names":[],"mappings":"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","file":"flow-builder.common.6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mobile-primitive-select-many-response-block\"},[_c('h3',{staticClass:\"no-room-above\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.edit-block-type',{block_type: _vm.trans((\"flow-builder.\" + (_vm.block.type)))}))+\" \")]),_c('fieldset',{attrs:{\"disabled\":!_vm.isEditable}},[_c('block-label-editor',{attrs:{\"block\":_vm.block},on:{\"gearClicked\":function($event){_vm.showSemanticLabel = !_vm.showSemanticLabel}}}),(_vm.showSemanticLabel)?_c('block-semantic-label-editor',{attrs:{\"block\":_vm.block}}):_vm._e(),_c('block-name-editor',{attrs:{\"block\":_vm.block}}),_c('div',{staticClass:\"prompt-resource\"},[(_vm.promptResource)?_c('resource-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.prompt'),\"resource\":_vm.promptResource,\"block\":_vm.block,\"flow\":_vm.flow}}):_vm._e()],1),_c('hr'),_c('choices-builder',{attrs:{\"block\":_vm.block}}),_c('block-output-branching-config',{attrs:{\"block\":_vm.block}}),_vm._t(\"extras\"),_c('categorization',{attrs:{\"block\":_vm.block}}),_c('generic-contact-property-editor',{attrs:{\"block\":_vm.block}}),_c('hr'),_c('first-block-editor-button',{attrs:{\"flow\":_vm.flow,\"block-id\":_vm.block.uuid}})],2),_c('block-id',{attrs:{\"block\":_vm.block}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ISelectOneResponseBlock} from '@floip/flow-runner/dist/model/block/ISelectOneResponseBlock'\nimport {IBlockExit} from '@floip/flow-runner'\nimport {IdGeneratorUuidV4} from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\nimport {defaultsDeep} from 'lodash'\nimport {ActionTree, GetterTree, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {\n  actions as selectOneActions,\n  getters as selectOneGetters,\n  ICustomFlowState,\n  mutations as selectOneMutations,\n  stateFactory,\n} from './MobilePrimitives_SelectOneResponseBlockStore'\n\nexport const BLOCK_TYPE = 'MobilePrimitives.SelectManyResponse'\n\nexport const getters: GetterTree<ICustomFlowState, IRootState> = {\n  ...selectOneGetters,\n}\n\nexport const mutations: MutationTree<ICustomFlowState> = {\n  ...selectOneMutations,\n}\n\nexport const actions: ActionTree<ICustomFlowState, IRootState> = {\n  ...selectOneActions,\n\n  async createWith({dispatch}, {props}: { props: { uuid: string } & Partial<ISelectOneResponseBlock> }) {\n    const blankPromptResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    const defaultExitProps: Partial<IBlockExit> = {\n      uuid: await (new IdGeneratorUuidV4()).generate(),\n      name: 'Default',\n      default: true,\n      // test: '',\n    }\n\n    const defaultExit = await dispatch('flow/block_createBlockDefaultExitWith', { props: defaultExitProps }, { root: true })\n\n    return defaultsDeep(props, {\n      type: BLOCK_TYPE,\n      name: '',\n      label: '',\n      semantic_label: '',\n      exits: [\n        defaultExit,\n      ],\n      config: {\n        prompt: blankPromptResource.uuid,\n        choices: {},\n      },\n      vendor_metadata: {},\n      tags: [],\n    })\n  },\n}\n\nexport default {\n  namespaced: true,\n  state: stateFactory,\n  getters,\n  mutations,\n  actions,\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component} from 'vue-property-decorator'\nimport SelectManyResponseStore, {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectManyResponseBlockStore'\nimport {namespace} from 'vuex-class'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport Categorization from '@/components/interaction-designer/block-editors/Categorization.vue'\nimport BlockNameEditor from '../block-editors/NameEditor.vue'\nimport BlockLabelEditor from '../block-editors/LabelEditor.vue'\nimport BlockSemanticLabelEditor from '../block-editors/SemanticLabelEditor.vue'\nimport BlockExitSemanticLabelEditor from '../block-editors/ExitSemanticLabelEditor.vue'\nimport FirstBlockEditorButton from '../flow-editors/FirstBlockEditorButton.vue'\nimport ResourceEditor from '../resource-editors/ResourceEditor.vue'\nimport BlockId from '../block-editors/BlockId.vue'\nimport SelectOneResponseBlock from './MobilePrimitives_SelectOneResponseBlock.vue'\nimport GenericContactPropertyEditor from '../block-editors/GenericContactPropertyEditor.vue'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({\n  components: {\n    GenericContactPropertyEditor,\n    BlockNameEditor,\n    BlockLabelEditor,\n    BlockSemanticLabelEditor,\n    BlockExitSemanticLabelEditor,\n    FirstBlockEditorButton,\n    ResourceEditor,\n    BlockId,\n    Categorization,\n  },\n})\nexport class MobilePrimitives_SelectManyResponseBlock extends SelectOneResponseBlock {\n  showSemanticLabel = false\n\n  //Important: Even we extends from SelectOneResponseBlock, to avoid conflict\n  // we SHOULD re-declare @blockVuexNamespace based getter, state, action, mutation\n  @builderVuexNamespace.Getter declare isEditable: boolean\n}\n\nexport default MobilePrimitives_SelectManyResponseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, SelectManyResponseStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=template&id=4cb96b40&\"\nimport script from \"./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mobile-primitive-select-one-response-block\"},[_c('h3',{staticClass:\"no-room-above\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")((\"flow-builder.\" + (_vm.block.type))))+\" \")]),_c('fieldset',{attrs:{\"disabled\":!_vm.isEditable}},[_c('block-label-editor',{attrs:{\"block\":_vm.block},on:{\"gearClicked\":function($event){_vm.showSemanticLabel = !_vm.showSemanticLabel}}}),(_vm.showSemanticLabel)?_c('block-semantic-label-editor',{attrs:{\"block\":_vm.block}}):_vm._e(),_c('block-name-editor',{attrs:{\"block\":_vm.block}}),_c('hr'),_c('choices-builder',{attrs:{\"block\":_vm.block},on:{\"choiceChanged\":function($event){return _vm.reflowExitsWhenBranchingTypeNotUnified()}}}),_c('block-output-branching-config',{attrs:{\"block\":_vm.block,\"has-exit-per-choice\":true},on:{\"branchingTypeChanged\":function($event){return _vm.reflowExitsWhenBranchingTypeNotUnified()}}}),_c('div',{staticClass:\"prompt-resource\"},[(_vm.promptResource)?_c('resource-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.prompt'),\"resource\":_vm.promptResource,\"block\":_vm.block,\"flow\":_vm.flow}}):_vm._e()],1),_vm._t(\"extras\"),_c('categorization',{attrs:{\"block\":_vm.block}}),_c('generic-contact-property-editor',{attrs:{\"block\":_vm.block}}),_c('hr'),_c('first-block-editor-button',{attrs:{\"flow\":_vm.flow,\"block-id\":_vm.block.uuid}})],2),_c('block-id',{attrs:{\"block\":_vm.block}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"choices-builder form-group\"},[_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.choices')))]),_vm._l((_vm.block.config.choices),function(resourceId,choiceKey,choiceIndex){return [(_vm.resourcesByUuid[resourceId])?_c('resource-variant-text-editor',{key:resourceId,ref:\"choices\",refInFor:true,staticClass:\"choices-builder-item\",attrs:{\"label\":(choiceIndex + 1).toString(),\"rows\":1,\"placeholder\":'Enter choice...',\"resource-id\":resourceId,\"resource-variant\":_vm.resourcesByUuid[resourceId].values[0],\"mode\":_vm.SupportedMode.TEXT},on:{\"afterResourceVariantChanged\":function($event){return _vm.handleExistingResourceVariantChangedFor(\n        resourceId,\n        choiceIndex,\n        _vm.resourcesByUuid[resourceId])}}}):_vm._e()]}),(_vm.draftResource)?_c('resource-variant-text-editor',{key:_vm.draftResource.uuid,ref:\"draftChoice\",staticClass:\"choices-builder-item\",attrs:{\"label\":(_vm.choiceKeys.length + 1).toString(),\"rows\":1,\"placeholder\":'Enter choice...',\"resource-id\":_vm.draftResource.uuid,\"resource-variant\":_vm.findOrGenerateStubbedVariantOn(\n      _vm.draftResource,\n      {language_id: _vm.activeFlow.languages[0].id,\n       content_type: _vm.SupportedContentType.TEXT,\n       modes: [_vm.SupportedMode.TEXT]}),\"mode\":_vm.SupportedMode.TEXT},on:{\"beforeResourceVariantChanged\":_vm.addDraftResourceToChoices,\"afterResourceVariantChanged\":function($event){return _vm.rewriteChoiceKeyFor({resourceId: _vm.draftResource.uuid, blockId: _vm.block.uuid})}}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {get, isEmpty, last} from 'lodash'\nimport {findOrGenerateStubbedVariantOn} from '@/store/flow/resource'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock, IBlockExit, IFlow, IResource, SupportedContentType, SupportedMode} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\nimport ResourceVariantTextEditor from '@/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner/src/model/block/ISelectOneResponseBlock'\nimport SelectOneStore, {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore'\nimport {IdGeneratorUuidV4} from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\nimport Vue from 'vue'\n\nconst flowVuexNamespace = namespace('flow')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\n\n@Component({\n  components: {\n    ResourceVariantTextEditor,\n\n  },\n})\nclass ChoicesBuilder extends mixins(Lang) {\n  @Prop() readonly block!: ISelectOneResponseBlock\n\n  draftResource: IResource | null = null\n\n  SupportedContentType = SupportedContentType\n  SupportedMode = SupportedMode\n  findOrGenerateStubbedVariantOn = findOrGenerateStubbedVariantOn\n\n  get choiceKeys(): string[] {\n    // todo: my best guess for ordering is resources ordering? :/\n    return Object.keys(this.block.config.choices)\n  }\n\n  created(): void {\n    this.generateDraftResource()\n  }\n\n  async generateDraftResource(): Promise<void> {\n    this.draftResource = await this.resource_createWith({ // todo: abstract as createResourceForVanillaChoice()\n      props: {uuid: await (new IdGeneratorUuidV4()).generate()},\n    })\n  }\n\n  async addDraftResourceToChoices(): Promise<void> {\n    if (this.draftResource == null) {\n      console.warn(\n        'interaction-designer/block-editors/ChoicesBuilder',\n        'Unable to add absent draft resource to block choices.',\n        {block: this.block})\n      return\n    }\n\n    this.resource_add({resource: this.draftResource})\n    this.addChoiceByResourceIdTo({blockId: this.block.uuid, resourceId: this.draftResource.uuid})\n\n    this.$nextTick(() =>\n      this.focusInputElFor(last(this.$refs.choices as Vue[])))\n\n    await this.generateDraftResource()\n  }\n\n  focusInputElFor(editor?: Vue): void {\n    (editor?.$refs.input as HTMLInputElement).focus()\n  }\n\n  handleExistingResourceVariantChangedFor(resourceId: IResource['uuid'], choiceIndex: number, resource: IResource): void {\n    const isLast = choiceIndex === this.choiceKeys.length - 1\n    const hasEmptyValue = isEmpty(get(resource.values[0], 'value'))\n\n    if (isLast && hasEmptyValue) {\n      // todo: clean up resource, but should we first check for references?\n      // this.resource_delete({resourceId: resource.uuid})\n      this.deleteChoiceByResourceIdFrom({blockId: this.block.uuid, resourceId})\n      this.focusInputElFor(this.$refs.draftChoice as Vue)\n      return\n    }\n\n    this.rewriteChoiceKeyFor({resourceId, blockId: this.block.uuid})\n    this.$emit('choiceChanged', {resourceId, choiceIndex, resource})\n  }\n\n  @flowVuexNamespace.Getter resourcesByUuid!: { [key: string]: IResource }\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n  @flowVuexNamespace.Mutation resource_add!: ({resource}: {resource: IResource}) => void\n  // @flowVuexNamespace.Action flow_createBlankResourceForEnabledModesAndLangs!: () => Promise<IResource>\n  @flowVuexNamespace.Action resource_createWith!: ({props}: { props: { uuid: string } & Partial<IResource> }) => Promise<IResource>\n  @blockVuexNamespace.Action deleteChoiceByResourceIdFrom!:\n    ({blockId, resourceId}: {blockId: IBlock['uuid'], resourceId: IResource['uuid']}) => void\n  @blockVuexNamespace.Action rewriteChoiceKeyFor!:\n    ({blockId, resourceId}: {blockId: IBlock['uuid'], resourceId: IResource['uuid']}) => void\n  @blockVuexNamespace.Action addChoiceByResourceIdTo!:\n    ({blockId, resourceId}: {blockId: IBlock['uuid'], resourceId: IResource['uuid']}) => void\n}\nexport default ChoicesBuilder\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChoicesBuilder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChoicesBuilder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChoicesBuilder.vue?vue&type=template&id=1e19cdaa&\"\nimport script from \"./ChoicesBuilder.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChoicesBuilder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {IBlock, IBlockExit, IFlow, IResource, SupportedContentType, SupportedMode} from '@floip/flow-runner'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner/src/model/block/ISelectOneResponseBlock'\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {includes} from 'lodash'\n\nimport SelectOneStore, {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport Categorization from '@/components/interaction-designer/block-editors/Categorization.vue'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\nimport ResourceVariantTextEditor from '@/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue'\nimport {findOrGenerateStubbedVariantOn} from '@/store/flow/resource'\nimport ChoicesBuilder from '@/components/interaction-designer/block-editors/ChoicesBuilder.vue'\nimport BlockOutputBranchingConfig, {\n  IBlockWithBranchingType,\n  OutputBranchingType,\n} from '@/components/interaction-designer/block-editors/BlockOutputBranchingConfig.vue'\nimport BlockNameEditor from '../block-editors/NameEditor.vue'\nimport BlockLabelEditor from '../block-editors/LabelEditor.vue'\nimport BlockSemanticLabelEditor from '../block-editors/SemanticLabelEditor.vue'\nimport BlockExitSemanticLabelEditor from '../block-editors/ExitSemanticLabelEditor.vue'\nimport FirstBlockEditorButton from '../flow-editors/FirstBlockEditorButton.vue'\nimport ResourceEditor from '../resource-editors/ResourceEditor.vue'\nimport BlockId from '../block-editors/BlockId.vue'\nimport GenericContactPropertyEditor from '../block-editors/GenericContactPropertyEditor.vue'\n\nconst flowVuexNamespace = namespace('flow')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({\n  components: {\n    GenericContactPropertyEditor,\n    ResourceVariantTextEditor,\n    BlockExitSemanticLabelEditor,\n    BlockId,\n    BlockLabelEditor,\n    BlockNameEditor,\n    BlockOutputBranchingConfig,\n    BlockSemanticLabelEditor,\n    ChoicesBuilder,\n    FirstBlockEditorButton,\n    ResourceEditor,\n    Categorization,\n  },\n})\nexport class MobilePrimitives_SelectOneResponseBlock extends mixins(Lang) {\n  @Prop() readonly block!: ISelectOneResponseBlock\n\n  @Prop() readonly flow!: IFlow\n\n  showSemanticLabel = false\n\n  SupportedContentType = SupportedContentType\n  SupportedMode = SupportedMode\n  findOrGenerateStubbedVariantOn = findOrGenerateStubbedVariantOn\n\n  get promptResource(): IResource {\n    return this.resourcesByUuid[this.block.config.prompt]\n  }\n\n  reflowExitsWhenBranchingTypeNotUnified(): void {\n    const {uuid: blockId, vendor_metadata: metadata} = this.block as unknown as IBlockWithBranchingType\n    const {EXIT_PER_CHOICE, ADVANCED} = OutputBranchingType\n    const isEnteringChoiceOrAdvancedBranchingType = includes([EXIT_PER_CHOICE, ADVANCED], metadata.io_viamo.branchingType)\n\n    if (!isEnteringChoiceOrAdvancedBranchingType) {\n      return\n    }\n\n    this.reflowExitsFromChoices({blockId})\n  }\n\n  @flowVuexNamespace.Getter resourcesByUuid!: { [key: string]: IResource }\n  @flowVuexNamespace.Action block_createBlockExitWith!: ({props}: { props: { uuid: string } & Partial<IBlockExit> }) => Promise<IBlockExit>\n  @blockVuexNamespace.Action reflowExitsFromChoices!: ({blockId}: {blockId: IBlock['uuid']}) => void\n  @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default MobilePrimitives_SelectOneResponseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, SelectOneStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=template&id=6890deaf&\"\nimport script from \"./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('text-editor',{attrs:{\"is-editable\":_vm.isEditable,\"label\":_vm._f(\"trans\")('flow-builder.block-exit-semantic-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-exit-semantic-label')},model:{value:(_vm.semanticLabel),callback:function ($$v) {_vm.semanticLabel=$$v},expression:\"semanticLabel\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <text-editor\n      v-model=\"semanticLabel\"\n      :is-editable=\"isEditable\"\n      :label=\"'flow-builder.block-exit-semantic-label' | trans\"\n      :placeholder=\"'flow-builder.enter-block-exit-semantic-label' | trans\" />\n  </div>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport {mapMutations} from 'vuex'\nimport TextEditor from '@/components/common/TextEditor'\nimport {lang} from '@/lib/filters/lang'\n\nexport default {\n  components: {\n    TextEditor,\n  },\n  mixins: [lang],\n  props: {\n    isEditable: {\n      default: true,\n      type: Boolean,\n    },\n    exit: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    semanticLabel: {\n      get() {\n        return this.exit.semantic_label\n      },\n      set(value) {\n        this.exit.semantic_label = value\n        this.$emit('commitSemanticLabel', value)\n      },\n    },\n  },\n  methods: {\n    ...mapMutations('flow', ['block_setExitSemanticLabel']),\n  },\n}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExitSemanticLabelEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExitSemanticLabelEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExitSemanticLabelEditor.vue?vue&type=template&id=5c7a7930&\"\nimport script from \"./ExitSemanticLabelEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ExitSemanticLabelEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { ActionTree, GetterTree, MutationTree } from 'vuex'\nimport { IRootState } from '@/store'\nimport {\n  IBlock,\n  IBlockExit,\n  IResource, ValidationException,\n} from '@floip/flow-runner'\nimport { IdGeneratorUuidV4 } from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\nimport { ISelectOneResponseBlock } from '@floip/flow-runner/dist/model/block/ISelectOneResponseBlock'\nimport Vue from 'vue'\nimport {defaultsDeep, filter, find, findKey, first, get, isEmpty, omit, snakeCase} from 'lodash'\nimport {IFlowsState} from '../index'\n\nexport const BLOCK_TYPE = 'MobilePrimitives.SelectOneResponse'\n\nexport interface ICustomFlowState extends Partial<IFlowsState> {}\n\nexport const stateFactory = (): ICustomFlowState => ({})\n\nexport const getters: GetterTree<ICustomFlowState, IRootState> = {}\n\nexport const mutations: MutationTree<ICustomFlowState> = {}\n\nexport const actions: ActionTree<ICustomFlowState, IRootState> = {\n  rewriteChoiceKeyFor({rootGetters, dispatch}, {resourceId, blockId}: {resourceId: IResource['uuid'], blockId: IBlock['uuid']}) {\n    const block: ISelectOneResponseBlock = rootGetters['builder/blocksById'][blockId]\n    if (block == null) {\n      throw new ValidationException(`Unable to find block: ${blockId}`)\n    }\n\n    const resource: IResource = rootGetters['flow/resourcesByUuid'][resourceId]\n    if (resource == null) {\n      throw new ValidationException(`Unable to find resource for choice: ${resourceId}`)\n    }\n\n    const choiceKey = String(findKey(block.config.choices, (v) => v === resourceId))\n    // omit() will inadvertently but desirably remove an empty `choiceKey`\n    block.config.choices = omit(block.config.choices, choiceKey)\n    dispatch('addChoiceByResourceIdTo', {blockId, resourceId})\n  },\n\n  addChoiceByResourceIdTo({rootGetters}, {blockId, resourceId}: {blockId: IBlock['uuid'], resourceId: IResource['uuid']}) {\n    const block: ISelectOneResponseBlock = rootGetters['builder/blocksById'][blockId]\n    if (block == null) {\n      throw new ValidationException(`Unable to find block: ${blockId}`)\n    }\n\n    const resource: IResource = rootGetters['flow/resourcesByUuid'][resourceId]\n    if (resource == null) {\n      throw new ValidationException(`Unable to find resource for choice: ${resourceId}`)\n    }\n\n    // defaulted to `resourceId` to mitigate empty keys and associated error handling altogether\n    const desiredChoiceKey = snakeCase(get(resource.values[0], 'value')) || resource.uuid\n    const doesChoiceKeyAlreadyExist = desiredChoiceKey in block.config.choices\n    // apply suffix as resourceId when duplicated to prevent overwriting as input is received\n    const suffix = doesChoiceKeyAlreadyExist ? `-${resource.uuid}` : ''\n    Vue.set(block.config.choices, `${desiredChoiceKey}${suffix}`, resource.uuid)\n  },\n\n  deleteChoiceByResourceIdFrom({rootGetters}, {blockId, resourceId}: {blockId: IBlock['uuid'], resourceId: IResource['uuid']}) {\n    const block: ISelectOneResponseBlock = rootGetters['builder/blocksById'][blockId]\n    if (block == null) {\n      throw new ValidationException(`Unable to find block: ${blockId}`)\n    }\n\n    const choiceKey = String(findKey(block.config.choices, (v) => v === resourceId))\n    Vue.delete(block.config.choices, choiceKey)\n  },\n\n  async reflowExitsFromChoices({dispatch, rootGetters}, {blockId}: {blockId: IBlock['uuid']}) {\n    const block: ISelectOneResponseBlock = rootGetters['builder/blocksById'][blockId]\n    if (block == null) {\n      throw new ValidationException(`Unable to find block: ${blockId}`)\n    }\n\n    const {config: {choices}, exits}: ISelectOneResponseBlock = block\n    const choiceKeys = Object.keys(choices)\n    const exitsForChoices: IBlockExit[] = exits.slice(0, -1) // non-default exits; default should always be last\n\n    // reflow exits based on choices\n    await Promise.all(choiceKeys.map(async (choiceKey, i) => {\n      if (exitsForChoices[i] == null) {\n        const uuid = await (new IdGeneratorUuidV4()).generate()\n        const exit = await dispatch('flow/block_createBlockExitWith', {props: {uuid} as IBlockExit}, {root: true})\n        exitsForChoices.push(exit)\n      }\n\n      Object.assign(exitsForChoices[i], {\n        name: choiceKey,\n        test: `block.value = ${i + 1}`,\n      })\n    }))\n\n    exits.splice(0, exits.length - 1, ...exitsForChoices)\n  },\n\n  async createWith({dispatch}, {props}: { props: { uuid: string } & Partial<ISelectOneResponseBlock> }) {\n    const blankPromptResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    const defaultExitProps: Partial<IBlockExit> = {\n      uuid: await (new IdGeneratorUuidV4()).generate(),\n      name: 'Default',\n      default: true,\n      // test: '',\n    }\n\n    const defaultExit = await dispatch('flow/block_createBlockDefaultExitWith', {props: defaultExitProps}, {root: true})\n\n    return defaultsDeep(props, {\n      type: BLOCK_TYPE,\n      name: '',\n      label: '',\n      semantic_label: '',\n      config: {\n        prompt: blankPromptResource.uuid,\n        choices: {},\n      },\n      exits: [defaultExit],\n      tags: [],\n    })\n  },\n}\n\nexport default {\n  namespaced: true,\n  state: stateFactory,\n  getters,\n  mutations,\n  actions,\n}\n"],"sourceRoot":""}
(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[6,7],{"03d5":function(e,t,o){"use strict";o.r(t),o.d(t,"MobilePrimitives_SelectManyResponseBlock",(function(){return se})),o.d(t,"install",(function(){return ue}));var c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-primitive-select-many-response-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("block-label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("block-semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("block-name-editor",{attrs:{block:e.block}}),o("div",{staticClass:"prompt-resource"},[e.promptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.prompt"),resource:e.promptResource,block:e.block,flow:e.flow}}):e._e()],1),o("hr"),o("choices-builder",{attrs:{block:e.block},on:{choiceChanged:e.handleChoiceChanged}}),o("hr"),o("minimum-choices-editor",{attrs:{block:e.block}}),o("maximum-choices-editor",{attrs:{block:e.block}}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1,"label-class":""},on:{branchingTypeChanged:function(t){return e.reflowExitsWhenSwitchingToBranchingTypeNotUnified()}}}),e._t("extras"),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},r=[],i=o("276c"),a=o("2c4c"),n=o("920b"),s=o("92a6"),l=o("fc11"),u=(o("99af"),o("9ab4")),d=o("1b40"),b=o("c964"),f=o("f3f3"),h=(o("b64b"),o("a15b"),o("d81d"),o("96cf"),o("9300")),p=o("31aa"),m=o("2ef0"),k=o("ecef"),O=o("18b0"),v="MobilePrimitives.SelectManyResponse",j=Object(f["a"])({},k["d"]),_=Object(f["a"])({},k["e"]),g=Object(f["a"])(Object(f["a"])({},k["b"]),{},{setMinChoices:function(e,t){var o=e.commit,c=e.dispatch,r=e.rootGetters,i=t.blockId,a=t.value,n=Object(h["findBlockWith"])(i,r["flow/activeFlow"]);o("flow/block_updateConfigByKey",{blockId:n.uuid,key:"minimum_choices",value:Object(m["isNumber"])(a)?a:void 0},{root:!0});var s=n.vendor_metadata,l=O["b"].UNIFIED;s.io_viamo.branchingType===l&&c("handleBranchingTypeChangedToUnified",{block:n})},setMaxChoices:function(e,t){var o=e.commit,c=e.dispatch,r=e.rootGetters,i=t.blockId,a=t.value,n=Object(h["findBlockWith"])(i,r["flow/activeFlow"]);o("flow/block_updateConfigByKey",{blockId:n.uuid,key:"maximum_choices",value:Object(m["isNumber"])(a)?a:void 0},{root:!0});var s=n.vendor_metadata,l=O["b"].UNIFIED;s.io_viamo.branchingType===l&&c("handleBranchingTypeChangedToUnified",{block:n})},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,c=t.block;o("flow/block_convertExitFormationToUnified",{blockId:c.uuid,test:y(c)},{root:!0})},createWith:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function o(){var c,r,i,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return c=e.dispatch,r=t.props,o.next=4,c("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return i=o.sent,o.t0=c,o.next=8,(new p["IdGeneratorUuidV4"]).generate();case 8:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=14,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 14:return o.t5=o.sent,a=[o.t5],o.abrupt("return",Object(m["defaultsDeep"])(r,{type:v,name:"",label:"",semantic_label:"",exits:a,config:{prompt:i.uuid,choices:{},minimum_choices:void 0,maximum_choices:void 0},vendor_metadata:{},tags:[]}));case 17:case"end":return o.stop()}}),o)})))()}});function y(e){var t=e.config,o=t.choices,c=t.minimum_choices,r=t.maximum_choices,i=Object.keys(o);if(0===i.length)return console.warn("Choices are empty for SelectManyBlock, providing `true` by default"),"true";var a="COUNT(block.value) >= ".concat(c),n="COUNT(block.value) <= ".concat(r),s="OR(".concat(i.map((function(e){return'IN("'.concat(e,'", block.value)')})).join(", "),")");return Object(m["isNumber"])(c)&&Object(m["isNumber"])(r)?"AND(".concat([a,n,s].join(", "),")"):Object(m["isNumber"])(c)?"AND(".concat([a,s].join(", "),")"):Object(m["isNumber"])(r)?"AND(".concat([n,s].join(", "),")"):s}var w={namespaced:!0,state:k["f"],getters:j,mutations:_,actions:g},C=o("4bb5"),x=o("af98"),E=o("8619"),B=o("5aa7"),R=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/minimum_choices"},scopedSlots:e._u([{key:"input-control",fn:function(t){var c=t.isValid;return[o("div",{staticClass:"block-validation-min-choices"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.minimum-choices"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":c},model:{value:e.minChoices,callback:function(t){e.minChoices=e._n(t)},expression:"minChoices"}})],1)]}}])})},T=[],I=o("e954"),S=o("2fe1"),F=o("4a51"),U=o("2f00"),M=o("21e9"),N=Object(C["e"])("flow/".concat(v)),L=(Object(C["e"])("builder"),function(e){Object(n["a"])(o,e);var t=Object(s["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r)),Object(l["a"])(Object(a["a"])(e),"block",void 0),Object(l["a"])(Object(a["a"])(e),"setMinChoices",void 0),e}return Object(I["a"])(o,[{key:"mounted",value:function(){}},{key:"minChoices",get:function(){var e=this.block.config.minimum_choices;return Object(m["isNumber"])(e)?e:""},set:function(e){var t=this.block.uuid;this.setMinChoices({blockId:t,value:Object(m["isNumber"])(e)?e:void 0})}}]),o}(Object(S["c"])(F["a"])));Object(u["__decorate"])([Object(d["b"])()],L.prototype,"block",void 0),Object(u["__decorate"])([N.Action],L.prototype,"setMinChoices",void 0),L=Object(u["__decorate"])([Object(d["a"])({components:{NumericEditor:U["a"],ValidationMessage:M["a"]}})],L);var A=L,V=A,G=o("2877"),W=Object(G["a"])(V,R,T,!1,null,null,null),D=W.exports,$=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/maximum_choices"},scopedSlots:e._u([{key:"input-control",fn:function(t){var c=t.isValid;return[o("div",{staticClass:"block-validation-max-choices"},[o("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.maximum-choices"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":c},model:{value:e.maxChoices,callback:function(t){e.maxChoices=e._n(t)},expression:"maxChoices"}})],1)]}}])})},K=[],P=Object(C["e"])("flow/".concat(v)),X=(Object(C["e"])("builder"),function(e){Object(n["a"])(o,e);var t=Object(s["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r)),Object(l["a"])(Object(a["a"])(e),"block",void 0),Object(l["a"])(Object(a["a"])(e),"setMaxChoices",void 0),e}return Object(I["a"])(o,[{key:"mounted",value:function(){}},{key:"maxChoices",get:function(){var e=this.block.config.maximum_choices;return Object(m["isNumber"])(e)?e:""},set:function(e){var t=this.block.uuid;this.setMaxChoices({blockId:t,value:Object(m["isNumber"])(e)?e:void 0})}}]),o}(Object(S["c"])(F["a"])));Object(u["__decorate"])([Object(d["b"])()],X.prototype,"block",void 0),Object(u["__decorate"])([P.Action],X.prototype,"setMaxChoices",void 0),X=Object(u["__decorate"])([Object(d["a"])({components:{NumericEditor:U["a"],ValidationMessage:M["a"]}})],X);var z=X,H=z,J=Object(G["a"])(H,$,K,!1,null,null,null),q=J.exports,Q=o("f04e"),Y=o("3411"),Z=o("1b4e"),ee=o("70f0"),te=o("192b"),oe=o("510a"),ce=o("792f"),re=o("5c47"),ie=o("b4ec"),ae=Object(C["e"])("flow/".concat(v)),ne=Object(C["e"])("builder"),se=function(e){Object(n["a"])(o,e);var t=Object(s["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r)),Object(l["a"])(Object(a["a"])(e),"showSemanticLabel",!1),e}return o}(re["default"]);Object(u["__decorate"])([ne.Getter],se.prototype,"isEditable",void 0),Object(u["__decorate"])([ae.Action],se.prototype,"handleBranchingTypeChangedToUnified",void 0),se=Object(u["__decorate"])([Object(d["a"])({components:{BlockId:ce["a"],BlockNameEditor:Q["a"],BlockLabelEditor:Y["a"],BlockOutputBranchingConfig:O["c"],BlockSemanticLabelEditor:Z["a"],BlockExitSemanticLabelEditor:ee["a"],ChoicesBuilder:B["a"],Categorization:E["a"],FirstBlockEditorButton:te["a"],GenericContactPropertyEditor:ie["a"],MinimumChoicesEditor:D,MaximumChoicesEditor:q,ResourceEditor:oe["a"]}})],se);var le=se,ue=Object(x["d"])(v,w),de=le,be=Object(G["a"])(de,c,r,!1,null,null,null);t["default"]=be.exports},"5aa7":function(e,t,o){"use strict";var c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"choices-builder form-group"},[o("h4",[e._v(e._s(e._f("trans")("flow-builder.choices")))]),e._l(e.choiceResourcesOrderedByResourcesList,(function(t,c){return[o("resource-variant-text-editor",{key:t.uuid,ref:"choices",refInFor:!0,staticClass:"choices-builder-item",attrs:{label:(c+1).toString(),rows:1,placeholder:"Enter choice...","resource-id":t.uuid,"resource-variant":t.values[0],mode:e.SupportedMode.TEXT},on:{afterResourceVariantChanged:function(o){return e.handleExistingResourceVariantChangedFor(t.uuid,c,t)}}})]})),e.draftResource?o("resource-variant-text-editor",{ref:"draftChoice",staticClass:"choices-builder-item",attrs:{label:(e.choiceResourcesOrderedByResourcesList.length+1).toString(),rows:1,placeholder:"Enter choice...","resource-id":e.draftResource.uuid,"resource-variant":e.findOrGenerateStubbedVariantOn(e.draftResource,{language_id:e.activeFlow.languages[0].id,content_type:e.SupportedContentType.TEXT,modes:[e.SupportedMode.TEXT]}),mode:e.SupportedMode.TEXT},on:{beforeResourceVariantChanged:e.addDraftResourceToChoices,afterResourceVariantChanged:function(t){return e.rewriteChoiceKeyFor({resourceId:e.draftResource.uuid,blockId:e.block.uuid})}}}):e._e()],2)},r=[],i=o("c964"),a=o("276c"),n=o("e954"),s=o("2c4c"),l=o("920b"),u=o("92a6"),d=o("fc11"),b=(o("96cf"),o("99af"),o("07ac"),o("e260"),o("d3b7"),o("ddb0"),o("9ab4")),f=o("2ef0"),h=o("393e"),p=o("1b40"),m=o("2fe1"),k=o("4a51"),O=o("9300"),v=o("4bb5"),j=o("bb40"),_=o("ecef"),g=o("31aa"),y=Object(v["e"])("flow"),w=Object(v["e"])("flow/".concat(_["a"])),C=function(e){Object(l["a"])(o,e);var t=Object(u["a"])(o);function o(){var e;Object(a["a"])(this,o);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(d["a"])(Object(s["a"])(e),"block",void 0),Object(d["a"])(Object(s["a"])(e),"draftResource",null),Object(d["a"])(Object(s["a"])(e),"SupportedContentType",O["SupportedContentType"]),Object(d["a"])(Object(s["a"])(e),"SupportedMode",O["SupportedMode"]),Object(d["a"])(Object(s["a"])(e),"findOrGenerateStubbedVariantOn",h["c"]),Object(d["a"])(Object(s["a"])(e),"resources",void 0),Object(d["a"])(Object(s["a"])(e),"resourcesByUuid",void 0),Object(d["a"])(Object(s["a"])(e),"activeFlow",void 0),Object(d["a"])(Object(s["a"])(e),"resource_add",void 0),Object(d["a"])(Object(s["a"])(e),"resource_createWith",void 0),Object(d["a"])(Object(s["a"])(e),"deleteChoiceByResourceIdFrom",void 0),Object(d["a"])(Object(s["a"])(e),"rewriteChoiceKeyFor",void 0),Object(d["a"])(Object(s["a"])(e),"addChoiceByResourceIdTo",void 0),e}return Object(n["a"])(o,[{key:"choiceResourcesOrderedByResourcesList",get:function(){var e=Object.values(this.block.config.choices);return Object(f["intersectionWith"])(this.resources,e,(function(e,t){return e.uuid===t}))}},{key:"created",value:function(){this.generateDraftResource()}},{key:"generateDraftResource",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,(new g["IdGeneratorUuidV4"]).generate();case 3:return e.t1=e.sent,e.t2={uuid:e.t1},e.t3={props:e.t2},e.next=8,e.t0.resource_createWith.call(e.t0,e.t3);case 8:this.draftResource=e.sent;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addDraftResourceToChoices",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.draftResource){e.next=3;break}return console.warn("interaction-designer/block-editors/ChoicesBuilder","Unable to add absent draft resource to block choices.",{block:this.block}),e.abrupt("return");case 3:return this.resource_add({resource:this.draftResource}),this.addChoiceByResourceIdTo({blockId:this.block.uuid,resourceId:this.draftResource.uuid}),this.$nextTick((function(){return t.focusInputElFor(Object(f["last"])(t.$refs.choices))})),e.next=8,this.generateDraftResource();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"focusInputElFor",value:function(e){null===e||void 0===e||e.$refs.input.focus()}},{key:"handleExistingResourceVariantChangedFor",value:function(e,t,o){var c=t===this.choiceResourcesOrderedByResourcesList.length-1,r=Object(f["isEmpty"])(Object(f["get"])(o.values[0],"value"));if(c&&r)return this.deleteChoiceByResourceIdFrom({blockId:this.block.uuid,resourceId:e}),void this.focusInputElFor(this.$refs.draftChoice);this.rewriteChoiceKeyFor({resourceId:e,blockId:this.block.uuid}),this.$emit("choiceChanged",{resourceId:e,choiceIndex:t,resource:o})}}]),o}(Object(m["c"])(k["a"]));Object(b["__decorate"])([Object(p["b"])()],C.prototype,"block",void 0),Object(b["__decorate"])([y.State],C.prototype,"resources",void 0),Object(b["__decorate"])([y.Getter],C.prototype,"resourcesByUuid",void 0),Object(b["__decorate"])([y.Getter],C.prototype,"activeFlow",void 0),Object(b["__decorate"])([y.Mutation],C.prototype,"resource_add",void 0),Object(b["__decorate"])([y.Action],C.prototype,"resource_createWith",void 0),Object(b["__decorate"])([w.Action],C.prototype,"deleteChoiceByResourceIdFrom",void 0),Object(b["__decorate"])([w.Action],C.prototype,"rewriteChoiceKeyFor",void 0),Object(b["__decorate"])([w.Action],C.prototype,"addChoiceByResourceIdTo",void 0),C=Object(b["__decorate"])([Object(p["a"])({components:{ResourceVariantTextEditor:j["a"]}})],C);var x=C,E=x,B=o("2877"),R=Object(B["a"])(E,c,r,!1,null,null,null);t["a"]=R.exports},"5c47":function(e,t,o){"use strict";o.r(t),o.d(t,"MobilePrimitives_SelectOneResponseBlock",(function(){return N})),o.d(t,"install",(function(){return A}));var c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobile-primitive-select-one-response-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("block-label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("block-semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("block-name-editor",{attrs:{block:e.block}}),o("hr"),o("choices-builder",{attrs:{block:e.block},on:{choiceChanged:e.handleChoiceChanged}}),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!0,"label-class":""},on:{branchingTypeChanged:function(t){return e.reflowExitsWhenSwitchingToBranchingTypeNotUnified()}}}),o("div",{staticClass:"prompt-resource"},[e.promptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.prompt"),resource:e.promptResource,block:e.block,flow:e.flow}}):e._e()],1),e._t("extras"),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},r=[],i=o("276c"),a=o("e954"),n=o("2c4c"),s=o("920b"),l=o("92a6"),u=o("fc11"),d=(o("99af"),o("9ab4")),b=o("9300"),f=o("4bb5"),h=o("1b40"),p=o("2ef0"),m=o("ecef"),k=o("4a51"),O=o("8619"),v=o("af98"),j=o("2fe1"),_=o("bb40"),g=o("393e"),y=o("5aa7"),w=o("18b0"),C=o("f04e"),x=o("3411"),E=o("1b4e"),B=o("70f0"),R=o("192b"),T=o("510a"),I=o("792f"),S=o("b4ec"),F=Object(f["e"])("flow"),U=Object(f["e"])("flow/".concat(m["a"])),M=Object(f["e"])("builder"),N=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(i["a"])(this,o);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),Object(u["a"])(Object(n["a"])(e),"block",void 0),Object(u["a"])(Object(n["a"])(e),"flow",void 0),Object(u["a"])(Object(n["a"])(e),"showSemanticLabel",!1),Object(u["a"])(Object(n["a"])(e),"SupportedMode",b["SupportedMode"]),Object(u["a"])(Object(n["a"])(e),"findOrGenerateStubbedVariantOn",g["c"]),Object(u["a"])(Object(n["a"])(e),"resourcesByUuid",void 0),Object(u["a"])(Object(n["a"])(e),"block_createBlockExitWith",void 0),Object(u["a"])(Object(n["a"])(e),"block_convertExitFormationToUnified",void 0),Object(u["a"])(Object(n["a"])(e),"reflowExitsFromChoices",void 0),Object(u["a"])(Object(n["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(u["a"])(Object(n["a"])(e),"isEditable",void 0),e}return Object(a["a"])(o,[{key:"promptResource",get:function(){return this.resourcesByUuid[this.block.config.prompt]}},{key:"handleChoiceChanged",value:function(){var e=this.block,t=e.uuid,o=e.vendor_metadata,c=w["b"].EXIT_PER_CHOICE,r=w["b"].UNIFIED;o.io_viamo.branchingType===r&&this.handleBranchingTypeChangedToUnified({block:this.block}),o.io_viamo.branchingType===c&&this.reflowExitsFromChoices({blockId:t})}},{key:"reflowExitsWhenSwitchingToBranchingTypeNotUnified",value:function(){var e=this.block,t=e.uuid,o=e.vendor_metadata,c=w["b"].EXIT_PER_CHOICE,r=w["b"].ADVANCED,i=Object(p["includes"])([c,r],o.io_viamo.branchingType);i?this.reflowExitsFromChoices({blockId:t}):this.handleBranchingTypeChangedToUnified({block:this.block})}}]),o}(Object(j["c"])(k["a"]));Object(d["__decorate"])([Object(h["b"])()],N.prototype,"block",void 0),Object(d["__decorate"])([Object(h["b"])()],N.prototype,"flow",void 0),Object(d["__decorate"])([F.Getter],N.prototype,"resourcesByUuid",void 0),Object(d["__decorate"])([F.Action],N.prototype,"block_createBlockExitWith",void 0),Object(d["__decorate"])([F.Action],N.prototype,"block_convertExitFormationToUnified",void 0),Object(d["__decorate"])([U.Action],N.prototype,"reflowExitsFromChoices",void 0),Object(d["__decorate"])([U.Action],N.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([M.Getter],N.prototype,"isEditable",void 0),N=Object(d["__decorate"])([Object(h["a"])({components:{GenericContactPropertyEditor:S["a"],ResourceVariantTextEditor:_["a"],BlockExitSemanticLabelEditor:B["a"],BlockId:I["a"],BlockLabelEditor:x["a"],BlockNameEditor:C["a"],BlockOutputBranchingConfig:w["c"],BlockSemanticLabelEditor:E["a"],ChoicesBuilder:y["a"],FirstBlockEditorButton:R["a"],ResourceEditor:T["a"],Categorization:O["a"]}})],N);var L=N,A=Object(v["d"])(m["a"],m["c"]),V=L,G=o("2877"),W=Object(G["a"])(V,c,r,!1,null,null,null);t["default"]=W.exports},"70f0":function(e,t,o){"use strict";var c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("text-editor",{attrs:{"is-editable":e.isEditable,label:e._f("trans")("flow-builder.block-exit-semantic-label"),placeholder:e._f("trans")("flow-builder.enter-block-exit-semantic-label")},model:{value:e.semanticLabel,callback:function(t){e.semanticLabel=t},expression:"semanticLabel"}})],1)},r=[],i=o("f3f3"),a=o("2f62"),n=o("d883"),s=o("4a51"),l={components:{TextEditor:n["a"]},mixins:[s["b"]],props:{isEditable:{default:!0,type:Boolean},exit:{type:Object,required:!0}},computed:{semanticLabel:{get:function(){return this.exit.semantic_label},set:function(e){this.exit.semantic_label=e,this.$emit("commitSemanticLabel",e)}}},methods:Object(i["a"])({},Object(a["c"])("flow",["block_setExitSemanticLabel"]))},u=l,d=o("2877"),b=Object(d["a"])(u,c,r,!1,null,null,null);t["a"]=b.exports},ecef:function(e,t,o){"use strict";o.d(t,"a",(function(){return u})),o.d(t,"f",(function(){return d})),o.d(t,"d",(function(){return b})),o.d(t,"e",(function(){return f})),o.d(t,"b",(function(){return h}));var c=o("d0ff"),r=o("c964"),i=(o("96cf"),o("e260"),o("d3b7"),o("ddb0"),o("99af"),o("b64b"),o("fb6a"),o("e6cf"),o("3ca3"),o("d81d"),o("cca6"),o("a434"),o("a15b"),o("9300")),a=o("31aa"),n=o("8bbf"),s=o.n(n),l=o("2ef0"),u="MobilePrimitives.SelectOneResponse",d=function(){return{}},b={},f={},h={rewriteChoiceKeyFor:function(e,t){var o=e.rootGetters,c=e.dispatch,r=t.resourceId,a=t.blockId,n=Object(i["findBlockWith"])(a,o["flow/activeFlow"]),s=o["flow/resourcesByUuid"][r];if(null==s)throw new i["ValidationException"]("Unable to find resource for choice: ".concat(r));var u=String(Object(l["findKey"])(n.config.choices,(function(e){return e===r})));n.config.choices=Object(l["omit"])(n.config.choices,u),c("addChoiceByResourceIdTo",{blockId:a,resourceId:r})},addChoiceByResourceIdTo:function(e,t){var o=e.rootGetters,c=t.blockId,r=t.resourceId,a=Object(i["findBlockWith"])(c,o["flow/activeFlow"]),n=o["flow/resourcesByUuid"][r];if(null==n)throw new i["ValidationException"]("Unable to find resource for choice: ".concat(r));var u=Object(l["snakeCase"])(Object(l["get"])(n.values[0],"value"))||n.uuid,d=u in a.config.choices,b=d?"-".concat(n.uuid):"";s.a.set(a.config.choices,"".concat(u).concat(b),n.uuid)},deleteChoiceByResourceIdFrom:function(e,t){var o=e.rootGetters,c=t.blockId,r=t.resourceId,a=Object(i["findBlockWith"])(c,o["flow/activeFlow"]),n=String(Object(l["findKey"])(a.config.choices,(function(e){return e===r})));s.a.delete(a.config.choices,n)},reflowExitsFromChoices:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function o(){var n,s,l,u,d,b,f,h;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n=e.dispatch,s=e.rootGetters,l=t.blockId,u=Object(i["findBlockWith"])(l,s["flow/activeFlow"]),d=u.config.choices,b=u.exits,f=Object.keys(d),h=b.slice(0,-1),o.next=8,Promise.all(f.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,o){var c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=h[o]){e.next=8;break}return e.next=3,(new a["IdGeneratorUuidV4"]).generate();case 3:return c=e.sent,e.next=6,n("flow/block_createBlockExitWith",{props:{uuid:c}},{root:!0});case 6:r=e.sent,h.push(r);case 8:Object.assign(h[o],{name:t,test:'block.value = "'.concat(t,'"')});case 9:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()));case 8:b.splice.apply(b,[0,b.length-1].concat(Object(c["a"])(h)));case 9:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function o(){var c,r,i,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return c=e.dispatch,r=t.props,o.next=4,c("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return i=o.sent,o.t0=c,o.next=8,(new a["IdGeneratorUuidV4"]).generate();case 8:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=14,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 14:return o.t5=o.sent,n=[o.t5],o.abrupt("return",Object(l["defaultsDeep"])(r,{type:u,name:"",label:"",semantic_label:"",config:{prompt:i.uuid,choices:{}},exits:n,tags:[],vendor_metadata:{}}));case 17:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,c=t.block;o("flow/block_convertExitFormationToUnified",{blockId:c.uuid,test:p(c)},{root:!0})}};function p(e){var t=Object.keys(e.config.choices);return 0===t.length?(console.warn("Choices are empty for SelectOneBlock, providing `true` by default"),"true"):"OR(".concat(Object(l["map"])(t,(function(e){return'block.value = "'.concat(e,'"')})).join(","),")")}t["c"]={namespaced:!0,state:d,getters:b,mutations:f,actions:h}}}]);
//# sourceMappingURL=flow-builder.umd.min.6.js.map
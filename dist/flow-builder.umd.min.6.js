(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[6],{"192b":function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"starting-block-button"},[t.isEditable?[r("h4",[t._v(t._s(t._f("trans")("flow-builder.options")))]),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:t.isStartBlock},on:{click:function(e){return t.setStartBlock(e)}}},[t.isStartBlock?[t._v(" "+t._s(t._f("trans")("flow-builder.currently-set-as-starting-block"))+" ")]:[t._v(" "+t._s(t._f("trans")("flow-builder.set-as-starting-block"))+" ")]],2)])]:t._e()],2)},a=[],c=r("d4ec"),l=r("bee2"),n=r("262e"),i=r("2caf"),s=r("9ab4"),b=r("60a3"),u=r("4a51"),p=r("4bb5"),d=r("2fe1"),f=Object(p["e"])("flow"),k=function(t){Object(n["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),e.apply(this,arguments)}return Object(l["a"])(r,[{key:"setStartBlock",value:function(t){var e=this.flow.uuid,r=this.blockId;this.flow_setFirstBlockId({flowId:e,blockId:r})}},{key:"isStartBlock",get:function(){return this.blockId===this.flow.first_block_id}}]),r}(Object(d["c"])(u["a"]));Object(s["a"])([Object(b["b"])({default:!0})],k.prototype,"isEditable",void 0),Object(s["a"])([Object(b["b"])()],k.prototype,"blockId",void 0),Object(s["a"])([Object(b["b"])()],k.prototype,"flow",void 0),Object(s["a"])([f.Mutation],k.prototype,"flow_setFirstBlockId",void 0),k=Object(s["a"])([Object(b["a"])({})],k);var m=k,_=m,y=r("2877"),j=Object(y["a"])(_,o,a,!1,null,null,null);e["a"]=j.exports},"1b4e":function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"block-semantic-label"},[r("text-editor",{attrs:{label:t._f("trans")("flow-builder.block-semantic-label"),placeholder:t._f("trans")("flow-builder.enter-block-semantic-label")},model:{value:t.semanticLabel,callback:function(e){t.semanticLabel=e},expression:"semanticLabel"}})],1)},a=[],c=r("5530"),l=r("2f62"),n=r("d883"),i=r("4a51"),s={components:{TextEditor:n["a"]},props:{block:{type:Object,required:!0}},mixins:[i["b"]],computed:{semanticLabel:{get:function(){return this.block.semantic_label||""},set:function(t){this.block_setSemanticLabel({blockId:this.block.uuid,value:t})}}},methods:Object(c["a"])({},Object(l["c"])("flow",["block_setSemanticLabel"]))},b=s,u=r("2877"),p=Object(u["a"])(b,o,a,!1,null,null,null);e["a"]=p.exports},3411:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"block-label"},[r("text-editor",{attrs:{label:t._f("trans")("flow-builder.block-label"),placeholder:t._f("trans")("flow-builder.enter-block-label")},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1)},a=[],c=r("d4ec"),l=r("bee2"),n=r("262e"),i=r("2caf"),s=r("9ab4"),b=r("d883"),u=r("4a51"),p=r("60a3"),d=r("4bb5"),f=r("2fe1"),k=Object(d["e"])("flow"),m=function(t){Object(n["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),e.apply(this,arguments)}return Object(l["a"])(r,[{key:"label",get:function(){return this.block.label},set:function(t){this.block_setLabel({blockId:this.block.uuid,value:t})}}]),r}(Object(f["c"])(u["a"]));Object(s["a"])([Object(p["b"])()],m.prototype,"block",void 0),Object(s["a"])([k.Mutation],m.prototype,"block_setLabel",void 0),m=Object(s["a"])([Object(p["a"])({components:{TextEditor:b["a"]}})],m);var _=m,y=_,j=r("2877"),v=Object(j["a"])(y,o,a,!1,null,null,null);e["a"]=v.exports},"792f":function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"block-id text-right"},[r("small",{staticClass:"text-muted"},[t._v(t._s(t._f("trans")("flow-builder.block-id"))+": "),r("em",[t._v(t._s(t.blockId))])])])},a=[],c=r("d4ec"),l=r("bee2"),n=r("262e"),i=r("2caf"),s=r("9ab4"),b=r("60a3"),u=r("4a51"),p=r("2fe1"),d=function(t){Object(n["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),e.apply(this,arguments)}return Object(l["a"])(r,[{key:"blockId",get:function(){return this.block.uuid||""}}]),r}(Object(p["c"])(u["a"]));Object(s["a"])([Object(b["b"])()],d.prototype,"block",void 0),d=Object(s["a"])([Object(b["a"])({})],d);var f=d,k=f,m=r("2877"),_=Object(m["a"])(k,o,a,!1,null,null,null);e["a"]=_.exports},"84d1":function(t,e,r){"use strict";r.r(e),r.d(e,"install",(function(){return J}));var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"core-set-contact-property-block"},[r("h3",{staticClass:"no-room-above"},[t._v(" "+t._s(t._f("trans")("flow-builder.edit-block-type",{block_type:t.trans("flow-builder."+t.block.type)}))+" ")]),r("fieldset",{attrs:{disabled:!t.isEditable}},[r("block-name-editor",{attrs:{block:t.block}}),r("block-label-editor",{attrs:{block:t.block}}),r("block-semantic-label-editor",{attrs:{block:t.block}}),r("contact-property-selector",{attrs:{block:t.block}}),r("expression-editor",{attrs:{label:t._f("trans")("flow-builder.contact-property-expression"),placeholder:t._f("trans")("flow-builder.edit-expression"),"current-expression":t.propertyValue},on:{commitExpressionChange:t.commitExpressionChange}}),t._t("extras"),r("first-block-editor-button",{attrs:{flow:t.flow,"block-id":t.block.uuid}})],2),r("block-id",{attrs:{block:t.block}})],1)},a=[],c=r("d4ec"),l=r("bee2"),n=r("262e"),i=r("2caf"),s=r("9ab4"),b=r("4bb5"),u=r("60a3"),p=r("fffe"),d=r("f04e"),f=r("3411"),k=r("1b4e"),m=r("192b"),_=r("792f"),y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"block-contact-property form-group"},[r("label",[t._v(t._s(t._f("trans")("flow-builder.contact-property-label")))]),r("vue-multiselect",{attrs:{"track-by":"id",label:"displayLabel",placeholder:t._f("trans")("flow-builder.contact-property-selector-placeholder"),options:t.subscriberPropertyFields||[],"allow-empty":!1,"show-labels":!1,searchable:!0},model:{value:t.selectedProperty,callback:function(e){t.selectedProperty=e},expression:"selectedProperty"}})],1)},j=[],v=(r("b0c0"),r("8e5f")),O=r.n(v),h=r("4a51"),x=r("2ef0"),w=r("2fe1"),g=Object(b["e"])("flow"),E=function(t){Object(n["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),e.apply(this,arguments)}return Object(l["a"])(r,[{key:"selectedProperty",get:function(){var t=this.block.config.set_contact_property.property_key;if(!t)return{};var e=Object(x["find"])(this.subscriberPropertyFields,{name:t});return e||{}},set:function(t){this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_key",value:t.name})}}]),r}(Object(w["c"])(h["a"]));Object(s["a"])([Object(u["b"])()],E.prototype,"block",void 0),Object(s["a"])([g.Mutation],E.prototype,"block_updateConfigByPath",void 0),Object(s["a"])([b["b"]],E.prototype,"subscriberPropertyFields",void 0),E=Object(s["a"])([Object(u["a"])({components:{VueMultiselect:O.a}})],E);var C=E,I=C,B=r("2877"),S=Object(B["a"])(I,y,j,!1,null,null,null),P=S.exports,L=(r("96cf"),r("1da1")),$=r("31aa"),N="Core.SetContactProperty",F={},q={},D={editSetContactPropertyExpression:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var o,a,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,a=e.blockId,c=e.value,o("flow/block_updateConfigByPath",{blockId:a,path:"set_contact_property.property_value",value:c},{root:!0}),r.abrupt("return",c);case 4:case"end":return r.stop()}}),r)})))()},createWith:function(t,e){return Object(L["a"])(regeneratorRuntime.mark((function r(){var o,a,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.dispatch,a=e.props,r.t0=o,r.next=5,(new $["IdGeneratorUuidV4"]).generate();case 5:return r.t1=r.sent,r.t2={uuid:r.t1,tag:"Default",label:"Default"},r.t3={props:r.t2},r.t4={root:!0},r.next=11,(0,r.t0)("flow/block_createBlockDefaultExitWith",r.t3,r.t4);case 11:return r.t5=r.sent,c=[r.t5],r.abrupt("return",Object(x["defaultsDeep"])(a,{type:N,name:"",label:"",semantic_label:"",config:{set_contact_property:{property_key:"",property_value:""}},exits:c}));case 14:case"end":return r.stop()}}),r)})))()}},M={namespaced:!0,getters:F,mutations:q,actions:D},R=r("af98"),T=Object(b["e"])("flow/".concat(N)),V=Object(b["e"])("builder"),W=function(t){Object(n["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),e.apply(this,arguments)}return Object(l["a"])(r,[{key:"commitExpressionChange",value:function(t){return this.editSetContactPropertyExpression({blockId:this.block.uuid,value:t})}},{key:"propertyValue",get:function(){return Object(x["get"])(this.block,"config.set_contact_property.property_value","")}}]),r}(Object(w["c"])(h["a"]));Object(s["a"])([Object(u["b"])()],W.prototype,"block",void 0),Object(s["a"])([Object(u["b"])()],W.prototype,"flow",void 0),Object(s["a"])([T.Action],W.prototype,"editSetContactPropertyExpression",void 0),Object(s["a"])([V.Getter],W.prototype,"isEditable",void 0),W=Object(s["a"])([Object(u["a"])({components:{ExpressionEditor:p["a"],BlockNameEditor:d["a"],BlockLabelEditor:f["a"],BlockSemanticLabelEditor:k["a"],FirstBlockEditorButton:m["a"],BlockId:_["a"],ContactPropertySelector:P}})],W);var G=W,J=Object(R["c"])(N,M),A=G,U=Object(B["a"])(A,o,a,!1,null,null,null);e["default"]=U.exports},f04e:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"block-name"},[r("text-editor",{attrs:{label:t._f("trans")("flow-builder.block-name"),placeholder:t._f("trans")("flow-builder.enter-block-name")},on:{keydown:t.filterName},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[r("small",{staticClass:"text-muted"},[t._v(" "+t._s(t._f("trans")("flow-builder.only-accepts-word-characters"))+" ")])])],1)},a=[],c=(r("b0c0"),r("ac1f"),r("466d"),r("5530")),l=r("2f62"),n=r("d883"),i=r("4a51"),s={components:{TextEditor:n["a"]},mixins:[i["b"]],props:{block:{type:Object,required:!0}},computed:{name:{get:function(){return this.block.name},set:function(t){this.block_setName({blockId:this.block.uuid,value:t})}}},methods:Object(c["a"])(Object(c["a"])({},Object(l["c"])("flow",["block_setName"])),{},{filterName:function(t){t.key.match(/\W+|Enter/g)&&t.preventDefault()}})},b=s,u=r("2877"),p=Object(u["a"])(b,o,a,!1,null,null,null);e["a"]=p.exports},fffe:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("text-editor",{staticClass:"expression-editor",attrs:{label:t.label,placeholder:t.placeholder},model:{value:t.expression,callback:function(e){t.expression=e},expression:"expression"}})},a=[],c=(r("a9e3"),r("d883")),l={components:{TextEditor:c["a"]},props:{label:{type:[String,Number],required:!0},placeholder:{type:String,required:!0},currentExpression:{type:String,required:!0},expressionIdentifier:{type:[String,Number],default:null}},computed:{expression:{get:function(){return this.currentExpression},set:function(t){null!==this.expressionIdentifier&&(t={identifier:this.expressionIdentifier,value:t}),this.$emit("commitExpressionChange",t)}}}},n=l,i=r("2877"),s=Object(i["a"])(n,o,a,!1,null,null,null);e["a"]=s.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.6.js.map
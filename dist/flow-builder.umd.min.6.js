(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[6],{b6b9:function(t,e,a){"use strict";a.r(e),a.d(e,"install",(function(){return P}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"console-io-read-block"},[a("h3",{staticClass:"block-editor-header"},[t._v(" "+t._s(t._f("trans")("flow-builder."+t.block.type))+" ")]),a("fieldset",{attrs:{disabled:!t.isEditable}},[a("block-label-editor",{attrs:{block:t.block},on:{gearClicked:function(e){t.showSemanticLabel=!t.showSemanticLabel}}}),t.showSemanticLabel?a("block-semantic-label-editor",{attrs:{block:t.block}}):t._e(),a("block-name-editor",{attrs:{block:t.block}}),t._t("extras"),a("hr"),a("block-format-string-editor",{attrs:{block:t.block},on:{commitFormatStringChange:t.setFormatString}}),a("div",[a("h6",[t._v(t._s(t._f("trans")("flow-builder.destination-variable")))]),t._l(t.destinationVariablesFields,(function(e,r){return a("div",{key:r,staticClass:"form-group"},[a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/destination_variables/"+r},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[a("text-editor",{attrs:{label:"",placeholder:t._f("trans")("flow-builder.destination-variable-placeholder"),"valid-state":o,value:""},on:{keydown:t.filterVariableName,input:function(e){return t.updatedestinationVariables(e,r)}}})]}}],null,!0)})],1)}))],2),a("hr"),a("block-output-branching-config",{attrs:{block:t.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(e){return t.handleBranchingTypeChangedToUnified({block:t.block})}}}),a("categorization",{attrs:{block:t.block}}),a("generic-contact-property-editor",{attrs:{block:t.block}}),a("hr"),a("first-block-editor-button",{attrs:{flow:t.flow,"block-id":t.block.uuid}})],2),a("block-id",{attrs:{block:t.block}})],1)},o=[],n=a("276c"),i=a("e954"),c=a("2c4c"),l=a("920b"),s=a("92a6"),b=a("fc11"),d=(a("99af"),a("ac1f"),a("466d"),a("9ab4")),u=a("4bb5"),f=a("1b40"),k=a("d883"),p=a("c964"),m=(a("96cf"),a("31aa")),g=a("2ef0"),h=a("85b2"),v="ConsoleIO.Read",_={destinationVariablesFields:function(t,e,a,r){var o=r["builder/activeBlock"];return new Array(Object(g["split"])(o.config.format_string||"","%").length-1)}},y={},w={setFormatString:function(t,e){return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,o,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,o=t.rootGetters,n=o["builder/activeBlock"],i={format_string:e},r("flow/block_updateConfigByKey",{blockId:n.uuid,key:"format_string",value:e},{root:!0}),a.abrupt("return",i);case 5:case"end":return a.stop()}}),a)})))()},editDestinationVariable:function(t,e){return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,o,n,i,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.commit,o=t.rootGetters,n=e.variableName,i=e.keyIndex,c=o["builder/activeBlock"],l=c.config.destination_variables||[],l[i]=n,r("flow/block_updateConfigByKey",{blockId:c.uuid,key:"destination_variables",value:l},{root:!0}),a.abrupt("return",l);case 7:case"end":return a.stop()}}),a)})))()},createWith:function(t,e){return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.dispatch,o=e.props,a.t0=r,a.next=5,(new m["IdGeneratorUuidV4"]).generate();case 5:return a.t1=a.sent,a.t2={uuid:a.t1},a.t3={props:a.t2},a.t4={root:!0},a.next=11,(0,a.t0)("flow/block_createBlockDefaultExitWith",a.t3,a.t4);case 11:return a.t5=a.sent,n=[a.t5],a.abrupt("return",Object(g["defaultsDeep"])(o,{type:v,name:"",label:"",semantic_label:"",config:{format_string:"",destination_variables:[]},exits:n,tags:[],vendor_metadata:{}}));case 14:case"end":return a.stop()}}),a)})))()},handleBranchingTypeChangedToUnified:function(t,e){var a=t.dispatch,r=e.block;a("flow/block_convertExitFormationToUnified",{blockId:r.uuid,test:"block.value = true"},{root:!0})},validate:function(t,e){t.rootGetters;var a=e.block,r=e.schemaVersion;return Object(h["e"])({block:a,schemaVersion:r})}},O={namespaced:!0,getters:_,mutations:y,actions:w},j=a("4a51"),x=a("8619"),B=a("af98"),C=a("2fe1"),S=a("21e9"),V=a("18b0"),E=a("510a"),T=a("f04e"),F=a("3411"),I=a("1b4e"),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/format_string"},scopedSlots:t._u([{key:"input-control",fn:function(e){var r=e.isValid;return[a("div",{staticClass:"block-format-string"},[a("text-editor",{attrs:{label:t._f("trans")("flow-builder.format-string"),placeholder:t._f("trans")("flow-builder.enter-format-string"),"valid-state":r},model:{value:t.formatString,callback:function(e){t.formatString=e},expression:"formatString"}}),a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t._f("trans")("flow-builder.format-string-hint"))+" ")])],1)]}}])})},G=[],U={components:{TextEditor:k["a"],ValidationMessage:S["a"]},mixins:[j["b"]],props:{block:{type:Object,required:!0}},computed:{formatString:{get:function(){return this.block.config.format_string},set:function(t){this.$emit("commitFormatStringChange",t)}}}},D=U,L=a("2877"),A=Object(L["a"])(D,R,G,!1,null,null,null),N=A.exports,W=a("192b"),$=a("792f"),z=a("b4ec"),J=Object(u["e"])("flow/".concat(v)),K=Object(u["e"])("builder"),M=function(t){Object(l["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Object(b["a"])(Object(c["a"])(t),"showSemanticLabel",!1),Object(b["a"])(Object(c["a"])(t),"handleBranchingTypeChangedToUnified",void 0),t}return Object(i["a"])(a,[{key:"filterVariableName",value:function(t){t.key.match(/\W+|Enter/g)&&t.preventDefault()}},{key:"updatedestinationVariables",value:function(t,e){this.editDestinationVariable({variableName:t,keyIndex:e})}}]),a}(Object(C["c"])(j["a"]));Object(d["__decorate"])([Object(f["b"])()],M.prototype,"block",void 0),Object(d["__decorate"])([Object(f["b"])()],M.prototype,"flow",void 0),Object(d["__decorate"])([J.Action],M.prototype,"setFormatString",void 0),Object(d["__decorate"])([J.Action],M.prototype,"editDestinationVariable",void 0),Object(d["__decorate"])([J.Getter],M.prototype,"destinationVariablesFields",void 0),Object(d["__decorate"])([J.Action],M.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(d["__decorate"])([K.Getter],M.prototype,"isEditable",void 0),M=Object(d["__decorate"])([Object(f["a"])({components:{GenericContactPropertyEditor:z["a"],ResourceEditor:E["a"],BlockNameEditor:T["a"],BlockLabelEditor:F["a"],BlockSemanticLabelEditor:I["a"],BlockFormatStringEditor:N,FirstBlockEditorButton:W["a"],TextEditor:k["a"],BlockId:$["a"],ValidationMessage:S["a"],Categorization:x["a"],BlockOutputBranchingConfig:V["c"]}})],M);var q=M,P=Object(B["d"])(v,O),H=q,Q=Object(L["a"])(H,r,o,!1,null,null,null);e["default"]=Q.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.6.js.map
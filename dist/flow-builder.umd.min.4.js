(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[4],{"02b5":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return be}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"core-set-group-membership-block"},[o("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("block-label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?o("block-semantic-label-editor",{attrs:{block:e.block}}):e._e(),o("block-name-editor",{attrs:{block:e.block}}),e._t("extras"),o("group-membership-editor",{attrs:{block:e.block}}),o("hr"),o("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1},on:{branchingTypeChangedToUnified:function(t){return e.handleBranchingTypeChangedToUnified({block:e.block})}}}),o("categorization",{attrs:{block:e.block}}),o("generic-contact-property-editor",{attrs:{block:e.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},r=[],c=o("276c"),i=o("e954"),n=o("2c4c"),s=o("920b"),l=o("92a6"),b=o("fc11"),u=(o("99af"),o("9ab4")),d=o("4bb5"),p=o("1b40"),m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/group_key"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-group"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.group-label")))]),o("vue-multiselect",{class:{invalid:!1===a},attrs:{"track-by":"id",label:"name",placeholder:e._f("trans")("flow-builder.group-selector-placeholder"),options:e.groups,"allow-empty":!1,"show-labels":!1,searchable:!0},model:{value:e.selectedGroup,callback:function(t){e.selectedGroup=t},expression:"selectedGroup"}})],1)]}}])})},f=[],h=(o("b0c0"),o("8e5f")),_=o.n(h),O=o("4a51"),k=o("2ef0"),g=o("2fe1"),v=Object(d["e"])("flow"),E=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(c["a"])(this,o);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(b["a"])(Object(n["a"])(e),"block",void 0),Object(b["a"])(Object(n["a"])(e),"block_updateConfigByPath",void 0),Object(b["a"])(Object(n["a"])(e),"groups",void 0),e}return Object(i["a"])(o,[{key:"selectedGroup",get:function(){var e=this.block.config.group_key;if(!e)return{};var t=Object(k["find"])(this.groups,{id:e});return t||{}},set:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_key",value:e.id}),this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_name",value:e.name})}}]),o}(Object(g["c"])(O["a"]));Object(u["__decorate"])([Object(p["b"])()],E.prototype,"block",void 0),Object(u["__decorate"])([v.Mutation],E.prototype,"block_updateConfigByPath",void 0),Object(u["__decorate"])([d["b"]],E.prototype,"groups",void 0),E=Object(u["__decorate"])([Object(p["a"])({components:{VueMultiselect:_.a}})],E);var j=E,y=j,M=(o("fb01"),o("2877")),C=Object(M["a"])(y,m,f,!1,null,"0c23c358",null),I=C.exports,w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"group-membership-editor"},[o("hr"),o("div",{staticClass:"form-group"},[o("label",{staticClass:"text-primary"},[e._v(e._s(e._f("trans")("flow-builder.action-label")))]),o("p",[e._v(e._s(e._f("trans")("flow-builder.group-membership-action-hint")))]),o("div",{staticClass:"form-group"},[o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"addGroup",type:"radio",name:"groupMembershipAction"},domProps:{value:e.MEMBERSHIP_ACTION.ADD,checked:e._q(e.membershipAction,e.MEMBERSHIP_ACTION.ADD)},on:{change:function(t){e.membershipAction=e.MEMBERSHIP_ACTION.ADD}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"addGroup"}},[e._v(" "+e._s(e._f("trans")("flow-builder.set-group-membership"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"clearGroup",type:"radio",name:"groupMembershipAction"},domProps:{value:e.MEMBERSHIP_ACTION.REMOVE,checked:e._q(e.membershipAction,e.MEMBERSHIP_ACTION.REMOVE)},on:{change:function(t){e.membershipAction=e.MEMBERSHIP_ACTION.REMOVE}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"clearGroup"}},[e._v(" "+e._s(e._f("trans")("flow-builder.clear-group-membership"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"setFromExpression",type:"radio",name:"groupMembershipAction"},domProps:{value:e.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION,checked:e._q(e.membershipAction,e.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION)},on:{change:function(t){e.membershipAction=e.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setFromExpression"}},[e._v(" "+e._s(e._f("trans")("flow-builder.set-group-membership-from-expression"))+" ")])])]),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/group_key"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("div",{staticClass:"block-group-key"},[o("text-editor",{attrs:{label:e._f("trans")("flow-builder.group-label"),"label-class":"font-weight-bold",placeholder:e._f("trans")("flow-builder.enter-group-label"),"valid-state":a},model:{value:e.groupKey,callback:function(t){e.groupKey=t},expression:"groupKey"}})],1)]}}])}),e.membershipAction===e.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION?o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/is_member"},scopedSlots:e._u([{key:"input-control",fn:function(t){var a=t.isValid;return[o("expression-input",{attrs:{label:e._f("trans")("flow-builder.value-expression"),placeholder:e._f("trans")("flow-builder.enter-expression"),"label-class":"font-weight-bold","current-expression":e.isMember,"valid-state":a},on:{commitExpressionChange:e.updateIsMemberExpression}})]}}],null,!1,628814233)}):e._e()],1)])},A=[],S=o("6faa"),B=Object(d["e"])("flow"),R="@(null)",P="@(true)",x="",T=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(c["a"])(this,o);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(b["a"])(Object(n["a"])(e),"block",void 0),Object(b["a"])(Object(n["a"])(e),"MEMBERSHIP_ACTION",{ADD:"add",SET_FROM_EXPRESSION:"set_from_expression",REMOVE:"remove"}),Object(b["a"])(Object(n["a"])(e),"block_updateConfigByPath",void 0),e}return Object(i["a"])(o,[{key:"membershipAction",get:function(){return this.isMember===R?this.MEMBERSHIP_ACTION.REMOVE:this.isMember===P?this.MEMBERSHIP_ACTION.ADD:this.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION},set:function(e){e===this.MEMBERSHIP_ACTION.REMOVE?this.updateIsMemberExpression(R):e===this.MEMBERSHIP_ACTION.ADD?this.updateIsMemberExpression(P):this.updateIsMemberExpression(x)}},{key:"groupKey",get:function(){return Object(k["get"])(this.block.config,"group_key")},set:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_key",value:e})}},{key:"isMember",get:function(){return Object(k["get"])(this.block.config,"is_member",x)}},{key:"updateIsMemberExpression",value:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"is_member",value:e})}}]),o}(Object(g["c"])(O["a"]));Object(u["__decorate"])([Object(p["b"])()],T.prototype,"block",void 0),Object(u["__decorate"])([B.Mutation],T.prototype,"block_updateConfigByPath",void 0),T=Object(u["__decorate"])([Object(p["a"])({components:{ExpressionInput:S["a"]}})],T);var N=T,G=N,H=Object(M["a"])(G,w,A,!1,null,null,null),D=H.exports,V=o("c964"),F=(o("96cf"),o("31aa")),L=o("85b2"),U="add",X="remove",K="Core.SetGroupMembership",q={},$={},z={createWith:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function o(){var a,r,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.dispatch,r=t.props,o.t0=a,o.next=5,(new F["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,c=[o.t5],o.abrupt("return",Object(k["defaultsDeep"])(r,{type:K,name:"",label:"",semantic_label:"",config:{group_key:"",group_name:"",is_member:null},exits:c,tags:[],vendor_metadata:{}}));case 14:case"end":return o.stop()}}),o)})))()},handleBranchingTypeChangedToUnified:function(e,t){var o=e.dispatch,a=t.block;o("flow/block_convertExitFormationToUnified",{blockId:a.uuid,test:"block.value = true"},{root:!0})},setIsMember:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function o(){var a,r,c,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:a=e.commit,r=e.rootGetters,c=r["builder/activeBlock"],i=!1,t&&(i=t.id===U),a("flow/block_updateConfigByPath",{blockId:c.uuid,path:"is_member",value:i},{root:!0});case 5:case"end":return o.stop()}}),o)})))()},validate:function(e,t){e.rootGetters;var o=t.block,a=t.schemaVersion;return Object(L["e"])({block:o,schemaVersion:a})}},J={namespaced:!0,getters:q,mutations:$,actions:z},W=o("8619"),Q=o("af98"),Y=o("18b0"),Z=o("792f"),ee=o("192b"),te=o("1b4e"),oe=o("3411"),ae=o("f04e"),re=o("b4ec"),ce=Object(d["e"])("flow/".concat(K)),ie=Object(d["e"])("flow"),ne=Object(d["e"])("builder"),se=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){var e;Object(c["a"])(this,o);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(b["a"])(Object(n["a"])(e),"block",void 0),Object(b["a"])(Object(n["a"])(e),"flow",void 0),Object(b["a"])(Object(n["a"])(e),"showSemanticLabel",!1),Object(b["a"])(Object(n["a"])(e),"actionsList",[{id:U,name:e.trans("flow-builder.add")},{id:X,name:e.trans("flow-builder.remove")}]),Object(b["a"])(Object(n["a"])(e),"setIsMember",void 0),Object(b["a"])(Object(n["a"])(e),"handleBranchingTypeChangedToUnified",void 0),Object(b["a"])(Object(n["a"])(e),"isEditable",void 0),Object(b["a"])(Object(n["a"])(e),"block_updateConfigByPath",void 0),e}return Object(i["a"])(o,[{key:"selectedAction",get:function(){var e=this.block.config.is_member;return e?e&&Object(k["find"])(this.actionsList,{id:U})||{}:Object(k["find"])(this.actionsList,{id:X})||{}},set:function(e){this.setIsMember(e)}}]),o}(Object(g["c"])(O["a"]));Object(u["__decorate"])([Object(p["b"])()],se.prototype,"block",void 0),Object(u["__decorate"])([Object(p["b"])()],se.prototype,"flow",void 0),Object(u["__decorate"])([ce.Action],se.prototype,"setIsMember",void 0),Object(u["__decorate"])([ce.Action],se.prototype,"handleBranchingTypeChangedToUnified",void 0),Object(u["__decorate"])([ne.Getter],se.prototype,"isEditable",void 0),Object(u["__decorate"])([ie.Mutation],se.prototype,"block_updateConfigByPath",void 0),se=Object(u["__decorate"])([Object(p["a"])({components:{GenericContactPropertyEditor:re["a"],BlockNameEditor:ae["a"],BlockLabelEditor:oe["a"],BlockSemanticLabelEditor:te["a"],FirstBlockEditorButton:ee["a"],BlockId:Z["a"],GroupSelector:I,VueMultiselect:_.a,Categorization:W["a"],GroupMembershipEditor:D,BlockOutputBranchingConfig:Y["c"]}})],se);var le=se,be=Object(Q["d"])(K,J),ue=le,de=(o("1dc8"),Object(M["a"])(ue,a,r,!1,null,"79bfd758",null));t["default"]=de.exports},"1dc8":function(e,t,o){"use strict";var a=o("e88f"),r=o.n(a);r.a},"70eb":function(e,t,o){},e88f:function(e,t,o){},fb01:function(e,t,o){"use strict";var a=o("70eb"),r=o.n(a);r.a}}]);
//# sourceMappingURL=flow-builder.umd.min.4.js.map
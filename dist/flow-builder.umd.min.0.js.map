{"version":3,"sources":["webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?0295","webpack://flow-builder/./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?f5bb","webpack://flow-builder/./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?d0ef","webpack://flow-builder/./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?5fad","webpack://flow-builder/./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?5e72","webpack://flow-builder/src/components/interaction-designer/block-editors/SemanticLabelEditor.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?c393","webpack://flow-builder/./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceEditor.vue?a9b4","webpack://flow-builder/./src/components/interaction-designer/block-editors/LabelEditor.vue?258e","webpack://flow-builder/./src/components/interaction-designer/block-editors/LabelEditor.vue?dfd9","webpack://flow-builder/./src/components/interaction-designer/block-editors/LabelEditor.vue?497b","webpack://flow-builder/./src/components/interaction-designer/block-editors/LabelEditor.vue","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceEditor.vue?3ab5","webpack://flow-builder/./src/lib/mixins/FlowUploader.ts","webpack://flow-builder/./src/components/common/AudioLibrarySelector.vue?6b44","webpack://flow-builder/./src/components/common/AudioLibrarySearchField.vue?5352","webpack://flow-builder/src/components/common/AudioLibrarySearchField.vue","webpack://flow-builder/./src/components/common/AudioLibrarySearchField.vue?ee7b","webpack://flow-builder/./src/components/common/AudioLibrarySearchField.vue","webpack://flow-builder/./src/components/common/AudioLibrarySelection.vue?49da","webpack://flow-builder/./src/lib/filters/moment.js","webpack://flow-builder/src/components/common/AudioLibrarySelection.vue","webpack://flow-builder/./src/components/common/AudioLibrarySelection.vue?6f6d","webpack://flow-builder/./src/components/common/AudioLibrarySelection.vue","webpack://flow-builder/src/components/common/AudioLibrarySelector.vue","webpack://flow-builder/./src/components/common/AudioLibrarySelector.vue?7c7e","webpack://flow-builder/./src/components/common/AudioLibrarySelector.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecorder.vue?d2e6","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?8de1","webpack://flow-builder/src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?cb6f","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue","webpack://flow-builder/src/components/interaction-designer/block-editors/PhoneRecorder.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecorder.vue?f192","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecorder.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/UploadMonitor.vue?44aa","webpack://flow-builder/./src/store/trees/multimediaUpload.js","webpack://flow-builder/src/components/interaction-designer/block-editors/UploadMonitor.vue","webpack://flow-builder/./src/components/interaction-designer/block-editors/UploadMonitor.vue?3e85","webpack://flow-builder/./src/components/interaction-designer/block-editors/UploadMonitor.vue","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceEditor.vue?e48e","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceEditor.vue?d175","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceEditor.vue","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?b438","webpack://flow-builder/./src/components/common/AudioLibrarySelection.vue?e1be","webpack://flow-builder/./src/components/interaction-designer/block-editors/BlockId.vue?d729","webpack://flow-builder/./src/components/interaction-designer/block-editors/BlockId.vue?f848","webpack://flow-builder/./src/components/interaction-designer/block-editors/BlockId.vue?aafa","webpack://flow-builder/./src/components/interaction-designer/block-editors/BlockId.vue","webpack://flow-builder/./src/components/common/AudioLibrarySelection.vue?3262","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?b272","webpack://flow-builder/./src/components/interaction-designer/block-editors/UploadMonitor.vue?4e06","webpack://flow-builder/./src/components/common/AudioLibrarySearchField.vue?2231","webpack://flow-builder/./src/components/interaction-designer/block-editors/UploadMonitor.vue?01cb","webpack://flow-builder/./src/components/interaction-designer/block-editors/NameEditor.vue?1c94","webpack://flow-builder/./src/components/interaction-designer/block-editors/NameEditor.vue?6fc5","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceEditor.vue?b8e4","webpack://flow-builder/./src/components/interaction-designer/block-editors/UploadMonitor.vue?533d","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?7d50","webpack://flow-builder/src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?10f7","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue","webpack://flow-builder/./src/components/common/AudioLibrarySelection.vue?a41f","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?7a4e","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?c6bf","webpack://flow-builder/./src/components/interaction-designer/block-editors/NameEditor.vue?5d1c","webpack://flow-builder/./src/components/interaction-designer/resource-editors/ResourceEditor.vue?942e","webpack://flow-builder/./src/components/interaction-designer/block-editors/NameEditor.vue?9121","webpack://flow-builder/./src/components/interaction-designer/block-editors/NameEditor.vue?3e6d","webpack://flow-builder/./src/components/interaction-designer/block-editors/NameEditor.vue?a6ed","webpack://flow-builder/./src/components/interaction-designer/block-editors/NameEditor.vue","webpack://flow-builder/./src/components/common/AudioLibrarySearchField.vue?183a","webpack://flow-builder/./src/components/common/AudioLibrarySearchField.vue?ac95","webpack://flow-builder/./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?a50c"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","_f","class","isStartBlock","attrs","on","$event","setStartBlock","_e","staticRenderFns","flowVuexNamespace","blockId","flow","first_block_id","event","flowId","uuid","flow_setFirstBlockId","default","Mutation","component","block","scopedSlots","_u","key","fn","ref","isValid","model","value","callback","$$v","semanticLabel","expression","components","TextEditor","ValidationMessage","mixins","lang","props","type","Object","required","computed","get","semantic_label","set","block_setSemanticLabel","methods","blockLabel","emitGearClickedEvent","label","block_setLabel","$emit","Action","languages","length","_l","languageId","id","language","mode","iconsMap","toLowerCase","discoverContentTypesFor","contentType","SupportedContentType","TEXT","resource","findOrGenerateStubbedVariantOn","language_id","content_type","modes","AUDIO","availableAudio","can","findAudioResourceVariantFor","isEditable","isFeatureAudioUploadEnabled","directives","name","rawName","target","route","token","accept","handleFilesSubmittedFor","handleFileSuccessFor","preventDefault","triggerRecordViaPhoneFor","el","data","dispatchEvent","extend","Event","bubbles","cancelable","bind","binding","upload_token","uploader","singleFile","chunkSize","query","support","style","overflow","assignBrowse","chain","children","find","tagName","assign","files","e","file","json","message","unbind","selectedAudioFile","langId","clearSelection","audioFiles","selectAudioFile","isEntireLibraryModeEnabled","domProps","activate","deactivate","composing","rawQuery","resetPagination","active","toggleAudioLibrary","apply","arguments","isAudioLibraryEmpty","search","slice","offset","limit","audio","select","description","hasPrevious","hasNext","disabled","decrementPage","incrementPage","isActive","cache","console","debug","selectable","clear","_m","audioFileUrl","filters","formatDate","date","format","moment","utc","fromNow","withoutSuffix","formatDuration","duration","unit","withSuffix","currentLocale","locale","result","humanize","formatDurationLocalized","audioFile","AudioLibrarySearchField","AudioLibrarySelection","resource_setOrCreateValueModeSpecific","resourceId","filter","isRecorderSelectorVisible","handleRecorderSelectionChanged","callConfig","isModalVisible","handleModalClosed","handleModalCancelled","recorder","_q","selectedRecorder","setSelectedRecorder","phone","draft","selectNewRecorder","$set","BModal","Boolean","created","reset","isNew","PhoneRecordingRecorderSelector","$store","commit","recordingKey","dispatch","upload","progress","hasProgress","_t","Statuses","UPLOADING","UNINITIALIZED","SUCCESS","FAILURE","namespaced","state","uploadProgressByKey","errorMessageByKey","uploadsById","uploadIdsByKey","mutations","setErrorMessage","errorMessage","Vue","setUploadProgress","uploadProgress","setUploadStatusFor","fileWithRefs","status","cancel","lodash","pick","uniqueIdentifier","actions","uploadFile","uploadUrl","formDataFields","onSuccess","onError","Error","formData","FormData","forEach","config","onUploadProgress","progressEvent","Math","floor","loaded","total","axios","post","then","response","catch","error","uploadFiles","_","parseInt","JSON","parse","status_description","uploadKey","isFailure","multimediaUpload","use","builderVuexNamespace","Map","SMS","USSD","IVR","RICH_MESSAGING","OFFLINE","isVisible","audio_file_id","filename","audio_uuid","created_at","duration_seconds","extension","split","uploadedAudio","original_extension","blur","pushAudioIntoLibrary","ValidationException","Permissions","Routes","Getter","AudioLibrarySelector","ResourceVariantTextEditor","UploadMonitor","PhoneRecorder","content","locals","add","resourceVariant","toString","deselect","invisible","characterCounter","count","pages","hasUnicode","trans","modifiers","staticStyle","contentExpressionAST","location","start","line","column","String","enableAutogenButton","ast","SyntaxError","hasMembers","doesContentContainExpression","doesContentContainExpressionError","ceil","isSelected","editBlockName","filterName","blockName","block_setName","match"],"mappings":"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","file":"flow-builder.umd.min.0.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".block-text-content-editor-for-lang-and-type[data-v-77c09fef]{margin-bottom:.5em}.block-text-content-editor-for-lang-and-type .content-editor[data-v-77c09fef]{position:relative}.block-text-content-editor-for-lang-and-type .content-editor textarea[data-v-77c09fef]{height:56px}.block-text-content-editor-for-lang-and-type .content-editor input[type=text]:not(:focus)+button[data-v-77c09fef],.block-text-content-editor-for-lang-and-type .content-editor textarea:not(:focus)+button[data-v-77c09fef]{opacity:1}.block-text-content-editor-for-lang-and-type .content-editor input[type=text]+button[data-v-77c09fef],.block-text-content-editor-for-lang-and-type .content-editor textarea+button[data-v-77c09fef]{position:absolute;bottom:7px;right:10px;transition:opacity .2s ease-in-out;opacity:0}.block-text-content-editor-for-lang-and-type .content-editor-selected input[type=text][data-v-77c09fef],.block-text-content-editor-for-lang-and-type .content-editor-selected textarea[data-v-77c09fef]{background-color:#f8f8f8}.block-text-content-editor-for-lang-and-type .content-toolbar[data-v-77c09fef]{margin-top:1px}.invisible[data-v-77c09fef]{opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"starting-block-button\"},[_c('hr'),(_vm.isEditable)?[_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.options')))]),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-sm w-100\",class:{'btn-outline-primary': !_vm.isStartBlock, 'btn-primary': _vm.isStartBlock},attrs:{\"type\":\"button\",\"disabled\":_vm.isStartBlock},on:{\"click\":function($event){return _vm.setStartBlock($event)}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'enter']}}),(_vm.isStartBlock)?[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.currently-set-as-starting-block'))+\" \")]:[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.set-as-starting-block'))+\" \")]],2)])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport {namespace} from 'vuex-class'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nclass FirstBlockEditorButton extends mixins(Lang) {\n  @Prop({default: true}) readonly isEditable!: boolean\n\n  @Prop() readonly blockId!: string\n\n  @Prop() readonly flow!: IFlow\n\n  get isStartBlock(): boolean {\n    return this.blockId === this.flow.first_block_id\n  }\n\n    // @ts-ignore\n    setStartBlock(event: any) {\n      const { flow: { uuid: flowId }, blockId } = this\n      this.flow_setFirstBlockId({ flowId, blockId })\n    }\n\n  @flowVuexNamespace.Mutation flow_setFirstBlockId!: ({flowId, blockId}: { flowId: IFlow['uuid'], blockId: IBlock['uuid'] }) => void\n}\n\nexport default FirstBlockEditorButton\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FirstBlockEditorButton.vue?vue&type=template&id=ec1908c6&\"\nimport script from \"./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-message',{attrs:{\"message-key\":(\"block/\" + (_vm.block.uuid) + \"/semantic_label\")},scopedSlots:_vm._u([{key:\"input-control\",fn:function(ref){\nvar isValid = ref.isValid;\nreturn [_c('div',{staticClass:\"block-semantic-label\"},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.block-exit-semantic-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-semantic-label'),\"valid-state\":isValid},model:{value:(_vm.semanticLabel),callback:function ($$v) {_vm.semanticLabel=$$v},expression:\"semanticLabel\"}})],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <validation-message\n    #input-control=\"{ isValid }\"\n    :message-key=\"`block/${block.uuid}/semantic_label`\">\n    <div class=\"block-semantic-label\">\n      <text-editor\n        v-model=\"semanticLabel\"\n        :label=\"'flow-builder.block-exit-semantic-label' | trans\"\n        :placeholder=\"'flow-builder.enter-block-semantic-label' | trans\"\n        :valid-state=\"isValid\" />\n    </div>\n  </validation-message>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport {mapMutations} from 'vuex'\nimport {lang} from '@/lib/filters/lang'\nimport ValidationMessage from '@/components/common/ValidationMessage'\nimport TextEditor from '@/components/common/TextEditor'\n\nexport default {\n  components: {\n    TextEditor,\n    ValidationMessage,\n  },\n  mixins: [lang],\n  props: {\n    block: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    semanticLabel: {\n      get() {\n        return this.block.semantic_label || ''\n      },\n      set(value) {\n        this.block_setSemanticLabel({blockId: this.block.uuid, value})\n      },\n    },\n  },\n  methods: {\n    ...mapMutations('flow', ['block_setSemanticLabel']),\n  },\n}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemanticLabelEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemanticLabelEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SemanticLabelEditor.vue?vue&type=template&id=7cfe9eae&\"\nimport script from \"./SemanticLabelEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./SemanticLabelEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tab-content-style[data-v-dd0260a8]{background:#f4f4f4;padding:10px}.ivr-buttons[data-v-dd0260a8]{font-size:small;flex-grow:1}.custom-icons[data-v-dd0260a8]{height:1.25em;width:1.25em}.library-icons[data-v-dd0260a8]{margin-top:2px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.title')))]),_c('validation-message',{attrs:{\"message-key\":(\"block/\" + (_vm.block.uuid) + \"/label\")},scopedSlots:_vm._u([{key:\"input-control\",fn:function(ref){\nvar isValid = ref.isValid;\nreturn [_c('div',{staticClass:\"d-flex\"},[_c('text-editor',{staticClass:\"w-100\",attrs:{\"label\":'',\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-title'),\"valid-state\":isValid},model:{value:(_vm.blockLabel),callback:function ($$v) {_vm.blockLabel=$$v},expression:\"blockLabel\"}}),_c('span',{staticClass:\"btn btn-outline-primary btn-xs align-self-center ml-2\",on:{\"click\":_vm.emitGearClickedEvent}},[_c('font-awesome-icon',{staticClass:\"fa-btn text-primary\",attrs:{\"icon\":['fac', 'settings']}})],1)],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop} from 'vue-property-decorator'\nimport TextEditor from '@/components/common/TextEditor.vue'\nimport ValidationMessage from '@/components/common/ValidationMessage.vue'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({\n  components: {\n    TextEditor,\n    ValidationMessage,\n  },\n})\nclass LabelEditor extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n\n  get blockLabel(): IBlock['label'] {\n    return this.block.label\n  }\n\n  set blockLabel(value: IBlock['label']) {\n    this.block_setLabel({blockId: this.block.uuid, value})\n  }\n\n  emitGearClickedEvent(): void {\n    this.$emit('gearClicked')\n  }\n\n  @flowVuexNamespace.Action block_setLabel!: ({blockId, value}: { blockId: IBlock['uuid'], value: IBlock['label'] }) => void\n}\nexport default LabelEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LabelEditor.vue?vue&type=template&id=72facc59&\"\nimport script from \"./LabelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./LabelEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.flow.languages.length > 0)?_c('div',{staticClass:\"resource-editor\"},[_c('hr'),(_vm.label)?_c('h4',[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e(),_c('div',[_c('b-tabs',_vm._l((_vm.flow.languages),function(ref){\nvar languageId = ref.id;\nvar language = ref.label;\nreturn _c('b-tab',{key:languageId,attrs:{\"title\":_vm._f(\"trans\")(language || 'flow-builder.unknown-language'),\"active\":\"\"}},_vm._l((_vm.flow.supported_modes),function(mode,i){return _c('div',{key:i,staticClass:\"tab-content-style\"},[_c('header',{staticClass:\"d-flex\"},[(_vm.iconsMap.get(mode))?_c('font-awesome-icon',{class:{'custom-icons': _vm.iconsMap.get(mode)[0] === 'fac', 'library-icons': _vm.iconsMap.get(mode)[0] !== 'fac'},attrs:{\"icon\":_vm.iconsMap.get(mode)}}):_vm._e(),_c('h6',{staticClass:\"ml-1\"},[_vm._v(_vm._s(_vm._f(\"trans\")((\"flow-builder.\" + (mode.toLowerCase()) + \"-content\"))))])],1),_vm._l((_vm.discoverContentTypesFor(mode)),function(contentType){return [(contentType === _vm.SupportedContentType.TEXT)?_c('resource-variant-text-editor',{attrs:{\"resource-id\":_vm.resource.uuid,\"resource-variant\":_vm.findOrGenerateStubbedVariantOn(\n                _vm.resource,\n                {language_id: languageId, content_type: contentType, modes: [mode]}),\"mode\":mode,\"enable-autogen-button\":true || _vm.enableAutogenButton}}):_vm._e(),(contentType === _vm.SupportedContentType.AUDIO)?_c('div',[_c('audio-library-selector',{attrs:{\"audio-files\":_vm.availableAudio,\"lang-id\":languageId,\"resource-id\":_vm.resource.uuid,\"selected-audio-file\":_vm.findOrGenerateStubbedVariantOn(\n                  _vm.resource,\n                  {language_id: languageId, content_type: contentType, modes: [mode]}).value}}),(_vm.can(['edit-content', 'send-call-to-records'], true) && !_vm.findOrGenerateStubbedVariantOn(_vm.resource,{language_id: languageId, content_type: contentType, modes: [mode]}).value)?_c('phone-recorder',{attrs:{\"recording-key\":((_vm.block.uuid) + \":\" + languageId)}}):_vm._e(),(!_vm.findAudioResourceVariantFor(_vm.resource, {language_id: languageId, content_type: contentType, modes: [mode]}))?[_c('upload-monitor',{attrs:{\"upload-key\":((_vm.block.uuid) + \":\" + languageId)}}),_c('div',{staticClass:\"d-flex mt-2\"},[(_vm.isEditable && _vm.isFeatureAudioUploadEnabled)?_c('button',{directives:[{name:\"flow-uploader\",rawName:\"v-flow-uploader\",value:({\n                      target: _vm.route('trees.resumeableAudioUpload'),\n                      token: (\"\" + (_vm.block.uuid) + languageId),\n                      accept: 'audio/*'}),expression:\"{\\n                      target: route('trees.resumeableAudioUpload'),\\n                      token: `${block.uuid}${languageId}`,\\n                      accept: 'audio/*'}\"}],staticClass:\"btn btn-primary ivr-buttons\",on:{\"filesSubmitted\":function($event){return _vm.handleFilesSubmittedFor(((_vm.block.uuid) + \":\" + languageId), $event)},\"fileSuccess\":function($event){return _vm.handleFileSuccessFor(((_vm.block.uuid) + \":\" + languageId), languageId, $event)}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'upload']}}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.upload-audio'))+\" \")],1):_vm._e(),(_vm.can(['edit-content', 'send-call-to-records'], true) && _vm.isFeatureAudioUploadEnabled)?_c('button',{staticClass:\"btn btn-primary ivr-buttons ml-2\",on:{\"click\":function($event){$event.preventDefault();return _vm.triggerRecordViaPhoneFor(languageId)}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'record-audio']}}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.record-audio'))+\" \")],1):_vm._e()])]:_vm._e()],2):_vm._e()]})],2)}),0)}),1)],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Flow from '@flowjs/flow.js'\nimport lodash from 'lodash'\nimport Component from 'vue-class-component'\n\nconst dispatch = (el: any, name: string, data: any) => {\n  el.dispatchEvent(lodash.extend(new Event(name, {\n    bubbles: true,\n    cancelable: true,\n  }), {data}))\n}\n\n@Component({\n  directives: {\n    'flow-uploader': {\n      /**\n       * This binding provides a bridge between Flow and vuejs such that we can continue using our resumable backend\n       */\n      bind(el, binding) {\n        const {\n          accept,\n          target,\n          token: upload_token,\n        } = binding.value\n        const uploader = new Flow({\n          target,\n          singleFile: true,\n          // kbytes, chunked?  \\_()_/\n          chunkSize: 1024 * 512,\n          query: {upload_token},\n        })\n\n        if (!uploader.support) {\n          // Your browser doesn't support HTML5 uploads; please try Firefox or Chrome.\n          return\n        }\n\n        lodash.extend(el.style, {overflow: 'hidden'})\n        uploader.assignBrowse(el)\n\n        lodash.chain(el.children)\n          .find({\n            tagName: 'INPUT',\n            type: 'file',\n          } as any)\n          .assign({accept})\n          .value()\n\n        // todo: migrate to proxied catch-all handler (voto5 legacy todo)\n        // uploader.on('catchAll', (name, file/*or files*/, e) => console.debug(name))\n\n        // todo: when do we call upload on a multiselect-upload and file-added triggered multiple times? (voto5 legacy todo)\n        // uploader.upload()\n        // uploader.on('fileAdded', (file, e) => dispatch(el, 'filesSubmitted', {file, uploader}))\n        // @ts-ignore\n        uploader.on('filesSubmitted', (files: any, e: any) => dispatch(el, 'filesSubmitted', {\n          files,\n          uploader,\n          // uploader.upload()\n        }))\n        // @ts-ignore\n        uploader.on('fileProgress', (file: any, e: any) => dispatch(el, 'fileProgress', {\n          file,\n          uploader,\n        }))\n        uploader.on('fileSuccess', (file: any, json: any) => dispatch(el, 'fileSuccess', {\n          file,\n          uploader,\n          json,\n          // uploader.cancel()\n        }))\n        uploader.on('error', (message: string, file: any) => dispatch(el, 'fileSuccess', {\n          file,\n          uploader,\n          message,\n          // uploader.cancel()\n        }))\n      },\n\n      // @ts-ignore\n      unbind(el, binding) {\n      },\n    },\n  },\n})\nexport default class FlowUploader extends Vue {\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audio-library-selector\"},[(_vm.selectedAudioFile)?_c('audio-library-selection',{attrs:{\"audio-file\":_vm.selectedAudioFile,\"lang-id\":_vm.langId},on:{\"clear\":_vm.clearSelection}}):[_c('audio-library-search-field',{attrs:{\"lang-id\":_vm.langId,\"audio-files\":_vm.audioFiles},on:{\"select\":_vm.selectAudioFile}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audio-library-search-field dropdown\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rawQuery),expression:\"rawQuery\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.search-audio-library'),\"disabled\":_vm.isEntireLibraryModeEnabled},domProps:{\"value\":(_vm.rawQuery)},on:{\"focus\":_vm.activate,\"blur\":_vm.deactivate,\"input\":[function($event){if($event.target.composing){ return; }_vm.rawQuery=$event.target.value},_vm.resetPagination]}}),_c('span',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary dropdown-toggle\",class:{active: _vm.isEntireLibraryModeEnabled},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleAudioLibrary.apply(null, arguments)}}},[_c('i',{staticClass:\"glyphicon glyphicon-search\"})])])]),(_vm.query || _vm.isAudioLibraryEmpty || _vm.isEntireLibraryModeEnabled)?_c('div',{staticClass:\"dropdown-menu\"},[(_vm.isEntireLibraryModeEnabled)?[_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('button',{staticClass:\"close active\",on:{\"click\":_vm.toggleAudioLibrary}},[_vm._v(\"x \")]),_c('i',{staticClass:\"glyphicon glyphicon-info-sign\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.showing-entire-audio-library'))+\" \")]),_c('div',{staticClass:\"dropdown-divider\",attrs:{\"role\":\"separator\"}})]:_vm._e(),(!_vm.isAudioLibraryEmpty)?[_vm._l((_vm.search(_vm.query).slice(_vm.offset * _vm.limit, (_vm.offset + 1) * _vm.limit)),function(audio){return _c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.select(audio)}}},[_vm._v(\" \"+_vm._s(audio.description)+\" \")])}),(_vm.query.length >= 3 && !_vm.search(_vm.query).length)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.no-audio-files-found-for-X'))+\" \\\"\"),_c('em',[_vm._v(_vm._s(_vm.query))]),_vm._v(\"\\\". \")]):_vm._e(),(_vm.query && _vm.query.length < 3)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.enter-at-least-three-chars'))+\" \")]):_vm._e(),(_vm.hasPrevious || _vm.hasNext)?[_c('div',{staticClass:\"dropdown-divider\",attrs:{\"role\":\"separator\"}}),_c('div',{staticClass:\"pagers dropdown-item\"},[_c('a',{staticClass:\"col-md-6\",class:{disabled: !_vm.hasPrevious},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.decrementPage.apply(null, arguments)}}},[_c('i',{staticClass:\"glyphicon glyphicon-chevron-left\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.previous'))+\" \")]),_c('a',{staticClass:\"col-md-6 text-right\",class:{disabled: !_vm.hasNext},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.incrementPage.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.next'))+\" \"),_c('i',{staticClass:\"glyphicon glyphicon-chevron-right\"})])])]:_vm._e()]:_vm._e(),(_vm.isAudioLibraryEmpty)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('i',{staticClass:\"glyphicon glyphicon-warning-sign\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.audio-lib-empty-for-this-org'))+\" \")]):_vm._e()],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"audio-library-search-field dropdown\">\n    <div class=\"input-group\">\n      <input\n        v-model=\"rawQuery\"\n        type=\"text\"\n        :placeholder=\"'flow-builder.search-audio-library' | trans\"\n        :disabled=\"isEntireLibraryModeEnabled\"\n        class=\"form-control\"\n        @focus=\"activate\"\n        @blur=\"deactivate\"\n        @input=\"resetPagination\">\n\n      <span class=\"input-group-append\">\n        <button\n          :class=\"{active: isEntireLibraryModeEnabled}\"\n          class=\"btn btn-primary dropdown-toggle\"\n          @click.prevent=\"toggleAudioLibrary\">\n          <i class=\"glyphicon glyphicon-search\" />\n        </button>\n      </span>\n    </div>\n\n    <div\n      v-if=\"query || isAudioLibraryEmpty || isEntireLibraryModeEnabled\"\n      class=\"dropdown-menu\">\n      <template v-if=\"isEntireLibraryModeEnabled\">\n        <a\n          href=\"#\"\n          class=\"disabled dropdown-item\"\n          @click.prevent=\"\">\n          <button\n            class=\"close active\"\n            @click=\"toggleAudioLibrary\">x\n          </button>\n\n          <i class=\"glyphicon glyphicon-info-sign\" />\n          {{ 'flow-builder.showing-entire-audio-library'|trans }}&hellip;\n        </a>\n        <div\n          role=\"separator\"\n          class=\"dropdown-divider\" />\n      </template>\n\n      <template v-if=\"!isAudioLibraryEmpty\">\n        <a\n          v-for=\"audio in search(query).slice(offset * limit, (offset + 1) * limit)\"\n          class=\"dropdown-item\"\n          href=\"#\"\n          @click.prevent=\"select(audio)\">\n          {{ audio.description }}\n        </a>\n        <a\n          v-if=\"query.length >= 3 && !search(query).length\"\n          class=\"disabled dropdown-item\"\n          href=\"#\"\n          @click.prevent=\"\">\n          {{ 'flow-builder.no-audio-files-found-for-X' | trans }} \"<em>{{ query }}</em>\".\n        </a>\n        <a\n          v-if=\"query && query.length < 3\"\n          class=\"disabled dropdown-item\"\n          href=\"#\"\n          @click.prevent=\"\">\n          {{ 'flow-builder.enter-at-least-three-chars' | trans }}\n        </a>\n\n        <template v-if=\"hasPrevious || hasNext\">\n          <div\n            role=\"separator\"\n            class=\"dropdown-divider\" />\n\n          <div class=\"pagers dropdown-item\">\n            <a\n              href=\"#\"\n              :class=\"{disabled: !hasPrevious}\"\n              class=\"col-md-6\"\n              @click.prevent=\"decrementPage\">\n              <i class=\"glyphicon glyphicon-chevron-left\" />\n              {{ 'flow-builder.previous' | trans }}\n            </a>\n\n            <a\n              href=\"#\"\n              :class=\"{disabled: !hasNext}\"\n              class=\"col-md-6 text-right\"\n              @click.prevent=\"incrementPage\">\n              {{ 'flow-builder.next' | trans }}\n              <i class=\"glyphicon glyphicon-chevron-right\" />\n            </a>\n          </div>\n        </template>\n      </template>\n\n      <a\n        v-if=\"isAudioLibraryEmpty\"\n        class=\"disabled dropdown-item\"\n        href=\"#\"\n        @click.prevent=\"\">\n        <i class=\"glyphicon glyphicon-warning-sign\" />\n        {{ 'flow-builder.audio-lib-empty-for-this-org' | trans }}\n      </a>\n    </div>\n  </div>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport fuse from 'fuse.js'\nimport {trim} from 'lodash'\nimport VueFocus from 'vue-focus'\nimport {lang} from '@/lib/filters/lang'\n\nexport default {\n  mixins: [VueFocus.mixin, lang],\n  props: ['langId', 'audioFiles'],\n\n  data() {\n    return {\n      isActive: false,\n\n      // querying\n      rawQuery: '',\n      cache: {},\n      isEntireLibraryModeEnabled: false,\n\n      // pagination\n      offset: 0,\n      limit: 10,\n    }\n  },\n\n  computed: {\n    query() {\n      return trim(this.rawQuery)\n    },\n\n    isAudioLibraryEmpty() {\n      return this.isActive && !this.audioFiles.length\n    },\n\n    hasNext() {\n      return (this.search(this.query).length / (this.offset + 1)) > this.limit\n    },\n\n    hasPrevious() {\n      return this.offset > 0\n    },\n  },\n\n  methods: {\n    search(query) {\n      if (this.isEntireLibraryModeEnabled) {\n        return this.audioFiles\n      }\n\n      if (query.length < 3) {\n        return []\n      }\n\n      console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'searching', query)\n\n      if (query in this.cache) {\n        console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'cache hit', query)\n        return this.cache[query]\n      }\n\n      console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'cache miss', query)\n\n      const keys = ['filename', 'description']\n      this.cache[query] = new fuse(this.audioFiles, {keys}).search(query)\n      return this.cache[query]\n    },\n\n    // todo: push pagination into isolated component\n    incrementPage() {\n      if (this.hasNext) {\n        this.offset += 1\n      }\n    },\n\n    decrementPage() {\n      if (this.hasPrevious) {\n        (this.offset -= 1)\n      }\n    },\n\n    resetPagination() {\n      this.offset = 0\n    },\n\n    toggleAudioLibrary() {\n      this.isEntireLibraryModeEnabled = !this.isEntireLibraryModeEnabled\n      this.resetPagination()\n    },\n\n    select(audio) {\n      this.$emit('select', {value: audio, langId: this.langId})\n    },\n\n    activate() {\n      this.isActive = true\n    },\n\n    deactivate() {\n      this.isActive = false\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.audio-library-search-field {\n  &.dropdown {\n    .dropdown-menu {\n      display: block;\n      min-width: 100%;\n\n      > li.pagers > a {\n        clear: none;\n        margin-top: 0;\n        margin-bottom: 0;\n        padding-top: 0.5em;\n        padding-bottom: 0.5em;\n\n        &.disabled {\n          text-decoration: none;\n          background-color: transparent;\n          background-image: none;\n          filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n          cursor: not-allowed;\n          color: #777777;\n        }\n      }\n    }\n  }\n}\n\n.close {\n  pointer-events: auto;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySearchField.vue?vue&type=template&id=22499358&scoped=true&\"\nimport script from \"./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySearchField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AudioLibrarySearchField.vue?vue&type=style&index=0&id=22499358&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22499358\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"well well-sm audio-library-selection\",class:{\n    'tree-audio-control-text-container-selectable': _vm.selectable,\n    'tree-audio-control-text-container-selected': !_vm.selectable},attrs:{\"data-audio-file-container-language\":_vm.langId}},[_c('button',{staticClass:\"audio-library-selection-clear-selection btn-ghost pull-right\",on:{\"click\":function($event){$event.preventDefault();return _vm.clear.apply(null, arguments)}}},[_c('i',{staticClass:\"glyphicon glyphicon-remove\"})]),_c('div',{staticClass:\"btn-group audio-library-selection-download-dropdown\"},[_vm._m(0),_c('ul',{staticClass:\"dropdown-menu dropdown-menu-right\"},[_c('li',[_c('a',{staticClass:\"tree-block-audio-files-download-original\",attrs:{\"href\":_vm.audioFileUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.original-file')))])])])]),_c('p',{staticClass:\"audio-file-description\",attrs:{\"title\":_vm.audioFileUrl}},[_vm._v(\" \"+_vm._s(_vm.audioFileUrl)+\" \")]),_c('div',{staticClass:\"btn-toolbar\"},[(_vm.selectable)?_c('button',{staticClass:\"btn btn-secondary btn-xs\",on:{\"click\":function($event){$event.preventDefault();return _vm.select.apply(null, arguments)}}},[_c('i',{staticClass:\"glyphicon glyphicon-ok\"})]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-ghost dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"glyphicon glyphicon-download-alt\",attrs:{\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"caret\"})])}]\n\nexport { render, staticRenderFns }","import moment from 'moment'\n\nexport default {\n  filters: {\n    formatDate(date, format = 'llll') {\n      if (!date) {\n        return ''\n      }\n      return moment.utc(date)\n        .format(format)\n    },\n\n    fromNow(date, withoutSuffix) {\n      return moment.utc(date)\n        .fromNow(withoutSuffix)\n    },\n\n    formatDuration(duration, unit = 'seconds', withSuffix) {\n      const currentLocale = moment.locale()\n      // this function only gets used in english.\n      moment.locale('en')\n      const result = moment.duration(duration, unit)\n        .humanize(withSuffix)\n      moment.locale(currentLocale)\n      return result\n    },\n\n    formatDurationLocalized(duration, locale, unit = 'seconds', withSuffix) {\n      const currentLocale = moment.locale()\n      moment.locale(locale)\n      const result = moment.duration(duration, unit)\n        .humanize(withSuffix)\n      moment.locale(currentLocale)\n      return result\n    },\n  },\n}\n","<template>\n  <div\n    class=\"well well-sm audio-library-selection\"\n    :data-audio-file-container-language=\"langId\"\n    :class=\"{\n      'tree-audio-control-text-container-selectable': selectable,\n      'tree-audio-control-text-container-selected': !selectable}\">\n    <button\n      class=\"audio-library-selection-clear-selection btn-ghost pull-right\"\n      @click.prevent=\"clear\">\n      <i class=\"glyphicon glyphicon-remove\" />\n    </button>\n\n    <div class=\"btn-group audio-library-selection-download-dropdown\">\n      <button\n        type=\"button\"\n        class=\"btn btn-ghost dropdown-toggle\"\n        data-toggle=\"dropdown\">\n        <span\n          class=\"glyphicon glyphicon-download-alt\"\n          aria-hidden=\"true\" />\n        <span class=\"caret\" />\n      </button>\n\n      <ul class=\"dropdown-menu dropdown-menu-right\">\n        <li>\n          <a\n            :href=\"audioFileUrl\"\n            target=\"_blank\"\n            class=\"tree-block-audio-files-download-original\">{{ 'flow-builder.original-file'|trans }}</a>\n        </li>\n\n        <!-- <li><a :href=\"`/audiofiles/download/${audioFile.filename}/ogg`\" target=\"_blank\" class=\"tree-block-audio-files-download-ogg\">{{'flow-builder.download-X-format'|trans({kind: '.ogg'})}}</a></li>\n        <li><a :href=\"`/audiofiles/download/${audioFile.filename}/ul`\" target=\"_blank\" class=\"tree-block-audio-files-download-ul\">{{'flow-builder.download-X-format'|trans({kind: '.ul'})}}</a></li> -->\n      </ul>\n    </div>\n\n    <p\n      class=\"audio-file-description\"\n      :title=\"audioFileUrl\">\n      {{ audioFileUrl }}\n    </p>\n\n    <div class=\"btn-toolbar\">\n      <!--      <vue-audio :file=\"audioFileUrl\"></vue-audio>-->\n\n      <button\n        v-if=\"selectable\"\n        class=\"btn btn-secondary btn-xs\"\n        @click.prevent=\"select\">\n        <i class=\"glyphicon glyphicon-ok\" />\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport {lang} from '@/lib/filters/lang'\nimport momentFilters from '@/lib/filters/moment'\n\nexport default {\n\n  mixins: [lang, momentFilters],\n  props: ['audioFile', 'selected', 'selectable', 'langId'],\n\n  computed: {\n    audioFileUrl() {\n      return this.audioFile\n    },\n  },\n\n  methods: {\n    select() {\n      this.$emit('select')\n    },\n\n    clear() {\n      this.$emit('clear')\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.btn-ghost {\n  background: transparent;\n  border: none;\n}\n\n.audio-library-selection {\n  position: relative;\n  background-color: transparent !important;\n  background-image: none !important;\n  border-color: #cccccc !important;\n\n  .audio-library-selection-download-dropdown {\n    position: absolute;\n    right: 1.6em;\n    top: 50%;\n    margin-top: -8px;\n    color: #888888;\n\n    svg {\n      vertical-align: middle;\n    }\n  }\n\n  .audio-library-selection-clear-selection {\n    margin-right: -7px;\n  }\n\n  .audio-file-description {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    margin-bottom: 3px;\n  }\n\n  .vue-sound-wrapper {\n    margin-bottom: 8px;\n    margin-left: 1em;\n\n    .vue-sound__player {\n      .icon-play3, .icon-pause2 {\n        font-size: 130%;\n        color: #888888;\n      }\n\n      .icon-play3:hover, .icon-pause2:hover {\n        color: black;\n        text-decoration: none;\n      }\n\n      .icon-stop2, .icon-download, .icon-volume-high, .volume-toggle {\n        display: none !important;\n      }\n\n      .vue-sound__playback-time-current, .vue-sound__playback-time-total, .vue-sound__playback-time-separator {\n        font-size: 80%;\n        color: #888888;\n      }\n\n      .vue-sound__playback-time-wrapper {\n        text-align: center;\n        width: 71% !important;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySelection.vue?vue&type=template&id=3c1ce0a2&\"\nimport script from \"./AudioLibrarySelection.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySelection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"audio-library-selector\">\n    <audio-library-selection\n      v-if=\"selectedAudioFile\"\n      :audio-file=\"selectedAudioFile\"\n      :lang-id=\"langId\"\n      @clear=\"clearSelection\" />\n\n    <template v-else>\n      <!-- todo: refactor audio-library-selection to use v-model's @input + :value -->\n      <!-- <audio-library-selection\n          v-for=\"audioFile in alternateSelections\"\n          :key=\"audioFile && audioFile.id\"\n          :audioFile=\"audioFile\"\n          :selectable=\"selectable\"\n          @select=\"selectAudioFile({value: audioFile, langId})\" /> -->\n\n      <!-- todo: refactor audio-library-search-field to use v-model's @input + :value -->\n      <audio-library-search-field\n        :lang-id=\"langId\"\n        :audio-files=\"audioFiles\"\n        @select=\"selectAudioFile\" />\n    </template>\n  </div>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport {isEmpty} from 'lodash'\nimport {mapActions} from 'vuex'\nimport {SupportedContentType, SupportedMode} from '@floip/flow-runner'\nimport AudioLibrarySearchField from './AudioLibrarySearchField'\nimport AudioLibrarySelection from './AudioLibrarySelection'\n\nexport default {\n\n  components: {\n    AudioLibrarySearchField,\n    AudioLibrarySelection,\n  },\n  props: [\n    'alternateSelections',\n    'selectedAudioFile',\n    'langId',\n    'audioFiles',\n    'isPlaying',\n    'audioPlayerUrl',\n    'resourceId',\n  ],\n\n  computed: {\n    selectable() {\n      return !isEmpty(this.alternateSelections)\n    },\n  },\n\n  methods: {\n    ...mapActions('flow', ['resource_setOrCreateValueModeSpecific']),\n    clearSelection() {\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resourceId,\n        filter: {language_id: this.langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR]},\n        value: '',\n      })\n    },\n    selectAudioFile({value, langId}) {\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resourceId,\n        filter: {language_id: langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR]},\n        value: value.description,\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySelector.vue?vue&type=template&id=75ccf3c2&\"\nimport script from \"./AudioLibrarySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isFeatureCallToRecordEnabled)?_c('div',{staticClass:\"phone-recorder\"},[_c('phone-recording-recorder-selector',{attrs:{\"is-modal-visible\":_vm.isRecorderSelectorVisible},on:{\"input\":_vm.handleRecorderSelectionChanged},model:{value:(_vm.callConfig),callback:function ($$v) {_vm.callConfig=$$v},expression:\"callConfig\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{staticClass:\"phone-recording-recorder-selector\",attrs:{\"size\":\"lg\",\"no-close-on-backdrop\":\"\",\"no-close-on-esc\":\"\",\"title\":_vm._f(\"trans\")('flow-builder.select-a-caller-from-the-list-below'),\"visible\":_vm.isModalVisible,\"ok-title\":_vm._f(\"trans\")('flow-builder.call-this-phone-number'),\"cancel-title\":_vm._f(\"trans\")('flow-builder.close')},on:{\"ok\":_vm.handleModalClosed,\"cancel\":_vm.handleModalCancelled,\"close\":_vm.handleModalCancelled}},[_c('div',{staticClass:\"call-to-record-modal-table-container\"},[_c('table',{staticClass:\"table table-striped\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"recorder-selector-field\"}),_c('th',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.name')))]),_c('th',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.phone-number')))])])]),_c('tbody',{attrs:{\"id\":\"call-to-record-modal-list\"}},_vm._l((_vm.recorders),function(recorder){return _c('tr',{staticClass:\"call-to-record-item\"},[_c('td',{staticClass:\"recorder-selector-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRecorder),expression:\"selectedRecorder\"}],attrs:{\"id\":(\"call-to-record-caller-\" + (recorder.id)),\"type\":\"radio\",\"x-name\":\"calltorecord_caller_select\"},domProps:{\"value\":recorder,\"checked\":_vm._q(_vm.selectedRecorder,recorder)},on:{\"change\":function($event){_vm.selectedRecorder=recorder}}})]),_c('td',[_c('label',{attrs:{\"for\":(\"call-to-record-caller-\" + (recorder.id))},on:{\"click\":function($event){return _vm.setSelectedRecorder(recorder)}}},[_vm._v(_vm._s(recorder.name))])]),_c('td',[_c('label',{attrs:{\"for\":(\"call-to-record-caller-\" + (recorder.id))},on:{\"click\":function($event){return _vm.setSelectedRecorder(recorder)}}},[_vm._v(_vm._s(recorder.phone))])])])}),0)]),_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.add-a-description-to-this-recording')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"rows\":\"2\",\"placeholder\":_vm._f(\"trans\")('flow-builder.optional-description')},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}}),_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.add-a-new-recorder')))]),_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',{staticClass:\"recorder-selector-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRecorder),expression:\"selectedRecorder\"}],attrs:{\"id\":\"new_recorder_radio\",\"type\":\"radio\",\"name\":\"calltorecord_caller_select\"},domProps:{\"value\":_vm.draft,\"checked\":_vm._q(_vm.selectedRecorder,_vm.draft)},on:{\"change\":function($event){_vm.selectedRecorder=_vm.draft}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.draft.name),expression:\"draft.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.name')},domProps:{\"value\":(_vm.draft.name)},on:{\"click\":_vm.selectNewRecorder,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.draft, \"name\", $event.target.value)}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.draft.phone),expression:\"draft.phone\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.phone-number')},domProps:{\"value\":(_vm.draft.phone)},on:{\"click\":_vm.selectNewRecorder,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.draft, \"phone\", $event.target.value)}}})])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal\n    size=\"lg\"\n    class=\"phone-recording-recorder-selector\"\n    no-close-on-backdrop\n    no-close-on-esc\n    :title=\"'flow-builder.select-a-caller-from-the-list-below'|trans\"\n    :visible=\"isModalVisible\"\n    :ok-title=\"'flow-builder.call-this-phone-number'|trans\"\n    :cancel-title=\"'flow-builder.close'|trans\"\n    @ok=\"handleModalClosed\"\n    @cancel=\"handleModalCancelled\"\n    @close=\"handleModalCancelled\">\n    <div class=\"call-to-record-modal-table-container\">\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th class=\"recorder-selector-field\" />\n            <th>{{ 'flow-builder.name'|trans }}</th>\n            <th>{{ 'flow-builder.phone-number'|trans }}</th>\n          </tr>\n        </thead>\n        <tbody id=\"call-to-record-modal-list\">\n          <tr\n            v-for=\"recorder in recorders\"\n            class=\"call-to-record-item\">\n            <td class=\"recorder-selector-field\">\n              <input\n                :id=\"`call-to-record-caller-${recorder.id}`\"\n                v-model=\"selectedRecorder\"\n                type=\"radio\"\n                x-name=\"calltorecord_caller_select\"\n                :value=\"recorder\">\n            </td>\n            <td>\n              <label\n                :for=\"`call-to-record-caller-${recorder.id}`\"\n                @click=\"setSelectedRecorder(recorder)\">{{ recorder.name }}</label>\n            </td>\n            <td>\n              <label\n                :for=\"`call-to-record-caller-${recorder.id}`\"\n                @click=\"setSelectedRecorder(recorder)\">{{ recorder.phone }}</label>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <h4>{{ 'flow-builder.add-a-description-to-this-recording'|trans }}</h4>\n      <input\n        v-model=\"description\"\n        type=\"text\"\n        class=\"form-control\"\n        rows=\"2\"\n        :placeholder=\"'flow-builder.optional-description'|trans\">\n\n      <h4>{{ 'flow-builder.add-a-new-recorder'|trans }}</h4>\n      <table class=\"table\">\n        <tbody>\n          <tr>\n            <td class=\"recorder-selector-field\">\n              <input\n                id=\"new_recorder_radio\"\n                v-model=\"selectedRecorder\"\n                type=\"radio\"\n                name=\"calltorecord_caller_select\"\n                :value=\"draft\">\n            </td>\n            <td>\n              <input\n                v-model=\"draft.name\"\n                type=\"text\"\n                :placeholder=\"'flow-builder.name'|trans\"\n                class=\"form-control\"\n                @click=\"selectNewRecorder\">\n            </td>\n            <td>\n              <input\n                v-model=\"draft.phone\"\n                type=\"text\"\n                :placeholder=\"'flow-builder.phone-number'|trans\"\n                class=\"form-control\"\n                @click=\"selectNewRecorder\">\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </b-modal>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport {lang} from '@/lib/filters/lang'\nimport {clone} from 'lodash'\nimport {mapState} from 'vuex'\nimport {BModal} from 'bootstrap-vue'\n\nexport default {\n  components: {\n    BModal,\n  },\n\n  mixins: [lang],\n\n  props: {\n    isModalVisible: Boolean,\n  },\n\n  data() {\n    return {\n      selectedRecorder: null,\n      description: null,\n      draft: null,\n    }\n  },\n\n  created() {\n    this.reset()\n  },\n\n  computed: {\n    ...mapState({\n      recorders: ({audio: {recording: {recorders}}}) => recorders,\n    }),\n  },\n\n  methods: {\n    selectNewRecorder() {\n      this.draft.isNew = true\n      this.selectedRecorder = this.draft\n    },\n    setSelectedRecorder(recorder) {\n      this.selectedRecorder = recorder\n    },\n    reset() {\n      this.draft = {\n        name: null,\n        phone: null,\n        isNew: true,\n      }\n      this.description = null\n      this.selectedRecorder = null\n    },\n\n    handleModalClosed() {\n      const\n        {description} = this\n      const value = clone(this.selectedRecorder)\n\n      this.reset()\n      this.$emit('input', {\n        value,\n        recorder: value,\n        description,\n      })\n    },\n\n    handleModalCancelled() {\n      this.reset()\n\n      const\n        {description} = this\n      const value = clone(this.selectedRecorder)\n\n      this.$emit('input', {\n        value,\n        recorder: value,\n        description,\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.phone-recording-recorder-selector {\n  padding-top: 3em;\n\n  .modal-body {\n    h4, .h4 {\n      margin-top: 2em;\n    }\n  }\n\n  .table {\n    .recorder-selector-field {\n      width: 3em;\n      text-align: center;\n      vertical-align: middle;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhoneRecordingRecorderSelector.vue?vue&type=template&id=41756c06&scoped=true&\"\nimport script from \"./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=41756c06&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41756c06\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    v-if=\"isFeatureCallToRecordEnabled\"\n    class=\"phone-recorder\">\n    <phone-recording-recorder-selector\n      v-model=\"callConfig\"\n      :is-modal-visible=\"isRecorderSelectorVisible\"\n      @input=\"handleRecorderSelectionChanged\" />\n  </div>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport {mapGetters, mapState} from 'vuex'\nimport PhoneRecordingRecorderSelector from './PhoneRecordingRecorderSelector'\n\nexport default {\n  components: {\n    PhoneRecordingRecorderSelector,\n  },\n\n  props: ['recordingKey'],\n\n  data() {\n    return {\n      // this is set by hooking into the v-model property of <phone-recording-recorder-selector v-model=\"callConfig\">\n      // which $emits a new value that results in setting this variable by reference.\n      callConfig: null,\n    }\n  },\n\n  computed: {\n    ...mapState({\n      // todo: deprecate (this + setAudioRecordingConfigVisibilityForSelectedBlock) in favor of modal + local state\n      isRecorderSelectorVisible: ({audio: {recording: {isRecorderSelectorVisible}}}) => isRecorderSelectorVisible,\n    }),\n\n    ...mapGetters(['isFeatureCallToRecordEnabled']),\n  },\n\n  methods: {\n    handleRecorderSelectionChanged() {\n      this.$store.commit('setAudioRecordingConfigVisibilityForSelectedBlock', {isVisible: false})\n\n      if (!this.callConfig.recorder) {\n        return\n      }\n\n      const callConfig = {\n        key: this.recordingKey,\n        description: this.callConfig.description,\n        ...this.callConfig.recorder,\n      }\n\n      this.$store.dispatch('startAudioRecordingFor', callConfig)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhoneRecorder.vue?vue&type=template&id=79dcd652&\"\nimport script from \"./PhoneRecorder.vue?vue&type=script&lang=js&\"\nexport * from \"./PhoneRecorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-monitor\"},[(_vm.hasProgress)?_c('div',{staticClass:\"upload-monitor-progress\"},[_c('h6',[_vm._v(_vm._s(_vm._f(\"trans\")('trees.uploading'))+\" \"+_vm._s(_vm.upload.file.name))]),_c('div',{staticClass:\"progress\"},[_c('b-progress',{staticClass:\"mb-3\",attrs:{\"value\":_vm.progress * 1,\"show-value\":\"\",\"animated\":\"\"}})],1)]):_vm._e(),(_vm.isFailure)?_c('p',{staticClass:\"text-danger small\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('trees.error-uploading-file-try-again'))+\" \"),(_vm.upload.message)?_c('span',{staticClass:\"details\"},[_vm._v(\"(\"+_vm._s(_vm.upload.message)+\")\")]):_vm._e()]):_vm._e(),(!_vm.hasProgress)?_vm._t(\"default\"):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\nimport lodash from 'lodash'\nimport Vue from 'vue'\n\nexport const Statuses = {\n  UPLOADING: -1,\n  UNINITIALIZED: 0,\n  SUCCESS: 1,\n  FAILURE: 2,\n}\n\nexport const UploadStatusToStateMap = {\n  [Statuses.UPLOADING]: 'uploading',\n  [Statuses.UNINITIALIZED]: 'uninitialized',\n  [Statuses.SUCCESS]: 'success',\n  [Statuses.FAILURE]: 'failure',\n}\n\nexport default {\n  namespaced: true,\n\n  state: {\n    uploadProgressByKey: {},\n    errorMessageByKey: {},\n\n    uploadsById: {},\n    uploadIdsByKey: {},\n  },\n\n  mutations: {\n    setErrorMessage({errorMessageByKey}, {key, errorMessage}) {\n      Vue.set(errorMessageByKey, key, errorMessage)\n    },\n\n    setUploadProgress({uploadProgressByKey}, {key, uploadProgress}) {\n      Vue.set(uploadProgressByKey, key, uploadProgress)\n    },\n\n    setUploadStatusFor({uploadsById, uploadIdsByKey}, {\n      file: fileWithRefs, key, status, progress, message, cancel,\n    }) {\n      const file = lodash.pick(\n        fileWithRefs,\n        ['averageSpeed', 'currentSpeed', 'error', 'name', 'paused', 'relativePath', 'size', 'uniqueIdentifier'],\n      )\n      Vue.set(uploadsById, file.uniqueIdentifier, {\n        key, status, progress, message, cancel, file,\n      })\n      Vue.set(uploadIdsByKey, key, file.uniqueIdentifier)\n    },\n  },\n\n  actions: {\n    uploadFile({commit}, {\n      key,\n      uploadUrl,\n      formDataFields,\n      onSuccess,\n      onError,\n    }) {\n      if (!uploadUrl) {\n        commit('setUploadProgress', {key, uploadProgress: null})\n        onError(new Error(`url was ${uploadUrl}`))\n        return\n      }\n\n      const formData = new FormData()\n      lodash.forEach(formDataFields, (value, name) => {\n        formData.set(name, value)\n      })\n\n      const config = {\n        onUploadProgress: (progressEvent) => {\n          commit('setUploadProgress', {\n            key,\n            uploadProgress: Math.floor((progressEvent.loaded * 100) / progressEvent.total),\n          })\n        },\n      }\n\n      axios.post(uploadUrl, formData, config)\n        .then((response) => {\n          commit('setUploadProgress', {key, uploadProgress: null})\n          onSuccess(response)\n        })\n        .catch((error) => {\n          commit('setUploadProgress', {key, uploadProgress: null})\n          onError(error)\n        })\n    },\n\n    // todo: this is slightly different, because it implements chunked+resumable uploads; generify\n    // todo: upgrade backend to use more recent composer package that's compatible w/ npm flow.js\n    // https://github.com/flowjs/flow-php-server\n    // todo: handle multi-file-per-key\n    uploadFiles({commit, dispatch, state}, {key, files, uploader}) {\n      const cancel = (_) => uploader.cancel()\n\n      files.forEach((file) => commit('setUploadStatusFor', {\n        file, key, progress: 0, status: Statuses.UNINITIALIZED, message: null, cancel,\n      }))\n\n      uploader.on('fileProgress', (file, e) => {\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: `Upload in progress... ${_.parseInt(file.progress() * 100)}%`}, {root: true})\n        console.debug(`Upload in progress... ${_.parseInt(file.progress() * 100)}%`)\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          progress: file.progress(),\n          status: Statuses.UPLOADING,\n          message: null,\n          cancel,\n        })\n      })\n\n      uploader.on('fileSuccess', (file, json) => {\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: 'Upload successful!', isComplete: true}, {root: true})\n        console.debug('Upload successful!')\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          progress: 1,\n          status: Statuses.SUCCESS,\n          message: null,\n          cancel,\n        })\n        // clear for next batch\n        // uploader.cancel()\n      })\n\n      uploader.on('error', (json, file) => {\n        const {status_description} = JSON.parse(json) || {}\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: status_description, isComplete: true}, {root: true})\n        console.debug(`Upload has error ${status_description}`)\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          status: Statuses.FAILURE,\n          message: status_description,\n          cancel,\n        })\n        // clear for retry\n        // uploader.cancel()\n      })\n\n      uploader.upload()\n      // TODO: enable showAppMessageFor and use it as follow\n      // dispatch('showAppMessageFor', {message: 'Upload in progress...'}, {root: true})\n      console.debug('Upload in progress...')\n    },\n  },\n}\n","<template>\n  <div class=\"upload-monitor\">\n    <div\n      v-if=\"hasProgress\"\n      class=\"upload-monitor-progress\">\n      <h6>{{ 'trees.uploading' | trans }}&hellip; {{ upload.file.name }}</h6>\n\n      <div class=\"progress\">\n        <b-progress\n          :value=\"progress * 1\"\n          show-value\n          animated\n          class=\"mb-3\" />\n      </div>\n    </div>\n\n    <p\n      v-if=\"isFailure\"\n      class=\"text-danger small\">\n      {{ 'trees.error-uploading-file-try-again'|trans }}\n      <span\n        v-if=\"upload.message\"\n        class=\"details\">({{ upload.message }})</span>\n    </p>\n\n    <slot v-if=\"!hasProgress\" />\n  </div>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions,@typescript-eslint/unbound-method */\nimport {lang} from '@/lib/filters/lang'\nimport {forEach, get} from 'lodash'\n\nimport {mapState} from 'vuex'\nimport {BProgress} from 'bootstrap-vue'\nimport multimediaUpload, {Statuses as UploadStatuses} from '@/store/trees/multimediaUpload'\n\nexport default {\n\n  components: {BProgress},\n\n  mixins: [lang],\n  props: ['uploadKey'],\n\n  computed: {\n    ...mapState('multimediaUpload', ['uploadsById', 'uploadIdsByKey']),\n\n    upload() {\n      return this.uploadsById[this.uploadIdsByKey[this.uploadKey]]\n    },\n\n    hasProgress() {\n      return this.upload\n        && this.upload.status !== UploadStatuses.SUCCESS\n        && this.upload.status !== UploadStatuses.FAILURE\n    },\n\n    isFailure() {\n      return this.upload && this.upload.status === UploadStatuses.FAILURE\n    },\n\n    progress() {\n      return get(this.upload, 'progress', 0) * 100\n    },\n  },\n\n  created() {\n    const {$store} = this\n    const modules = {\n      multimediaUpload,\n    }\n\n    forEach(modules, (v, k) => !$store.hasModule(k) && $store.registerModule(k, v))\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.progress {\n  margin-bottom: 0.5em;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadMonitor.vue?vue&type=template&id=44a05fb5&\"\nimport script from \"./UploadMonitor.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadMonitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport {Getter, Mutation, namespace} from 'vuex-class'\nimport {\n  IBlock,\n  IFlow,\n  IResource,\n  IResourceValue as IResourceDefinitionVariantOverModes,\n  SupportedContentType,\n  SupportedMode,\n} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport FlowUploader from '@/lib/mixins/FlowUploader'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {\n  discoverContentTypesFor,\n  findOrGenerateStubbedVariantOn,\n  findResourceVariantOverModesOn,\n  IResourceDefinitionVariantOverModesFilter,\n} from '@/store/flow/resource'\nimport AudioLibrarySelector from '@/components/common/AudioLibrarySelector.vue'\nimport {ValidationException} from '@floip/flow-runner/src/domain/exceptions/ValidationException'\nimport PhoneRecorder from '@/components/interaction-designer/block-editors/PhoneRecorder.vue'\nimport {ILanguage} from '@floip/flow-runner/dist/flow-spec/ILanguage'\nimport {mixins} from 'vue-class-component'\nimport {TabsPlugin} from 'bootstrap-vue'\nimport UploadMonitor from '../block-editors/UploadMonitor.vue'\nimport ResourceVariantTextEditor from './ResourceVariantTextEditor.vue'\n\nVue.use(TabsPlugin)\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\n\ninterface IAudioFile {\n  id: string,\n  filename: string,\n  description: string,\n  language_id: string,\n  duration_seconds: string,\n  original_extension: string,\n  created_at: string,\n}\n\ninterface IResourceDefinitionVariantOverModesWithOptionalValue extends Partial<IResourceDefinitionVariantOverModes> {\n  value?: IResourceDefinitionVariantOverModes['value'],\n}\n\n@Component({\n  components: {\n    AudioLibrarySelector,\n    ResourceVariantTextEditor,\n    UploadMonitor,\n    PhoneRecorder,\n  },\n})\nexport class ResourceEditor extends mixins(FlowUploader, Permissions, Routes, Lang) {\n  @Prop({required: true}) block!: IBlock\n\n  @Prop({required: true}) flow!: IFlow\n\n  @Prop() resource!: IResource\n\n  @Prop() label?: string | number\n\n  discoverContentTypesFor = discoverContentTypesFor\n\n  findOrGenerateStubbedVariantOn = findOrGenerateStubbedVariantOn\n\n  findResourceVariantOverModesOn = findResourceVariantOverModesOn\n\n  SupportedMode = SupportedMode\n\n  SupportedContentType = SupportedContentType\n\n  iconsMap = new Map<string, object>([\n    [SupportedMode.SMS, ['far', 'envelope']],\n    [SupportedMode.USSD, ['fac', 'ussd']],\n    [SupportedMode.IVR, ['fac', 'audio']],\n    [SupportedMode.RICH_MESSAGING, ['far', 'comment-dots']],\n    [SupportedMode.OFFLINE, ['fas', 'mobile-alt']],\n  ])\n\n  triggerRecordViaPhoneFor(langId: ILanguage['id']): void {\n    this.$store.commit('setAudioRecordingConfigVisibilityForSelectedBlock', {langId, isVisible: true})\n  }\n\n  handleFilesSubmittedFor(key: string, {data}: { data: any }): void {\n    console.debug('call handleFilesSubmittedFor')\n    this.$store.dispatch('multimediaUpload/uploadFiles', {...data, key})\n  }\n\n  handleFileSuccessFor(key: string, langId: ILanguage['id'], event: any): void {\n    const {data: {json}} = event\n    const {\n      audio_file_id: id,\n      audio_uuid: filename,\n      created_at: {date: created_at},\n      description,\n      duration_seconds,\n    } = JSON.parse(json)\n    const extension = description.split('.')[description.split('.').length - 1]\n    const uploadedAudio: IAudioFile = {\n      id,\n      filename,\n      description,\n      language_id: langId,\n      duration_seconds,\n      original_extension: extension,\n      created_at,\n    }\n\n    this.resource_setOrCreateValueModeSpecific({\n      resourceId: this.resource.uuid,\n      filter: {language_id: langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR]},\n      value: description,\n    })\n    // remove the focus from the `upload` Tab\n    event.target.blur()\n    this.pushAudioIntoLibrary(uploadedAudio)\n  }\n\n  findAudioResourceVariantFor(resource: IResource, filter: IResourceDefinitionVariantOverModesFilter): string | null {\n    try {\n      return findResourceVariantOverModesOn(resource, filter).value\n    } catch (e) {\n      if (!(e instanceof ValidationException)) {\n        throw e\n      }\n\n      return null\n    }\n  }\n\n  @Getter availableAudio!: IAudioFile[]\n\n  @Getter isFeatureAudioUploadEnabled!: boolean\n\n  @Mutation pushAudioIntoLibrary!: (audio: IAudioFile) => void\n\n  @flowVuexNamespace.Action resource_setOrCreateValueModeSpecific!: ({\n    resourceId,\n    filter,\n    value,\n  }: { resourceId: IResource['uuid'], filter: IResourceDefinitionVariantOverModesWithOptionalValue, value: string }) => void\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default ResourceEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResourceEditor.vue?vue&type=template&id=dd0260a8&scoped=true&\"\nimport script from \"./ResourceEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResourceEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ResourceEditor.vue?vue&type=style&index=0&id=dd0260a8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd0260a8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=style&index=0&id=77c09fef&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=style&index=0&id=77c09fef&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".btn-ghost{background:transparent;border:none}.audio-library-selection{position:relative;background-color:transparent!important;background-image:none!important;border-color:#ccc!important}.audio-library-selection .audio-library-selection-download-dropdown{position:absolute;right:1.6em;top:50%;margin-top:-8px;color:#888}.audio-library-selection .audio-library-selection-download-dropdown svg{vertical-align:middle}.audio-library-selection .audio-library-selection-clear-selection{margin-right:-7px}.audio-library-selection .audio-file-description{text-overflow:ellipsis;overflow:hidden;margin-bottom:3px}.audio-library-selection .vue-sound-wrapper{margin-bottom:8px;margin-left:1em}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-pause2,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-play3{font-size:130%;color:#888}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-pause2:hover,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-play3:hover{color:#000;text-decoration:none}.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-download,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-stop2,.audio-library-selection .vue-sound-wrapper .vue-sound__player .icon-volume-high,.audio-library-selection .vue-sound-wrapper .vue-sound__player .volume-toggle{display:none!important}.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-current,.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-separator,.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-total{font-size:80%;color:#888}.audio-library-selection .vue-sound-wrapper .vue-sound__player .vue-sound__playback-time-wrapper{text-align:center;width:71%!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-id text-right\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.block-id'))+\": \"),_c('em',[_vm._v(_vm._s(_vm.blockId))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport {IBlock} from '@floip/flow-runner'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\n\n@Component({})\nclass BlockId extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n\n  get blockId(): string {\n    return this.block.uuid || ''\n  }\n}\n\nexport default BlockId\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockId.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockId.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockId.vue?vue&type=template&id=0d0e1317&\"\nimport script from \"./BlockId.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockId.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".phone-recording-recorder-selector[data-v-41756c06]{padding-top:3em}.phone-recording-recorder-selector .modal-body .h4[data-v-41756c06],.phone-recording-recorder-selector .modal-body h4[data-v-41756c06]{margin-top:2em}.phone-recording-recorder-selector .table .recorder-selector-field[data-v-41756c06]{width:3em;text-align:center;vertical-align:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"001dc3d2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".audio-library-search-field.dropdown .dropdown-menu[data-v-22499358]{display:block;min-width:100%}.audio-library-search-field.dropdown .dropdown-menu>li.pagers>a[data-v-22499358]{clear:none;margin-top:0;margin-bottom:0;padding-top:.5em;padding-bottom:.5em}.audio-library-search-field.dropdown .dropdown-menu>li.pagers>a.disabled[data-v-22499358]{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:not-allowed;color:#777}.close[data-v-22499358]{pointer-events:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".block-code[data-v-5617e28e]{word-break:break-all}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=style&index=0&id=5617e28e&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9850c7bc\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=style&index=0&id=dd0260a8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=style&index=0&id=dd0260a8&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".progress{margin-bottom:.5em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-variant-text-editor\"},[_c('div',{staticClass:\"content-editor\",class:{'content-editor-selected': !!_vm.content}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"},{name:\"focus\",rawName:\"v-focus\",value:(_vm.isSelected),expression:\"isSelected\"}],staticClass:\"form-control\",attrs:{\"placeholder\":_vm._f(\"trans\")((\"flow-builder.enter-\" + (_vm.resourceVariant.content_type.toString().toLowerCase()) + \"-content\"))},domProps:{\"value\":(_vm.content)},on:{\"focus\":_vm.select,\"blur\":_vm.deselect,\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})]),_c('div',{staticClass:\"content-toolbar\"},[(_vm.isEditable)?_c('span',{staticClass:\"text-muted transition-all\",class:{invisible: !_vm.characterCounter.count}},[_vm._v(\" \"+_vm._s(_vm.characterCounter.count)+\" characters \"),(_vm.mode === 'sms' && _vm.characterCounter.pages > 1)?[_vm._v(\" (\"+_vm._s(_vm.characterCounter.pages)+\" \"+_vm._s(_vm.characterCounter.hasUnicode ? 'unicode pages' : 'pages')+\") \")]:_vm._e()],2):_vm._e(),(_vm.doesContentContainExpression)?_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top.html\",value:((\"<p>\" + (_vm.trans('flow-builder.youre-using-floip-expressions')) + \"</p>\\n                     <p>\\n                       <strong>\" + (_vm.trans('flow-builder.pro-tip')) + \":</strong>\\n                       \" + (_vm.trans('flow-builder.floip-expressions-escape-with-double-at-symbol')) + \"\\n                     </p>\")),expression:\"`<p>${trans('flow-builder.youre-using-floip-expressions')}</p>\\n                     <p>\\n                       <strong>${trans('flow-builder.pro-tip')}:</strong>\\n                       ${trans('flow-builder.floip-expressions-escape-with-double-at-symbol')}\\n                     </p>`\",modifiers:{\"hover\":true,\"top\":true,\"html\":true}}],attrs:{\"href\":\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\",\"target\":\"_blank\"}},[_c('kbd',{staticStyle:{\"margin-left\":\"1em\"}},[_c('i',{staticClass:\"glyphicon glyphicon-console\"}),(_vm.doesContentContainExpressionError)?_c('i',{staticClass:\"glyphicon glyphicon glyphicon-remove-sign text-danger\"}):_c('i',{staticClass:\"glyphicon glyphicon-ok-sign text-success\"})])]):_vm._e(),(_vm.doesContentContainExpressionError)?_c('div',{staticClass:\"alert alert-danger\",staticStyle:{\"margin-top\":\"0.5em\"}},[_c('p',[_c('i',{staticClass:\"glyphicon glyphicon-remove-sign\"}),_c('strong',[_c('a',{attrs:{\"href\":\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\",\"target\":\"_blank\"}},[_vm._v(\"FLOIP Expression\")]),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.error-found'))+\" \")])]),_c('p',[_c('em',[_vm._v(\" \"+_vm._s(_vm.contentExpressionAST.message)+\" (\"),(_vm.contentExpressionAST.location.start.line !== 1)?_c('span',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.on-line'))+\" \"+_vm._s(_vm.contentExpressionAST.location.start.line)+\", \")]):_vm._e(),_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.at-character'))+\" \"+_vm._s(_vm.contentExpressionAST.location.start.column)+\") \")])])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"resource-variant-text-editor\">\n    <div\n      class=\"content-editor\"\n      :class=\"{'content-editor-selected': !!content}\">\n      <textarea\n        v-model=\"content\"\n        v-focus=\"isSelected\"\n        :placeholder=\"`flow-builder.enter-${resourceVariant.content_type.toString().toLowerCase()}-content` | trans\"\n        class=\"form-control\"\n        @focus=\"select\"\n        @blur=\"deselect\" />\n\n      <!-- <button @click=\"select\"\n              class=\"btn btn-xs btn-secondary\">\n        <i class=\"glyphicon glyphicon-pencil\"></i>\n      </button> -->\n    </div>\n\n    <div class=\"content-toolbar\">\n      <!--      <block-content-autogen-button-->\n      <!--          v-if=\"enableAutogenButton\"-->\n      <!--          :isEditable=\"isEditable\"-->\n      <!--          :langId=\"langId\"-->\n      <!--          :type=\"type\"-->\n      <!--          :block=\"block\"-->\n      <!--          class=\"pull-right\" />-->\n\n      <span\n        v-if=\"isEditable\"\n        class=\"text-muted transition-all\"\n        :class=\"{invisible: !characterCounter.count}\">\n        {{ characterCounter.count }} characters\n\n        <template v-if=\"mode === 'sms' && characterCounter.pages > 1\">\n          ({{ characterCounter.pages }} {{ characterCounter.hasUnicode ? 'unicode pages' : 'pages' }})\n        </template>\n      </span>\n\n      <a\n        v-if=\"doesContentContainExpression\"\n        v-b-tooltip.hover.top.html=\"`<p>${trans('flow-builder.youre-using-floip-expressions')}</p>\n                     <p>\n                       <strong>${trans('flow-builder.pro-tip')}:</strong>\n                       ${trans('flow-builder.floip-expressions-escape-with-double-at-symbol')}\n                     </p>`\"\n        href=\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\"\n        target=\"_blank\">\n\n        <kbd style=\"margin-left: 1em\">\n          <i class=\"glyphicon glyphicon-console\" />\n          <i\n            v-if=\"doesContentContainExpressionError\"\n            class=\"glyphicon glyphicon glyphicon-remove-sign text-danger\" />\n          <i\n            v-else\n            class=\"glyphicon glyphicon-ok-sign text-success\" />\n        </kbd>\n      </a>\n\n      <div\n        v-if=\"doesContentContainExpressionError\"\n        class=\"alert alert-danger\"\n        style=\"\n  margin-top: 0.5em;\n\">\n        <p>\n          <i class=\"glyphicon glyphicon-remove-sign\" />\n          <strong>\n            <a\n              href=\"https://floip.gitbooks.io/flow-specification/content/fundamentals/expressions.html\"\n              target=\"_blank\">FLOIP Expression</a>\n            {{ 'flow-builder.error-found' | trans }}\n          </strong>\n        </p>\n\n        <p>\n          <!-- NOTE: Funky source formatting to mitigate spaces between parens -->\n          <em>\n            {{ contentExpressionAST.message }}\n            (<span v-if=\"contentExpressionAST.location.start.line !== 1\">{{ 'flow-builder.on-line' | trans }}\n              {{ contentExpressionAST.location.start.line }},\n            </span>{{ 'flow-builder.at-character' | trans }} {{ contentExpressionAST.location.start.column }})\n          </em>\n        </p>\n      </div>\n    </div>\n\n    <!--    <template v-if=\"!isEditable\">-->\n    <!--      <p v-if=\"content\">{{content}}</p>-->\n    <!--      <p>-->\n    <!--        <em class=\"text-muted\">{{'flow-builder.no-sms-content-yet' | trans}}</em>-->\n    <!--      </p>-->\n    <!--    </template>-->\n  </div>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport Vue from 'vue'\nimport {lang} from '@/lib/filters/lang'\nimport {parse as floipExpressionParser} from '@floip/expression-parser'\nimport {isObject, some} from 'lodash'\nimport VueFocus from 'vue-focus'\nimport {mapActions} from 'vuex'\nimport {BTooltip} from 'bootstrap-vue'\n\n// import BlockContentAutogenButton from './BlockContentAutogenButton'\n\nVue.component('BTooltip', BTooltip)\n\nexport default {\n  components: {\n    // BlockContentAutogenButton,\n  },\n  mixins: [lang, VueFocus.mixin],\n\n  props: {\n    isEditable: Boolean,\n    resourceId: {\n      type: String,\n      default: null,\n    },\n    resourceVariant: {\n      // as () => IResourceValue\n      type: Object,\n      default: null,\n    },\n    mode: {\n      type: String,\n      default: null,\n    },\n\n    enableAutogenButton: {\n      type: Boolean,\n      default: true,\n    },\n\n    // maybe!?\n\n    // block: Object,\n    // langId: [String, Number],\n    // type: String,\n    // pathToTextContent: String,\n  },\n\n  data: () => ({isSelected: false}),\n\n  computed: {\n    content: {\n      get() {\n        return this.resourceVariant.value\n      },\n\n      set(value) {\n        const {resourceId, mode} = this\n        const {language_id: languageId, content_type: contentType} = this.resourceVariant\n\n        this.resource_setOrCreateValueModeSpecific({\n          resourceId,\n          filter: {language_id: languageId, content_type: contentType, modes: [mode]},\n          value,\n        })\n      },\n    },\n\n    contentExpressionAST() {\n      let ast = []\n\n      try {\n        ast = floipExpressionParser(this.content)\n      } catch (e) {\n        if (e instanceof SyntaxError || e.name === 'SyntaxError') {\n          return e\n        }\n      }\n\n      const hasMembers = some(ast, isObject)\n      return hasMembers\n        ? ast\n        : null\n    },\n\n    doesContentContainExpression() {\n      return !!this.contentExpressionAST\n    },\n\n    doesContentContainExpressionError() {\n      return !!(this.contentExpressionAST instanceof Error)\n    },\n\n    characterCounter() {\n      const\n        hasUnicode = !/^[\\x00-\\x7F]*$/.test(this.content)\n      const count = this.content.length\n\n      console.debug('BlockTextContentEditorForLangAndType', 'characterCounter', {hasUnicode, count})\n\n      return {\n        hasUnicode,\n        count,\n        pages: hasUnicode ? Math.ceil(count / 70) : Math.ceil(count / 160),\n      }\n    },\n  },\n\n  methods: {\n    ...mapActions('flow', ['resource_setOrCreateValueModeSpecific']),\n\n    select() {\n      this.isSelected = true\n    },\n    deselect() {\n      this.isSelected = false\n    },\n\n    // debouncedSaveTree: debounce(function () {\n    //   this.$store.dispatch('attemptSaveTree')\n    // }, 500),\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.block-text-content-editor-for-lang-and-type {\n  margin-bottom: 0.5em;\n\n  .content-editor {\n    position: relative;\n\n    textarea {\n      height: 56px;\n    }\n\n    textarea, input[type=\"text\"] {\n      &:not(:focus) {\n        + button {\n          opacity: 1;\n        }\n      }\n\n      + button {\n        position: absolute;\n        bottom: 7px;\n        // 15px padding => parent, 8px padding => textarea\n        right: 10px; //15px + 7px;\n\n        transition: opacity 200ms ease-in-out;\n        opacity: 0;\n      }\n    }\n\n    &-selected {\n      textarea, input[type=\"text\"] {\n        background-color: #F8F8F8;\n        //border-color: #DDDDDD;\n      }\n    }\n  }\n\n  .content-toolbar {\n    margin-top: 1px;\n  }\n}\n\n.invisible {\n  opacity: 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceVariantTextEditor.vue?vue&type=template&id=77c09fef&scoped=true&\"\nimport script from \"./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceVariantTextEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceVariantTextEditor.vue?vue&type=style&index=0&id=77c09fef&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77c09fef\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f82b14ce\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=style&index=0&id=77c09fef&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"bc79b02a\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=41756c06&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=41756c06&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=style&index=0&id=5617e28e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=style&index=0&id=5617e28e&scoped=true&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditor.vue?vue&type=style&index=0&id=dd0260a8&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"01b640c1\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-3\"},[_c('validation-message',{attrs:{\"message-key\":(\"block/\" + (_vm.block.uuid) + \"/name\")},scopedSlots:_vm._u([{key:\"input-control\",fn:function(ref){\nvar isValid = ref.isValid;\nreturn [(_vm.editBlockName || isValid === false)?_c('div',[_c('h6',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.edit-block-code')))]),_c('div',{staticClass:\"d-flex\"},[_c('text-editor',{staticClass:\"w-100\",attrs:{\"label\":'',\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-code'),\"valid-state\":isValid},on:{\"keydown\":_vm.filterName},model:{value:(_vm.blockName),callback:function ($$v) {_vm.blockName=$$v},expression:\"blockName\"}}),_c('span',{staticClass:\"btn btn-primary btn-xs align-self-center ml-2\",on:{\"click\":function($event){_vm.editBlockName = false}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fas', 'check']}})],1)],1)]):_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',{staticClass:\"block-code align-self-center\"},[_c('h6',{staticClass:\"d-inline\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.code'))+\":\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.blockName)+\" \")])]),_c('span',{staticClass:\"btn btn-primary btn-xs align-self-baseline ml-2\",on:{\"click\":function($event){_vm.editBlockName = true}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['far', 'edit']}})],1)])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop} from 'vue-property-decorator'\nimport ValidationMessage from '@/components/common/ValidationMessage.vue'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\nimport TextEditor from '@/components/common/TextEditor.vue'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({\n  components: {\n    TextEditor,\n    ValidationMessage,\n  },\n})\nclass NameEditor extends mixins(Lang) {\n  editBlockName = false\n\n  @Prop() readonly block!: IBlock\n\n  get blockName(): IBlock['name'] {\n    return this.block.name\n  }\n\n  set blockName(value: IBlock['name']) {\n    this.block_setName({blockId: this.block.uuid, value})\n  }\n\n  filterName(e: KeyboardEvent): void {\n    if (e.key.match(/\\W+|Enter/g)) {\n      e.preventDefault()\n    }\n  }\n\n  @flowVuexNamespace.Mutation block_setName!: ({blockId, value}: {blockId: IBlock['uuid'], value: IBlock['name']}) => void\n}\nexport default NameEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NameEditor.vue?vue&type=template&id=5617e28e&scoped=true&\"\nimport script from \"./NameEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./NameEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NameEditor.vue?vue&type=style&index=0&id=5617e28e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5617e28e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=22499358&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=22499358&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=22499358&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8d873f5c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=41756c06&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"63295499\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}
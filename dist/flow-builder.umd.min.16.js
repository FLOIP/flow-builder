(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[16],{"03d5":function(e,t,c){"use strict";c.r(t),c.d(t,"MobilePrimitives_SelectManyResponseBlock",(function(){return le})),c.d(t,"install",(function(){return be}));var o=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"mobile-primitive-select-many-response-block"},[c("h3",{staticClass:"block-editor-header"},[e._v(" "+e._s(e._f("trans")("flow-builder."+e.block.type))+" ")]),c("fieldset",{attrs:{disabled:!e.isEditable}},[c("block-label-editor",{attrs:{block:e.block},on:{gearClicked:function(t){e.showSemanticLabel=!e.showSemanticLabel}}}),e.showSemanticLabel?c("block-semantic-label-editor",{attrs:{block:e.block}}):e._e(),c("block-name-editor",{attrs:{block:e.block}}),c("div",{staticClass:"prompt-resource"},[e.promptResource?c("resource-editor",{attrs:{label:e._f("trans")("flow-builder.prompt"),resource:e.promptResource,block:e.block,flow:e.flow}}):e._e()],1),c("hr"),c("choices-builder",{attrs:{block:e.block},on:{choiceChanged:e.handleChoiceChanged}}),c("hr"),c("minimum-choices-editor",{attrs:{block:e.block}}),c("maximum-choices-editor",{attrs:{block:e.block}}),c("hr"),c("block-output-branching-config",{attrs:{block:e.block,"has-exit-per-choice":!1,"label-class":""},on:{branchingTypeChanged:function(t){return e.reflowExitsWhenSwitchingToBranchingTypeNotUnified()}}}),e._t("extras"),c("categorization",{attrs:{block:e.block}}),c("generic-contact-property-editor",{attrs:{block:e.block}}),c("hr"),c("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),c("block-id",{attrs:{block:e.block}})],1)},i=[],a=c("276c"),n=c("2c4c"),r=c("920b"),l=c("92a6"),s=c("fc11"),b=(c("99af"),c("9ab4")),u=c("1b40"),d=c("c964"),m=c("f3f3"),f=(c("b64b"),c("a15b"),c("d81d"),c("96cf"),c("9300")),h=c("31aa"),k=c("2ef0"),p=c("ecef"),v=c("18b0"),j="MobilePrimitives.SelectManyResponse",O=Object(m["a"])({},p["d"]),_=Object(m["a"])({},p["e"]),g=Object(m["a"])(Object(m["a"])({},p["b"]),{},{setMinChoices:function(e,t){var c=e.commit,o=e.dispatch,i=e.rootGetters,a=t.blockId,n=t.value,r=Object(f["findBlockWith"])(a,i["flow/activeFlow"]);c("flow/block_updateConfigByKey",{blockId:r.uuid,key:"minimum_choices",value:Object(k["isNumber"])(n)?n:void 0},{root:!0});var l=r.vendor_metadata,s=v["b"].UNIFIED;l.io_viamo.branchingType===s&&o("handleBranchingTypeChangedToUnified",{block:r})},setMaxChoices:function(e,t){var c=e.commit,o=e.dispatch,i=e.rootGetters,a=t.blockId,n=t.value,r=Object(f["findBlockWith"])(a,i["flow/activeFlow"]);c("flow/block_updateConfigByKey",{blockId:r.uuid,key:"maximum_choices",value:Object(k["isNumber"])(n)?n:void 0},{root:!0});var l=r.vendor_metadata,s=v["b"].UNIFIED;l.io_viamo.branchingType===s&&o("handleBranchingTypeChangedToUnified",{block:r})},handleBranchingTypeChangedToUnified:function(e,t){var c=e.dispatch,o=t.block;c("flow/block_convertExitFormationToUnified",{blockId:o.uuid,test:y(o)},{root:!0})},createWith:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function c(){var o,i,a,n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return o=e.dispatch,i=t.props,c.next=4,o("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return a=c.sent,c.t0=o,c.next=8,(new h["IdGeneratorUuidV4"]).generate();case 8:return c.t1=c.sent,c.t2={uuid:c.t1},c.t3={props:c.t2},c.t4={root:!0},c.next=14,(0,c.t0)("flow/block_createBlockDefaultExitWith",c.t3,c.t4);case 14:return c.t5=c.sent,n=[c.t5],c.abrupt("return",Object(k["defaultsDeep"])(i,{type:j,name:"",label:"",semantic_label:"",exits:n,config:{prompt:a.uuid,choices:{},minimum_choices:void 0,maximum_choices:void 0},vendor_metadata:{},tags:[]}));case 17:case"end":return c.stop()}}),c)})))()}});function y(e){var t=e.config,c=t.choices,o=t.minimum_choices,i=t.maximum_choices,a=Object.keys(c);if(0===a.length)return console.warn("Choices are empty for SelectManyBlock, providing `true` by default"),"true";var n="COUNT(block.value) >= ".concat(o),r="COUNT(block.value) <= ".concat(i),l="OR(".concat(a.map((function(e){return'IN("'.concat(e,'", block.value)')})).join(", "),")");return Object(k["isNumber"])(o)&&Object(k["isNumber"])(i)?"AND(".concat([n,r,l].join(", "),")"):Object(k["isNumber"])(o)?"AND(".concat([n,l].join(", "),")"):Object(k["isNumber"])(i)?"AND(".concat([r,l].join(", "),")"):l}var w={namespaced:!0,state:p["f"],getters:O,mutations:_,actions:g},C=c("4bb5"),x=c("af98"),B=c("8619"),E=c("5aa7"),N=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/minimum_choices"},scopedSlots:e._u([{key:"input-control",fn:function(t){var o=t.isValid;return[c("div",{staticClass:"block-validation-min-choices"},[c("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.minimum-choices"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":o},model:{value:e.minChoices,callback:function(t){e.minChoices=e._n(t)},expression:"minChoices"}})],1)]}}])})},M=[],T=c("e954"),I=c("2fe1"),S=c("4a51"),U=c("2f00"),A=c("21e9"),R=Object(C["e"])("flow/".concat(j)),L=(Object(C["e"])("builder"),function(e){Object(r["a"])(c,e);var t=Object(l["a"])(c);function c(){var e;Object(a["a"])(this,c);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(s["a"])(Object(n["a"])(e),"block",void 0),Object(s["a"])(Object(n["a"])(e),"setMinChoices",void 0),e}return Object(T["a"])(c,[{key:"mounted",value:function(){}},{key:"minChoices",get:function(){var e=this.block.config.minimum_choices;return Object(k["isNumber"])(e)?e:""},set:function(e){var t=this.block.uuid;this.setMinChoices({blockId:t,value:Object(k["isNumber"])(e)?e:void 0})}}]),c}(Object(I["c"])(S["a"])));Object(b["__decorate"])([Object(u["b"])()],L.prototype,"block",void 0),Object(b["__decorate"])([R.Action],L.prototype,"setMinChoices",void 0),L=Object(b["__decorate"])([Object(u["a"])({components:{NumericEditor:U["a"],ValidationMessage:A["a"]}})],L);var D=L,F=D,G=c("2877"),V=Object(G["a"])(F,N,M,!1,null,null,null),W=V.exports,P=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/maximum_choices"},scopedSlots:e._u([{key:"input-control",fn:function(t){var o=t.isValid;return[c("div",{staticClass:"block-validation-max-choices"},[c("numeric-editor",{attrs:{"regex-numeric-filtering":"[0-9]",label:e._f("trans")("flow-builder.maximum-choices"),placeholder:e._f("trans")("flow-builder.enter-value"),"valid-state":o},model:{value:e.maxChoices,callback:function(t){e.maxChoices=e._n(t)},expression:"maxChoices"}})],1)]}}])})},$=[],z=Object(C["e"])("flow/".concat(j)),J=(Object(C["e"])("builder"),function(e){Object(r["a"])(c,e);var t=Object(l["a"])(c);function c(){var e;Object(a["a"])(this,c);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(s["a"])(Object(n["a"])(e),"block",void 0),Object(s["a"])(Object(n["a"])(e),"setMaxChoices",void 0),e}return Object(T["a"])(c,[{key:"mounted",value:function(){}},{key:"maxChoices",get:function(){var e=this.block.config.maximum_choices;return Object(k["isNumber"])(e)?e:""},set:function(e){var t=this.block.uuid;this.setMaxChoices({blockId:t,value:Object(k["isNumber"])(e)?e:void 0})}}]),c}(Object(I["c"])(S["a"])));Object(b["__decorate"])([Object(u["b"])()],J.prototype,"block",void 0),Object(b["__decorate"])([z.Action],J.prototype,"setMaxChoices",void 0),J=Object(b["__decorate"])([Object(u["a"])({components:{NumericEditor:U["a"],ValidationMessage:A["a"]}})],J);var K=J,q=K,H=Object(G["a"])(q,P,$,!1,null,null,null),Q=H.exports,X=c("f04e"),Y=c("3411"),Z=c("1b4e"),ee=c("70f0"),te=c("192b"),ce=c("510a"),oe=c("792f"),ie=c("5c47"),ae=c("b4ec"),ne=Object(C["e"])("flow/".concat(j)),re=Object(C["e"])("builder"),le=function(e){Object(r["a"])(c,e);var t=Object(l["a"])(c);function c(){var e;Object(a["a"])(this,c);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(s["a"])(Object(n["a"])(e),"showSemanticLabel",!1),e}return c}(ie["default"]);Object(b["__decorate"])([re.Getter],le.prototype,"isEditable",void 0),Object(b["__decorate"])([ne.Action],le.prototype,"handleBranchingTypeChangedToUnified",void 0),le=Object(b["__decorate"])([Object(u["a"])({components:{BlockId:oe["a"],BlockNameEditor:X["a"],BlockLabelEditor:Y["a"],BlockOutputBranchingConfig:v["c"],BlockSemanticLabelEditor:Z["a"],BlockExitSemanticLabelEditor:ee["a"],ChoicesBuilder:E["a"],Categorization:B["a"],FirstBlockEditorButton:te["a"],GenericContactPropertyEditor:ae["a"],MinimumChoicesEditor:W,MaximumChoicesEditor:Q,ResourceEditor:ce["a"]}})],le);var se=le,be=Object(x["d"])(j,w),ue=se,de=Object(G["a"])(ue,o,i,!1,null,null,null);t["default"]=de.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.16.js.map
(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[3],{"192b":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"starting-block-button"},[e.isEditable?[a("h4",[e._v(e._s(e._f("trans")("flow-builder.options")))]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:e.isStartBlock},on:{click:function(t){return e.setStartBlock(t)}}},[e.isStartBlock?[e._v(" "+e._s(e._f("trans")("flow-builder.currently-set-as-starting-block"))+" ")]:[e._v(" "+e._s(e._f("trans")("flow-builder.set-as-starting-block"))+" ")]],2)])]:e._e()],2)},c=[],n=a("276c"),o=a("e954"),r=a("2c4c"),l=a("920b"),i=a("92a6"),b=a("fc11"),u=(a("99af"),a("9ab4")),d=a("1b40"),f=a("4a51"),j=a("4bb5"),m=a("2fe1"),p=Object(j["e"])("flow"),v=function(e){Object(l["a"])(a,e);var t=Object(i["a"])(a);function a(){var e;Object(n["a"])(this,a);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),Object(b["a"])(Object(r["a"])(e),"isEditable",void 0),Object(b["a"])(Object(r["a"])(e),"blockId",void 0),Object(b["a"])(Object(r["a"])(e),"flow",void 0),Object(b["a"])(Object(r["a"])(e),"flow_setFirstBlockId",void 0),e}return Object(o["a"])(a,[{key:"isStartBlock",get:function(){return this.blockId===this.flow.first_block_id}},{key:"setStartBlock",value:function(e){var t=this.flow.uuid,a=this.blockId;this.flow_setFirstBlockId({flowId:t,blockId:a})}}]),a}(Object(m["c"])(f["a"]));Object(u["__decorate"])([Object(d["b"])({default:!0})],v.prototype,"isEditable",void 0),Object(u["__decorate"])([Object(d["b"])()],v.prototype,"blockId",void 0),Object(u["__decorate"])([Object(d["b"])()],v.prototype,"flow",void 0),Object(u["__decorate"])([p.Mutation],v.prototype,"flow_setFirstBlockId",void 0),v=Object(u["__decorate"])([Object(d["a"])({})],v);var k=v,h=k,g=a("2877"),_=Object(g["a"])(h,s,c,!1,null,null,null);t["a"]=_.exports},"1b4e":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/semantic_label"},scopedSlots:e._u([{key:"input-control",fn:function(t){var s=t.isValid;return[a("div",{staticClass:"block-semantic-label"},[a("text-editor",{attrs:{label:e._f("trans")("flow-builder.block-semantic-label"),placeholder:e._f("trans")("flow-builder.enter-block-semantic-label"),"valid-state":s},model:{value:e.semanticLabel,callback:function(t){e.semanticLabel=t},expression:"semanticLabel"}})],1)]}}])})},c=[],n=a("f3f3"),o=a("2f62"),r=a("d883"),l=a("4a51"),i=a("21e9"),b={components:{TextEditor:r["a"],ValidationMessage:i["a"]},mixins:[l["b"]],props:{block:{type:Object,required:!0}},computed:{semanticLabel:{get:function(){return this.block.semantic_label||""},set:function(e){this.block_setSemanticLabel({blockId:this.block.uuid,value:e})}}},methods:Object(n["a"])({},Object(o["c"])("flow",["block_setSemanticLabel"]))},u=b,d=a("2877"),f=Object(d["a"])(u,s,c,!1,null,null,null);t["a"]=f.exports},3411:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/label"},scopedSlots:e._u([{key:"input-control",fn:function(t){var s=t.isValid;return[a("div",{staticClass:"block-label"},[a("text-editor",{attrs:{label:e._f("trans")("flow-builder.block-label"),placeholder:e._f("trans")("flow-builder.enter-block-label"),"valid-state":s},model:{value:e.label,callback:function(t){e.label=t},expression:"label"}})],1)]}}])})},c=[],n=a("276c"),o=a("e954"),r=a("2c4c"),l=a("920b"),i=a("92a6"),b=a("fc11"),u=(a("99af"),a("9ab4")),d=a("d883"),f=a("4a51"),j=a("1b40"),m=a("4bb5"),p=a("2fe1"),v=a("21e9"),k=Object(m["e"])("flow"),h=function(e){Object(l["a"])(a,e);var t=Object(i["a"])(a);function a(){var e;Object(n["a"])(this,a);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),Object(b["a"])(Object(r["a"])(e),"block",void 0),Object(b["a"])(Object(r["a"])(e),"block_setLabel",void 0),e}return Object(o["a"])(a,[{key:"label",get:function(){return this.block.label},set:function(e){this.block_setLabel({blockId:this.block.uuid,value:e})}}]),a}(Object(p["c"])(f["a"]));Object(u["__decorate"])([Object(j["b"])()],h.prototype,"block",void 0),Object(u["__decorate"])([k.Mutation],h.prototype,"block_setLabel",void 0),h=Object(u["__decorate"])([Object(j["a"])({components:{TextEditor:d["a"],ValidationMessage:v["a"]}})],h);var g=h,_=g,O=a("2877"),y=Object(O["a"])(_,s,c,!1,null,null,null);t["a"]=y.exports},"6faa":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.label))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.expression,expression:"expression"}],ref:"input",staticClass:"form-control",attrs:{placeholder:e.placeholder},domProps:{value:e.expression},on:{input:[function(t){t.target.composing||(e.expression=t.target.value)},function(t){return e.$emit("input",t.target.value)}]}}),e._v(" "),e._t("default")],2)},c=[],n=a("54f8"),o=a("d0ff"),r=a("f3f3"),l=(a("a9e3"),a("99af"),a("d81d"),a("b0c0"),a("5db7"),a("73d9"),a("a630"),a("3ca3"),a("4fad"),a("e260"),a("d3b7"),a("ddb0"),a("4ec9"),a("4b17e")),i=a.n(l),b=(a("c6c1"),a("2f62")),u=a("20c7"),d=a("4a51"),f=["phone"],j=["now","yesterday","today","tomorrow"],m={mixins:[d["a"]],props:{label:{type:[String,Number],required:!0},placeholder:{type:String,default:""},currentExpression:{type:String,required:!0},expressionIdentifier:{type:[String,Number],default:null}},data:function(){return{suggest:{}}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(b["b"])(["subscriberPropertyFields"])),Object(b["b"])("flow",["activeFlow"])),{},{expression:{get:function(){return this.currentExpression},set:function(e){null!==this.expressionIdentifier&&(e={identifier:this.expressionIdentifier,value:e}),this.$emit("commitExpressionChange",e)}},expressionContext:function(){var e=this.subscriberPropertyFields.map((function(e){return e.name})).concat(f),t=this.activeFlow.blocks.flatMap((function(e){return[e.name,e.uuid]}));return{contact:e,flow:t,date:j}},topLevelSuggestions:function(){return{trigger:"@",values:[{value:"@()",focusText:[-1,-1]}].concat(Object(o["a"])(Array.from(Object.entries(this.expressionContext)).map((function(e){return"@".concat(e[0])}))))}},contextSuggestions:function(){return Array.from(Object.entries(this.expressionContext)).map((function(e){var t=e[0];return{trigger:"".concat(t,"."),values:e[1].map((function(e){return"".concat(t,".").concat(e)}))}}))},methodSuggestions:function(){return Array.from(this.evaluatorMethods.entries()).map((function(e){return{trigger:e[0],values:e[1].map((function(e){return{value:"".concat(e,"()"),focusText:[-1,-1]}}))}}))},evaluatorMethods:function(){var e,t=new Map,a=Object(n["a"])(u["MethodNodeEvaluatorFactory"].defaultHandlers());try{for(a.s();!(e=a.n()).done;){var s,c=e.value,r=Object(n["a"])(c.handles());try{for(r.s();!(s=r.n()).done;){var l=s.value,i=l.substr(0,2),b=i.toUpperCase(),d=l.toUpperCase();t.has(i)?(t.set(i,[].concat(Object(o["a"])(t.get(i)),[l])),t.set(b,[].concat(Object(o["a"])(t.get(b)),[d]))):(t.set(i,[l]),t.set(b,[d]))}}catch(f){r.e(f)}finally{r.f()}}}catch(f){a.e(f)}finally{a.f()}return t},suggestions:function(){return[].concat(Object(o["a"])(this.contextSuggestions),Object(o["a"])(this.methodSuggestions),[this.topLevelSuggestions])}}),mounted:function(){var e=this.$refs.input;this.suggest=new i.a({caseSensitive:!1,suggestions:this.suggestions,onChange:function(){return e.dispatchEvent(new Event("input"))}},e)}},p=m,v=a("2877"),k=Object(v["a"])(p,s,c,!1,null,null,null);t["a"]=k.exports},"792f":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block-id text-right"},[a("small",{staticClass:"text-muted"},[e._v(e._s(e._f("trans")("flow-builder.block-id"))+": "),a("em",[e._v(e._s(e.blockId))])])])},c=[],n=a("276c"),o=a("e954"),r=a("2c4c"),l=a("920b"),i=a("92a6"),b=a("fc11"),u=(a("99af"),a("9ab4")),d=a("1b40"),f=a("4a51"),j=a("2fe1"),m=function(e){Object(l["a"])(a,e);var t=Object(i["a"])(a);function a(){var e;Object(n["a"])(this,a);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),Object(b["a"])(Object(r["a"])(e),"block",void 0),e}return Object(o["a"])(a,[{key:"blockId",get:function(){return this.block.uuid||""}}]),a}(Object(j["c"])(f["a"]));Object(u["__decorate"])([Object(d["b"])()],m.prototype,"block",void 0),m=Object(u["__decorate"])([Object(d["a"])({})],m);var p=m,v=p,k=a("2877"),h=Object(k["a"])(v,s,c,!1,null,null,null);t["a"]=h.exports},ab96:function(e,t,a){var s={"./af":"8872","./af.js":"8872","./ar":"bb32","./ar-dz":"f38b","./ar-dz.js":"f38b","./ar-kw":"8a87","./ar-kw.js":"8a87","./ar-ly":"119f","./ar-ly.js":"119f","./ar-ma":"de6a","./ar-ma.js":"de6a","./ar-sa":"ab35","./ar-sa.js":"ab35","./ar-tn":"7068","./ar-tn.js":"7068","./ar.js":"bb32","./az":"32c8","./az.js":"32c8","./be":"a569","./be.js":"a569","./bg":"911b","./bg.js":"911b","./bm":"cade","./bm.js":"cade","./bn":"b059","./bn-bd":"60a6","./bn-bd.js":"60a6","./bn.js":"b059","./bo":"0b7e","./bo.js":"0b7e","./br":"7beb","./br.js":"7beb","./bs":"44a7","./bs.js":"44a7","./ca":"5978","./ca.js":"5978","./cs":"3e30","./cs.js":"3e30","./cv":"90d4","./cv.js":"90d4","./cy":"893a","./cy.js":"893a","./da":"673f","./da.js":"673f","./de":"745c","./de-at":"beab","./de-at.js":"beab","./de-ch":"5939","./de-ch.js":"5939","./de.js":"745c","./dv":"4da0","./dv.js":"4da0","./el":"6f8c","./el.js":"6f8c","./en-au":"8a25","./en-au.js":"8a25","./en-ca":"2e5f","./en-ca.js":"2e5f","./en-gb":"0787","./en-gb.js":"0787","./en-ie":"a30f3","./en-ie.js":"a30f3","./en-il":"45c0","./en-il.js":"45c0","./en-in":"3c1e","./en-in.js":"3c1e","./en-nz":"ff2e","./en-nz.js":"ff2e","./en-sg":"f14d","./en-sg.js":"f14d","./eo":"69bc","./eo.js":"69bc","./es":"f88f","./es-do":"66dc","./es-do.js":"66dc","./es-mx":"10af","./es-mx.js":"10af","./es-us":"e89d","./es-us.js":"e89d","./es.js":"f88f","./et":"71be","./et.js":"71be","./eu":"7780","./eu.js":"7780","./fa":"0b63","./fa.js":"0b63","./fi":"a33d","./fi.js":"a33d","./fil":"3dbd","./fil.js":"3dbd","./fo":"fc63","./fo.js":"fc63","./fr":"9a51","./fr-ca":"cda8","./fr-ca.js":"cda8","./fr-ch":"4a7d","./fr-ch.js":"4a7d","./fr.js":"9a51","./fy":"854a","./fy.js":"854a","./ga":"4489","./ga.js":"4489","./gd":"c0d5","./gd.js":"c0d5","./gl":"4530","./gl.js":"4530","./gom-deva":"8967","./gom-deva.js":"8967","./gom-latn":"2ef4","./gom-latn.js":"2ef4","./gu":"cbd2","./gu.js":"cbd2","./he":"c2f9","./he.js":"c2f9","./hi":"77fe","./hi.js":"77fe","./hr":"a34a","./hr.js":"a34a","./hu":"8d44","./hu.js":"8d44","./hy-am":"c920","./hy-am.js":"c920","./id":"4197","./id.js":"4197","./is":"540c","./is.js":"540c","./it":"2f58","./it-ch":"a347","./it-ch.js":"a347","./it.js":"2f58","./ja":"f6f6","./ja.js":"f6f6","./jv":"99f1","./jv.js":"99f1","./ka":"60e4","./ka.js":"60e4","./kk":"17f2","./kk.js":"17f2","./km":"ec19","./km.js":"ec19","./kn":"2216","./kn.js":"2216","./ko":"dba2","./ko.js":"dba2","./ku":"917e","./ku.js":"917e","./ky":"3ad1","./ky.js":"3ad1","./lb":"cb9a","./lb.js":"cb9a","./lo":"786a","./lo.js":"786a","./lt":"0eeb","./lt.js":"0eeb","./lv":"0716","./lv.js":"0716","./me":"325a","./me.js":"325a","./mi":"7732","./mi.js":"7732","./mk":"2fde","./mk.js":"2fde","./ml":"9991","./ml.js":"9991","./mn":"fb02","./mn.js":"fb02","./mr":"623d","./mr.js":"623d","./ms":"a904","./ms-my":"d801","./ms-my.js":"d801","./ms.js":"a904","./mt":"ddbe","./mt.js":"ddbe","./my":"c740","./my.js":"c740","./nb":"8196","./nb.js":"8196","./ne":"1f2a","./ne.js":"1f2a","./nl":"e056","./nl-be":"325b","./nl-be.js":"325b","./nl.js":"e056","./nn":"b7b0","./nn.js":"b7b0","./oc-lnc":"57c8","./oc-lnc.js":"57c8","./pa-in":"99c7","./pa-in.js":"99c7","./pl":"5919","./pl.js":"5919","./pt":"d9ae","./pt-br":"d851","./pt-br.js":"d851","./pt.js":"d9ae","./ro":"ce90","./ro.js":"ce90","./ru":"87a5","./ru.js":"87a5","./sd":"235c","./sd.js":"235c","./se":"839b","./se.js":"839b","./si":"2dd2","./si.js":"2dd2","./sk":"8cd8","./sk.js":"8cd8","./sl":"2a76","./sl.js":"2a76","./sq":"4a4d","./sq.js":"4a4d","./sr":"1632","./sr-cyrl":"73fd","./sr-cyrl.js":"73fd","./sr.js":"1632","./ss":"052a","./ss.js":"052a","./sv":"cb84b","./sv.js":"cb84b","./sw":"b126","./sw.js":"b126","./ta":"f946","./ta.js":"f946","./te":"399d","./te.js":"399d","./tet":"8d77","./tet.js":"8d77","./tg":"6588","./tg.js":"6588","./th":"462a","./th.js":"462a","./tk":"7d6b","./tk.js":"7d6b","./tl-ph":"27ff","./tl-ph.js":"27ff","./tlh":"1239","./tlh.js":"1239","./tr":"09a0","./tr.js":"09a0","./tzl":"e9ca","./tzl.js":"e9ca","./tzm":"d954","./tzm-latn":"e577","./tzm-latn.js":"e577","./tzm.js":"d954","./ug-cn":"5756","./ug-cn.js":"5756","./uk":"7c79","./uk.js":"7c79","./ur":"fb86","./ur.js":"fb86","./uz":"e487","./uz-latn":"251a","./uz-latn.js":"251a","./uz.js":"e487","./vi":"9681","./vi.js":"9681","./x-pseudo":"8e0c","./x-pseudo.js":"8e0c","./yo":"5cf8","./yo.js":"5cf8","./zh-cn":"96ae","./zh-cn.js":"96ae","./zh-hk":"7e5c","./zh-hk.js":"7e5c","./zh-mo":"eb4b","./zh-mo.js":"eb4b","./zh-tw":"623f","./zh-tw.js":"623f"};function c(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}c.keys=function(){return Object.keys(s)},c.resolve=n,e.exports=c,c.id="ab96"},f04e:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/name"},scopedSlots:e._u([{key:"input-control",fn:function(t){var s=t.isValid;return[a("div",{staticClass:"block-name"},[a("text-editor",{attrs:{label:e._f("trans")("flow-builder.block-name"),placeholder:e._f("trans")("flow-builder.enter-block-name"),"valid-state":s},on:{keydown:e.filterName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("small",{staticClass:"text-muted"},[e._v(" "+e._s(e._f("trans")("flow-builder.only-accepts-word-characters"))+" ")])])],1)]}}])})},c=[],n=a("f3f3"),o=(a("b0c0"),a("ac1f"),a("466d"),a("2f62")),r=a("d883"),l=a("4a51"),i=a("21e9"),b={components:{TextEditor:r["a"],ValidationMessage:i["a"]},mixins:[l["b"]],props:{block:{type:Object,required:!0}},computed:{name:{get:function(){return this.block.name},set:function(e){this.block_setName({blockId:this.block.uuid,value:e})}}},methods:Object(n["a"])(Object(n["a"])({},Object(o["c"])("flow",["block_setName"])),{},{filterName:function(e){e.key.match(/\W+|Enter/g)&&e.preventDefault()}})},u=b,d=a("2877"),f=Object(d["a"])(u,s,c,!1,null,null,null);t["a"]=f.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.3.js.map
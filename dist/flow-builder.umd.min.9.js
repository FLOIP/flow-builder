(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[9],{"0197":function(e,t,o){var r=o("5cf7");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=o("499e").default;a("6fd15704",r,!0,{sourceMap:!1,shadowMode:!1})},"521f":function(e,t,o){"use strict";var r=o("0197"),a=o.n(r);a.a},"5cf7":function(e,t,o){var r=o("24fb");t=r(!1),t.push([e.i,".invalid[data-v-3ea46a4c] .multiselect__tags{border-color:#dc3545}",""]),e.exports=t},"84d1":function(e,t,o){"use strict";o.r(t),o.d(t,"install",(function(){return H}));var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"core-set-contact-property-block"},[o("h3",{staticClass:"no-room-above"},[e._v(" "+e._s(e._f("trans")("flow-builder.edit-block-type",{block_type:e.trans("flow-builder."+e.block.type)}))+" ")]),o("fieldset",{attrs:{disabled:!e.isEditable}},[o("block-name-editor",{attrs:{block:e.block}}),o("block-label-editor",{attrs:{block:e.block}}),o("block-semantic-label-editor",{attrs:{block:e.block}}),o("contact-property-selector",{attrs:{block:e.block}}),o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/set_contact_property/property_value"},scopedSlots:e._u([{key:"input-control",fn:function(t){var r=t.isValid;return[o("expression-input",{attrs:{label:e._f("trans")("flow-builder.contact-property-expression"),placeholder:e._f("trans")("flow-builder.edit-expression"),"current-expression":e.propertyValue,"valid-state":r},on:{commitExpressionChange:e.commitExpressionChange}})]}}])}),e._t("extras"),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}})],2),o("block-id",{attrs:{block:e.block}})],1)},a=[],c=o("276c"),n=o("e954"),l=o("2c4c"),i=o("920b"),s=o("92a6"),b=o("fc11"),p=(o("99af"),o("9ab4")),u=o("4bb5"),d=o("1b40"),f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("validation-message",{attrs:{"message-key":"block/"+e.block.uuid+"/config/set_contact_property/property_key"},scopedSlots:e._u([{key:"input-control",fn:function(t){var r=t.isValid;return[o("div",{staticClass:"block-contact-property"},[o("label",[e._v(e._s(e._f("trans")("flow-builder.contact-property-label")))]),o("vue-multiselect",{class:{invalid:!1===r},attrs:{"track-by":"id",label:"displayLabel",placeholder:e._f("trans")("flow-builder.contact-property-selector-placeholder"),options:e.subscriberPropertyFields||[],"allow-empty":!1,"show-labels":!1,searchable:!0},model:{value:e.selectedProperty,callback:function(t){e.selectedProperty=t},expression:"selectedProperty"}})],1)]}}])})},y=[],_=(o("b0c0"),o("8e5f")),k=o.n(_),v=o("4a51"),j=o("2ef0"),O=o("2fe1"),h=o("21e9"),m=Object(u["e"])("flow"),g=function(e){Object(i["a"])(o,e);var t=Object(s["a"])(o);function o(){var e;Object(c["a"])(this,o);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a)),Object(b["a"])(Object(l["a"])(e),"block",void 0),Object(b["a"])(Object(l["a"])(e),"block_updateConfigByPath",void 0),Object(b["a"])(Object(l["a"])(e),"subscriberPropertyFields",void 0),e}return Object(n["a"])(o,[{key:"selectedProperty",get:function(){var e=this.block.config.set_contact_property.property_key;if(!e)return{};var t=Object(j["find"])(this.subscriberPropertyFields,{name:e});return t||{}},set:function(e){this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_key",value:e.name})}}]),o}(Object(O["c"])(v["a"]));Object(p["__decorate"])([Object(d["b"])()],g.prototype,"block",void 0),Object(p["__decorate"])([m.Mutation],g.prototype,"block_updateConfigByPath",void 0),Object(p["__decorate"])([u["b"]],g.prototype,"subscriberPropertyFields",void 0),g=Object(p["__decorate"])([Object(d["a"])({components:{VueMultiselect:k.a,ValidationMessage:h["a"]}})],g);var w=g,x=w,E=(o("521f"),o("2877")),P=Object(E["a"])(x,f,y,!1,null,"3ea46a4c",null),C=P.exports,B=o("c964"),S=(o("96cf"),o("31aa")),V="Core.SetContactProperty",I={},M={},F={editSetContactPropertyExpression:function(e,t){return Object(B["a"])(regeneratorRuntime.mark((function o(){var r,a,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=e.commit,a=t.blockId,c=t.value,r("flow/block_updateConfigByPath",{blockId:a,path:"set_contact_property.property_value",value:c},{root:!0}),o.abrupt("return",c);case 4:case"end":return o.stop()}}),o)})))()},createWith:function(e,t){return Object(B["a"])(regeneratorRuntime.mark((function o(){var r,a,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=e.dispatch,a=t.props,o.t0=r,o.next=5,(new S["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1,tag:"Default",label:"Default"},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,c=[o.t5],o.abrupt("return",Object(j["defaultsDeep"])(a,{type:V,name:"",label:"",semantic_label:"",config:{set_contact_property:{property_key:"",property_value:""}},exits:c}));case 14:case"end":return o.stop()}}),o)})))()}},D={namespaced:!0,getters:I,mutations:M,actions:F},R=o("af98"),A=o("6faa"),L=o("792f"),G=o("192b"),J=o("1b4e"),W=o("3411"),$=o("f04e"),N=Object(u["e"])("flow/".concat(V)),U=Object(u["e"])("builder"),q=function(e){Object(i["a"])(o,e);var t=Object(s["a"])(o);function o(){var e;Object(c["a"])(this,o);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a)),Object(b["a"])(Object(l["a"])(e),"block",void 0),Object(b["a"])(Object(l["a"])(e),"flow",void 0),Object(b["a"])(Object(l["a"])(e),"editSetContactPropertyExpression",void 0),Object(b["a"])(Object(l["a"])(e),"isEditable",void 0),e}return Object(n["a"])(o,[{key:"propertyValue",get:function(){return Object(j["get"])(this.block,"config.set_contact_property.property_value","")}},{key:"commitExpressionChange",value:function(e){return this.editSetContactPropertyExpression({blockId:this.block.uuid,value:e})}}]),o}(Object(O["c"])(v["a"]));Object(p["__decorate"])([Object(d["b"])()],q.prototype,"block",void 0),Object(p["__decorate"])([Object(d["b"])()],q.prototype,"flow",void 0),Object(p["__decorate"])([N.Action],q.prototype,"editSetContactPropertyExpression",void 0),Object(p["__decorate"])([U.Getter],q.prototype,"isEditable",void 0),q=Object(p["__decorate"])([Object(d["a"])({components:{ExpressionInput:A["a"],BlockNameEditor:$["a"],BlockLabelEditor:W["a"],BlockSemanticLabelEditor:J["a"],FirstBlockEditorButton:G["a"],BlockId:L["a"],ContactPropertySelector:C,ValidationMessage:h["a"]}})],q);var z=q,H=Object(R["c"])(V,D),K=z,Q=Object(E["a"])(K,r,a,!1,null,null,null);t["default"]=Q.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.9.js.map
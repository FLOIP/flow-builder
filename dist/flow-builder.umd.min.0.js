(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[0],{"192b":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"starting-block-button"},[t.isEditable?[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-sm w-100",class:{"btn-outline-primary":!t.isStartBlock,"btn-primary":t.isStartBlock},attrs:{type:"button",disabled:t.isStartBlock},on:{click:function(e){return t.setStartBlock(e)}}},[a("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fac","enter"]}}),t.isStartBlock?[t._v(" "+t._s(t._f("trans")("flow-builder.currently-set-as-starting-block"))+" ")]:[t._v(" "+t._s(t._f("trans")("flow-builder.set-as-starting-block"))+" ")]],2)])]:t._e()],2)},c=[],l=a("276c"),r=a("e954"),s=a("2c4c"),i=a("920b"),n=a("92a6"),b=a("fc11"),u=(a("99af"),a("9ab4")),d=a("1b40"),p=a("4a51"),f=a("4bb5"),_=a("2fe1"),O=Object(f["e"])("flow"),k=function(t){Object(i["a"])(a,t);var e=Object(n["a"])(a);function a(){var t;Object(l["a"])(this,a);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c)),Object(b["a"])(Object(s["a"])(t),"isEditable",void 0),Object(b["a"])(Object(s["a"])(t),"blockId",void 0),Object(b["a"])(Object(s["a"])(t),"flow",void 0),Object(b["a"])(Object(s["a"])(t),"flow_setFirstBlockId",void 0),t}return Object(r["a"])(a,[{key:"isStartBlock",get:function(){return this.blockId===this.flow.first_block_id}},{key:"setStartBlock",value:function(t){var e=this.flow.uuid,a=this.blockId;this.flow_setFirstBlockId({flowId:e,blockId:a})}}]),a}(Object(_["c"])(p["a"]));Object(u["__decorate"])([Object(d["b"])({default:!0})],k.prototype,"isEditable",void 0),Object(u["__decorate"])([Object(d["b"])()],k.prototype,"blockId",void 0),Object(u["__decorate"])([Object(d["b"])()],k.prototype,"flow",void 0),Object(u["__decorate"])([O.Mutation],k.prototype,"flow_setFirstBlockId",void 0),k=Object(u["__decorate"])([Object(d["a"])({})],k);var v=k,y=v,h=a("2877"),j=Object(h["a"])(y,o,c,!1,null,null,null);e["a"]=j.exports},"1b4e":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/semantic_label"},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[a("div",{staticClass:"block-semantic-label"},[a("text-editor",{attrs:{label:t._f("trans")("flow-builder.block-exit-semantic-label"),placeholder:t._f("trans")("flow-builder.enter-block-semantic-label"),"valid-state":o},model:{value:t.semanticLabel,callback:function(e){t.semanticLabel=e},expression:"semanticLabel"}})],1)]}}])})},c=[],l=a("f3f3"),r=a("2f62"),s=a("4a51"),i=a("21e9"),n=a("d883"),b={components:{TextEditor:n["a"],ValidationMessage:i["a"]},mixins:[s["b"]],props:{block:{type:Object,required:!0}},computed:{semanticLabel:{get:function(){return this.block.semantic_label||""},set:function(t){this.block_setSemanticLabel({blockId:this.block.uuid,value:t})}}},methods:Object(l["a"])({},Object(r["c"])("flow",["block_setSemanticLabel"]))},u=b,d=a("2877"),p=Object(d["a"])(u,o,c,!1,null,null,null);e["a"]=p.exports},3411:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mb-3"},[a("label",{staticClass:"text-primary"},[t._v(t._s(t._f("trans")("flow-builder.title")))]),a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/label"},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[a("div",{staticClass:"d-flex"},[a("text-editor",{staticClass:"w-100",attrs:{label:"",placeholder:t._f("trans")("flow-builder.enter-title"),"valid-state":o},model:{value:t.blockLabel,callback:function(e){t.blockLabel=e},expression:"blockLabel"}}),a("span",{staticClass:"btn btn-outline-primary btn-xs align-self-center ml-2",on:{click:t.emitGearClickedEvent}},[a("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fac","settings"]}})],1)],1)]}}])})],1)},c=[],l=a("276c"),r=a("e954"),s=a("2c4c"),i=a("920b"),n=a("92a6"),b=a("fc11"),u=(a("99af"),a("9ab4")),d=a("1b40"),p=a("d883"),f=a("21e9"),_=a("2fe1"),O=a("4a51"),k=a("4bb5"),v=Object(k["e"])("flow"),y=function(t){Object(i["a"])(a,t);var e=Object(n["a"])(a);function a(){var t;Object(l["a"])(this,a);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c)),Object(b["a"])(Object(s["a"])(t),"block",void 0),Object(b["a"])(Object(s["a"])(t),"block_setLabel",void 0),t}return Object(r["a"])(a,[{key:"blockLabel",get:function(){return this.block.label},set:function(t){this.block_setLabel({blockId:this.block.uuid,value:t})}},{key:"emitGearClickedEvent",value:function(){this.$emit("gearClicked")}}]),a}(Object(_["c"])(O["a"]));Object(u["__decorate"])([Object(d["b"])()],y.prototype,"block",void 0),Object(u["__decorate"])([v.Action],y.prototype,"block_setLabel",void 0),y=Object(u["__decorate"])([Object(d["a"])({components:{TextEditor:p["a"],ValidationMessage:f["a"]}})],y);var h=y,j=h,m=a("2877"),g=Object(m["a"])(j,o,c,!1,null,null,null);e["a"]=g.exports},"792f":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-id text-right"},[a("small",{staticClass:"text-muted"},[t._v(t._s(t._f("trans")("flow-builder.block-id"))+": "),a("em",[t._v(t._s(t.blockId))])])])},c=[],l=a("276c"),r=a("e954"),s=a("2c4c"),i=a("920b"),n=a("92a6"),b=a("fc11"),u=(a("99af"),a("9ab4")),d=a("1b40"),p=a("4a51"),f=a("2fe1"),_=function(t){Object(i["a"])(a,t);var e=Object(n["a"])(a);function a(){var t;Object(l["a"])(this,a);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c)),Object(b["a"])(Object(s["a"])(t),"block",void 0),t}return Object(r["a"])(a,[{key:"blockId",get:function(){return this.block.uuid||""}}]),a}(Object(f["c"])(p["a"]));Object(u["__decorate"])([Object(d["b"])()],_.prototype,"block",void 0),_=Object(u["__decorate"])([Object(d["a"])({})],_);var O=_,k=O,v=a("2877"),y=Object(v["a"])(k,o,c,!1,null,null,null);e["a"]=y.exports},8619:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-categorization"},[a("hr"),a("label",{staticClass:"text-primary"},[t._v(t._s(t._f("trans")("flow-builder.categorization")))]),a("tag-selector",{attrs:{block:t.block}})],1)},c=[],l=a("276c"),r=a("2c4c"),s=a("920b"),i=a("92a6"),n=a("fc11"),b=(a("99af"),a("9ab4")),u=a("1b40"),d=a("4a51"),p=a("2fe1"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/tags"},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[a("div",{staticClass:"block-group"},[a("label",[t._v(t._s(t._f("trans")("flow-builder.tags-label")))]),a("vue-multiselect",{class:{invalid:!1===o},attrs:{"track-by":"name",label:"name",multiple:!0,placeholder:t._f("trans")("flow-builder.tags-selector-placeholder"),options:t.availableTagOptions,searchable:!0,"show-labels":!1,"close-on-select":!1,taggable:t.taggable,"tag-placeholder":t.taggable?t.trans("flow-builder.create-a-tag-prompt"):""},on:{tag:t.addTag},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1)]}}])})},_=[],O=a("e954"),k=a("8e5f"),v=a.n(k),y=a("4bb5"),h=a("2ef0"),j=a("21e9"),m=Object(y["e"])("flow"),g=function(t){Object(s["a"])(a,t);var e=Object(i["a"])(a);function a(){var t;Object(l["a"])(this,a);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return t=e.call.apply(e,[this].concat(c)),Object(n["a"])(Object(r["a"])(t),"block",void 0),Object(n["a"])(Object(r["a"])(t),"taggable",void 0),Object(n["a"])(Object(r["a"])(t),"block_setTags",void 0),Object(n["a"])(Object(r["a"])(t),"block_addTag",void 0),Object(n["a"])(Object(r["a"])(t),"blockTags",void 0),t}return Object(O["a"])(a,[{key:"selectedTags",get:function(){return this.stringListToOptions(this.block.tags||[])},set:function(t){this.block_setTags({blockId:this.block.uuid,value:Object(h["map"])(t,"name")})}},{key:"availableTagOptions",get:function(){return this.stringListToOptions(this.blockTags)}},{key:"stringListToOptions",value:function(t){return Object(h["map"])(t,(function(t){return{id:t,name:t}}))}},{key:"addTag",value:function(t){this.blockTags.push(t),this.block_addTag({blockId:this.block.uuid,value:t})}}]),a}(Object(p["c"])(d["a"]));Object(b["__decorate"])([Object(u["b"])()],g.prototype,"block",void 0),Object(b["__decorate"])([Object(u["b"])({default:!0})],g.prototype,"taggable",void 0),Object(b["__decorate"])([m.Mutation],g.prototype,"block_setTags",void 0),Object(b["__decorate"])([m.Mutation],g.prototype,"block_addTag",void 0),Object(b["__decorate"])([Object(y["d"])((function(t){var e=t.trees.ui.blockTags;return e}))],g.prototype,"blockTags",void 0),g=Object(b["__decorate"])([Object(u["a"])({components:{VueMultiselect:v.a,ValidationMessage:j["a"]}})],g);var C=g,P=C,E=(a("e178"),a("2877")),w=Object(E["a"])(P,f,_,!1,null,"3ba9fc3a",null),T=w.exports,V=function(t){Object(s["a"])(a,t);var e=Object(i["a"])(a);function a(){var t;Object(l["a"])(this,a);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return t=e.call.apply(e,[this].concat(c)),Object(n["a"])(Object(r["a"])(t),"block",void 0),t}return a}(Object(p["c"])(d["a"]));Object(b["__decorate"])([Object(u["b"])()],V.prototype,"block",void 0),V=Object(b["__decorate"])([Object(u["a"])({components:{TagSelector:T}})],V);var S=V,x=S,R=Object(E["a"])(x,o,c,!1,null,null,null);e["a"]=R.exports},b4ec:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"generic-contact-property-editor"},[a("hr"),a("label",{staticClass:"text-primary"},[t._v(t._s(t._f("trans")("flow-builder.contact-properties")))]),a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{id:"setContactProperty",type:"checkbox",name:"setContactProperty"},domProps:{value:t.shouldSetContactProperty,checked:t.shouldSetContactProperty},on:{change:t.toggleSetContactProperty}}),a("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setContactProperty"}},[t._v(" "+t._s(t._f("trans")("flow-builder.set-contact-property-with-response"))+" ")])]),t.shouldSetContactProperty?a("div",{staticClass:"form-group"},[a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/set_contact_property/property_key"},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[a("div",{staticClass:"block-contact-property-key"},[a("text-editor",{attrs:{value:t.propertyKey,label:t._f("trans")("flow-builder.property"),"label-class":"",placeholder:t._f("trans")("flow-builder.enter-contact-property-label"),"valid-state":o},on:{input:t.updatePropertyKey}})],1)]}}],null,!1,477660232)}),a("label",[t._v(t._s(t._f("trans")("flow-builder.value")))]),t.isBlockInteractive(t.block)?a("div",{staticClass:"form-group"},[a("div",{staticClass:"custom-control custom-radio"},[a("input",{staticClass:"custom-control-input",attrs:{id:"setProp",type:"radio",name:"contactPropAction"},domProps:{checked:t.propertyValueAction===t.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE,value:t.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE},on:{change:t.updatePropertyValueAction}}),a("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setProp"}},[t._v(" "+t._s(t._f("trans")("flow-builder.entry-from-this-block"))+" ")])]),a("div",{staticClass:"custom-control custom-radio"},[a("input",{staticClass:"custom-control-input",attrs:{id:"clearProp",type:"radio",name:"contactPropAction"},domProps:{checked:t.propertyValueAction===t.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION,value:t.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION},on:{change:t.updatePropertyValueAction}}),a("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"clearProp"}},[t._v(" "+t._s(t._f("trans")("flow-builder.expression"))+" ")])])]):t._e(),t.shouldUseOpenExpression?a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/set_contact_property/property_value"},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[a("expression-input",{attrs:{label:"",placeholder:t._f("trans")("flow-builder.enter-expression"),"current-expression":t.propertyValue,"valid-state":o},on:{commitExpressionChange:t.updatePropertyValue}})]}}],null,!1,3441631689)}):t._e()],1):t._e()])},c=[],l=a("276c"),r=a("e954"),s=a("2c4c"),i=a("920b"),n=a("92a6"),b=a("fc11"),u=(a("99af"),a("9ab4")),d=a("1b40"),p=a("4bb5"),f=a("4a51"),_=a("2ef0"),O=a("2fe1"),k=a("21e9"),v=a("6faa"),y=a("d883"),h=a("6df9"),j=Object(p["e"])("flow"),m="",g="@block.value",C=function(t){Object(i["a"])(a,t);var e=Object(n["a"])(a);function a(){var t;Object(l["a"])(this,a);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c)),Object(b["a"])(Object(s["a"])(t),"block",void 0),Object(b["a"])(Object(s["a"])(t),"shouldSetContactProperty",!1),Object(b["a"])(Object(s["a"])(t),"PROPERTY_VALUE_ACTION",{OPEN_EXPRESSION:"openExpression",FROM_CURRENT_BLOCK_RESPONSE:"fromCurrentBlockResponse"}),Object(b["a"])(Object(s["a"])(t),"propertyValueAction",""),Object(b["a"])(Object(s["a"])(t),"propertyKey",""),Object(b["a"])(Object(s["a"])(t),"propertyValue",""),Object(b["a"])(Object(s["a"])(t),"block_updateConfigByPath",void 0),Object(b["a"])(Object(s["a"])(t),"block_updateVendorMetadataByPath",void 0),Object(b["a"])(Object(s["a"])(t),"block_removeConfigByKey",void 0),t}return Object(r["a"])(a,[{key:"created",value:function(){this.shouldSetContactProperty=Object(_["has"])(this.block.config,"set_contact_property"),this.propertyKey=Object(_["get"])(this.block.config.set_contact_property,"property_key",""),this.propertyValue=Object(_["get"])(this.block.config.set_contact_property,"property_value",null),null===this.propertyValue&&(this.isBlockInteractive(this.block)?this.propertyValue=g:this.propertyValue=m),this.initPropertyValueAction()}},{key:"isBlockInteractive",value:function(t){return Object(h["c"])(t)}},{key:"toggleSetContactProperty",value:function(){this.shouldSetContactProperty=!this.shouldSetContactProperty,this.shouldSetContactProperty?this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property",value:{property_key:this.propertyKey,property_value:this.shouldUseOpenExpression?m:this.propertyValue}}):this.block_removeConfigByKey({blockId:this.block.uuid,key:"set_contact_property"})}},{key:"initPropertyValueAction",value:function(){this.propertyValue===g?this.propertyValueAction=this.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE:this.propertyValueAction=this.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION}},{key:"updatePropertyValueAction",value:function(t){var e=t.target.value;this.propertyValueAction=e,e===this.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE?this.updatePropertyValue(g):this.updatePropertyValue(m)}},{key:"shouldUseOpenExpression",get:function(){return this.propertyValueAction===this.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION}},{key:"updatePropertyKey",value:function(t){this.propertyKey=t,this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_key",value:t})}},{key:"updatePropertyValue",value:function(t){this.propertyValue=t,this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_value",value:t})}}]),a}(Object(O["c"])(f["a"]));Object(u["__decorate"])([Object(d["b"])()],C.prototype,"block",void 0),Object(u["__decorate"])([j.Mutation],C.prototype,"block_updateConfigByPath",void 0),Object(u["__decorate"])([j.Mutation],C.prototype,"block_updateVendorMetadataByPath",void 0),Object(u["__decorate"])([j.Mutation],C.prototype,"block_removeConfigByKey",void 0),C=Object(u["__decorate"])([Object(d["a"])({components:{TextEditor:y["a"],ExpressionInput:v["a"],ValidationMessage:k["a"]}})],C);var P=C,E=P,w=a("2877"),T=Object(w["a"])(E,o,c,!1,null,null,null);e["a"]=T.exports},d3bd:function(t,e,a){},e178:function(t,e,a){"use strict";var o=a("e4e4"),c=a.n(o);c.a},e4e4:function(t,e,a){},ee9f:function(t,e,a){"use strict";var o=a("d3bd"),c=a.n(o);c.a},f04e:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/name"},scopedSlots:t._u([{key:"input-control",fn:function(e){var o=e.isValid;return[t.editBlockName||!1===o?a("div",[a("h6",[t._v(t._s(t._f("trans")("flow-builder.edit-block-code")))]),a("div",{staticClass:"d-flex"},[a("text-editor",{staticClass:"w-100",attrs:{label:"",placeholder:t._f("trans")("flow-builder.enter-block-code"),"valid-state":o},on:{keydown:t.filterName},model:{value:t.blockName,callback:function(e){t.blockName=e},expression:"blockName"}}),a("span",{staticClass:"btn btn-primary btn-xs align-self-center ml-2",on:{click:function(e){t.editBlockName=!1}}},[a("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["fas","check"]}})],1)],1)]):a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"block-code align-self-center"},[a("h6",{staticClass:"d-inline"},[t._v(t._s(t._f("trans")("flow-builder.code"))+":")]),a("span",[t._v(" "+t._s(t.blockName)+" ")])]),a("span",{staticClass:"btn btn-primary btn-xs align-self-baseline ml-2",on:{click:function(e){t.editBlockName=!0}}},[a("font-awesome-icon",{staticClass:"fa-btn",attrs:{icon:["far","edit"]}})],1)])]}}])})],1)},c=[],l=a("276c"),r=a("e954"),s=a("2c4c"),i=a("920b"),n=a("92a6"),b=a("fc11"),u=(a("99af"),a("b0c0"),a("ac1f"),a("466d"),a("9ab4")),d=a("1b40"),p=a("21e9"),f=a("2fe1"),_=a("4a51"),O=a("4bb5"),k=a("d883"),v=Object(O["e"])("flow"),y=function(t){Object(i["a"])(a,t);var e=Object(n["a"])(a);function a(){var t;Object(l["a"])(this,a);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c)),Object(b["a"])(Object(s["a"])(t),"editBlockName",!1),Object(b["a"])(Object(s["a"])(t),"block",void 0),Object(b["a"])(Object(s["a"])(t),"block_setName",void 0),t}return Object(r["a"])(a,[{key:"blockName",get:function(){return this.block.name},set:function(t){this.block_setName({blockId:this.block.uuid,value:t})}},{key:"filterName",value:function(t){t.key.match(/\W+|Enter/g)&&t.preventDefault()}}]),a}(Object(f["c"])(_["a"]));Object(u["__decorate"])([Object(d["b"])()],y.prototype,"block",void 0),Object(u["__decorate"])([v.Mutation],y.prototype,"block_setName",void 0),y=Object(u["__decorate"])([Object(d["a"])({components:{TextEditor:k["a"],ValidationMessage:p["a"]}})],y);var h=y,j=h,m=(a("ee9f"),a("2877")),g=Object(m["a"])(j,o,c,!1,null,"5617e28e",null);e["a"]=g.exports}}]);
//# sourceMappingURL=flow-builder.umd.min.0.js.map
(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[7,8],{"03d5":function(e,t,o){"use strict";o.r(t),o.d(t,"MobilePrimitives_SelectManyResponseBlock",(function(){return F})),o.d(t,"install",(function(){return I}));var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",{staticClass:"no-room-above"},[e._v(" "+e._s(e._f("trans")("flow-builder.edit-block-type",{block_type:e.trans("flow-builder."+e.block.type)}))+" ")]),o("block-name-editor",{attrs:{block:e.block}}),o("block-label-editor",{attrs:{block:e.block}}),o("block-semantic-label-editor",{attrs:{block:e.block}}),o("div",{staticClass:"prompt-resource"},[e.promptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.prompt"),resource:e.promptResource,flow:e.flow}}):e._e()],1),o("div",{staticClass:"question-prompt-resource"},[e.questionPromptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.question-prompt"),resource:e.questionPromptResource,flow:e.flow}}):e._e()],1),o("div",{staticClass:"choices-prompt-resource"},[e.choicesPromptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.choices-prompt"),resource:e.choicesPromptResource,flow:e.flow}}):e._e()],1),e._l(Object.keys(e.inflatedChoices),(function(t){return o("div",{staticClass:"form-group form-inline"},[o("resource-editor",{attrs:{label:"Choice "+t,resource:e.inflatedChoices[t],flow:e.flow}})],1)})),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}}),o("block-id",{attrs:{block:e.block}})],2)},c=[],n=o("d4ec"),i=o("262e"),s=o("2caf"),a=o("9ab4"),l=o("60a3"),u=o("f04e"),d=o("3411"),b=o("1b4e"),f=o("192b"),p=o("510a"),k=o("792f"),h=o("5c47"),m=(o("96cf"),o("1da1")),w=o("5530"),v=o("ecef"),_=o("31aa"),O=o.n(_),g=o("2ef0"),j="MobilePrimitives\\SelectManyResponse",y=Object(w["a"])({},v["d"]),B=Object(w["a"])({},v["e"]),C=Object(w["a"])(Object(w["a"])({},v["b"]),{},{createWith:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function o(){var r,c,n,i,s,a,l,u;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.state,e.commit,r=e.dispatch,c=t.props,o.next=4,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return n=o.sent,o.next=7,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 7:return i=o.sent,o.next=10,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 10:return s=o.sent,o.next=13,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 13:return a=o.sent,l={uuid:(new O.a).generate(),tag:"Default",label:"Default"},u={uuid:(new O.a).generate(),tag:"Error",label:"Error"},o.t0=g["defaults"],o.t1=c,o.t2=j,o.next=21,r("flow/block_createBlockDefaultExitWith",{props:l},{root:!0});case 21:return o.t3=o.sent,o.next=24,r("flow/block_createBlockExitWith",{props:u},{root:!0});case 24:return o.t4=o.sent,o.t5=[o.t3,o.t4],o.t6={prompt:i.uuid,questionPrompt:s.uuid,choicesPrompt:a.uuid,choices:{1:n.uuid}},o.t7={type:o.t2,name:"",label:"",semanticLabel:"",exits:o.t5,config:o.t6},o.abrupt("return",(0,o.t0)(o.t1,o.t7));case 29:case"end":return o.stop()}}),o)})))()}}),R={namespaced:!0,getters:y,mutations:B,actions:C},x=o("4bb5"),E=o("3a37"),P=o("af98"),L=Object(x["b"])("flow/".concat(j)),F=function(e){Object(i["a"])(o,e);var t=Object(s["a"])(o);function o(){return Object(n["a"])(this,o),t.apply(this,arguments)}return o}(h["default"]);Object(a["__decorate"])([L.Getter],F.prototype,"inflatedChoices",void 0),Object(a["__decorate"])([L.Action],F.prototype,"editSelectOneResponseBlockChoice",void 0),F=Object(a["__decorate"])([Object(l["a"])({components:{BlockNameEditor:u["a"],BlockLabelEditor:d["a"],BlockSemanticLabelEditor:b["a"],FirstBlockEditorButton:f["a"],ResourceEditor:p["a"],BlockId:k["a"]},mixins:[E["a"]]})],F);var M=F,I=Object(P["b"])(j,R),A=M,q=o("2877"),S=Object(q["a"])(A,r,c,!1,null,null,null);t["default"]=S.exports},"5c47":function(e,t,o){"use strict";o.r(t),o.d(t,"MobilePrimitives_SelectOneResponseBlock",(function(){return B})),o.d(t,"install",(function(){return R}));var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",{staticClass:"no-room-above"},[e._v(" "+e._s(e._f("trans")("flow-builder.edit-block-type",{block_type:e.trans("flow-builder."+e.block.type)}))+" ")]),o("block-name-editor",{attrs:{block:e.block}}),o("block-label-editor",{attrs:{block:e.block}}),o("block-semantic-label-editor",{attrs:{block:e.block}}),o("div",{staticClass:"prompt-resource"},[e.promptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.prompt"),resource:e.promptResource,flow:e.flow}}):e._e()],1),o("div",{staticClass:"question-prompt-resource"},[e.questionPromptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.question-prompt"),resource:e.questionPromptResource,flow:e.flow}}):e._e()],1),o("div",{staticClass:"choices-prompt-resource"},[e.choicesPromptResource?o("resource-editor",{attrs:{label:e._f("trans")("flow-builder.choices-prompt"),resource:e.choicesPromptResource,flow:e.flow}}):e._e()],1),e._l(Object.keys(e.inflatedChoices),(function(t){return o("div",{staticClass:"form-group form-inline"},[o("resource-editor",{attrs:{label:"Choice "+t,resource:e.inflatedChoices[t],flow:e.flow}})],1)})),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}}),o("block-id",{attrs:{block:e.block}})],2)},c=[],n=o("d4ec"),i=o("bee2"),s=o("262e"),a=o("2caf"),l=o("9ab4"),u=o("8bbf"),d=o.n(u),b=o("4bb5"),f=o("60a3"),p=o("f04e"),k=o("3411"),h=o("1b4e"),m=o("192b"),w=o("510a"),v=o("792f"),_=o("ecef"),O=o("3a37"),g=o("af98"),j=Object(b["b"])("flow"),y=Object(b["b"])("flow/".concat(_["a"])),B=function(e){Object(s["a"])(o,e);var t=Object(a["a"])(o);function o(){return Object(n["a"])(this,o),t.apply(this,arguments)}return Object(i["a"])(o,[{key:"onChoicesChanged",value:function(e){this.editSelectOneResponseBlockChoice()}},{key:"promptResource",get:function(){return this.resourcesByUuid[this.block.config.prompt]}},{key:"questionPromptResource",get:function(){return this.resourcesByUuid[this.block.config.questionPrompt||""]}},{key:"choicesPromptResource",get:function(){return this.resourcesByUuid[this.block.config.choicesPrompt||""]}}]),o}(d.a);Object(l["__decorate"])([Object(f["b"])()],B.prototype,"block",void 0),Object(l["__decorate"])([Object(f["b"])()],B.prototype,"flow",void 0),Object(l["__decorate"])([Object(f["d"])("inflatedChoices",{deep:!0})],B.prototype,"onChoicesChanged",null),Object(l["__decorate"])([j.Getter],B.prototype,"resourcesByUuid",void 0),Object(l["__decorate"])([y.Getter],B.prototype,"inflatedChoices",void 0),Object(l["__decorate"])([y.Action],B.prototype,"editSelectOneResponseBlockChoice",void 0),B=Object(l["__decorate"])([Object(f["a"])({components:{BlockNameEditor:p["a"],BlockLabelEditor:k["a"],BlockSemanticLabelEditor:h["a"],FirstBlockEditorButton:m["a"],ResourceEditor:w["a"],BlockId:v["a"]},mixins:[O["a"]]})],B);var C=B,R=Object(g["b"])(_["a"],_["c"]),x=C,E=o("2877"),P=Object(E["a"])(x,r,c,!1,null,null,null);t["default"]=P.exports},ecef:function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"d",(function(){return u})),o.d(t,"e",(function(){return d})),o.d(t,"b",(function(){return b}));o("a623"),o("e260"),o("13d5"),o("45fc"),o("b64b"),o("d3b7"),o("ddb0"),o("96cf");var r=o("1da1"),c=o("9300"),n=o("31aa"),i=o.n(n),s=o("2ef0"),a=o("b199"),l="MobilePrimitives\\SelectOneResponse",u={inflatedChoices:function(e,t,o,r){var c=r["builder/activeBlock"],n={};return Object.keys(c.config.choices).reduce((function(e,t){return e[t]=r["flow/resourcesByUuid"][c.config.choices[t]],e}),n)},allChoicesHaveContent:function(e,t){return Object.keys(t.inflatedChoices).every((function(e){return Object(a["c"])(t.inflatedChoices[e].values,"value")}))},twoChoicesBlank:function(e,t,o,r){var c=0;return Object.keys(t.inflatedChoices).some((function(e){return Object(a["c"])(t.inflatedChoices[e].values,"value")||(c+=1),c>1}))}},d={deleteChoiceByKey:function(e,t){var o=t.choiceKeyToRemove,r=t.blockId,n=Object(c["findBlockOnActiveFlowWith"])(r,this.state.flow);delete n.config.choices[o];var i={};n.config.choices=Object.keys(n.config.choices).sort().reduce((function(e,t,o){return e[o+1]=n.config.choices[t],e}),i)},pushNewChoice:function(e,t){var o=t.choiceId,r=t.blockId,n=t.newIndex,i=Object(c["findBlockOnActiveFlowWith"])(r,this.state.flow);i.config.choices[n]=o}},b={popFirstEmptyChoice:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var o,r,c,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=e.commit,r=e.rootGetters,c=e.getters,n=Object(s["find"])(Object.keys(c.inflatedChoices),(function(e){return!Object(a["c"])(c.inflatedChoices[e].values,"value")})),!n){t.next=5;break}return o("deleteChoiceByKey",{choiceKeyToRemove:n,blockId:r["builder/activeBlock"].uuid}),t.abrupt("return",r["builder/activeBlock"].config.choices[n]);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})))()},editSelectOneResponseBlockChoice:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var o,r,c,n,a,l,u,d,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=e.commit,r=e.dispatch,c=e.getters,n=e.rootGetters,a=n["builder/activeBlock"],!c.allChoicesHaveContent){t.next=15;break}return l=parseInt(Object(s["max"])(Object.keys(a.config.choices))||"0")+1,t.next=6,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 6:if(u=t.sent,a.config.choices[l]){t.next=13;break}return o("pushNewChoice",{choiceId:u.uuid,blockId:a.uuid,newIndex:l}),t.next=11,r("flow/block_createBlockExitWith",{props:{uuid:(new i.a).generate(),test:"block.value = "+(l-1),label:u.uuid}},{root:!0});case 11:d=t.sent,o("flow/block_pushNewExit",{blockId:a.uuid,newExit:d},{root:!0});case 13:t.next=20;break;case 15:if(!c.twoChoicesBlank){t.next=20;break}return t.next=18,r("popFirstEmptyChoice",{blockId:a.uuid});case 18:b=t.sent,b&&o("flow/block_popExitsByLabel",{blockId:a.uuid,exitLabel:b},{root:!0});case 20:return t.abrupt("return",a.config.choices);case 21:case"end":return t.stop()}}),t)})))()},createWith:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function o(){var r,c,n,a,u,d,b,f;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.state,e.commit,r=e.dispatch,c=t.props,o.next=4,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return n=o.sent,o.next=7,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 7:return a=o.sent,o.next=10,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 10:return u=o.sent,o.next=13,r("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 13:return d=o.sent,b={uuid:(new i.a).generate(),tag:"Default",label:"Default"},f={uuid:(new i.a).generate(),tag:"Error",label:"Error"},o.t0=s["defaults"],o.t1=c,o.t2=l,o.next=21,r("flow/block_createBlockDefaultExitWith",{props:b},{root:!0});case 21:return o.t3=o.sent,o.next=24,r("flow/block_createBlockExitWith",{props:f},{root:!0});case 24:return o.t4=o.sent,o.t5=[o.t3,o.t4],o.t6={prompt:a.uuid,questionPrompt:u.uuid,choicesPrompt:d.uuid,choices:{1:n.uuid}},o.t7={type:o.t2,name:"",label:"",semanticLabel:"",exits:o.t5,config:o.t6},o.abrupt("return",(0,o.t0)(o.t1,o.t7));case 29:case"end":return o.stop()}}),o)})))()}};t["c"]={namespaced:!0,getters:u,mutations:d,actions:b}}}]);
//# sourceMappingURL=flow-builder.umd.min.7.js.map
(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[7,8],{"03d5":function(e,t,o){"use strict";o.r(t),o.d(t,"MobilePrimitives_SelectManyResponseBlock",(function(){return R})),o.d(t,"install",(function(){return E}));var c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",{staticClass:"no-room-above"},[e._v(" "+e._s(e._f("trans")("flow-builder.edit-block-type",{block_type:e.trans("flow-builder."+e.block.type)}))+" ")]),o("block-name-editor",{attrs:{block:e.block}}),o("block-label-editor",{attrs:{block:e.block}}),o("block-semantic-label-editor",{attrs:{block:e.block}}),o("div",{staticClass:"prompt-resource"},[o("label",[e._v(e._s(e._f("trans")("flow-builder.prompt")))]),e.promptResource?o("resource-editor",{attrs:{resource:e.promptResource,flow:e.flow}}):e._e()],1),o("div",{staticClass:"question-prompt-resource"},[o("label",[e._v(e._s(e._f("trans")("flow-builder.question-prompt")))]),e.questionPromptResource?o("resource-editor",{attrs:{resource:e.questionPromptResource,flow:e.flow}}):e._e()],1),o("div",{staticClass:"choices-prompt-resource"},[o("label",[e._v(e._s(e._f("trans")("flow-builder.choices-prompt")))]),e.choicesPromptResource?o("resource-editor",{attrs:{resource:e.choicesPromptResource,flow:e.flow}}):e._e()],1),e._l(Object.keys(e.inflatedChoices),(function(t){return o("div",{staticClass:"form-group form-inline"},[o("resource-editor",{attrs:{label:t,resource:e.inflatedChoices[t],flow:e.flow}})],1)})),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}}),o("block-id",{attrs:{block:e.block}})],2)},r=[],n=o("d4ec"),i=o("262e"),s=o("2caf"),l=o("9ab4"),a=o("60a3"),u=o("f04e"),d=o("3411"),b=o("1b4e"),f=o("192b"),p=o("510a"),k=o("792f"),h=o("5c47"),m=o("ecef"),w="MobilePrimitives\\SelectManyResponse",_=Object.assign({},m["d"]),v=Object.assign({},m["e"]),O=Object.assign({},m["b"]),j={namespaced:!0,getters:_,mutations:v,actions:O},y=o("4bb5"),g=o("3a37"),C=o("af98"),B=Object(y["b"])("flow/".concat(w)),R=function(e){Object(i["a"])(o,e);var t=Object(s["a"])(o);function o(){return Object(n["a"])(this,o),t.apply(this,arguments)}return o}(h["default"]);Object(l["__decorate"])([B.Getter],R.prototype,"inflatedChoices",void 0),Object(l["__decorate"])([B.Action],R.prototype,"editSelectOneResponseBlockChoice",void 0),R=Object(l["__decorate"])([Object(a["a"])({components:{BlockNameEditor:u["a"],BlockLabelEditor:d["a"],BlockSemanticLabelEditor:b["a"],FirstBlockEditorButton:f["a"],ResourceEditor:p["a"],BlockId:k["a"]},mixins:[g["a"]]})],R);var x=R,E=Object(C["b"])(w,j),P=x,I=o("2877"),L=Object(I["a"])(P,c,r,!1,null,null,null);t["default"]=L.exports},"5c47":function(e,t,o){"use strict";o.r(t),o.d(t,"MobilePrimitives_SelectOneResponseBlock",(function(){return C})),o.d(t,"install",(function(){return R}));var c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",{staticClass:"no-room-above"},[e._v(" "+e._s(e._f("trans")("flow-builder.edit-block-type",{block_type:e.trans("flow-builder."+e.block.type)}))+" ")]),o("block-name-editor",{attrs:{block:e.block}}),o("block-label-editor",{attrs:{block:e.block}}),o("block-semantic-label-editor",{attrs:{block:e.block}}),o("div",{staticClass:"prompt-resource"},[o("label",[e._v(e._s(e._f("trans")("flow-builder.prompt")))]),e.promptResource?o("resource-editor",{attrs:{resource:e.promptResource,flow:e.flow}}):e._e()],1),o("div",{staticClass:"question-prompt-resource"},[o("label",[e._v(e._s(e._f("trans")("flow-builder.question-prompt")))]),e.questionPromptResource?o("resource-editor",{attrs:{resource:e.questionPromptResource,flow:e.flow}}):e._e()],1),o("div",{staticClass:"choices-prompt-resource"},[o("label",[e._v(e._s(e._f("trans")("flow-builder.choices-prompt")))]),e.choicesPromptResource?o("resource-editor",{attrs:{resource:e.choicesPromptResource,flow:e.flow}}):e._e()],1),e._l(Object.keys(e.inflatedChoices),(function(t){return o("div",{staticClass:"form-group form-inline"},[o("resource-editor",{attrs:{label:t,resource:e.inflatedChoices[t],flow:e.flow}})],1)})),o("first-block-editor-button",{attrs:{flow:e.flow,"block-id":e.block.uuid}}),o("block-id",{attrs:{block:e.block}})],2)},r=[],n=o("d4ec"),i=o("bee2"),s=o("262e"),l=o("2caf"),a=o("9ab4"),u=o("8bbf"),d=o.n(u),b=o("4bb5"),f=o("60a3"),p=o("f04e"),k=o("3411"),h=o("1b4e"),m=o("192b"),w=o("510a"),_=o("792f"),v=o("ecef"),O=o("3a37"),j=o("af98"),y=Object(b["b"])("flow"),g=Object(b["b"])("flow/".concat(v["a"])),C=function(e){Object(s["a"])(o,e);var t=Object(l["a"])(o);function o(){return Object(n["a"])(this,o),t.apply(this,arguments)}return Object(i["a"])(o,[{key:"onChoicesChanged",value:function(e){this.editSelectOneResponseBlockChoice()}},{key:"promptResource",get:function(){return this.resourcesByUuid[this.block.config.prompt]}},{key:"questionPromptResource",get:function(){return this.resourcesByUuid[this.block.config.questionPrompt||""]}},{key:"choicesPromptResource",get:function(){return this.resourcesByUuid[this.block.config.choicesPrompt||""]}}]),o}(d.a);Object(a["__decorate"])([Object(f["b"])()],C.prototype,"block",void 0),Object(a["__decorate"])([Object(f["b"])()],C.prototype,"flow",void 0),Object(a["__decorate"])([Object(f["d"])("inflatedChoices",{deep:!0})],C.prototype,"onChoicesChanged",null),Object(a["__decorate"])([y.Getter],C.prototype,"resourcesByUuid",void 0),Object(a["__decorate"])([g.Getter],C.prototype,"inflatedChoices",void 0),Object(a["__decorate"])([g.Action],C.prototype,"editSelectOneResponseBlockChoice",void 0),C=Object(a["__decorate"])([Object(f["a"])({components:{BlockNameEditor:p["a"],BlockLabelEditor:k["a"],BlockSemanticLabelEditor:h["a"],FirstBlockEditorButton:m["a"],ResourceEditor:w["a"],BlockId:_["a"]},mixins:[O["a"]]})],C);var B=C,R=Object(j["b"])(v["a"],v["c"]),x=B,E=o("2877"),P=Object(E["a"])(x,c,r,!1,null,null,null);t["default"]=P.exports},ecef:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"d",(function(){return u})),o.d(t,"e",(function(){return d})),o.d(t,"b",(function(){return b}));o("a623"),o("13d5"),o("45fc"),o("b64b"),o("d3b7"),o("ddb0"),o("96cf");var c=o("1da1"),r=o("9300"),n=o("31aa"),i=o.n(n),s=o("2ef0"),l=o("b199"),a="MobilePrimitives\\SelectOneResponse",u={inflatedChoices:function(e,t,o,c){var r=c["builder/activeBlock"],n={};return Object.keys(r.config.choices).reduce((function(e,t){return e[t]=c["flow/resourcesByUuid"][r.config.choices[t]],e}),n)},allChoicesHaveContent:function(e,t){return Object.keys(t.inflatedChoices).every((function(e){return Object(l["c"])(t.inflatedChoices[e].values,"value")}))},twoChoicesBlank:function(e,t,o,c){var r=0;return Object.keys(t.inflatedChoices).some((function(e){return Object(l["c"])(t.inflatedChoices[e].values,"value")||(r+=1),r>1}))}},d={deleteChoiceByKey:function(e,t){var o=t.choiceKeyToRemove,c=t.blockId,n=Object(r["findBlockOnActiveFlowWith"])(c,this.state.flow);delete n.config.choices[o];var i={};n.config.choices=Object.keys(n.config.choices).sort().reduce((function(e,t,o){return e[o+1]=n.config.choices[t],e}),i)},pushNewChoice:function(e,t){var o=t.choiceId,c=t.blockId,n=t.newIndex,i=Object(r["findBlockOnActiveFlowWith"])(c,this.state.flow);i.config.choices[n]=o}},b={popFirstEmptyChoice:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var o,c,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=e.commit,c=e.rootGetters,r=e.getters,n=Object(s["find"])(Object.keys(r.inflatedChoices),(function(e){return!Object(l["c"])(r.inflatedChoices[e].values,"value")})),!n){t.next=5;break}return o("deleteChoiceByKey",{choiceKeyToRemove:n,blockId:c["builder/activeBlock"].uuid}),t.abrupt("return",c["builder/activeBlock"].config.choices[n]);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})))()},editSelectOneResponseBlockChoice:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var o,c,r,n,l,a,u,d,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=e.commit,c=e.dispatch,r=e.getters,n=e.rootGetters,l=n["builder/activeBlock"],!r.allChoicesHaveContent){t.next=15;break}return a=parseInt(Object(s["max"])(Object.keys(l.config.choices))||"0")+1,t.next=6,c("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 6:if(u=t.sent,l.config.choices[a]){t.next=13;break}return o("pushNewChoice",{choiceId:u.uuid,blockId:l.uuid,newIndex:a}),t.next=11,c("flow/block_createBlockExitWith",{props:{uuid:(new i.a).generate(),test:"block.value = "+(a-1),label:u.uuid}},{root:!0});case 11:d=t.sent,o("flow/block_pushNewExit",{blockId:l.uuid,newExit:d},{root:!0});case 13:t.next=20;break;case 15:if(!r.twoChoicesBlank){t.next=20;break}return t.next=18,c("popFirstEmptyChoice",{blockId:l.uuid});case 18:b=t.sent,b&&o("flow/block_popExitsByLabel",{blockId:l.uuid,exitLabel:b},{root:!0});case 20:return t.abrupt("return",l.config.choices);case 21:case"end":return t.stop()}}),t)})))()},createWith:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function o(){var c,r,n,l,u,d,b;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.state,e.commit,c=e.dispatch,r=t.props,o.next=4,c("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 4:return n=o.sent,o.next=7,c("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 7:return l=o.sent,o.next=10,c("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 10:return u=o.sent,o.next=13,c("flow/flow_addBlankResourceForEnabledModesAndLangs",null,{root:!0});case 13:return d=o.sent,o.next=16,c("flow/block_createBlockDefaultExitWith",{props:{uuid:(new i.a).generate(),tag:"Default",label:"Default"}},{root:!0});case 16:return o.t0=o.sent,o.next=19,c("flow/block_createBlockExitWith",{props:{uuid:(new i.a).generate(),tag:"Error",label:"Error"}},{root:!0});case 19:return o.t1=o.sent,b=[o.t0,o.t1],o.abrupt("return",Object(s["defaults"])(r,{type:a,name:"",label:"",semanticLabel:"",exits:b,config:{prompt:l.uuid,questionPrompt:u.uuid,choicesPrompt:d.uuid,choices:{1:n.uuid}}}));case 22:case"end":return o.stop()}}),o)})))()}};t["c"]={namespaced:!0,getters:u,mutations:d,actions:b}}}]);
//# sourceMappingURL=flow-builder.umd.min.7.js.map
(("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]=("undefined"!==typeof self?self:this)["webpackJsonpflow_builder"]||[]).push([[5],{"018f":function(t,e,o){"use strict";var a=o("e44f"),r=o.n(a);r.a},"02b5":function(t,e,o){"use strict";o.r(e),o.d(e,"install",(function(){return pt}));var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"core-set-group-membership-block"},[o("h3",{staticClass:"no-room-above"},[t._v(" "+t._s(t._f("trans")("flow-builder.edit-block-type",{block_type:t.trans("flow-builder."+t.block.type)}))+" ")]),o("fieldset",{attrs:{disabled:!t.isEditable}},[o("block-label-editor",{attrs:{block:t.block},on:{gearClicked:function(e){t.showSemanticLabel=!t.showSemanticLabel}}}),t.showSemanticLabel?o("block-semantic-label-editor",{attrs:{block:t.block}}):t._e(),o("block-name-editor",{attrs:{block:t.block}}),o("group-membership-editor",{attrs:{block:t.block}}),o("hr"),o("block-output-branching-config",{attrs:{block:t.block,"has-exit-per-choice":!1}}),t._t("extras"),o("categorization",{attrs:{block:t.block}}),o("generic-contact-property-editor",{attrs:{block:t.block}}),o("hr"),o("first-block-editor-button",{attrs:{flow:t.flow,"block-id":t.block.uuid}})],2),o("block-id",{attrs:{block:t.block}})],1)},r=[],c=o("276c"),i=o("e954"),s=o("2c4c"),n=o("920b"),l=o("92a6"),u=o("fc11"),p=(o("99af"),o("9ab4")),b=o("4bb5"),d=o("1b40"),_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/group_key"},scopedSlots:t._u([{key:"input-control",fn:function(e){var a=e.isValid;return[o("div",{staticClass:"block-group"},[o("label",{staticClass:"text-primary"},[t._v(t._s(t._f("trans")("flow-builder.group-label")))]),o("vue-multiselect",{class:{invalid:!1===a},attrs:{"track-by":"id",label:"name",placeholder:t._f("trans")("flow-builder.group-selector-placeholder"),options:t.groups,"allow-empty":!1,"show-labels":!1,searchable:!0},model:{value:t.selectedGroup,callback:function(e){t.selectedGroup=e},expression:"selectedGroup"}})],1)]}}])})},f=[],h=(o("b0c0"),o("8e5f")),m=o.n(h),O=o("4a51"),y=o("2ef0"),k=o("2fe1"),v=o("21e9"),E=Object(b["e"])("flow"),g=function(t){Object(n["a"])(o,t);var e=Object(l["a"])(o);function o(){var t;Object(c["a"])(this,o);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(u["a"])(Object(s["a"])(t),"block",void 0),Object(u["a"])(Object(s["a"])(t),"block_updateConfigByPath",void 0),Object(u["a"])(Object(s["a"])(t),"groups",void 0),t}return Object(i["a"])(o,[{key:"selectedGroup",get:function(){var t=this.block.config.group_key;if(!t)return{};var e=Object(y["find"])(this.groups,{id:t});return e||{}},set:function(t){this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_key",value:t.id}),this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_name",value:t.name})}}]),o}(Object(k["c"])(O["a"]));Object(p["__decorate"])([Object(d["b"])()],g.prototype,"block",void 0),Object(p["__decorate"])([E.Mutation],g.prototype,"block_updateConfigByPath",void 0),Object(p["__decorate"])([b["b"]],g.prototype,"groups",void 0),g=Object(p["__decorate"])([Object(d["a"])({components:{VueMultiselect:m.a,ValidationMessage:v["a"]}})],g);var j=g,P=j,C=(o("75ce"),o("2877")),R=Object(C["a"])(P,_,f,!1,null,"caea6292",null),M=R.exports,A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"group-membership-editor"},[o("hr"),o("div",{staticClass:"form-group"},[o("label",{staticClass:"text-primary"},[t._v(t._s(t._f("trans")("flow-builder.action-label")))]),o("p",[t._v(t._s(t._f("trans")("flow-builder.group-membership-action-hint")))]),o("div",{staticClass:"form-group"},[o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"addGroup",type:"radio",name:"groupMembershipAction"},domProps:{value:t.MEMBERSHIP_ACTION.ADD,checked:t._q(t.membershipAction,t.MEMBERSHIP_ACTION.ADD)},on:{change:function(e){t.membershipAction=t.MEMBERSHIP_ACTION.ADD}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"addGroup"}},[t._v(" "+t._s(t._f("trans")("flow-builder.set-group-membership"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"clearGroup",type:"radio",name:"groupMembershipAction"},domProps:{value:t.MEMBERSHIP_ACTION.REMOVE,checked:t._q(t.membershipAction,t.MEMBERSHIP_ACTION.REMOVE)},on:{change:function(e){t.membershipAction=t.MEMBERSHIP_ACTION.REMOVE}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"clearGroup"}},[t._v(" "+t._s(t._f("trans")("flow-builder.clear-group-membership"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.membershipAction,expression:"membershipAction"}],staticClass:"custom-control-input",attrs:{id:"setFromExpression",type:"radio",name:"groupMembershipAction"},domProps:{value:t.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION,checked:t._q(t.membershipAction,t.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION)},on:{change:function(e){t.membershipAction=t.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION}}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setFromExpression"}},[t._v(" "+t._s(t._f("trans")("flow-builder.set-group-membership-from-expression"))+" ")])])]),o("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/group_key"},scopedSlots:t._u([{key:"input-control",fn:function(e){var a=e.isValid;return[o("div",{staticClass:"block-group-key"},[o("text-editor",{attrs:{label:t._f("trans")("flow-builder.group-label"),"label-class":"font-weight-bold",placeholder:t._f("trans")("flow-builder.enter-group-label"),"valid-state":a},model:{value:t.groupKey,callback:function(e){t.groupKey=e},expression:"groupKey"}})],1)]}}])}),t.membershipAction===t.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION?o("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/is_member"},scopedSlots:t._u([{key:"input-control",fn:function(e){var a=e.isValid;return[o("expression-input",{attrs:{label:t._f("trans")("flow-builder.value-expression"),placeholder:t._f("trans")("flow-builder.enter-expression"),"label-class":"font-weight-bold","current-expression":t.isMember,"valid-state":a},on:{commitExpressionChange:t.updateIsMemberExpression}})]}}],null,!1,628814233)}):t._e()],1)])},I=[],S=o("6faa"),w=o("d883"),B=Object(b["e"])("flow"),N="@(null)",V="@(true)",x="",T=function(t){Object(n["a"])(o,t);var e=Object(l["a"])(o);function o(){var t;Object(c["a"])(this,o);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(u["a"])(Object(s["a"])(t),"block",void 0),Object(u["a"])(Object(s["a"])(t),"MEMBERSHIP_ACTION",{ADD:"add",SET_FROM_EXPRESSION:"set_from_expression",REMOVE:"remove"}),Object(u["a"])(Object(s["a"])(t),"block_updateConfigByPath",void 0),t}return Object(i["a"])(o,[{key:"membershipAction",get:function(){return this.isMember===N?this.MEMBERSHIP_ACTION.REMOVE:this.isMember===V?this.MEMBERSHIP_ACTION.ADD:this.MEMBERSHIP_ACTION.SET_FROM_EXPRESSION},set:function(t){t===this.MEMBERSHIP_ACTION.REMOVE?this.updateIsMemberExpression(N):t===this.MEMBERSHIP_ACTION.ADD?this.updateIsMemberExpression(V):this.updateIsMemberExpression(x)}},{key:"groupKey",get:function(){return Object(y["get"])(this.block.config,"group_key")},set:function(t){this.block_updateConfigByPath({blockId:this.block.uuid,path:"group_key",value:t})}},{key:"isMember",get:function(){return Object(y["get"])(this.block.config,"is_member",x)}},{key:"updateIsMemberExpression",value:function(t){this.block_updateConfigByPath({blockId:this.block.uuid,path:"is_member",value:t})}}]),o}(Object(k["c"])(O["a"]));Object(p["__decorate"])([Object(d["b"])()],T.prototype,"block",void 0),Object(p["__decorate"])([B.Mutation],T.prototype,"block_updateConfigByPath",void 0),T=Object(p["__decorate"])([Object(d["a"])({components:{TextEditor:w["a"],ExpressionInput:S["a"],ValidationMessage:v["a"]}})],T);var L=T,K=L,U=Object(C["a"])(K,A,I,!1,null,null,null),H=U.exports,D=o("c964"),G=(o("96cf"),o("31aa")),F="add",X="remove",Y="Core.SetGroupMembership",$={},q={},z={createWith:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function o(){var a,r,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=t.dispatch,r=e.props,o.t0=a,o.next=5,(new G["IdGeneratorUuidV4"]).generate();case 5:return o.t1=o.sent,o.t2={uuid:o.t1,name:"Default"},o.t3={props:o.t2},o.t4={root:!0},o.next=11,(0,o.t0)("flow/block_createBlockDefaultExitWith",o.t3,o.t4);case 11:return o.t5=o.sent,c=[o.t5],o.abrupt("return",Object(y["defaultsDeep"])(r,{type:Y,name:"",label:"",semantic_label:"",config:{group_key:"",group_name:"",is_member:null},exits:c,tags:[]}));case 14:case"end":return o.stop()}}),o)})))()},setIsMember:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function o(){var a,r,c,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:a=t.commit,r=t.rootGetters,c=r["builder/activeBlock"],i=!1,e&&(i=e.id===F),a("flow/block_updateConfigByPath",{blockId:c.uuid,path:"is_member",value:i},{root:!0});case 5:case"end":return o.stop()}}),o)})))()}},J={namespaced:!0,getters:$,mutations:q,actions:z},W=o("8619"),Q=o("af98"),Z=o("18b0"),tt=o("792f"),et=o("192b"),ot=o("1b4e"),at=o("3411"),rt=o("f04e"),ct=o("b4ec"),it=Object(b["e"])("flow/".concat(Y)),st=Object(b["e"])("flow"),nt=Object(b["e"])("builder"),lt=function(t){Object(n["a"])(o,t);var e=Object(l["a"])(o);function o(){var t;Object(c["a"])(this,o);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(u["a"])(Object(s["a"])(t),"block",void 0),Object(u["a"])(Object(s["a"])(t),"flow",void 0),Object(u["a"])(Object(s["a"])(t),"showSemanticLabel",!1),Object(u["a"])(Object(s["a"])(t),"actionsList",[{id:F,name:t.trans("flow-builder.add")},{id:X,name:t.trans("flow-builder.remove")}]),Object(u["a"])(Object(s["a"])(t),"setIsMember",void 0),Object(u["a"])(Object(s["a"])(t),"isEditable",void 0),Object(u["a"])(Object(s["a"])(t),"block_updateConfigByPath",void 0),t}return Object(i["a"])(o,[{key:"selectedAction",get:function(){var t=this.block.config.is_member;return t?t&&Object(y["find"])(this.actionsList,{id:F})||{}:Object(y["find"])(this.actionsList,{id:X})||{}},set:function(t){this.setIsMember(t)}}]),o}(Object(k["c"])(O["a"]));Object(p["__decorate"])([Object(d["b"])()],lt.prototype,"block",void 0),Object(p["__decorate"])([Object(d["b"])()],lt.prototype,"flow",void 0),Object(p["__decorate"])([it.Action],lt.prototype,"setIsMember",void 0),Object(p["__decorate"])([nt.Getter],lt.prototype,"isEditable",void 0),Object(p["__decorate"])([st.Mutation],lt.prototype,"block_updateConfigByPath",void 0),lt=Object(p["__decorate"])([Object(d["a"])({components:{GenericContactPropertyEditor:ct["a"],BlockNameEditor:rt["a"],BlockLabelEditor:at["a"],BlockSemanticLabelEditor:ot["a"],FirstBlockEditorButton:et["a"],BlockId:tt["a"],GroupSelector:M,VueMultiselect:m.a,ValidationMessage:v["a"],Categorization:W["a"],GroupMembershipEditor:H,BlockOutputBranchingConfig:Z["c"]}})],lt);var ut=lt,pt=Object(Q["d"])(Y,J),bt=ut,dt=(o("018f"),Object(C["a"])(bt,a,r,!1,null,"223e2b8c",null));e["default"]=dt.exports},"75ce":function(t,e,o){"use strict";var a=o("edc4"),r=o.n(a);r.a},b4ec:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"generic-contact-property-editor"},[o("hr"),o("label",{staticClass:"text-primary"},[t._v(t._s(t._f("trans")("flow-builder.contact-properties")))]),o("div",{staticClass:"custom-control custom-checkbox"},[o("input",{staticClass:"custom-control-input",attrs:{id:"setContactProperty",type:"checkbox",name:"setContactProperty"},domProps:{value:t.shouldSetContactProperty,checked:t.shouldSetContactProperty},on:{change:t.toggleSetContactProperty}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setContactProperty"}},[t._v(" "+t._s(t._f("trans")("flow-builder.set-contact-property-with-response"))+" ")])]),t.shouldSetContactProperty?o("div",{staticClass:"form-group"},[o("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/set_contact_property/property_key"},scopedSlots:t._u([{key:"input-control",fn:function(e){var a=e.isValid;return[o("div",{staticClass:"block-contact-property-key"},[o("text-editor",{attrs:{value:t.propertyKey,label:t._f("trans")("flow-builder.property"),placeholder:t._f("trans")("flow-builder.enter-contact-property-label"),"valid-state":a},on:{input:t.updatePropertyKey}})],1)]}}],null,!1,1545571803)}),o("h6",[t._v(t._s(t._f("trans")("flow-builder.value")))]),t.isBlockInteractive(t.block)?o("div",{staticClass:"form-group"},[o("div",{staticClass:"custom-control custom-radio"},[o("input",{staticClass:"custom-control-input",attrs:{id:"setProp",type:"radio",name:"contactPropAction"},domProps:{checked:t.propertyValueAction===t.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE,value:t.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE},on:{change:t.updatePropertyValueAction}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"setProp"}},[t._v(" "+t._s(t._f("trans")("flow-builder.entry-from-this-block"))+" ")])]),o("div",{staticClass:"custom-control custom-radio"},[o("input",{staticClass:"custom-control-input",attrs:{id:"clearProp",type:"radio",name:"contactPropAction"},domProps:{checked:t.propertyValueAction===t.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION,value:t.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION},on:{change:t.updatePropertyValueAction}}),o("label",{staticClass:"custom-control-label font-weight-normal",attrs:{for:"clearProp"}},[t._v(" "+t._s(t._f("trans")("flow-builder.expression"))+" ")])])]):t._e(),t.shouldUseOpenExpression?o("validation-message",{attrs:{"message-key":"block/"+t.block.uuid+"/config/set_contact_property/property_value"},scopedSlots:t._u([{key:"input-control",fn:function(e){var a=e.isValid;return[o("expression-input",{attrs:{label:"",placeholder:t._f("trans")("flow-builder.enter-expression"),"current-expression":t.propertyValue,"valid-state":a},on:{commitExpressionChange:t.updatePropertyValue}})]}}],null,!1,3441631689)}):t._e()],1):t._e()])},r=[],c=o("276c"),i=o("e954"),s=o("2c4c"),n=o("920b"),l=o("92a6"),u=o("fc11"),p=(o("99af"),o("9ab4")),b=o("1b40"),d=o("4bb5"),_=o("4a51"),f=o("2ef0"),h=o("2fe1"),m=o("21e9"),O=o("6faa"),y=o("d883"),k=o("6df9"),v=Object(d["e"])("flow"),E="",g="@block.value",j=function(t){Object(n["a"])(o,t);var e=Object(l["a"])(o);function o(){var t;Object(c["a"])(this,o);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(u["a"])(Object(s["a"])(t),"block",void 0),Object(u["a"])(Object(s["a"])(t),"shouldSetContactProperty",!1),Object(u["a"])(Object(s["a"])(t),"PROPERTY_VALUE_ACTION",{OPEN_EXPRESSION:"openExpression",FROM_CURRENT_BLOCK_RESPONSE:"fromCurrentBlockResponse"}),Object(u["a"])(Object(s["a"])(t),"propertyValueAction",""),Object(u["a"])(Object(s["a"])(t),"propertyKey",""),Object(u["a"])(Object(s["a"])(t),"propertyValue",""),Object(u["a"])(Object(s["a"])(t),"block_updateConfigByPath",void 0),Object(u["a"])(Object(s["a"])(t),"block_updateVendorMetadataByPath",void 0),Object(u["a"])(Object(s["a"])(t),"block_removeConfigByKey",void 0),t}return Object(i["a"])(o,[{key:"created",value:function(){this.shouldSetContactProperty=Object(f["has"])(this.block.config,"set_contact_property"),this.propertyKey=Object(f["get"])(this.block.config.set_contact_property,"property_key",""),this.propertyValue=Object(f["get"])(this.block.config.set_contact_property,"property_value",null),null===this.propertyValue&&this.updatePropertyValue(g),this.initPropertyValueAction()}},{key:"isBlockInteractive",value:function(t){return Object(k["c"])(t)}},{key:"toggleSetContactProperty",value:function(){this.shouldSetContactProperty=!this.shouldSetContactProperty,this.shouldSetContactProperty?this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property",value:{property_key:"",property_value:this.shouldUseOpenExpression?E:g}}):this.block_removeConfigByKey({blockId:this.block.uuid,key:"set_contact_property"})}},{key:"initPropertyValueAction",value:function(){this.propertyValue===g?this.propertyValueAction=this.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE:this.propertyValueAction=this.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION}},{key:"updatePropertyValueAction",value:function(t){var e=t.target.value;this.propertyValueAction=e,e===this.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE?this.updatePropertyValue(g):this.updatePropertyValue(E)}},{key:"shouldUseOpenExpression",get:function(){return this.propertyValueAction===this.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION}},{key:"updatePropertyKey",value:function(t){this.propertyKey=t,this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_key",value:t})}},{key:"updatePropertyValue",value:function(t){this.propertyValue=t,this.block_updateConfigByPath({blockId:this.block.uuid,path:"set_contact_property.property_value",value:t})}}]),o}(Object(h["c"])(_["a"]));Object(p["__decorate"])([Object(b["b"])()],j.prototype,"block",void 0),Object(p["__decorate"])([v.Mutation],j.prototype,"block_updateConfigByPath",void 0),Object(p["__decorate"])([v.Mutation],j.prototype,"block_updateVendorMetadataByPath",void 0),Object(p["__decorate"])([v.Mutation],j.prototype,"block_removeConfigByKey",void 0),j=Object(p["__decorate"])([Object(b["a"])({components:{TextEditor:y["a"],ExpressionInput:O["a"],ValidationMessage:m["a"]}})],j);var P=j,C=P,R=o("2877"),M=Object(R["a"])(C,a,r,!1,null,null,null);e["a"]=M.exports},e44f:function(t,e,o){},edc4:function(t,e,o){}}]);
//# sourceMappingURL=flow-builder.umd.min.5.js.map